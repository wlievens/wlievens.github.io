(self.webpackChunkknossos_frontend=self.webpackChunkknossos_frontend||[]).push([[179],{6304:(It,Re,z)=>{"use strict";z.d(Re,{Dh:()=>Ve,GT:()=>ue,cc:()=>Ne,hO:()=>$e,on:()=>Q,pX:()=>ce,xv:()=>we});var s=z(5879),Z=z(7142),B=z(8186);It=z.hmd(It);const ae=["ngOnDestroy"],ce=(We,xt,Ct,le={})=>new Proxy(We,{get:(Ae,me)=>Ct.runOutsideAngular(()=>{var xe;if(We[me])return!(null===(xe=le?.spy)||void 0===xe)&&xe.get&&le.spy.get(me,We[me]),We[me];if(ae.indexOf(me)>-1)return()=>{};const je=xt.toPromise().then(oe=>{const ut=oe&&oe[me];return"function"==typeof ut?ut.bind(oe):ut&&ut.then?ut.then(Qe=>Ct.run(()=>Qe)):Ct.run(()=>ut)});return new Proxy(()=>{},{get:(oe,ut)=>je[ut],apply:(oe,ut,Qe)=>je.then(pn=>{var Fi;const Qi=pn&&pn(...Qe);return!(null===(Fi=le?.spy)||void 0===Fi)&&Fi.apply&&le.spy.apply(me,Qe,Qi),Qi})})})}),ue=(We,xt)=>{xt.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(le=>{Object.defineProperty(We.prototype,le,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,le))})})};class Se{constructor(xt){return xt}}const Ve=new s.OlP("angularfire2.app.options"),we=new s.OlP("angularfire2.app.name");function Q(We,xt,Ct){const Ae="object"==typeof Ct&&Ct||{};Ae.name=Ae.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const xe=Z.Z.apps.filter(je=>je&&je.name===Ae.name)[0]||xt.runOutsideAngular(()=>Z.Z.initializeApp(We,Ae));try{JSON.stringify(We)!==JSON.stringify(xe.options)&&ee("error",`${xe.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(xe)}const ee=(We,...xt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[We](...xt)},he={provide:Se,useFactory:Q,deps:[Ve,s.R0b,[new s.FiY,we]]};let $e=(()=>{class We{constructor(Ct){Z.Z.registerVersion("angularfire",B.q4.full,"core"),Z.Z.registerVersion("angularfire",B.q4.full,"app-compat"),Z.Z.registerVersion("angular",s.q4F.full,Ct.toString())}static initializeApp(Ct,le){return{ngModule:We,providers:[{provide:Ve,useValue:Ct},{provide:we,useValue:le}]}}}return We.\u0275fac=function(Ct){return new(Ct||We)(s.LFG(s.Lbi))},We.\u0275mod=s.oAB({type:We}),We.\u0275inj=s.cJS({providers:[he]}),We})();function Ne(We,xt,Ct,le,Ae){const[,me,xe]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===We)||[];if(me)return function ot(We,xt){try{return We.toString()===xt.toString()}catch{return We===xt}}(Ae,xe)||(it("error",`${xt} was already initialized on the ${Ct} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Ae,was:xe})),me;{const je=le();return globalThis.\u0275AngularfireInstanceCache.push([We,je,Ae]),je}}const Fe=!!It.hot,it=(We,...xt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[We](...xt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(It,Re,z)=>{"use strict";z.d(Re,{q4:()=>Xr,iC:()=>Rd,fc:()=>qa,HU:()=>sr,vb:()=>Av,JM:()=>nh,u3:()=>rh});var s=z(5879),Z=z(3182),B=z(5861),ae=z(534),ce=z(9058),ue=z(4537),Se=z(7879);const Ve=(k,D)=>D.some(A=>k instanceof A);let we,Q;const $e=new WeakMap,Ne=new WeakMap,ot=new WeakMap,Fe=new WeakMap,it=new WeakMap;let Ct={get(k,D,A){if(k instanceof IDBTransaction){if("done"===D)return Ne.get(k);if("objectStoreNames"===D)return k.objectStoreNames||ot.get(k);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return xe(k[D])},set:(k,D,A)=>(k[D]=A,!0),has:(k,D)=>k instanceof IDBTransaction&&("done"===D||"store"===D)||D in k};function me(k){return"function"==typeof k?function Ae(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...D){return k.apply(je(this),D),xe($e.get(this))}:function(...D){return xe(k.apply(je(this),D))}:function(D,...A){const q=k.call(je(this),D,...A);return ot.set(q,D.sort?D.sort():[D]),xe(q)}}(k):(k instanceof IDBTransaction&&function xt(k){if(Ne.has(k))return;const D=new Promise((A,q)=>{const te=()=>{k.removeEventListener("complete",se),k.removeEventListener("error",ke),k.removeEventListener("abort",ke)},se=()=>{A(),te()},ke=()=>{q(k.error||new DOMException("AbortError","AbortError")),te()};k.addEventListener("complete",se),k.addEventListener("error",ke),k.addEventListener("abort",ke)});Ne.set(k,D)}(k),Ve(k,function ee(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ct):k)}function xe(k){if(k instanceof IDBRequest)return function We(k){const D=new Promise((A,q)=>{const te=()=>{k.removeEventListener("success",se),k.removeEventListener("error",ke)},se=()=>{A(xe(k.result)),te()},ke=()=>{q(k.error),te()};k.addEventListener("success",se),k.addEventListener("error",ke)});return D.then(A=>{A instanceof IDBCursor&&$e.set(A,k)}).catch(()=>{}),it.set(D,k),D}(k);if(Fe.has(k))return Fe.get(k);const D=me(k);return D!==k&&(Fe.set(k,D),it.set(D,k)),D}const je=k=>it.get(k),Qe=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],Fi=new Map;function Qi(k,D){if(!(k instanceof IDBDatabase)||D in k||"string"!=typeof D)return;if(Fi.get(D))return Fi.get(D);const A=D.replace(/FromIndex$/,""),q=D!==A,te=pn.includes(A);if(!(A in(q?IDBIndex:IDBObjectStore).prototype)||!te&&!Qe.includes(A))return;const se=function(){var ke=(0,B.Z)(function*(ft,...at){const Nt=this.transaction(ft,te?"readwrite":"readonly");let nn=Nt.store;return q&&(nn=nn.index(at.shift())),(yield Promise.all([nn[A](...at),te&&Nt.done]))[0]});return function(at){return ke.apply(this,arguments)}}();return Fi.set(D,se),se}!function le(k){Ct=k(Ct)}(k=>({...k,get:(D,A,q)=>Qi(D,A)||k.get(D,A,q),has:(D,A)=>!!Qi(D,A)||k.has(D,A)}));const os="@firebase/installations",_e="0.6.4",Ie=1e4,Be=`w:${_e}`,qe="FIS_v2",tt="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,pt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(k){return k instanceof ce.ZR&&k.code.includes("request-failed")}function qt({projectId:k}){return`${tt}/projects/${k}/installations`}function En(k){return{token:k.token,requestStatus:2,expiresIn:dr(k.expiresIn),creationTime:Date.now()}}function dn(k,D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,B.Z)(function*(k,D){const q=(yield D.json()).error;return pt.create("request-failed",{requestName:k,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function pi({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function Jn(k){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,B.Z)(function*(k){const D=yield k();return D.status>=500&&D.status<600?k():D})).apply(this,arguments)}function dr(k){return Number(k.replace("s","000"))}function Xi(){return(Xi=(0,B.Z)(function*({appConfig:k,heartbeatServiceProvider:D},{fid:A}){const q=qt(k),te=pi(k),se=D.getImmediate({optional:!0});if(se){const Nt=yield se.getHeartbeatsHeader();Nt&&te.append("x-firebase-client",Nt)}const ft={method:"POST",headers:te,body:JSON.stringify({fid:A,authVersion:qe,appId:k.appId,sdkVersion:Be})},at=yield Jn(()=>fetch(q,ft));if(at.ok){const Nt=yield at.json();return{fid:Nt.fid||A,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:En(Nt.authToken)}}throw yield dn("Create Installation",at)})).apply(this,arguments)}function ui(k){return new Promise(D=>{setTimeout(D,k)})}const ki=/^[cdef][\w-]{21}$/,dt="";function Mt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const A=function Lt(k){return function er(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return ki.test(A)?A:dt}catch{return dt}}function yn(k){return`${k.appName}!${k.appId}`}const Li=new Map;function Or(k,D){const A=yn(k);co(A,D),function An(k,D){const A=function Qt(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=k=>{co(k.data.key,k.data.fid)}),tr}();A&&A.postMessage({key:k,fid:D}),function ai(){0===Li.size&&tr&&(tr.close(),tr=null)}()}(A,D)}function co(k,D){const A=Li.get(k);if(A)for(const q of A)q(D)}let tr=null;const lo="firebase-installations-database",Bo=1,ur="firebase-installations-store";let Xn=null;function Zn(){return Xn||(Xn=function oe(k,D,{blocked:A,upgrade:q,blocking:te,terminated:se}={}){const ke=indexedDB.open(k,D),ft=xe(ke);return q&&ke.addEventListener("upgradeneeded",at=>{q(xe(ke.result),at.oldVersion,at.newVersion,xe(ke.transaction))}),A&&ke.addEventListener("blocked",()=>A()),ft.then(at=>{se&&at.addEventListener("close",()=>se()),te&&at.addEventListener("versionchange",()=>te())}).catch(()=>{}),ft}(lo,Bo,{upgrade:(k,D)=>{0===D&&k.createObjectStore(ur)}})),Xn}function Ti(k,D){return ei.apply(this,arguments)}function ei(){return(ei=(0,B.Z)(function*(k,D){const A=yn(k),te=(yield Zn()).transaction(ur,"readwrite"),se=te.objectStore(ur),ke=yield se.get(A);return yield se.put(D,A),yield te.done,(!ke||ke.fid!==D.fid)&&Or(k,D.fid),D})).apply(this,arguments)}function Ii(k){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,B.Z)(function*(k){const D=yn(k),q=(yield Zn()).transaction(ur,"readwrite");yield q.objectStore(ur).delete(D),yield q.done})).apply(this,arguments)}function Pr(k,D){return bn.apply(this,arguments)}function bn(){return(bn=(0,B.Z)(function*(k,D){const A=yn(k),te=(yield Zn()).transaction(ur,"readwrite"),se=te.objectStore(ur),ke=yield se.get(A),ft=D(ke);return void 0===ft?yield se.delete(A):yield se.put(ft,A),yield te.done,ft&&(!ke||ke.fid!==ft.fid)&&Or(k,ft.fid),ft})).apply(this,arguments)}function X(k){return K.apply(this,arguments)}function K(){return K=(0,B.Z)(function*(k){let D;const A=yield Pr(k.appConfig,q=>{const te=function U(k){return Pt(k||{fid:Mt(),registrationStatus:0})}(q),se=function $(k,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(pt.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},q=function L(k,D){return re.apply(this,arguments)}(k,A);return{installationEntry:A,registrationPromise:q}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Te(k)}:{installationEntry:D}}(k,te);return D=se.registrationPromise,se.installationEntry});return A.fid===dt?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),K.apply(this,arguments)}function re(){return re=(0,B.Z)(function*(k,D){try{const A=yield function Ji(k,D){return Xi.apply(this,arguments)}(k,D);return Ti(k.appConfig,A)}catch(A){throw Ot(A)&&409===A.customData.serverCode?yield Ii(k.appConfig):yield Ti(k.appConfig,{fid:D.fid,registrationStatus:0}),A}}),re.apply(this,arguments)}function Te(k){return rt.apply(this,arguments)}function rt(){return(rt=(0,B.Z)(function*(k){let D=yield Ft(k.appConfig);for(;1===D.registrationStatus;)yield ui(100),D=yield Ft(k.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:q}=yield X(k);return q||A}return D})).apply(this,arguments)}function Ft(k){return Pr(k,D=>{if(!D)throw pt.create("installation-not-found");return Pt(D)})}function Pt(k){return function At(k){return 1===k.registrationStatus&&k.registrationTime+Ie<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Vn(){return(Vn=(0,B.Z)(function*({appConfig:k,heartbeatServiceProvider:D},A){const q=function en(k,{fid:D}){return`${qt(k)}/${D}/authTokens:generate`}(k,A),te=function si(k,{refreshToken:D}){const A=pi(k);return A.append("Authorization",function Er(k){return`${qe} ${k}`}(D)),A}(k,A),se=D.getImmediate({optional:!0});if(se){const Nt=yield se.getHeartbeatsHeader();Nt&&te.append("x-firebase-client",Nt)}const ft={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:Be,appId:k.appId}})},at=yield Jn(()=>fetch(q,ft));if(at.ok)return En(yield at.json());throw yield dn("Generate Auth Token",at)})).apply(this,arguments)}function qi(k){return nr.apply(this,arguments)}function nr(){return nr=(0,B.Z)(function*(k,D=!1){let A;const q=yield Pr(k.appConfig,se=>{if(!tn(se))throw pt.create("not-registered");const ke=se.authToken;if(!D&&function wn(k){return 2===k.requestStatus&&!function ir(k){const D=Date.now();return D<k.creationTime||k.creationTime+k.expiresIn<D+Xe}(k)}(ke))return se;if(1===ke.requestStatus)return A=function Ce(k,D){return fe.apply(this,arguments)}(k,D),se;{if(!navigator.onLine)throw pt.create("app-offline");const ft=function _i(k){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:D})}(se);return A=function kt(k,D){return zt.apply(this,arguments)}(k,ft),ft}});return A?yield A:q.authToken}),nr.apply(this,arguments)}function fe(){return(fe=(0,B.Z)(function*(k,D){let A=yield Ge(k.appConfig);for(;1===A.authToken.requestStatus;)yield ui(100),A=yield Ge(k.appConfig);const q=A.authToken;return 0===q.requestStatus?qi(k,D):q})).apply(this,arguments)}function Ge(k){return Pr(k,D=>{if(!tn(D))throw pt.create("not-registered");return function wo(k){return 1===k.requestStatus&&k.requestTime+Ie<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function zt(){return zt=(0,B.Z)(function*(k,D){try{const A=yield function Gt(k,D){return Vn.apply(this,arguments)}(k,D),q=Object.assign(Object.assign({},D),{authToken:A});return yield Ti(k.appConfig,q),A}catch(A){if(!Ot(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const q=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ti(k.appConfig,q)}else yield Ii(k.appConfig);throw A}}),zt.apply(this,arguments)}function tn(k){return void 0!==k&&2===k.registrationStatus}function Vo(){return(Vo=(0,B.Z)(function*(k){const D=k,{installationEntry:A,registrationPromise:q}=yield X(D);return q?q.catch(console.error):qi(D).catch(console.error),A.fid})).apply(this,arguments)}function zn(){return zn=(0,B.Z)(function*(k,D=!1){const A=k;return yield function uo(k){return kr.apply(this,arguments)}(A),(yield qi(A,D)).token}),zn.apply(this,arguments)}function kr(){return(kr=(0,B.Z)(function*(k){const{registrationPromise:D}=yield X(k);D&&(yield D)})).apply(this,arguments)}function xo(k){return pt.create("missing-app-config-values",{valueName:k})}const bs="installations",Co=k=>{const D=k.getProvider("app").getImmediate(),A=function oa(k){if(!k||!k.options)throw xo("App Configuration");if(!k.name)throw xo("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!k.options[A])throw xo(A);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Oa=k=>{const D=k.getProvider("app").getImmediate(),A=(0,ae._getProvider)(D,bs).getImmediate();return{getId:()=>function hr(k){return Vo.apply(this,arguments)}(A),getToken:te=>function ss(k){return zn.apply(this,arguments)}(A,te)}};(function bc(){(0,ae._registerComponent)(new ue.wA(bs,Co,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("installations-internal",Oa,"PRIVATE"))})(),(0,ae.registerVersion)(os,_e),(0,ae.registerVersion)(os,_e,"esm2017");const $s="@firebase/remote-config",H=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dl{constructor(D,A,q,te){this.client=D,this.storage=A,this.storageCache=q,this.logger=te}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-A,te=q<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${te}.`),te}fetch(D){var A=this;return(0,B.Z)(function*(){const[q,te]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(te&&A.isCachedDataFresh(D.cacheMaxAgeMillis,q))return te;D.eTag=te&&te.eTag;const se=yield A.client.fetch(D),ke=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&ke.push(A.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(ke),se})()}}function ed(k=navigator){return k.languages&&k.languages[0]||k.language}class sa{constructor(D,A,q,te,se,ke){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=q,this.projectId=te,this.apiKey=se,this.appId=ke}fetch(D){var A=this;return(0,B.Z)(function*(){const[q,te]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},at={sdk_version:A.sdkVersion,app_instance_id:q,app_instance_id_token:te,app_id:A.appId,language_code:ed()},Nt={method:"POST",headers:ft,body:JSON.stringify(at)},nn=fetch(ke,Nt),Zt=new Promise((Io,Do)=>{D.signal.addEventListener(()=>{const Od=new Error("The operation was aborted.");Od.name="AbortError",Do(Od)})});let Dr;try{yield Promise.race([nn,Zt]),Dr=yield nn}catch(Io){let Do="fetch-client-network";throw"AbortError"===Io?.name&&(Do="fetch-timeout"),H.create(Do,{originalErrorMessage:Io?.message})}let _r=Dr.status;const Rs=Dr.headers.get("ETag")||void 0;let Za,Ws;if(200===Dr.status){let Io;try{Io=yield Dr.json()}catch(Do){throw H.create("fetch-client-parse",{originalErrorMessage:Do?.message})}Za=Io.entries,Ws=Io.state}if("INSTANCE_STATE_UNSPECIFIED"===Ws?_r=500:"NO_CHANGE"===Ws?_r=304:("NO_TEMPLATE"===Ws||"EMPTY_CONFIG"===Ws)&&(Za={}),304!==_r&&200!==_r)throw H.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:Rs,config:Za}})()}}class Na{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,B.Z)(function*(){const q=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,q)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:q}){var te=this;return(0,B.Z)(function*(){yield function yi(k,D){return new Promise((A,q)=>{const te=Math.max(D-Date.now(),0),se=setTimeout(A,te);k.addEventListener(()=>{clearTimeout(se),q(H.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const se=yield te.client.fetch(D);return yield te.storage.deleteThrottleMetadata(),se}catch(se){if(!function td(k){if(!(k instanceof ce.ZR&&k.customData))return!1;const D=Number(k.customData.httpStatus);return 429===D||500===D||503===D||504===D}(se))throw se;const ke={throttleEndTimeMillis:Date.now()+(0,ce.$s)(q),backoffCount:q+1};return yield te.storage.setThrottleMetadata(ke),te.attemptFetch(D,ke)}})()}}class nd{constructor(D,A,q,te,se){this.app=D,this._client=A,this._storageCache=q,this._storage=te,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fr(k,D){const A=k.target.error||void 0;return H.create(D,{originalErrorMessage:A&&A?.message})}const Qr="app_namespace_store";class Fp{constructor(D,A,q,te=function On(){return new Promise((k,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=q=>{D(Fr(q,"storage-open"))},A.onsuccess=q=>{k(q.target.result)},A.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Qr,{keyPath:"compositeKey"})}}catch(A){D(H.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=q,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,B.Z)(function*(){const q=yield A.openDbPromise;return new Promise((te,se)=>{const ft=q.transaction([Qr],"readonly").objectStore(Qr),at=A.createCompositeKey(D);try{const Nt=ft.get(at);Nt.onerror=nn=>{se(Fr(nn,"storage-get"))},Nt.onsuccess=nn=>{const Zt=nn.target.result;te(Zt?Zt.value:void 0)}}catch(Nt){se(H.create("storage-get",{originalErrorMessage:Nt?.message}))}})})()}set(D,A){var q=this;return(0,B.Z)(function*(){const te=yield q.openDbPromise;return new Promise((se,ke)=>{const at=te.transaction([Qr],"readwrite").objectStore(Qr),Nt=q.createCompositeKey(D);try{const nn=at.put({compositeKey:Nt,value:A});nn.onerror=Zt=>{ke(Fr(Zt,"storage-set"))},nn.onsuccess=()=>{se()}}catch(nn){ke(H.create("storage-set",{originalErrorMessage:nn?.message}))}})})()}delete(D){var A=this;return(0,B.Z)(function*(){const q=yield A.openDbPromise;return new Promise((te,se)=>{const ft=q.transaction([Qr],"readwrite").objectStore(Qr),at=A.createCompositeKey(D);try{const Nt=ft.delete(at);Nt.onerror=nn=>{se(Fr(nn,"storage-delete"))},Nt.onsuccess=()=>{te()}}catch(Nt){se(H.create("storage-delete",{originalErrorMessage:Nt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class xs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,B.Z)(function*(){const A=D.storage.getLastFetchStatus(),q=D.storage.getLastSuccessfulFetchTimestampMillis(),te=D.storage.getActiveConfig(),se=yield A;se&&(D.lastFetchStatus=se);const ke=yield q;ke&&(D.lastSuccessfulFetchTimestampMillis=ke);const ft=yield te;ft&&(D.activeConfig=ft)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function xc(){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,B.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Fa(){(0,ae._registerComponent)(new ue.wA("remote-config",function k(D,{instanceIdentifier:A}){const q=D.getProvider("app").getImmediate(),te=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw H.create("registration-window");if(!(0,ce.hl)())throw H.create("indexed-db-unavailable");const{projectId:se,apiKey:ke,appId:ft}=q.options;if(!se)throw H.create("registration-project-id");if(!ke)throw H.create("registration-api-key");if(!ft)throw H.create("registration-app-id");const at=new Fp(ft,q.name,A=A||"firebase"),Nt=new xs(at),nn=new Se.Yd($s);nn.logLevel=Se.in.ERROR;const Zt=new sa(te,ae.SDK_VERSION,A,se,ke,ft),Dr=new Na(Zt,at),_r=new dl(Dr,at,Nt,nn),Rs=new nd(q,_r,Nt,at,nn);return function sn(k){const D=(0,ce.m9)(k);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Rs),Rs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)($s,"0.4.4"),(0,ae.registerVersion)($s,"0.4.4","esm2017")}();const jr=(k,D)=>D.some(A=>k instanceof A);let ul,$r;const ds=new WeakMap,aa=new WeakMap,ci=new WeakMap,Ec=new WeakMap,bf=new WeakMap;let ku={get(k,D,A){if(k instanceof IDBTransaction){if("done"===D)return aa.get(k);if("objectStoreNames"===D)return k.objectStoreNames||ci.get(k);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Cs(k[D])},set:(k,D,A)=>(k[D]=A,!0),has:(k,D)=>k instanceof IDBTransaction&&("done"===D||"store"===D)||D in k};function wf(k){return"function"==typeof k?function Cv(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xu(){return $r||($r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...D){return k.apply(Tu(this),D),Cs(ds.get(this))}:function(...D){return Cs(k.apply(Tu(this),D))}:function(D,...A){const q=k.call(Tu(this),D,...A);return ci.set(q,D.sort?D.sort():[D]),Cs(q)}}(k):(k instanceof IDBTransaction&&function Eu(k){if(aa.has(k))return;const D=new Promise((A,q)=>{const te=()=>{k.removeEventListener("complete",se),k.removeEventListener("error",ke),k.removeEventListener("abort",ke)},se=()=>{A(),te()},ke=()=>{q(k.error||new DOMException("AbortError","AbortError")),te()};k.addEventListener("complete",se),k.addEventListener("error",ke),k.addEventListener("abort",ke)});aa.set(k,D)}(k),jr(k,function Gr(){return ul||(ul=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ku):k)}function Cs(k){if(k instanceof IDBRequest)return function Cu(k){const D=new Promise((A,q)=>{const te=()=>{k.removeEventListener("success",se),k.removeEventListener("error",ke)},se=()=>{A(Cs(k.result)),te()},ke=()=>{q(k.error),te()};k.addEventListener("success",se),k.addEventListener("error",ke)});return D.then(A=>{A instanceof IDBCursor&&ds.set(A,k)}).catch(()=>{}),bf.set(D,k),D}(k);if(Ec.has(k))return Ec.get(k);const D=wf(k);return D!==k&&(Ec.set(k,D),bf.set(D,k)),D}const Tu=k=>bf.get(k);function Iu(k,D,{blocked:A,upgrade:q,blocking:te,terminated:se}={}){const ke=indexedDB.open(k,D),ft=Cs(ke);return q&&ke.addEventListener("upgradeneeded",at=>{q(Cs(ke.result),at.oldVersion,at.newVersion,Cs(ke.transaction))}),A&&ke.addEventListener("blocked",()=>A()),ft.then(at=>{se&&at.addEventListener("close",()=>se()),te&&at.addEventListener("versionchange",()=>te())}).catch(()=>{}),ft}function rd(k,{blocked:D}={}){const A=indexedDB.deleteDatabase(k);return D&&A.addEventListener("blocked",()=>D()),Cs(A).then(()=>{})}const Bp=["get","getKey","getAll","getAllKeys","count"],xf=["put","add","delete","clear"],Cf=new Map;function Ef(k,D){if(!(k instanceof IDBDatabase)||D in k||"string"!=typeof D)return;if(Cf.get(D))return Cf.get(D);const A=D.replace(/FromIndex$/,""),q=D!==A,te=xf.includes(A);if(!(A in(q?IDBIndex:IDBObjectStore).prototype)||!te&&!Bp.includes(A))return;const se=function(){var ke=(0,B.Z)(function*(ft,...at){const Nt=this.transaction(ft,te?"readwrite":"readonly");let nn=Nt.store;return q&&(nn=nn.index(at.shift())),(yield Promise.all([nn[A](...at),te&&Nt.done]))[0]});return function(at){return ke.apply(this,arguments)}}();return Cf.set(D,se),se}!function Lp(k){ku=k(ku)}(k=>({...k,get:(D,A,q)=>Ef(D,A)||k.get(D,A,q),has:(D,A)=>!!Ef(D,A)||k.has(D,A)}));const Du="/firebase-messaging-sw.js",kf="/firebase-cloud-messaging-push-scope",od="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Su="https://fcmregistrations.googleapis.com/v1",Vp="google.c.a.c_id",Bi="google.c.a.c_l",K0="google.c.a.ts";var la=(()=>((la=la||{}).PUSH_RECEIVED="push-received",la.NOTIFICATION_CLICKED="notification-clicked",la))();function ho(k){const D=new Uint8Array(k);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mu(k){const A=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(A),te=new Uint8Array(q.length);for(let se=0;se<q.length;++se)te[se]=q.charCodeAt(se);return te}const hl="fcm_token_details_db",fl=5,Up="fcm_token_object_Store";function sd(){return sd=(0,B.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(hl))return null;let D=null;return(yield Iu(hl,fl,{upgrade:(q=(0,B.Z)(function*(te,se,ke,ft){var at;if(se<2||!te.objectStoreNames.contains(Up))return;const Nt=ft.objectStore(Up),nn=yield Nt.index("fcmSenderId").get(k);if(yield Nt.clear(),nn)if(2===se){const Zt=nn;if(!Zt.auth||!Zt.p256dh||!Zt.endpoint)return;D={token:Zt.fcmToken,createTime:null!==(at=Zt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Zt.auth,p256dh:Zt.p256dh,endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:"string"==typeof Zt.vapidKey?Zt.vapidKey:ho(Zt.vapidKey)}}}else if(3===se){const Zt=nn;D={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:ho(Zt.auth),p256dh:ho(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:ho(Zt.vapidKey)}}}else if(4===se){const Zt=nn;D={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:ho(Zt.auth),p256dh:ho(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:ho(Zt.vapidKey)}}}}),function(se,ke,ft,at){return q.apply(this,arguments)})})).close(),yield rd(hl),yield rd("fcm_vapid_details_db"),yield rd("undefined"),function Uo(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:D}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var q}),sd.apply(this,arguments)}const ad="firebase-messaging-database",Vi=1,ko="firebase-messaging-store";let Au=null;function cd(){return Au||(Au=Iu(ad,Vi,{upgrade:(k,D)=>{0===D&&k.createObjectStore(ko)}})),Au}function Ba(k){return Va.apply(this,arguments)}function Va(){return Va=(0,B.Z)(function*(k){const D=If(k),q=yield(yield cd()).transaction(ko).objectStore(ko).get(D);if(q)return q;{const te=yield function Hp(k){return sd.apply(this,arguments)}(k.appConfig.senderId);if(te)return yield ld(k,te),te}}),Va.apply(this,arguments)}function ld(k,D){return zp.apply(this,arguments)}function zp(){return(zp=(0,B.Z)(function*(k,D){const A=If(k),te=(yield cd()).transaction(ko,"readwrite");return yield te.objectStore(ko).put(D,A),yield te.done,D})).apply(this,arguments)}function da(){return(da=(0,B.Z)(function*(k){const D=If(k),q=(yield cd()).transaction(ko,"readwrite");yield q.objectStore(ko).delete(D),yield q.done})).apply(this,arguments)}function If({appConfig:k}){return k.appId}const Tr=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Q0(k,D){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,B.Z)(function*(k,D){const A=yield kc(k),q=Nu(D),te={method:"POST",headers:A,body:JSON.stringify(q)};let se;try{se=yield(yield fetch(dd(k.appConfig),te)).json()}catch(ke){throw Tr.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(se.error)throw Tr.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw Tr.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function ml(){return(ml=(0,B.Z)(function*(k,D){const A=yield kc(k),q=Nu(D.subscriptionOptions),te={method:"PATCH",headers:A,body:JSON.stringify(q)};let se;try{se=yield(yield fetch(`${dd(k.appConfig)}/${D.token}`,te)).json()}catch(ke){throw Tr.create("token-update-failed",{errorInfo:ke?.toString()})}if(se.error)throw Tr.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw Tr.create("token-update-no-token");return se.token})).apply(this,arguments)}function jp(k,D){return pl.apply(this,arguments)}function pl(){return(pl=(0,B.Z)(function*(k,D){const q={method:"DELETE",headers:yield kc(k)};try{const se=yield(yield fetch(`${dd(k.appConfig)}/${D}`,q)).json();if(se.error)throw Tr.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(te){throw Tr.create("token-unsubscribe-failed",{errorInfo:te?.toString()})}})).apply(this,arguments)}function dd({projectId:k}){return`${Su}/projects/${k}/registrations`}function kc(k){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,B.Z)(function*({appConfig:k,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Nu({p256dh:k,auth:D,endpoint:A,vapidKey:q}){const te={web:{endpoint:A,auth:D,p256dh:k}};return q!==od&&(te.web.applicationPubKey=q),te}const $p=6048e5;function Df(){return Df=(0,B.Z)(function*(k){const D=yield function ud(k,D){return Tc.apply(this,arguments)}(k.swRegistration,k.vapidKey),A={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:D.endpoint,auth:ho(D.getKey("auth")),p256dh:ho(D.getKey("p256dh"))},q=yield Ba(k.firebaseDependencies);if(q){if(function qr(k,D){return D.vapidKey===k.vapidKey&&D.endpoint===k.endpoint&&D.auth===k.auth&&D.p256dh===k.p256dh}(q.subscriptionOptions,A))return Date.now()>=q.createTime+$p?function us(k,D){return Vu.apply(this,arguments)}(k,{token:q.token,createTime:Date.now(),subscriptionOptions:A}):q.token;try{yield jp(k.firebaseDependencies,q.token)}catch(te){console.warn(te)}return Ua(k.firebaseDependencies,A)}return Ua(k.firebaseDependencies,A)}),Df.apply(this,arguments)}function Bu(){return Bu=(0,B.Z)(function*(k){const D=yield Ba(k.firebaseDependencies);D&&(yield jp(k.firebaseDependencies,D.token),yield function Tf(k){return da.apply(this,arguments)}(k.firebaseDependencies));const A=yield k.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Bu.apply(this,arguments)}function Vu(){return Vu=(0,B.Z)(function*(k,D){try{const A=yield function kv(k,D){return ml.apply(this,arguments)}(k.firebaseDependencies,D),q=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield ld(k.firebaseDependencies,q),A}catch(A){throw yield function Lu(k){return Bu.apply(this,arguments)}(k),A}}),Vu.apply(this,arguments)}function Ua(k,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,B.Z)(function*(k,D){const q={token:yield Q0(k,D),createTime:Date.now(),subscriptionOptions:D};return yield ld(k,q),q.token})).apply(this,arguments)}function Tc(){return(Tc=(0,B.Z)(function*(k,D){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mu(D)})})).apply(this,arguments)}function Ic(k){const D={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function Sf(k,D){if(!D.notification)return;k.notification={};const A=D.notification.title;A&&(k.notification.title=A);const q=D.notification.body;q&&(k.notification.body=q);const te=D.notification.image;te&&(k.notification.image=te);const se=D.notification.icon;se&&(k.notification.icon=se)}(D,k),function ua(k,D){D.data&&(k.data=D.data)}(D,k),function Ho(k,D){var A,q,te,se,ke;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;k.fcmOptions={};const ft=null!==(te=null===(q=D.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==te?te:null===(se=D.notification)||void 0===se?void 0:se.click_action;ft&&(k.fcmOptions.link=ft);const at=null===(ke=D.fcmOptions)||void 0===ke?void 0:ke.analytics_label;at&&(k.fcmOptions.analyticsLabel=at)}(D,k),D}function Mf(k,D){const A=[];for(let q=0;q<k.length;q++)A.push(k.charAt(q)),q<D.length&&A.push(D.charAt(q));return A.join("")}function Es(k){return Tr.create("missing-app-config-values",{valueName:k})}Mf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hu{constructor(D,A,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function Uu(k){if(!k||!k.options)throw Es("App Configuration Object");if(!k.name)throw Es("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=k;for(const q of D)if(!A[q])throw Es(q);return{appName:k.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:te,installations:A,analyticsProvider:q}}_delete(){return Promise.resolve()}}function hd(){return(hd=(0,B.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Du,{scope:kf}),k.swRegistration.update().catch(()=>{})}catch(D){throw Tr.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function zo(){return(zo=(0,B.Z)(function*(k,D){if(!D&&!k.swRegistration&&(yield function zu(k){return hd.apply(this,arguments)}(k)),D||!k.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Tr.create("invalid-sw-registration");k.swRegistration=D}})).apply(this,arguments)}function Yt(){return(Yt=(0,B.Z)(function*(k,D){D?k.vapidKey=D:k.vapidKey||(k.vapidKey=od)})).apply(this,arguments)}function Af(){return Af=(0,B.Z)(function*(k,D){if(!navigator)throw Tr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tr.create("permission-blocked");return yield function fd(k,D){return Yt.apply(this,arguments)}(k,D?.vapidKey),yield function Dc(k,D){return zo.apply(this,arguments)}(k,D?.serviceWorkerRegistration),function Fu(k){return Df.apply(this,arguments)}(k)}),Af.apply(this,arguments)}function $u(){return($u=(0,B.Z)(function*(k,D,A){const q=function qp(k){switch(k){case la.NOTIFICATION_CLICKED:return"notification_open";case la.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:A[Vp],message_name:A[Bi],message_time:A[K0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jo(){return jo=(0,B.Z)(function*(k,D){const A=D.data;if(!A.isFirebaseMessaging)return;k.onMessageHandler&&A.messageType===la.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Ic(A)):k.onMessageHandler.next(Ic(A)));const q=A.data;(function Gp(k){return"object"==typeof k&&!!k&&Vp in k})(q)&&"1"===q["google.c.a.e"]&&(yield function Tv(k,D,A){return $u.apply(this,arguments)}(k,A.messageType,q))}),jo.apply(this,arguments)}const md="@firebase/messaging",Wp=k=>{const D=new Hu(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function gl(k,D){return jo.apply(this,arguments)}(D,A)),D},Rf=k=>{const D=k.getProvider("messaging").getImmediate();return{getToken:q=>function ju(k,D){return Af.apply(this,arguments)}(D,q)}};function He(){return In.apply(this,arguments)}function In(){return(In=(0,B.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zp(){(0,ae._registerComponent)(new ue.wA("messaging",Wp,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("messaging-internal",Rf,"PRIVATE")),(0,ae.registerVersion)(md,"0.12.4"),(0,ae.registerVersion)(md,"0.12.4","esm2017")}();const qu="analytics",Of="firebase_id",Pf="origin",Lr=6e4,ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_d="https://www.googletagmanager.com/gtag/js",bi=new Se.Yd("@firebase/analytics"),pr=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vd(k){if(!k.startsWith(_d)){const D=pr.create("invalid-gtag-resource",{gtagURL:k});return bi.warn(D.message),""}return k}function vl(k){return Promise.all(k.map(D=>D.catch(A=>A)))}function ha(){return(ha=(0,B.Z)(function*(k,D,A,q,te,se){const ke=q[te];try{if(ke)yield D[ke];else{const at=(yield vl(A)).find(Nt=>Nt.measurementId===te);at&&(yield D[at.appId])}}catch(ft){bi.error(ft)}k("config",te,se)})).apply(this,arguments)}function Sc(){return(Sc=(0,B.Z)(function*(k,D,A,q,te){try{let se=[];if(te&&te.send_to){let ke=te.send_to;Array.isArray(ke)||(ke=[ke]);const ft=yield vl(A);for(const at of ke){const Nt=ft.find(Zt=>Zt.measurementId===at),nn=Nt&&D[Nt.appId];if(!nn){se=[];break}se.push(nn)}}0===se.length&&(se=Object.values(D)),yield Promise.all(se),k("event",q,te||{})}catch(se){bi.error(se)}})).apply(this,arguments)}const Iv=30,Bf=new class Lf{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Qp(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Is(){return(Is=(0,B.Z)(function*(k){var D;const{appId:A,apiKey:q}=k,te={method:"GET",headers:Qp(q)},se=ks.replace("{app-id}",A),ke=yield fetch(se,te);if(200!==ke.status&&304!==ke.status){let ft="";try{const at=yield ke.json();null!==(D=at.error)&&void 0!==D&&D.message&&(ft=at.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:ft})}return ke.json()})).apply(this,arguments)}function Cd(){return(Cd=(0,B.Z)(function*(k,D=Bf,A){const{appId:q,apiKey:te,measurementId:se}=k.options;if(!q)throw pr.create("no-app-id");if(!te){if(se)return{measurementId:se,appId:q};throw pr.create("no-api-key")}const ke=D.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ft=new Ku;return setTimeout((0,B.Z)(function*(){ft.abort()}),void 0!==A?A:Lr),Vf({appId:q,apiKey:te,measurementId:se},ke,ft,D)})).apply(this,arguments)}function Vf(k,D,A){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,B.Z)(function*(k,{throttleEndTimeMillis:D,backoffCount:A},q,te=Bf){var se;const{appId:ke,measurementId:ft}=k;try{yield function Zu(k,D){return new Promise((A,q)=>{const te=Math.max(D-Date.now(),0),se=setTimeout(A,te);k.addEventListener(()=>{clearTimeout(se),q(pr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(q,D)}catch(at){if(ft)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:ke,measurementId:ft};throw at}try{const at=yield function Ir(k){return Is.apply(this,arguments)}(k);return te.deleteThrottleMetadata(ke),at}catch(at){const Nt=at;if(!function Yu(k){if(!(k instanceof ce.ZR&&k.customData))return!1;const D=Number(k.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Nt)){if(te.deleteThrottleMetadata(ke),ft)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:ke,measurementId:ft};throw at}const nn=503===Number(null===(se=Nt?.customData)||void 0===se?void 0:se.httpStatus)?(0,ce.$s)(A,te.intervalMillis,Iv):(0,ce.$s)(A,te.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+nn,backoffCount:A+1};return te.setThrottleMetadata(ke,Zt),bi.debug(`Calling attemptFetch again in ${nn} millis`),Vf(k,Zt,q,te)}}),Mc.apply(this,arguments)}class Ku{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let bl,Td;function Uf(){return(Uf=(0,B.Z)(function*(k,D,A,q,te){if(te&&te.global)k("event",A,q);else{const se=yield D;k("event",A,Object.assign(Object.assign({},q),{send_to:se}))}})).apply(this,arguments)}function xl(){return(xl=(0,B.Z)(function*(){if(!(0,ce.hl)())return bi.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(k){return bi.warn(pr.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function pa(){return pa=(0,B.Z)(function*(k,D,A,q,te,se,ke){var ft;const at=function ii(k){return Cd.apply(this,arguments)}(k);at.then(_r=>{A[_r.measurementId]=_r.appId,k.options.measurementId&&_r.measurementId!==k.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>bi.error(_r)),D.push(at);const Nt=function Jp(){return xl.apply(this,arguments)}().then(_r=>{if(_r)return q.getId()}),[nn,Zt]=yield Promise.all([at,Nt]);(function Wu(k){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(_d)&&A.src.includes(k))return A;return null})(se)||function Nf(k,D){const A=function yd(k,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(k,D)),A}("firebase-js-sdk-policy",{createScriptURL:vd}),q=document.createElement("script"),te=`${_d}?l=${k}&id=${D}`;q.src=A?A?.createScriptURL(te):te,q.async=!0,document.head.appendChild(q)}(se,nn.measurementId),Td&&(te("consent","default",Td),function qs(k){Td=k}(void 0)),te("js",new Date);const Dr=null!==(ft=ke?.config)&&void 0!==ft?ft:{};return Dr[Pf]="firebase",Dr.update=!0,null!=Zt&&(Dr[Of]=Zt),te("config",nn.measurementId,Dr),bl&&(te("set",bl),function Xu(k){bl=k}(void 0)),nn.measurementId}),pa.apply(this,arguments)}class eh{constructor(D){this.app=D}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},Xp=[];const Cl={};let Sv,jn,za="dataLayer",Et=!1;function Cn(k,D,A){!function Ln(){const k=[];if((0,ce.ru)()&&k.push("This is a browser extension environment."),(0,ce.zI)()||k.push("Cookies are not available."),k.length>0){const D=k.map((q,te)=>`(${te+1}) ${q}`).join(" "),A=pr.create("invalid-analytics-context",{errorInfo:D});bi.warn(A.message)}}();const q=k.options.appId;if(!q)throw pr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw pr.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$o[q])throw pr.create("already-exists",{id:q});if(!Et){!function yl(k){let D=[];Array.isArray(window[k])?D=window[k]:window[k]=D}(za);const{wrappedGtag:se,gtagCore:ke}=function xd(k,D,A,q,te){let se=function(...ke){window[q].push(arguments)};return window[te]&&"function"==typeof window[te]&&(se=window[te]),window[te]=function wd(k,D,A,q){function se(){return se=(0,B.Z)(function*(ke,...ft){try{if("event"===ke){const[at,Nt]=ft;yield function fa(k,D,A,q,te){return Sc.apply(this,arguments)}(k,D,A,at,Nt)}else if("config"===ke){const[at,Nt]=ft;yield function bd(k,D,A,q,te,se){return ha.apply(this,arguments)}(k,D,A,q,at,Nt)}else if("consent"===ke){const[at]=ft;k("consent","update",at)}else if("get"===ke){const[at,Nt,nn]=ft;k("get",at,Nt,nn)}else if("set"===ke){const[at]=ft;k("set",at)}else k(ke,...ft)}catch(at){bi.error(at)}}),se.apply(this,arguments)}return function te(ke){return se.apply(this,arguments)}}(se,k,D,A),{gtagCore:se,wrappedGtag:window[te]}}($o,Xp,Cl,za,"gtag");jn=se,Sv=ke,Et=!0}return $o[q]=function Dv(k,D,A,q,te,se,ke){return pa.apply(this,arguments)}(k,Xp,Cl,D,Sv,za,A),new eh(k)}function fi(){return Je.apply(this,arguments)}function Je(){return(Je=(0,B.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Go="@firebase/analytics";!function ja(){(0,ae._registerComponent)(new ue.wA(qu,(D,{options:A})=>Cn(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ae._registerComponent)(new ue.wA("analytics-internal",function k(D){try{const A=D.getProvider(qu).getImmediate();return{logEvent:(q,te,se)=>function li(k,D,A,q){k=(0,ce.m9)(k),function Ha(k,D,A,q,te){return Uf.apply(this,arguments)}(jn,$o[k.app.options.appId],D,A,q).catch(te=>bi.error(te))}(A,q,te,se)}}catch(A){throw pr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ae.registerVersion)(Go,"0.10.0"),(0,ae.registerVersion)(Go,"0.10.0","esm2017")}();var $a=z(1954),va=z(2631);const qo=new class Ss extends va.v{}(class eg extends $a.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(D,A,q):(D.flush(this),0)}});var Tl=z(6321),Ee=z(5592),wi=z(9397),or=z(3093),j=z(5137);const Xr=new s.GfV("7.6.1"),Ms="__angularfire_symbol__analyticsIsSupportedValue",Sd="__angularfire_symbol__analyticsIsSupported",Md="__angularfire_symbol__remoteConfigIsSupportedValue",xi="__angularfire_symbol__remoteConfigIsSupported",jf="__angularfire_symbol__messagingIsSupportedValue",Ac="__angularfire_symbol__messagingIsSupported";function nh(k,D,A){if(D){if(1===D.length)return D[0];const se=D.filter(ke=>ke.app===A);if(1===se.length)return se[0]}return A.container.getProvider(k).getImmediate({optional:!0})}globalThis[Sd]||(globalThis[Sd]=fi().then(k=>globalThis[Ms]=k).catch(()=>globalThis[Ms]=!1)),globalThis[Ac]||(globalThis[Ac]=He().then(k=>globalThis[jf]=k).catch(()=>globalThis[jf]=!1)),globalThis[xi]||(globalThis[xi]=xc().then(k=>globalThis[Md]=k).catch(()=>globalThis[Md]=!1));const Av=(k,D)=>{const A=D?[D]:(0,Z.C6)(),q=[];return A.forEach(te=>{te.container.getProvider(k).instances.forEach(ke=>{q.includes(ke)||q.push(ke)})}),q};function Ci(){}class ih{constructor(D,A=qo){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,q){const te=this.zone;return this.delegate.schedule(function(ke){te.runGuarded(()=>{D.apply(this,[ke])})},A,q)}}class Il{constructor(D){this.zone=D,this.task=null}call(D,A){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ci,{},Ci,Ci)),A.pipe((0,wi.b)({next:q,complete:q,error:q})).subscribe(D).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sr=(()=>{class k{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new ih(Zone.current)),this.insideAngular=A.run(()=>new ih(Zone.current,Tl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(A){return new(A||k)(s.LFG(s.R0b))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Zi(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function As(k){return Zi().ngZone.run(()=>k())}function qa(k){return k.pipe((0,or.Q)(Zi().outsideAngular))}function Rd(k){return Zi(),function Rv(k){return function(A){return(A=A.lift(new Il(k.ngZone))).pipe((0,j.R)(k.outsideAngular),(0,or.Q)(k.insideAngular))}}(Zi())(k)}const tg=(k,D)=>function(){const q=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),As(()=>k.apply(void 0,q))},rh=(k,D)=>function(){let A;const q=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof q[se]&&(D&&(A||(A=As(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ci,{},Ci,Ci)))),q[se]=tg(q[se],A));const te=function Ga(k){return Zi().ngZone.runOutsideAngular(()=>k())}(()=>k.apply(this,q));if(!D){if(te instanceof Ee.y){const se=Zi();return te.pipe((0,j.R)(se.outsideAngular),(0,or.Q)(se.insideAngular))}return As(()=>te)}return te instanceof Ee.y?te.pipe(Rd):te instanceof Promise?As(()=>new Promise((se,ke)=>te.then(ft=>As(()=>se(ft)),ft=>As(()=>ke(ft))))):"function"==typeof te&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),te.apply(this,arguments)}:As(()=>te)}},6878:(It,Re,z)=>{"use strict";z.d(Re,{$:()=>Du,A:()=>ee,D:()=>Ne,I:()=>yc,J:()=>Co,L:()=>jt,N:()=>Pr,P:()=>Dv,Q:()=>Fp,R:()=>Qu,U:()=>La,V:()=>xc,W:()=>Cc,X:()=>Eo,Y:()=>Gr,Z:()=>xu,_:()=>bf,a:()=>mr,a0:()=>od,a1:()=>Vp,a2:()=>Ev,a3:()=>Up,a4:()=>sd,a5:()=>ad,a6:()=>ko,a7:()=>cd,a8:()=>Va,a9:()=>zp,aA:()=>oe,aB:()=>Sd,aC:()=>Ii,aD:()=>bn,aE:()=>wi,aF:()=>gr,aG:()=>Id,aH:()=>vi,aL:()=>Jr,aO:()=>ul,aa:()=>Tf,ab:()=>If,ac:()=>Ru,ad:()=>kv,ae:()=>jp,af:()=>dd,ai:()=>$p,aj:()=>Df,ak:()=>Lu,an:()=>Cv,ao:()=>Sf,aq:()=>Yt,ar:()=>md,as:()=>Qe,at:()=>Pt,au:()=>Te,av:()=>le,aw:()=>Zt,ax:()=>Ac,ay:()=>At,az:()=>Ae,b:()=>Gu,c:()=>jn,d:()=>Cn,e:()=>Dt,f:()=>Go,g:()=>Ss,h:()=>$a,i:()=>Ff,j:()=>Tl,k:()=>Ws,l:()=>To,m:()=>Od,p:()=>Ve,r:()=>Hf,s:()=>Ds,u:()=>Jp});var s=z(5861),Z=z(9058),B=z(534),ae=z(7582),ce=z(7879),ue=z(4537);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ot=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ce.Yd("@firebase/auth");function Ct(x,...v){We.logLevel<=ce.in.ERROR&&We.error(`Auth (${B.SDK_VERSION}): ${x}`,...v)}function le(x,...v){throw je(x,...v)}function Ae(x,...v){return je(x,...v)}function me(x,v,y){const T=Object.assign(Object.assign({},ot()),{[v]:y});return new Z.LL("auth","Firebase",T).create(v,{appName:x.name})}function xe(x,v,y){if(!(v instanceof y))throw y.name!==v.constructor.name&&le(x,"argument-error"),me(x,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(x,...v){if("string"!=typeof x){const y=v[0],T=[...v.slice(1)];return T[0]&&(T[0].appName=x.name),x._errorFactory.create(y,...T)}return Fe.create(x,...v)}function oe(x,v,...y){if(!x)throw je(v,...y)}function ut(x){const v="INTERNAL ASSERTION FAILED: "+x;throw Ct(v),new Error(v)}function Qe(x,v){x||ut(v)}function pn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function Fi(){return"http:"===Qi()||"https:"===Qi()}function Qi(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Ie{constructor(v,y){this.shortDelay=v,this.longDelay=y,Qe(y>v,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function os(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fi()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Be(x,v){Qe(x.emulator,"Emulator should always be set here");const{url:y}=x.emulator;return v?`${y}${v.startsWith("/")?v.slice(1):v}`:y}class qe{static initialize(v,y,T){this.fetchImpl=v,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Ie(3e4,6e4);function lt(x,v){return x.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:x.tenantId}):v}function yt(x,v,y,T){return qn.apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(x,v,y,T,O={}){return pt(x,O,(0,s.Z)(function*(){let V={},ie={};T&&("GET"===v?ie=T:V={body:JSON.stringify(T)});const be=(0,Z.xO)(Object.assign({key:x.config.apiKey},ie)).slice(1),nt=yield x._getAdditionalHeaders();return nt["Content-Type"]="application/json",x.languageCode&&(nt["X-Firebase-Locale"]=x.languageCode),qe.fetch()(dn(x,x.config.apiHost,y,be),Object.assign({method:v,headers:nt,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function pt(x,v,y){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(x,v,y){x._canInitEmulator=!1;const T=Object.assign(Object.assign({},tt),v);try{const O=new Wt(x),V=yield Promise.race([y(),O.promise]);O.clearNetworkTimeout();const ie=yield V.json();if("needConfirmation"in ie)throw pi(x,"account-exists-with-different-credential",ie);if(V.ok&&!("errorMessage"in ie))return ie;{const be=V.ok?ie.errorMessage:ie.error.message,[nt,gt]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw pi(x,"credential-already-in-use",ie);if("EMAIL_EXISTS"===nt)throw pi(x,"email-already-in-use",ie);if("USER_DISABLED"===nt)throw pi(x,"user-disabled",ie);const Vt=T[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw me(x,Vt,gt);le(x,Vt)}}catch(O){if(O instanceof Z.ZR)throw O;le(x,"network-request-failed",{message:String(O)})}})).apply(this,arguments)}function qt(x,v,y,T){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(x,v,y,T,O={}){const V=yield yt(x,v,y,T,O);return"mfaPendingCredential"in V&&le(x,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function dn(x,v,y,T){const O=`${v}${y}?${T}`;return x.config.emulator?Be(x.config,O):`${x.config.apiScheme}://${O}`}class Wt{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Ae(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pi(x,v,y){const T={appName:x.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const O=Ae(x,v,T);return O.customData._tokenResponse=y,O}function Jn(){return(Jn=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Ji(){return(Ji=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Xi(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function ki(){return(ki=(0,s.Z)(function*(x,v=!1){const y=(0,Z.m9)(x),T=yield y.getIdToken(v),O=Mt(T);oe(O&&O.exp&&O.auth_time&&O.iat,y.auth,"internal-error");const V="object"==typeof O.firebase?O.firebase:void 0,ie=V?.sign_in_provider;return{claims:O,token:T,authTime:Xi(dt(O.auth_time)),issuedAtTime:Xi(dt(O.iat)),expirationTime:Xi(dt(O.exp)),signInProvider:ie||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(x){return 1e3*Number(x)}function Mt(x){const[v,y,T]=x.split(".");if(void 0===v||void 0===y||void 0===T)return Ct("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,Z.tV)(y);return O?JSON.parse(O):(Ct("Failed to decode base64 JWT payload"),null)}catch(O){return Ct("Caught error parsing JWT payload as JSON",O?.toString()),null}}function yn(x,v){return Li.apply(this,arguments)}function Li(){return(Li=(0,s.Z)(function*(x,v,y=!1){if(y)return v;try{return yield v}catch(T){throw T instanceof Z.ZR&&function Or({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(T)&&x.auth.currentUser===x&&(yield x.auth.signOut()),T}})).apply(this,arguments)}class fn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var y;if(v){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const O=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(v=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(v);this.timerId=setTimeout((0,s.Z)(function*(){yield y.iteration()}),T)}iteration(){var v=this;return(0,s.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&v.schedule(!0))}v.schedule()})()}}class gi{constructor(v,y){this.createdAt=v,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function co(x){return An.apply(this,arguments)}function An(){return An=(0,s.Z)(function*(x){var v;const y=x.auth,T=yield x.getIdToken(),O=yield yn(x,function Er(x,v){return Ji.apply(this,arguments)}(y,{idToken:T}));oe(O?.users.length,y,"internal-error");const V=O.users[0];x._notifyReloadListener(V);const ie=null!==(v=V.providerUserInfo)&&void 0!==v&&v.length?function lo(x){return x.map(v=>{var{providerId:y}=v,T=(0,ae._T)(v,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(V.providerUserInfo):[],be=function ai(x,v){return[...x.filter(T=>!v.some(O=>O.providerId===T.providerId)),...v]}(x.providerData,ie),Vt=!!x.isAnonymous&&!(x.email&&V.passwordHash||be?.length),Pn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:be,metadata:new gi(V.createdAt,V.lastLoginAt),isAnonymous:Vt};Object.assign(x,Pn)}),An.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(x){const v=(0,Z.m9)(x);yield co(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function ur(){return(ur=(0,s.Z)(function*(x,v){const y=yield pt(x,{},(0,s.Z)(function*(){const T=(0,Z.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:O,apiKey:V}=x.config,ie=dn(x,O,"/v1/token",`key=${V}`),be=yield x._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(ie,{method:"POST",headers:be,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Xn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){oe(v.idToken,"internal-error"),oe(typeof v.idToken<"u","internal-error"),oe(typeof v.refreshToken<"u","internal-error");const y="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function Lt(x){const v=Mt(x);return oe(v,"internal-error"),oe(typeof v.exp<"u","internal-error"),oe(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,y)}getToken(v,y=!1){var T=this;return(0,s.Z)(function*(){return oe(!T.accessToken||T.refreshToken,v,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(v,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,y){var T=this;return(0,s.Z)(function*(){const{accessToken:O,refreshToken:V,expiresIn:ie}=yield function Bo(x,v){return ur.apply(this,arguments)}(v,y);T.updateTokensAndExpiration(O,V,Number(ie))})()}updateTokensAndExpiration(v,y,T){this.refreshToken=y||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(v,y){const{refreshToken:T,accessToken:O,expirationTime:V}=y,ie=new Xn;return T&&(oe("string"==typeof T,"internal-error",{appName:v}),ie.refreshToken=T),O&&(oe("string"==typeof O,"internal-error",{appName:v}),ie.accessToken=O),V&&(oe("number"==typeof V,"internal-error",{appName:v}),ie.expirationTime=V),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new Xn,this.toJSON())}_performRefresh(){return ut("not implemented")}}function Zn(x,v){oe("string"==typeof x||typeof x>"u","internal-error",{appName:v})}class Ti{constructor(v){var{uid:y,auth:T,stsTokenManager:O}=v,V=(0,ae._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new gi(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(v){var y=this;return(0,s.Z)(function*(){const T=yield yn(y,y.stsTokenManager.getToken(y.auth,v));return oe(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(v){return function er(x){return ki.apply(this,arguments)}(this,v)}reload(){return function tr(x){return Qt.apply(this,arguments)}(this)}_assign(v){this!==v&&(oe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(y=>Object.assign({},y)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const y=new Ti(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(v){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,y=!1){var T=this;return(0,s.Z)(function*(){let O=!1;v.idToken&&v.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(v),O=!0),y&&(yield co(T)),yield T.auth._persistUserIfCurrent(T),O&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var v=this;return(0,s.Z)(function*(){const y=yield v.getIdToken();return yield yn(v,function si(x,v){return Jn.apply(this,arguments)}(v.auth,{idToken:y})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,y){var T,O,V,ie,be,nt,gt,Vt;const Pn=null!==(T=y.displayName)&&void 0!==T?T:void 0,fo=null!==(O=y.email)&&void 0!==O?O:void 0,ya=null!==(V=y.phoneNumber)&&void 0!==V?V:void 0,Wf=null!==(ie=y.photoURL)&&void 0!==ie?ie:void 0,Nv=null!==(be=y.tenantId)&&void 0!==be?be:void 0,Zf=null!==(nt=y._redirectEventId)&&void 0!==nt?nt:void 0,nw=null!==(gt=y.createdAt)&&void 0!==gt?gt:void 0,Fv=null!==(Vt=y.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Ld,emailVerified:sh,isAnonymous:Yf,providerData:ah,stsTokenManager:Kf}=y;oe(Ld&&Kf,v,"internal-error");const Sl=Xn.fromJSON(this.name,Kf);oe("string"==typeof Ld,v,"internal-error"),Zn(Pn,v.name),Zn(fo,v.name),oe("boolean"==typeof sh,v,"internal-error"),oe("boolean"==typeof Yf,v,"internal-error"),Zn(ya,v.name),Zn(Wf,v.name),Zn(Nv,v.name),Zn(Zf,v.name),Zn(nw,v.name),Zn(Fv,v.name);const rg=new Ti({uid:Ld,auth:v,email:fo,emailVerified:sh,displayName:Pn,isAnonymous:Yf,photoURL:Wf,phoneNumber:ya,tenantId:Nv,stsTokenManager:Sl,createdAt:nw,lastLoginAt:Fv});return ah&&Array.isArray(ah)&&(rg.providerData=ah.map(Lv=>Object.assign({},Lv))),Zf&&(rg._redirectEventId=Zf),rg}static _fromIdTokenResponse(v,y,T=!1){return(0,s.Z)(function*(){const O=new Xn;O.updateFromServerResponse(y);const V=new Ti({uid:y.localId,auth:v,stsTokenManager:O,isAnonymous:T});return yield co(V),V})()}}const ei=new Map;function Ii(x){Qe(x instanceof Function,"Expected a class definition");let v=ei.get(x);return v?(Qe(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,ei.set(x,v),v)}const Pr=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(y,T){var O=this;return(0,s.Z)(function*(){O.storage[y]=T})()}_get(y){var T=this;return(0,s.Z)(function*(){const O=T.storage[y];return void 0===O?null:O})()}_remove(y){var T=this;return(0,s.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return x.type="NONE",x})();function bn(x,v,y){return`firebase:${x}:${v}:${y}`}class X{constructor(v,y,T){this.persistence=v,this.auth=y,this.userKey=T;const{config:O,name:V}=this.auth;this.fullUserKey=bn(this.userKey,O.apiKey,V),this.fullPersistenceKey=bn("persistence",O.apiKey,V),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,s.Z)(function*(){const y=yield v.persistence._get(v.fullUserKey);return y?Ti._fromJSON(v.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var y=this;return(0,s.Z)(function*(){if(y.persistence===v)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=v,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,y,T="authUser"){return(0,s.Z)(function*(){if(!y.length)return new X(Ii(Pr),v,T);const O=(yield Promise.all(y.map(function(){var gt=(0,s.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let V=O[0]||Ii(Pr);const ie=bn(T,v.config.apiKey,v.name);let be=null;for(const gt of y)try{const Vt=yield gt._get(ie);if(Vt){const Pn=Ti._fromJSON(v,Vt);gt!==V&&(be=Pn),V=gt;break}}catch{}const nt=O.filter(gt=>gt._shouldAllowMigration);return V._shouldAllowMigration&&nt.length?(V=nt[0],be&&(yield V._set(ie,be.toJSON())),yield Promise.all(y.map(function(){var gt=(0,s.Z)(function*(Vt){if(Vt!==V)try{yield Vt._remove(ie)}catch{}});return function(Vt){return gt.apply(this,arguments)}}())),new X(V,v,T)):new X(V,v,T)})()}}function K(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(re(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(U(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(rt(v))return"Blackberry";if(Ft(v))return"Webos";if($(v))return"Safari";if((v.includes("chrome/")||L(v))&&!v.includes("edge/"))return"Chrome";if(Te(v))return"Android";{const T=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function U(x=(0,Z.z$)()){return/firefox\//i.test(x)}function $(x=(0,Z.z$)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function L(x=(0,Z.z$)()){return/crios\//i.test(x)}function re(x=(0,Z.z$)()){return/iemobile/i.test(x)}function Te(x=(0,Z.z$)()){return/android/i.test(x)}function rt(x=(0,Z.z$)()){return/blackberry/i.test(x)}function Ft(x=(0,Z.z$)()){return/webos/i.test(x)}function Pt(x=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function At(x=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function en(x=(0,Z.z$)()){return Pt(x)||Te(x)||Ft(x)||rt(x)||/windows phone/i.test(x)||re(x)}function nr(x,v=[]){let y;switch(x){case"Browser":y=K((0,Z.z$)());break;case"Worker":y=`${K((0,Z.z$)())}-${x}`;break;default:y=x}const T=v.length?v.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${T}`}function fe(){return(fe=(0,s.Z)(function*(x){return(yield yt(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ge(x,v){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(x,v){return yt(x,"GET","/v2/recaptchaConfig",lt(x,v))})).apply(this,arguments)}function zt(x){return void 0!==x&&void 0!==x.getResponse}function tn(x){return void 0!==x&&void 0!==x.enterprise}class wn{constructor(v){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.emailPasswordEnabled=v.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function _i(x){return new Promise((v,y)=>{const T=document.createElement("script");T.setAttribute("src",x),T.onload=v,T.onerror=O=>{const V=Ae("internal-error");V.customData=O,y(V)},T.type="text/javascript",T.charset="UTF-8",function ir(){var x,v;return null!==(v=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==v?v:document}().appendChild(T)})}function wo(x){return`__${x}${Math.floor(1e6*Math.random())}`}class zn{constructor(v){this.type="recaptcha-enterprise",this.auth=vi(v)}verify(v="verify",y=!1){var T=this;return(0,s.Z)(function*(){function V(){return V=(0,s.Z)(function*(be){if(!y){if(null==be.tenantId&&null!=be._agentRecaptchaConfig)return be._agentRecaptchaConfig.siteKey;if(null!=be.tenantId&&void 0!==be._tenantRecaptchaConfigs[be.tenantId])return be._tenantRecaptchaConfigs[be.tenantId].siteKey}return new Promise(function(){var nt=(0,s.Z)(function*(gt,Vt){Ge(be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pn=>{if(void 0!==Pn.recaptchaKey){const fo=new wn(Pn);return null==be.tenantId?be._agentRecaptchaConfig=fo:be._tenantRecaptchaConfigs[be.tenantId]=fo,gt(fo.siteKey)}Vt(new Error("recaptcha Enterprise site key undefined"))}).catch(Pn=>{Vt(Pn)})});return function(gt,Vt){return nt.apply(this,arguments)}}())}),V.apply(this,arguments)}function ie(be,nt,gt){const Vt=window.grecaptcha;tn(Vt)?Vt.enterprise.ready(()=>{Vt.enterprise.execute(be,{action:v}).then(Pn=>{nt(Pn)}).catch(()=>{nt("NO_RECAPTCHA")})}):gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((be,nt)=>{(function O(be){return V.apply(this,arguments)})(T.auth).then(gt=>{if(!y&&tn(window.grecaptcha))ie(gt,be,nt);else{if(typeof window>"u")return void nt(new Error("RecaptchaVerifier is only supported in browser"));_i("https://www.google.com/recaptcha/enterprise.js?render="+gt).then(()=>{ie(gt,be,nt)}).catch(Vt=>{nt(Vt)})}}).catch(gt=>{nt(gt)})})})()}}function uo(x,v,y){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(x,v,y,T=!1){const O=new zn(x);let V;try{V=yield O.verify(y)}catch{V=yield O.verify(y,!0)}const ie=Object.assign({},v);return Object.assign(ie,T?{captchaResp:V}:{captchaResponse:V}),Object.assign(ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ie})).apply(this,arguments)}class as{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,y){const T=V=>new Promise((ie,be)=>{try{ie(v(V))}catch(nt){be(nt)}});T.onAbort=y,this.queue.push(T);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(v){var y=this;return(0,s.Z)(function*(){if(y.auth.currentUser===v)return;const T=[];try{for(const O of y.queue)yield O(v),O.onAbort&&T.push(O.onAbort)}catch(O){T.reverse();for(const V of T)try{V()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:O?.message})}})()}}class zr{constructor(v,y,T,O){this.app=v,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=T,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cl(this),this.idTokenSubscription=new cl(this),this.beforeStateQueue=new as(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(v,y){var T=this;return y&&(this._popupRedirectResolver=Ii(y)),this._initializationPromise=this.queue((0,s.Z)(function*(){var O,V;if(!T._deleted&&(T.persistenceManager=yield X.create(T,v),!T._deleted)){if(null!==(O=T._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(V=T.currentUser)||void 0===V?void 0:V.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,s.Z)(function*(){if(v._deleted)return;const y=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||y){if(v.currentUser&&y&&v.currentUser.uid===y.uid)return v._currentUser._assign(y),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(y,!0)}})()}initializeCurrentUser(v){var y=this;return(0,s.Z)(function*(){var T;const O=yield y.assertedPersistence.getCurrentUser();let V=O,ie=!1;if(v&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const be=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,nt=V?._redirectEventId,gt=yield y.tryRedirectSignIn(v);(!be||be===nt)&&gt?.user&&(V=gt.user,ie=!0)}if(!V)return y.directlySetCurrentUser(null);if(!V._redirectEventId){if(ie)try{yield y.beforeStateQueue.runMiddleware(V)}catch(be){V=O,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(be))}return V?y.reloadAndSetCurrentUserOrClear(V):y.directlySetCurrentUser(null)}return oe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===V._redirectEventId?y.directlySetCurrentUser(V):y.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(v){var y=this;return(0,s.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,v,!0)}catch{yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(v){var y=this;return(0,s.Z)(function*(){try{yield co(v)}catch(T){if("auth/network-request-failed"!==T?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,s.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var y=this;return(0,s.Z)(function*(){const T=v?(0,Z.m9)(v):null;return T&&oe(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(v,y=!1){var T=this;return(0,s.Z)(function*(){if(!T._deleted)return v&&oe(T.tenantId===v.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(v)),T.queue((0,s.Z)(function*(){yield T.directlySetCurrentUser(v),T.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,s.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var y=this;return this.queue((0,s.Z)(function*(){yield y.assertedPersistence.setPersistence(Ii(v))}))}initializeRecaptchaConfig(){var v=this;return(0,s.Z)(function*(){const y=yield Ge(v,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new wn(y);null==v.tenantId?v._agentRecaptchaConfig=T:v._tenantRecaptchaConfigs[v.tenantId]=T,T.emailPasswordEnabled&&new zn(v).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new Z.LL("auth","Firebase",v())}onAuthStateChanged(v,y,T){return this.registerStateListener(this.authStateSubscription,v,y,T)}beforeAuthStateChanged(v,y){return this.beforeStateQueue.pushCallback(v,y)}onIdTokenChanged(v,y,T){return this.registerStateListener(this.idTokenSubscription,v,y,T)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,y){var T=this;return(0,s.Z)(function*(){const O=yield T.getOrInitRedirectPersistenceManager(y);return null===v?O.removeCurrentUser():O.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var y=this;return(0,s.Z)(function*(){if(!y.redirectPersistenceManager){const T=v&&Ii(v)||y._popupRedirectResolver;oe(T,y,"argument-error"),y.redirectPersistenceManager=yield X.create(y,[Ii(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(v){var y=this;return(0,s.Z)(function*(){var T,O;return y._isInitialized&&(yield y.queue((0,s.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===v?y._currentUser:(null===(O=y.redirectUser)||void 0===O?void 0:O._redirectEventId)===v?y.redirectUser:null})()}_persistUserIfCurrent(v){var y=this;return(0,s.Z)(function*(){if(v===y.currentUser)return y.queue((0,s.Z)(function*(){return y.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,y,T,O){if(this._deleted)return()=>{};const V="function"==typeof y?y:y.next.bind(y),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ie,this,"internal-error"),ie.then(()=>V(this.currentUser)),"function"==typeof y?v.addObserver(y,T,O):v.addObserver(y)}directlySetCurrentUser(v){var y=this;return(0,s.Z)(function*(){y.currentUser&&y.currentUser!==v&&y._currentUser._stopProactiveRefresh(),v&&y.isProactiveRefreshEnabled&&v._startProactiveRefresh(),y.currentUser=v,v?yield y.assertedPersistence.setCurrentUser(v):yield y.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,s.Z)(function*(){var y;const T={"X-Client-Version":v.clientVersion};v.app.options.appId&&(T["X-Firebase-gmpid"]=v.app.options.appId);const O=yield null===(y=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();O&&(T["X-Firebase-Client"]=O);const V=yield v._getAppCheckToken();return V&&(T["X-Firebase-AppCheck"]=V),T})()}_getAppCheckToken(){var v=this;return(0,s.Z)(function*(){var y;const T=yield null===(y=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return T?.error&&function xt(x,...v){We.logLevel<=ce.in.WARN&&We.warn(`Auth (${B.SDK_VERSION}): ${x}`,...v)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function vi(x){return(0,Z.m9)(x)}class cl{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,Z.ne)(y=>this.observer=y)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yc(x,v,y){const T=vi(x);oe(T._canInitEmulator,T,"emulator-config-failed"),oe(/^https?:\/\//.test(v),T,"invalid-emulator-scheme");const O=!!y?.disableWarnings,V=oa(v),{host:ie,port:be}=function xo(x){const v=oa(x),y=/(\/\/)?([^?#/]+)/.exec(x.substr(v.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(T);if(O){const V=O[1];return{host:V,port:bs(T.substr(V.length+1))}}{const[V,ie]=T.split(":");return{host:V,port:bs(ie)}}}(v);T.config.emulator={url:`${V}//${ie}${null===be?"":`:${be}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ie,port:be,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Ra(){function x(){const v=document.createElement("p"),y=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function oa(x){const v=x.indexOf(":");return v<0?"":x.substr(0,v+1)}function bs(x){if(!x)return null;const v=Number(x);return isNaN(v)?null:v}class Co{constructor(v,y){this.providerId=v,this.signInMethod=y}toJSON(){return ut("not implemented")}_getIdTokenResponse(v){return ut("not implemented")}_linkToIdToken(v,y){return ut("not implemented")}_getReauthenticationResolver(v){return ut("not implemented")}}function Oa(x,v){return bc.apply(this,arguments)}function bc(){return(bc=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:resetPassword",lt(x,v))})).apply(this,arguments)}function $s(x,v){return ws.apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",lt(x,v))})).apply(this,arguments)}function N(x,v){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithPassword",lt(x,v))})).apply(this,arguments)}function J(x,v){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:sendOobCode",lt(x,v))})).apply(this,arguments)}function _t(){return(_t=(0,s.Z)(function*(x,v){return J(x,v)})).apply(this,arguments)}function un(x,v){return hi.apply(this,arguments)}function hi(){return(hi=(0,s.Z)(function*(x,v){return J(x,v)})).apply(this,arguments)}function rr(x,v){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(x,v){return J(x,v)})).apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(x,v){return J(x,v)})).apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithEmailLink",lt(x,v))})).apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithEmailLink",lt(x,v))})).apply(this,arguments)}class Gs extends Co{constructor(v,y,T,O=null){super("password",T),this._email=v,this._password=y,this._tenantId=O}static _fromEmailAndPassword(v,y){return new Gs(v,y,"password")}static _fromEmailAndCode(v,y,T=null){return new Gs(v,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(v){var y=this;return(0,s.Z)(function*(){var T;switch(y.signInMethod){case"password":const O={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=v._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const V=yield uo(v,O,"signInWithPassword");return N(v,V)}return N(v,O).catch(function(){var V=(0,s.Z)(function*(ie){if("auth/missing-recaptcha-token"===ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const be=yield uo(v,O,"signInWithPassword");return N(v,be)}return Promise.reject(ie)});return function(ie){return V.apply(this,arguments)}}());case"emailLink":return function Di(x,v){return Kr.apply(this,arguments)}(v,{email:y._email,oobCode:y._password});default:le(v,"internal-error")}})()}_linkToIdToken(v,y){var T=this;return(0,s.Z)(function*(){switch(T.signInMethod){case"password":return $s(v,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Xl(x,v){return Nr.apply(this,arguments)}(v,{idToken:y,email:T._email,oobCode:T._password});default:le(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ti(x,v){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithIdp",lt(x,v))})).apply(this,arguments)}class jt extends Co{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const y=new jt(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(y.idToken=v.idToken),v.accessToken&&(y.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(y.nonce=v.nonce),v.pendingToken&&(y.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(y.accessToken=v.oauthToken,y.secret=v.oauthTokenSecret):le("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:O}=y,V=(0,ae._T)(y,["providerId","signInMethod"]);if(!T||!O)return null;const ie=new jt(T,O);return ie.idToken=V.idToken||void 0,ie.accessToken=V.accessToken||void 0,ie.secret=V.secret,ie.nonce=V.nonce,ie.pendingToken=V.pendingToken||null,ie}_getIdTokenResponse(v){return ti(v,this.buildRequest())}_linkToIdToken(v,y){const T=this.buildRequest();return T.idToken=y,ti(v,T)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,ti(v,y)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),v.postBody=(0,Z.xO)(y)}return v}}function ed(){return(ed=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:sendVerificationCode",lt(x,v))})).apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,v))})).apply(this,arguments)}function Na(){return(Na=(0,s.Z)(function*(x,v){const y=yield qt(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,v));if(y.temporaryProof)throw pi(x,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const fr={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,Object.assign(Object.assign({},v),{operation:"REAUTH"})),fr)})).apply(this,arguments)}class Fr extends Co{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,y){return new Fr({verificationId:v,verificationCode:y})}static _fromTokenResponse(v,y){return new Fr({phoneNumber:v,temporaryProof:y})}_getIdTokenResponse(v){return function sa(x,v){return yi.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,y){return function td(x,v){return Na.apply(this,arguments)}(v,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function wc(x,v){return nd.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:y,verificationId:T,verificationCode:O}=this.params;return v&&y?{temporaryProof:v,phoneNumber:y}:{sessionInfo:T,code:O}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:y,verificationCode:T,phoneNumber:O,temporaryProof:V}=v;return T||y||O||V?new Fr({verificationId:y,verificationCode:T,phoneNumber:O,temporaryProof:V}):null}}class ls{constructor(v){var y,T,O,V,ie,be;const nt=(0,Z.zd)((0,Z.pd)(v)),gt=null!==(y=nt.apiKey)&&void 0!==y?y:null,Vt=null!==(T=nt.oobCode)&&void 0!==T?T:null,Pn=function Qr(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=nt.mode)&&void 0!==O?O:null);oe(gt&&Vt&&Pn,"argument-error"),this.apiKey=gt,this.operation=Pn,this.code=Vt,this.continueUrl=null!==(V=nt.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ie=nt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(be=nt.tenantId)&&void 0!==be?be:null}static parseLink(v){const y=function id(x){const v=(0,Z.zd)((0,Z.pd)(x)).link,y=v?(0,Z.zd)((0,Z.pd)(v)).deep_link_id:null,T=(0,Z.zd)((0,Z.pd)(x)).deep_link_id;return(T?(0,Z.zd)((0,Z.pd)(T)).link:null)||T||y||v||x}(v);try{return new ls(y)}catch{return null}}}let Fp=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(y,T){return Gs._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const O=ls.parseLink(T);return oe(O,"argument-error"),Gs._fromEmailAndCode(y,O.code,O.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class xs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Fa extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class Eo extends Fa{static credentialFromJSON(v){const y="string"==typeof v?JSON.parse(v):v;return oe("providerId"in y&&"signInMethod"in y,"argument-error"),jt._fromParams(y)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return oe(v.idToken||v.accessToken,"argument-error"),jt._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return Eo.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return Eo.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:O,pendingToken:V,nonce:ie,providerId:be}=v;if(!T&&!O&&!y&&!V||!be)return null;try{return new Eo(be)._credential({idToken:y,accessToken:T,nonce:ie,pendingToken:V})}catch{return null}}}let La=(()=>{class x extends Fa{constructor(){super("facebook.com")}static credential(y){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),xc=(()=>{class x extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:O}=y;if(!T&&!O)return null;try{return x.credential(T,O)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Cc=(()=>{class x extends Fa{constructor(){super("github.com")}static credential(y){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class ul extends Co{constructor(v,y){super(v,v),this.pendingToken=y}_getIdTokenResponse(v){return ti(v,this.buildRequest())}_linkToIdToken(v,y){const T=this.buildRequest();return T.idToken=y,ti(v,T)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,ti(v,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:O,pendingToken:V}=y;return T&&O&&V&&T===O?new ul(T,V):null}static _create(v,y){return new ul(v,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gr extends xs{constructor(v){oe(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Gr.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Gr.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const y=ul.fromJSON(v);return oe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:y,providerId:T}=v;if(!y||!T)return null;try{return ul._create(T,y)}catch{return null}}}let xu=(()=>{class x extends Fa{constructor(){super("twitter.com")}static credential(y,T){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:O}=y;if(!T||!O)return null;try{return x.credential(T,O)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function ds(x,v){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signUp",lt(x,v))})).apply(this,arguments)}class ci{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,y,T,O=!1){return(0,s.Z)(function*(){const V=yield Ti._fromIdTokenResponse(v,T,O),ie=Ec(T);return new ci({user:V,providerId:ie,_tokenResponse:T,operationType:y})})()}static _forOperation(v,y,T){return(0,s.Z)(function*(){yield v._updateTokensIfNecessary(T,!0);const O=Ec(T);return new ci({user:v,providerId:O,_tokenResponse:T,operationType:y})})()}}function Ec(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function bf(x){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,s.Z)(function*(x){var v;const y=vi(x);if(yield y._initializationPromise,null!==(v=y.currentUser)&&void 0!==v&&v.isAnonymous)return new ci({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield ds(y,{returnSecureToken:!0}),O=yield ci._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(O.user),O})).apply(this,arguments)}class Eu extends Z.ZR{constructor(v,y,T,O){var V;super(y.code,y.message),this.operationType=T,this.user=O,Object.setPrototypeOf(this,Eu.prototype),this.customData={appName:v.name,tenantId:null!==(V=v.tenantId)&&void 0!==V?V:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(v,y,T,O){return new Eu(v,y,T,O)}}function ku(x,v,y,T){return("reauthenticate"===v?y._getReauthenticationResolver(x):y._getIdTokenResponse(x)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Eu._fromErrorAndOperation(x,V,v,T):V})}function Lp(x){return new Set(x.map(({providerId:v})=>v).filter(v=>!!v))}function Cv(x,v){return wf.apply(this,arguments)}function wf(){return wf=(0,s.Z)(function*(x,v){const y=(0,Z.m9)(x);yield Iu(!0,y,v);const{providerUserInfo:T}=yield function Wn(x,v){return dr.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[v]}),O=Lp(T||[]);return y.providerData=y.providerData.filter(V=>O.has(V.providerId)),O.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),wf.apply(this,arguments)}function Cs(x,v){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,s.Z)(function*(x,v,y=!1){const T=yield yn(x,v._linkToIdToken(x.auth,yield x.getIdToken()),y);return ci._forOperation(x,"link",T)})).apply(this,arguments)}function Iu(x,v,y){return rd.apply(this,arguments)}function rd(){return(rd=(0,s.Z)(function*(x,v,y){yield co(v);const O=!1===x?"provider-already-linked":"no-such-provider";oe(Lp(v.providerData).has(y)===x,v.auth,O)})).apply(this,arguments)}function Bp(x,v){return xf.apply(this,arguments)}function xf(){return(xf=(0,s.Z)(function*(x,v,y=!1){const{auth:T}=x,O="reauthenticate";try{const V=yield yn(x,ku(T,O,v,x),y);oe(V.idToken,T,"internal-error");const ie=Mt(V.idToken);oe(ie,T,"internal-error");const{sub:be}=ie;return oe(x.uid===be,T,"user-mismatch"),ci._forOperation(x,O,V)}catch(V){throw"auth/user-not-found"===V?.code&&le(T,"user-mismatch"),V}})).apply(this,arguments)}function Cf(x,v){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,s.Z)(function*(x,v,y=!1){const T="signIn",O=yield ku(x,T,v),V=yield ci._fromIdTokenResponse(x,T,O);return y||(yield x._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Du(x,v){return kf.apply(this,arguments)}function kf(){return(kf=(0,s.Z)(function*(x,v){return Cf(vi(x),v)})).apply(this,arguments)}function od(x,v){return Su.apply(this,arguments)}function Su(){return(Su=(0,s.Z)(function*(x,v){const y=(0,Z.m9)(x);return yield Iu(!1,y,v.providerId),Cs(y,v)})).apply(this,arguments)}function Vp(x,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(x,v){return Bp((0,Z.m9)(x),v)})).apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithCustomToken",lt(x,v))})).apply(this,arguments)}function Ev(x,v){return la.apply(this,arguments)}function la(){return la=(0,s.Z)(function*(x,v){const y=vi(x),T=yield function K0(x,v){return ca.apply(this,arguments)}(y,{token:v,returnSecureToken:!0}),O=yield ci._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(O.user),O}),la.apply(this,arguments)}class ho{constructor(v,y){this.factorId=v,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(v,y){return"phoneInfo"in y?Mu._fromServerResponse(v,y):"totpInfo"in y?hl._fromServerResponse(v,y):le(v,"internal-error")}}class Mu extends ho{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,y){return new Mu(y)}}class hl extends ho{constructor(v){super("totp",v)}static _fromServerResponse(v,y){return new hl(y)}}function fl(x,v,y){var T;oe((null===(T=y.url)||void 0===T?void 0:T.length)>0,x,"invalid-continue-uri"),oe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),v.continueUrl=y.url,v.dynamicLinkDomain=y.dynamicLinkDomain,v.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(oe(y.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),v.iOSBundleId=y.iOS.bundleId),y.android&&(oe(y.android.packageName.length>0,x,"missing-android-pkg-name"),v.androidInstallApp=y.android.installApp,v.androidMinimumVersionCode=y.android.minimumVersion,v.androidPackageName=y.android.packageName)}function Up(x,v,y){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,s.Z)(function*(x,v,y){var T;const O=vi(x),V={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=O._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ie=yield uo(O,V,"getOobCode",!0);y&&fl(O,ie,y),yield un(O,ie)}else y&&fl(O,V,y),yield un(O,V).catch(function(){var ie=(0,s.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const nt=yield uo(O,V,"getOobCode",!0);y&&fl(O,nt,y),yield un(O,nt)}});return function(be){return ie.apply(this,arguments)}}())}),Hp.apply(this,arguments)}function sd(x,v,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(x,v,y){yield Oa((0,Z.m9)(x),{oobCode:v,newPassword:y})})).apply(this,arguments)}function ad(x,v){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,s.Z)(function*(x,v){yield function wu(x,v){return on.apply(this,arguments)}((0,Z.m9)(x),{oobCode:v})}),Vi.apply(this,arguments)}function ko(x,v){return Au.apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(x,v){const y=(0,Z.m9)(x),T=yield Oa(y,{oobCode:v}),O=T.requestType;switch(oe(O,y,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(T.mfaInfo,y,"internal-error");default:oe(T.email,y,"internal-error")}let V=null;return T.mfaInfo&&(V=ho._fromServerResponse(vi(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:V},operation:O}})).apply(this,arguments)}function cd(x,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(x,v){const{data:y}=yield ko((0,Z.m9)(x),v);return y.email})).apply(this,arguments)}function Va(x,v,y){return ld.apply(this,arguments)}function ld(){return ld=(0,s.Z)(function*(x,v,y){var T;const O=vi(x),V={returnSecureToken:!0,email:v,password:y,clientType:"CLIENT_TYPE_WEB"};let ie;if(null!==(T=O._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const gt=yield uo(O,V,"signUpPassword");ie=ds(O,gt)}else ie=ds(O,V).catch(function(){var gt=(0,s.Z)(function*(Vt){if("auth/missing-recaptcha-token"===Vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pn=yield uo(O,V,"signUpPassword");return ds(O,Pn)}return Promise.reject(Vt)});return function(Vt){return gt.apply(this,arguments)}}());const be=yield ie.catch(gt=>Promise.reject(gt)),nt=yield ci._fromIdTokenResponse(O,"signIn",be);return yield O._updateCurrentUser(nt.user),nt}),ld.apply(this,arguments)}function zp(x,v,y){return Du((0,Z.m9)(x),Fp.credential(v,y))}function Tf(x,v,y){return da.apply(this,arguments)}function da(){return da=(0,s.Z)(function*(x,v,y){var T;const O=vi(x),V={requestType:"EMAIL_SIGNIN",email:v,clientType:"CLIENT_TYPE_WEB"};function ie(be,nt){oe(nt.handleCodeInApp,O,"argument-error"),nt&&fl(O,be,nt)}if(null!==(T=O._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const be=yield uo(O,V,"getOobCode",!0);ie(be,y),yield rr(O,be)}else ie(V,y),yield rr(O,V).catch(function(){var be=(0,s.Z)(function*(nt){if("auth/missing-recaptcha-token"!==nt.code)return Promise.reject(nt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gt=yield uo(O,V,"getOobCode",!0);ie(gt,y),yield rr(O,gt)}});return function(nt){return be.apply(this,arguments)}}())}),da.apply(this,arguments)}function If(x,v){const y=ls.parseLink(v);return"EMAIL_SIGNIN"===y?.operation}function Ru(x,v,y){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x),O=Fp.credentialWithLink(v,y||pn());return oe(O._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Du(T,O)})).apply(this,arguments)}function Ou(){return(Ou=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:createAuthUri",lt(x,v))})).apply(this,arguments)}function kv(x,v){return ml.apply(this,arguments)}function ml(){return ml=(0,s.Z)(function*(x,v){const T={identifier:v,continueUri:Fi()?pn():"http://localhost"},{signinMethods:O}=yield function Q0(x,v){return Ou.apply(this,arguments)}((0,Z.m9)(x),T);return O||[]}),ml.apply(this,arguments)}function jp(x,v){return pl.apply(this,arguments)}function pl(){return pl=(0,s.Z)(function*(x,v){const y=(0,Z.m9)(x),O={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};v&&fl(y.auth,O,v);const{email:V}=yield function Ze(x,v){return _t.apply(this,arguments)}(y.auth,O);V!==x.email&&(yield x.reload())}),pl.apply(this,arguments)}function dd(x,v,y){return kc.apply(this,arguments)}function kc(){return kc=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:v};y&&fl(T.auth,V,y);const{email:ie}=yield function st(x,v){return sn.apply(this,arguments)}(T.auth,V);ie!==x.email&&(yield x.reload())}),kc.apply(this,arguments)}function Nu(){return(Nu=(0,s.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function $p(x,v){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,s.Z)(function*(x,{displayName:v,photoURL:y}){if(void 0===v&&void 0===y)return;const T=(0,Z.m9)(x),V={idToken:yield T.getIdToken(),displayName:v,photoUrl:y,returnSecureToken:!0},ie=yield yn(T,function Pu(x,v){return Nu.apply(this,arguments)}(T.auth,V));T.displayName=ie.displayName||null,T.photoURL=ie.photoUrl||null;const be=T.providerData.find(({providerId:nt})=>"password"===nt);be&&(be.displayName=T.displayName,be.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ie)}),Fu.apply(this,arguments)}function Df(x,v){return Bu((0,Z.m9)(x),v,null)}function Lu(x,v){return Bu((0,Z.m9)(x),null,v)}function Bu(x,v,y){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(x,v,y){const{auth:T}=x,V={idToken:yield x.getIdToken(),returnSecureToken:!0};v&&(V.email=v),y&&(V.password=y);const ie=yield yn(x,$s(T,V));yield x._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Ua{constructor(v,y,T={}){this.isNewUser=v,this.providerId=y,this.profile=T}}class ni extends Ua{constructor(v,y,T,O){super(v,y,T),this.username=O}}class ud extends Ua{constructor(v,y){super(v,"facebook.com",y)}}class Tc extends ni{constructor(v,y){super(v,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class qr extends Ua{constructor(v,y){super(v,"google.com",y)}}class Ic extends ni{constructor(v,y,T){super(v,"twitter.com",y,T)}}function Sf(x){const{user:v,_tokenResponse:y}=x;return v.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Vu(x){var v,y;if(!x)return null;const{providerId:T}=x,O=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},V=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!T&&x?.idToken){const ie=null===(y=null===(v=Mt(x.idToken))||void 0===v?void 0:v.firebase)||void 0===y?void 0:y.sign_in_provider;if(ie)return new Ua(V,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!T)return null;switch(T){case"facebook.com":return new ud(V,O);case"github.com":return new Tc(V,O);case"google.com":return new qr(V,O);case"twitter.com":return new Ic(V,O,x.screenName||null);case"custom":case"anonymous":return new Ua(V,null);default:return new Ua(V,T,O)}}(y)}class zo{constructor(v,y,T){this.type=v,this.credential=y,this.auth=T}static _fromIdtoken(v,y){return new zo("enroll",v,y)}static _fromMfaPendingCredential(v){return new zo("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var y,T;if(v?.multiFactorSession){if(null!==(y=v.multiFactorSession)&&void 0!==y&&y.pendingCredential)return zo._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(T=v.multiFactorSession)&&void 0!==T&&T.idToken)return zo._fromIdtoken(v.multiFactorSession.idToken)}return null}}class fd{constructor(v,y,T){this.session=v,this.hints=y,this.signInResolver=T}static _fromError(v,y){const T=vi(v),O=y.customData._serverResponse,V=(O.mfaInfo||[]).map(be=>ho._fromServerResponse(T,be));oe(O.mfaPendingCredential,T,"internal-error");const ie=zo._fromMfaPendingCredential(O.mfaPendingCredential);return new fd(ie,V,function(){var be=(0,s.Z)(function*(nt){const gt=yield nt._process(T,ie);delete O.mfaInfo,delete O.mfaPendingCredential;const Vt=Object.assign(Object.assign({},O),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(y.operationType){case"signIn":const Pn=yield ci._fromIdTokenResponse(T,y.operationType,Vt);return yield T._updateCurrentUser(Pn.user),Pn;case"reauthenticate":return oe(y.user,T,"internal-error"),ci._forOperation(y.user,y.operationType,Vt);default:le(T,"internal-error")}});return function(nt){return be.apply(this,arguments)}}())}resolveSignIn(v){var y=this;return(0,s.Z)(function*(){return y.signInResolver(v)})()}}function Yt(x,v){var y;const T=(0,Z.m9)(x),O=v;return oe(v.customData.operationType,T,"argument-error"),oe(null===(y=O.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),fd._fromError(T,O)}class gl{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>ho._fromServerResponse(v.auth,T)))})}static _fromUser(v){return new gl(v)}getSession(){var v=this;return(0,s.Z)(function*(){return zo._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,y){var T=this;return(0,s.Z)(function*(){const O=v,V=yield T.getSession(),ie=yield yn(T.user,O._process(T.user.auth,V,y));return yield T.user._updateTokensIfNecessary(ie),T.user.reload()})()}unenroll(v){var y=this;return(0,s.Z)(function*(){const T="string"==typeof v?v:v.uid,O=yield y.user.getIdToken();try{const V=yield yn(y.user,function qp(x,v){return yt(x,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(x,v))}(y.user.auth,{idToken:O,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ie})=>ie!==T),yield y.user._updateTokensIfNecessary(V),yield y.user.reload()}catch(V){throw V}})()}}const jo=new WeakMap;function md(x){const v=(0,Z.m9)(x);return jo.has(v)||jo.set(v,gl._fromUser(v)),jo.get(v)}const _l="__sak";class Wp{constructor(v,y){this.storageRetriever=v,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,y){return this.storage.setItem(v,JSON.stringify(y)),Promise.resolve()}_get(v){const y=this.storage.getItem(v);return Promise.resolve(y?JSON.parse(y):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gu=(()=>{class x extends Wp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rf(){const x=(0,Z.z$)();return $(x)||Pt(x)}()&&function qi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const O=this.storage.getItem(T),V=this.localCache[T];O!==V&&y(T,V,O)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((be,nt,gt)=>{this.notifyListeners(be,gt)});const O=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(O);if(y.newValue!==be)null!==y.newValue?this.storage.setItem(O,y.newValue):this.storage.removeItem(O);else if(this.localCache[O]===y.newValue&&!T)return}const V=()=>{const be=this.storage.getItem(O);!T&&this.localCache[O]===be||this.notifyListeners(O,be)},ie=this.storage.getItem(O);!function Vn(){return(0,Z.w1)()&&10===document.documentMode}()||ie===y.newValue||y.newValue===y.oldValue?V():setTimeout(V,10)}notifyListeners(y,T){this.localCache[y]=T;const O=this.listeners[y];if(O)for(const V of Array.from(O))V(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var O=()=>super._set,V=this;return(0,s.Z)(function*(){yield O().call(V,y,T),V.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,O=this;return(0,s.Z)(function*(){const V=yield T().call(O,y);return O.localCache[y]=JSON.stringify(V),V})()}_remove(y){var T=()=>super._remove,O=this;return(0,s.Z)(function*(){yield T().call(O,y),delete O.localCache[y]})()}}return x.type="LOCAL",x})(),mr=(()=>{class x extends Wp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return x.type="SESSION",x})();let gd=(()=>{class x{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(V=>V.isListeningto(y));if(T)return T;const O=new x(y);return this.receivers.push(O),O}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,s.Z)(function*(){const O=y,{eventId:V,eventType:ie,data:be}=O.data,nt=T.handlersMap[ie];if(!nt?.size)return;O.ports[0].postMessage({status:"ack",eventId:V,eventType:ie});const gt=Array.from(nt).map(function(){var Pn=(0,s.Z)(function*(fo){return fo(O.origin,be)});return function(fo){return Pn.apply(this,arguments)}}()),Vt=yield function Yp(x){return Promise.all(x.map(function(){var v=(0,s.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return v.apply(this,arguments)}}()))}(gt);O.ports[0].postMessage({status:"done",eventId:V,eventType:ie,response:Vt})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Jr(x="",v=10){let y="";for(let T=0;T<v;T++)y+=Math.floor(10*Math.random());return x+y}class Kp{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,y,T=50){var O=this;return(0,s.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ie,be;return new Promise((nt,gt)=>{const Vt=Jr("",20);V.port1.start();const Pn=setTimeout(()=>{gt(new Error("unsupported_event"))},T);be={messageChannel:V,onMessage(fo){const ya=fo;if(ya.data.eventId===Vt)switch(ya.data.status){case"ack":clearTimeout(Pn),ie=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),nt(ya.data.response);break;default:clearTimeout(Pn),clearTimeout(ie),gt(new Error("invalid_response"))}}},O.handlers.add(be),V.port1.addEventListener("message",be.onMessage),O.target.postMessage({eventType:v,eventId:Vt,data:y},[V.port2])}).finally(()=>{be&&O.removeMessageHandler(be)})})()}}function Ui(){return window}function Of(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function Lr(){return(Lr=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bi="firebaseLocalStorageDb",pr="firebaseLocalStorage",vd="fbase_key";class vl{constructor(v){this.request=v}toPromise(){return new Promise((v,y)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function yd(x,v){return x.transaction([pr],v?"readwrite":"readonly").objectStore(pr)}function yl(){const x=indexedDB.open(bi,1);return new Promise((v,y)=>{x.addEventListener("error",()=>{y(x.error)}),x.addEventListener("upgradeneeded",()=>{const T=x.result;try{T.createObjectStore(pr,{keyPath:vd})}catch(O){y(O)}}),x.addEventListener("success",(0,s.Z)(function*(){const T=x.result;T.objectStoreNames.contains(pr)?v(T):(T.close(),yield function Nf(){const x=indexedDB.deleteDatabase(bi);return new vl(x).toPromise()}(),v(yield yl()))}))})}function bd(x,v,y){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(x,v,y){const T=yd(x,!0).put({[vd]:v,value:y});return new vl(T).toPromise()})).apply(this,arguments)}function Sc(){return(Sc=(0,s.Z)(function*(x,v){const y=yd(x,!1).get(v),T=yield new vl(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function wd(x,v){const y=yd(x,!0).delete(v);return new vl(y).toPromise()}const Ff=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,s.Z)(function*(){return y.db||(y.db=yield yl()),y.db})()}_withRetries(y){var T=this;return(0,s.Z)(function*(){let O=0;for(;;)try{const V=yield T._openDb();return yield y(V)}catch(V){if(O++>3)throw V;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,s.Z)(function*(){return Of()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,s.Z)(function*(){y.receiver=gd._getInstance(function _d(){return Of()?self:null}()),y.receiver._subscribe("keyChanged",function(){var T=(0,s.Z)(function*(O,V){return{keyProcessed:(yield y._poll()).includes(V.key)}});return function(O,V){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,s.Z)(function*(O,V){return["keyChanged"]});return function(O,V){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,s.Z)(function*(){var T,O;if(y.activeServiceWorker=yield function Pf(){return Lr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Kp(y.activeServiceWorker);const V=yield y.sender._send("ping",{},800);V&&null!==(T=V[0])&&void 0!==T&&T.fulfilled&&null!==(O=V[0])&&void 0!==O&&O.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,s.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function ks(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const y=yield yl();return yield bd(y,_l,"1"),yield wd(y,_l),!0}catch{}return!1})()}_withPendingWrite(y){var T=this;return(0,s.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var O=this;return(0,s.Z)(function*(){return O._withPendingWrite((0,s.Z)(function*(){return yield O._withRetries(V=>bd(V,y,T)),O.localCache[y]=T,O.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,s.Z)(function*(){const O=yield T._withRetries(V=>function fa(x,v){return Sc.apply(this,arguments)}(V,y));return T.localCache[y]=O,O})()}_remove(y){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries(O=>wd(O,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,s.Z)(function*(){const T=yield y._withRetries(ie=>{const be=yd(ie,!1).getAll();return new vl(be).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const O=[],V=new Set;for(const{fbase_key:ie,value:be}of T)V.add(ie),JSON.stringify(y.localCache[ie])!==JSON.stringify(be)&&(y.notifyListeners(ie,be),O.push(ie));for(const ie of Object.keys(y.localCache))y.localCache[ie]&&!V.has(ie)&&(y.notifyListeners(ie,null),O.push(ie));return O})()}notifyListeners(y,T){this.localCache[y]=T;const O=this.listeners[y];if(O)for(const V of Array.from(O))V(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),ii=1e12;class Cd{constructor(v){this.auth=v,this.counter=ii,this._widgets=new Map}render(v,y){const T=this.counter;return this._widgets.set(T,new Vf(v,this.auth.name,y||{})),this.counter++,T}reset(v){var y;const T=v||ii;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(v){var y;return(null===(y=this._widgets.get(v||ii))||void 0===y?void 0:y.getResponse())||""}execute(v){var y=this;return(0,s.Z)(function*(){var T;return null===(T=y._widgets.get(v||ii))||void 0===T||T.execute(),""})()}}class Vf{constructor(v,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof v?document.getElementById(v):v;oe(O,"argument-error",{appName:y}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mc(x){const v=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<x;T++)v.push(y.charAt(Math.floor(62*Math.random())));return v.join("")}(50);const{callback:v,"expired-callback":y}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zu=wo("rcb"),Yu=new Ie(3e4,6e4);class bl{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=Ui().grecaptcha)||void 0===v||!v.render)}load(v,y=""){return oe(function Ha(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(y),v,"argument-error"),this.shouldResolveImmediately(y)&&zt(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((T,O)=>{const V=Ui().setTimeout(()=>{O(Ae(v,"network-request-failed"))},Yu.get());Ui()[Zu]=()=>{Ui().clearTimeout(V),delete Ui()[Zu];const be=Ui().grecaptcha;if(!be||!zt(be))return void O(Ae(v,"internal-error"));const nt=be.render;be.render=(gt,Vt)=>{const Pn=nt(gt,Vt);return this.counter++,Pn},this.hostLanguage=y,T(be)},_i(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:Zu,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(V),O(Ae(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var y;return!(null===(y=Ui().grecaptcha)||void 0===y||!y.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uf{load(v){return(0,s.Z)(function*(){return new Cd(v)})()}clearedOneInstance(){}}const Ed="recaptcha",wl={theme:"light",type:"image"};class Qu{constructor(v,y=Object.assign({},wl),T){this.parameters=y,this.type=Ed,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vi(T),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof v?document.getElementById(v):v;oe(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uf:new bl,this.validateStartingState()}verify(){var v=this;return(0,s.Z)(function*(){v.assertNotDestroyed();const y=yield v.render(),T=v.getAssertedRecaptcha();return T.getResponse(y)||new Promise(V=>{const ie=be=>{be&&(v.tokenChangeListeners.delete(ie),V(be))};v.tokenChangeListeners.add(ie),v.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof v)v(y);else if("string"==typeof v){const T=Ui()[v];"function"==typeof T&&T(y)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,s.Z)(function*(){if(yield v.init(),!v.widgetId){let y=v.container;if(!v.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}v.widgetId=v.getAssertedRecaptcha().render(y,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,s.Z)(function*(){oe(Fi()&&!Of(),v.auth,"internal-error"),yield function kd(){let x=null;return new Promise(v=>{"complete"!==document.readyState?(x=()=>v(),window.addEventListener("load",x)):v()}).catch(v=>{throw x&&window.removeEventListener("load",x),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const y=yield function Ce(x){return fe.apply(this,arguments)}(v.auth);oe(y,v.auth,"internal-error"),v.parameters.sitekey=y})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ju{constructor(v,y){this.verificationId=v,this.onConfirmation=y}confirm(v){const y=Fr._fromVerification(this.verificationId,v);return this.onConfirmation(y)}}function Ds(x,v,y){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(function*(x,v,y){const T=vi(x),O=yield qs(T,v,(0,Z.m9)(y));return new Ju(O,V=>Du(T,V))})).apply(this,arguments)}function To(x,v,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x);yield Iu(!1,T,"phone");const O=yield qs(T.auth,v,(0,Z.m9)(y));return new Ju(O,V=>od(T,V))})).apply(this,arguments)}function Hf(x,v,y){return Td.apply(this,arguments)}function Td(){return(Td=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x),O=yield qs(T.auth,v,(0,Z.m9)(y));return new Ju(O,V=>Vp(T,V))})).apply(this,arguments)}function qs(x,v,y){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,s.Z)(function*(x,v,y){var T;const O=yield y.verify();try{let V;if(oe("string"==typeof O,x,"argument-error"),oe(y.type===Ed,x,"argument-error"),V="string"==typeof v?{phoneNumber:v}:v,"session"in V){const ie=V.session;if("phoneNumber"in V)return oe("enroll"===ie.type,x,"internal-error"),(yield function ju(x,v){return yt(x,"POST","/v2/accounts/mfaEnrollment:start",lt(x,v))}(x,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{oe("signin"===ie.type,x,"internal-error");const be=(null===(T=V.multiFactorHint)||void 0===T?void 0:T.uid)||V.multiFactorUid;return oe(be,x,"missing-multi-factor-info"),(yield function Lf(x,v){return yt(x,"POST","/v2/accounts/mfaSignIn:start",lt(x,v))}(x,{mfaPendingCredential:ie.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield function dl(x,v){return ed.apply(this,arguments)}(x,{phoneNumber:V.phoneNumber,recaptchaToken:O});return ie}}finally{y._reset()}}),Xu.apply(this,arguments)}function Jp(x,v){return xl.apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(x,v){yield Cs((0,Z.m9)(x),v)})).apply(this,arguments)}let Dv=(()=>{class x{constructor(y){this.providerId=x.PROVIDER_ID,this.auth=vi(y)}verifyPhoneNumber(y,T){return qs(this.auth,y,(0,Z.m9)(T))}static credential(y,T){return Fr._fromVerification(y,T)}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:O}=y;return T&&O?Fr._fromTokenResponse(T,O):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function pa(x,v){return v?Ii(v):(oe(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class eh extends Co{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ti(v,this._buildIdpRequest())}_linkToIdToken(v,y){return ti(v,this._buildIdpRequest(y))}_getReauthenticationResolver(v){return ti(v,this._buildIdpRequest())}_buildIdpRequest(v){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(y.idToken=v),y}}function $o(x){return Cf(x.auth,new eh(x),x.bypassAuthState)}function Xp(x){const{auth:v,user:y}=x;return oe(y,v,"internal-error"),Bp(y,new eh(x),x.bypassAuthState)}function Cl(x){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(x){const{auth:v,user:y}=x;return oe(y,v,"internal-error"),Cs(y,new eh(x),x.bypassAuthState)})).apply(this,arguments)}class El{constructor(v,y,T,O,V=!1){this.auth=v,this.resolver=T,this.user=O,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var v=this;return new Promise(function(){var y=(0,s.Z)(function*(T,O){v.pendingPromise={resolve:T,reject:O};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(V){v.reject(V)}});return function(T,O){return y.apply(this,arguments)}}())}onAuthEvent(v){var y=this;return(0,s.Z)(function*(){const{urlResponse:T,sessionId:O,postBody:V,tenantId:ie,error:be,type:nt}=v;if(be)return void y.reject(be);const gt={auth:y.auth,requestUri:T,sessionId:O,tenantId:ie||void 0,postBody:V||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(nt)(gt))}catch(Vt){y.reject(Vt)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return $o;case"linkViaPopup":case"linkViaRedirect":return Cl;case"reauthViaPopup":case"reauthViaRedirect":return Xp;default:le(this.auth,"internal-error")}}resolve(v){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sv=new Ie(2e3,1e4);function jn(x,v,y){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(x,v,y){const T=vi(x);xe(x,v,xs);const O=pa(T,y);return new ga(T,"signInViaPopup",v,O).executeNotNull()})).apply(this,arguments)}function Dt(x,v,y){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x);xe(T.auth,v,xs);const O=pa(T.auth,y);return new ga(T.auth,"reauthViaPopup",v,O,T).executeNotNull()})).apply(this,arguments)}function Cn(x,v,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x);xe(T.auth,v,xs);const O=pa(T.auth,y);return new ga(T.auth,"linkViaPopup",v,O,T).executeNotNull()})).apply(this,arguments)}let ga=(()=>{class x extends El{constructor(y,T,O,V,ie){super(y,T,V,ie),this.provider=O,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var y=this;return(0,s.Z)(function*(){const T=yield y.execute();return oe(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,s.Z)(function*(){Qe(1===y.filter.length,"Popup operations only handle one event");const T=Jr();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(O=>{y.reject(O)}),y.resolver._isIframeWebStorageSupported(y.auth,O=>{O||y.reject(Ae(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,O;this.pollId=null!==(O=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Sv.get())};y()}}return x.currentPopupAction=null,x})();const fi="pendingRedirect",Je=new Map;class zf extends El{constructor(v,y,T=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var v=()=>super.execute,y=this;return(0,s.Z)(function*(){let T=Je.get(y.auth._key());if(!T){try{const V=(yield function Mv(x,v){return _a.apply(this,arguments)}(y.resolver,y.auth))?yield v().call(y):null;T=()=>Promise.resolve(V)}catch(O){T=()=>Promise.reject(O)}Je.set(y.auth._key(),T)}return y.bypassAuthState||Je.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(v){var y=()=>super.onAuthEvent,T=this;return(0,s.Z)(function*(){if("signInViaRedirect"===v.type)return y().call(T,v);if("unknown"!==v.type){if(v.eventId){const O=yield T.auth._redirectUserForId(v.eventId);if(O)return T.user=O,y().call(T,v);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function _a(){return(_a=(0,s.Z)(function*(x,v){const y=cn(v),T=li(x);if(!(yield T._isAvailable()))return!1;const O="true"===(yield T._get(y));return yield T._remove(y),O})).apply(this,arguments)}function kl(x,v){return th.apply(this,arguments)}function th(){return(th=(0,s.Z)(function*(x,v){return li(x)._set(cn(v),"true")})).apply(this,arguments)}function Id(){Je.clear()}function gr(x,v){Je.set(x._key(),v)}function li(x){return Ii(x._redirectPersistence)}function cn(x){return bn(fi,x.config.apiKey,x.name)}function Go(x,v,y){return function Hi(x,v,y){return ja.apply(this,arguments)}(x,v,y)}function ja(){return(ja=(0,s.Z)(function*(x,v,y){const T=vi(x);xe(x,v,xs),yield T._initializationPromise;const O=pa(T,y);return yield kl(O,T),O._openRedirect(T,v,"signInViaRedirect")})).apply(this,arguments)}function $a(x,v,y){return function eg(x,v,y){return va.apply(this,arguments)}(x,v,y)}function va(){return(va=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x);xe(T.auth,v,xs),yield T.auth._initializationPromise;const O=pa(T.auth,y);yield kl(O,T.auth);const V=yield j(T);return O._openRedirect(T.auth,v,"reauthViaRedirect",V)})).apply(this,arguments)}function Ss(x,v,y){return function qo(x,v,y){return Dd.apply(this,arguments)}(x,v,y)}function Dd(){return(Dd=(0,s.Z)(function*(x,v,y){const T=(0,Z.m9)(x);xe(T.auth,v,xs),yield T.auth._initializationPromise;const O=pa(T.auth,y);yield Iu(!1,T,v.providerId),yield kl(O,T.auth);const V=yield j(T);return O._openRedirect(T.auth,v,"linkViaRedirect",V)})).apply(this,arguments)}function Tl(x,v){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(x,v){return yield vi(x)._initializationPromise,wi(x,v,!1)})).apply(this,arguments)}function wi(x,v){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(x,v,y=!1){const T=vi(x),O=pa(T,v),ie=yield new zf(T,O,y).execute();return ie&&!y&&(delete ie.user._redirectEventId,yield T._persistUserIfCurrent(ie.user),yield T._setRedirectUser(null,v)),ie})).apply(this,arguments)}function j(x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(x){const v=Jr(`${x.uid}:::`);return x._redirectEventId=v,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),v})).apply(this,arguments)}class Sd{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(v,T)&&(y=!0,this.sendToConsumer(v,T),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function jf(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(x);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=v,y=!0)),y}sendToConsumer(v,y){var T;if(v.error&&!xi(v)){const O=(null===(T=v.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Ae(this.auth,O))}else y.onAuthEvent(v)}isEventForConsumer(v,y){const T=null===y.eventId||!!v.eventId&&v.eventId===y.eventId;return y.filter.includes(v.type)&&T}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Md(v))}saveEventToCache(v){this.cachedEventUids.add(Md(v)),this.lastProcessedEventTime=Date.now()}}function Md(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(v=>v).join("-")}function xi({type:x,error:v}){return"unknown"===x&&"auth/no-auth-event"===v?.code}function Ac(x){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,s.Z)(function*(x,v={}){return yt(x,"GET","/v1/projects",v)})).apply(this,arguments)}const J0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X0=/^https?/;function nh(){return(nh=(0,s.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:v}=yield Ac(x);for(const y of v)try{if(Av(y))return}catch{}le(x,"unauthorized-domain")})).apply(this,arguments)}function Av(x){const v=pn(),{protocol:y,hostname:T}=new URL(v);if(x.startsWith("chrome-extension://")){const ie=new URL(x);return""===ie.hostname&&""===T?"chrome-extension:"===y&&x.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===y&&ie.hostname===T}if(!X0.test(y))return!1;if(J0.test(x))return T===x;const O=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(T)}const Ci=new Ie(3e4,6e4);function ih(){const x=Ui().___jsl;if(x?.H)for(const v of Object.keys(x.H))if(x.H[v].r=x.H[v].r||[],x.H[v].L=x.H[v].L||[],x.H[v].r=[...x.H[v].L],x.CP)for(let y=0;y<x.CP.length;y++)x.CP[y]=null}let sr=null;const Ga=new Ie(5e3,15e3),As="__/auth/iframe",qa="emulator/auth/iframe",Wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rv(x){const v=x.config;oe(v.authDomain,x,"auth-domain-config-required");const y=v.emulator?Be(v,qa):`https://${x.config.authDomain}/${As}`,T={apiKey:v.apiKey,appName:x.name,v:B.SDK_VERSION},O=Rd.get(x.config.apiHost);O&&(T.eid=O);const V=x._getFrameworks();return V.length&&(T.fw=V.join(",")),`${y}?${(0,Z.xO)(T).slice(1)}`}function rh(){return rh=(0,s.Z)(function*(x){const v=yield function Zi(x){return sr=sr||function Il(x){return new Promise((v,y)=>{var T,O,V;function ie(){ih(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{ih(),y(Ae(x,"network-request-failed"))},timeout:Ci.get()})}if(null!==(O=null===(T=Ui().gapi)||void 0===T?void 0:T.iframes)&&void 0!==O&&O.Iframe)v(gapi.iframes.getContext());else{if(null===(V=Ui().gapi)||void 0===V||!V.load){const be=wo("iframefcb");return Ui()[be]=()=>{gapi.load?ie():y(Ae(x,"network-request-failed"))},_i(`https://apis.google.com/js/api.js?onload=${be}`).catch(nt=>y(nt))}ie()}}).catch(v=>{throw sr=null,v})}(x),sr}(x),y=Ui().gapi;return oe(y,x,"internal-error"),v.open({where:document.body,url:Rv(x),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wa,dontclear:!0},T=>new Promise(function(){var O=(0,s.Z)(function*(V,ie){yield T.restyle({setHideOnLeave:!1});const be=Ae(x,"network-request-failed"),nt=Ui().setTimeout(()=>{ie(be)},Ga.get());function gt(){Ui().clearTimeout(nt),V(T)}T.ping(gt).then(gt,()=>{ie(be)})});return function(V,ie){return O.apply(this,arguments)}}()))}),rh.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class se{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const at="__/auth/handler",Nt="emulator/auth/handler",nn=encodeURIComponent("fac");function Zt(x,v,y,T,O,V){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(x,v,y,T,O,V){oe(x.config.authDomain,x,"auth-domain-config-required"),oe(x.config.apiKey,x,"invalid-api-key");const ie={apiKey:x.config.apiKey,appName:x.name,authType:y,redirectUrl:T,v:B.SDK_VERSION,eventId:O};if(v instanceof xs){v.setDefaultLanguage(x.languageCode),ie.providerId=v.providerId||"",(0,Z.xb)(v.getCustomParameters())||(ie.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Vt,Pn]of Object.entries(V||{}))ie[Vt]=Pn}if(v instanceof Fa){const Vt=v.getScopes().filter(Pn=>""!==Pn);Vt.length>0&&(ie.scopes=Vt.join(","))}x.tenantId&&(ie.tid=x.tenantId);const be=ie;for(const Vt of Object.keys(be))void 0===be[Vt]&&delete be[Vt];const nt=yield x._getAppCheckToken(),gt=nt?`#${nn}=${encodeURIComponent(nt)}`:"";return`${function _r({config:x}){return x.emulator?Be(x,Nt):`https://${x.authDomain}/${at}`}(x)}?${(0,Z.xO)(be).slice(1)}${gt}`})).apply(this,arguments)}const Rs="webStorageSupport",Ws=class Za{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mr,this._completeRedirectFn=wi,this._overrideRedirectResult=gr}_openPopup(v,y,T,O){var V=this;return(0,s.Z)(function*(){var ie;Qe(null===(ie=V.eventManagers[v._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const be=yield Zt(v,y,T,pn(),O);return function ke(x,v,y,T=500,O=600){const V=Math.max((window.screen.availHeight-O)/2,0).toString(),ie=Math.max((window.screen.availWidth-T)/2,0).toString();let be="";const nt=Object.assign(Object.assign({},k),{width:T.toString(),height:O.toString(),top:V,left:ie}),gt=(0,Z.z$)().toLowerCase();y&&(be=L(gt)?"_blank":y),U(gt)&&(v=v||"http://localhost",nt.scrollbars="yes");const Vt=Object.entries(nt).reduce((fo,[ya,Wf])=>`${fo}${ya}=${Wf},`,"");if(function Gt(x=(0,Z.z$)()){var v;return Pt(x)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(gt)&&"_self"!==be)return function ft(x,v){const y=document.createElement("a");y.href=x,y.target=v;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(v||"",be),new se(null);const Pn=window.open(v||"",be,Vt);oe(Pn,x,"popup-blocked");try{Pn.focus()}catch{}return new se(Pn)}(v,be,Jr())})()}_openRedirect(v,y,T,O){var V=this;return(0,s.Z)(function*(){return yield V._originValidation(v),function qu(x){Ui().location.href=x}(yield Zt(v,y,T,pn(),O)),new Promise(()=>{})})()}_initialize(v){const y=v._key();if(this.eventManagers[y]){const{manager:O,promise:V}=this.eventManagers[y];return O?Promise.resolve(O):(Qe(V,"If manager is not set, promise should be"),V)}const T=this.initAndGetManager(v);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(v){var y=this;return(0,s.Z)(function*(){const T=yield function tg(x){return rh.apply(this,arguments)}(v),O=new Sd(v);return T.register("authEvent",V=>(oe(V?.authEvent,v,"invalid-auth-event"),{status:O.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[v._key()]={manager:O},y.iframes[v._key()]=T,O})()}_isIframeWebStorageSupported(v,y){this.iframes[v._key()].send(Rs,{type:Rs},O=>{var V;const ie=null===(V=O?.[0])||void 0===V?void 0:V[Rs];void 0!==ie&&y(!!ie),le(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const y=v._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ad(x){return nh.apply(this,arguments)}(v)),this.originValidationPromises[y]}get _shouldInitProactively(){return en()||$()||Pt()}};class Io{constructor(v){this.factorId=v}_process(v,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(v,y.credential,T);case"signin":return this._finalizeSignIn(v,y.credential);default:return ut("unexpected MultiFactorSessionType")}}}class Do extends Io{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Do(v)}_finalizeEnroll(v,y,T){return function Af(x,v){return yt(x,"POST","/v2/accounts/mfaEnrollment:finalize",lt(x,v))}(v,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,y){return function Bf(x,v){return yt(x,"POST","/v2/accounts/mfaSignIn:finalize",lt(x,v))}(v,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Od=(()=>{class x{constructor(){}static assertion(y){return Do._fromCredential(y)}}return x.FACTOR_ID="phone",x})();var Dl="@firebase/auth";class ew{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var y=this;return(0,s.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const y=this.auth.onIdTokenChanged(T=>{v(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,y),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const y=this.internalListeners.get(v);y&&(this.internalListeners.delete(v),y(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Z.Pz)("authIdTokenMaxAge"),function Gf(x){(0,B._registerComponent)(new ue.wA("auth",(v,{options:y})=>{const T=v.getProvider("app").getImmediate(),O=v.getProvider("heartbeat"),V=v.getProvider("app-check-internal"),{apiKey:ie,authDomain:be}=T.options;oe(ie&&!ie.includes(":"),"invalid-api-key",{appName:T.name});const nt={apiKey:ie,authDomain:be,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(x)},gt=new zr(T,O,V,nt);return function ll(x,v){const y=v?.persistence||[],T=(Array.isArray(y)?y:[y]).map(Ii);v?.errorMap&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(T,v?.popupRedirectResolver)}(gt,y),gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,y,T)=>{v.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new ue.wA("auth-internal",v=>{const y=vi(v.getProvider("auth").getImmediate());return new ew(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Dl,"0.23.2",function ng(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,B.registerVersion)(Dl,"0.23.2","esm2017")}("Browser")},9058:(It,Re,z)=>{"use strict";z.d(Re,{$s:()=>Ii,BH:()=>me,DV:()=>dr,Dv:()=>co,G6:()=>Be,GJ:()=>Jn,L:()=>we,LL:()=>qn,P0:()=>Ct,Pz:()=>Ae,Sg:()=>xe,UG:()=>ut,UI:()=>Ji,US:()=>ue,Wj:()=>Qt,Wl:()=>En,Yr:()=>Ie,ZB:()=>he,ZR:()=>yt,aH:()=>le,b$:()=>Fi,cI:()=>qt,dS:()=>lo,eu:()=>tt,g5:()=>B,gK:()=>An,gQ:()=>Lt,h$:()=>Ve,hl:()=>qe,hu:()=>Z,jU:()=>Qe,lb:()=>ai,m9:()=>bn,ne:()=>yn,p$:()=>ee,pd:()=>Mt,r3:()=>Wn,ru:()=>pn,tV:()=>Q,uI:()=>oe,ug:()=>Bo,vZ:()=>Xi,w1:()=>os,w9:()=>si,xO:()=>ki,xb:()=>Er,z$:()=>je,zI:()=>Xe,zd:()=>dt});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(X,K){if(!X)throw B(K)},B=function(X){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+X)},ae=function(X){const K=[];let U=0;for(let $=0;$<X.length;$++){let L=X.charCodeAt($);L<128?K[U++]=L:L<2048?(K[U++]=L>>6|192,K[U++]=63&L|128):55296==(64512&L)&&$+1<X.length&&56320==(64512&X.charCodeAt($+1))?(L=65536+((1023&L)<<10)+(1023&X.charCodeAt(++$)),K[U++]=L>>18|240,K[U++]=L>>12&63|128,K[U++]=L>>6&63|128,K[U++]=63&L|128):(K[U++]=L>>12|224,K[U++]=L>>6&63|128,K[U++]=63&L|128)}return K},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,K){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let L=0;L<X.length;L+=3){const re=X[L],Te=L+1<X.length,rt=Te?X[L+1]:0,Ft=L+2<X.length,Pt=Ft?X[L+2]:0;let Vn=(15&rt)<<2|Pt>>6,en=63&Pt;Ft||(en=64,Te||(Vn=64)),$.push(U[re>>2],U[(3&re)<<4|rt>>4],U[Vn],U[en])}return $.join("")},encodeString(X,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(X):this.encodeByteArray(ae(X),K)},decodeString(X,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(X):function(X){const K=[];let U=0,$=0;for(;U<X.length;){const L=X[U++];if(L<128)K[$++]=String.fromCharCode(L);else if(L>191&&L<224){const re=X[U++];K[$++]=String.fromCharCode((31&L)<<6|63&re)}else if(L>239&&L<365){const Ft=((7&L)<<18|(63&X[U++])<<12|(63&X[U++])<<6|63&X[U++])-65536;K[$++]=String.fromCharCode(55296+(Ft>>10)),K[$++]=String.fromCharCode(56320+(1023&Ft))}else{const re=X[U++],Te=X[U++];K[$++]=String.fromCharCode((15&L)<<12|(63&re)<<6|63&Te)}}return K.join("")}(this.decodeStringToByteArray(X,K))},decodeStringToByteArray(X,K){this.init_();const U=K?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let L=0;L<X.length;){const re=U[X.charAt(L++)],rt=L<X.length?U[X.charAt(L)]:0;++L;const Pt=L<X.length?U[X.charAt(L)]:64;++L;const Gt=L<X.length?U[X.charAt(L)]:64;if(++L,null==re||null==rt||null==Pt||null==Gt)throw new Se;$.push(re<<2|rt>>4),64!==Pt&&($.push(rt<<4&240|Pt>>2),64!==Gt&&$.push(Pt<<6&192|Gt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(X){const K=ae(X);return ue.encodeByteArray(K,!0)},we=function(X){return Ve(X).replace(/\./g,"")},Q=function(X){try{return ue.decodeString(X,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function ee(X){return he(void 0,X)}function he(X,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return K}for(const U in K)!K.hasOwnProperty(U)||!$e(U)||(X[U]=he(X[U],K[U]));return X}function $e(X){return"__proto__"!==X}const We=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=X&&Q(X[1]);return K&&JSON.parse(K)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Ct=X=>{const K=(X=>{var K,U;return null===(U=null===(K=We())||void 0===K?void 0:K.emulatorHosts)||void 0===U?void 0:U[X]})(X);if(!K)return;const U=K.lastIndexOf(":");if(U<=0||U+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const $=parseInt(K.substring(U+1),10);return"["===K[0]?[K.substring(1,U-1),$]:[K.substring(0,U),$]},le=()=>{var X;return null===(X=We())||void 0===X?void 0:X.config},Ae=X=>{var K;return null===(K=We())||void 0===K?void 0:K[`_${X}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,U)=>{this.resolve=K,this.reject=U})}wrapCallback(K){return(U,$)=>{U?this.reject(U):this.resolve($),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(U):K(U,$))}}}function xe(X,K){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=K||"demo-project",L=X.iat||0,re=X.sub||X.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:L,exp:L+3600,auth_time:L,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},X);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Te)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ut(){var X;const K=null===(X=We())||void 0===X?void 0:X.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function pn(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function Fi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function os(){const X=je();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Ie(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function Be(){return!ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function tt(){return new Promise((X,K)=>{try{let U=!0;const $="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open($);L.onsuccess=()=>{L.result.close(),U||self.indexedDB.deleteDatabase($),X(!0)},L.onupgradeneeded=()=>{U=!1},L.onerror=()=>{var re;K((null===(re=L.error)||void 0===re?void 0:re.message)||"")}}catch(U){K(U)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yt extends Error{constructor(K,U,$){super(U),this.code=K,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}}class qn{constructor(K,U,$){this.service=K,this.serviceName=U,this.errors=$}create(K,...U){const $=U[0]||{},L=`${this.service}/${K}`,re=this.errors[K],Te=re?function pt(X,K){return X.replace(Ot,(U,$)=>{const L=K[$];return null!=L?String(L):`<${$}?>`})}(re,$):"Error";return new yt(L,`${this.serviceName}: ${Te} (${L}).`,$)}}const Ot=/\{\$([^}]+)}/g;function qt(X){return JSON.parse(X)}function En(X){return JSON.stringify(X)}const dn=function(X){let K={},U={},$={},L="";try{const re=X.split(".");K=qt(Q(re[0])||""),U=qt(Q(re[1])||""),L=re[2],$=U.d||{},delete U.d}catch{}return{header:K,claims:U,data:$,signature:L}},si=function(X){const U=dn(X).claims;return!!U&&"object"==typeof U&&U.hasOwnProperty("iat")},Jn=function(X){const K=dn(X).claims;return"object"==typeof K&&!0===K.admin};function Wn(X,K){return Object.prototype.hasOwnProperty.call(X,K)}function dr(X,K){if(Object.prototype.hasOwnProperty.call(X,K))return X[K]}function Er(X){for(const K in X)if(Object.prototype.hasOwnProperty.call(X,K))return!1;return!0}function Ji(X,K,U){const $={};for(const L in X)Object.prototype.hasOwnProperty.call(X,L)&&($[L]=K.call(U,X[L],L,X));return $}function Xi(X,K){if(X===K)return!0;const U=Object.keys(X),$=Object.keys(K);for(const L of U){if(!$.includes(L))return!1;const re=X[L],Te=K[L];if(ui(re)&&ui(Te)){if(!Xi(re,Te))return!1}else if(re!==Te)return!1}for(const L of $)if(!U.includes(L))return!1;return!0}function ui(X){return null!==X&&"object"==typeof X}function ki(X){const K=[];for(const[U,$]of Object.entries(X))Array.isArray($)?$.forEach(L=>{K.push(encodeURIComponent(U)+"="+encodeURIComponent(L))}):K.push(encodeURIComponent(U)+"="+encodeURIComponent($));return K.length?"&"+K.join("&"):""}function dt(X){const K={};return X.replace(/^\?/,"").split("&").forEach($=>{if($){const[L,re]=$.split("=");K[decodeURIComponent(L)]=decodeURIComponent(re)}}),K}function Mt(X){const K=X.indexOf("?");if(!K)return"";const U=X.indexOf("#",K);return X.substring(K,U>0?U:void 0)}class Lt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let K=1;K<this.blockSize;++K)this.pad_[K]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(K,U){U||(U=0);const $=this.W_;if("string"==typeof K)for(let Gt=0;Gt<16;Gt++)$[Gt]=K.charCodeAt(U)<<24|K.charCodeAt(U+1)<<16|K.charCodeAt(U+2)<<8|K.charCodeAt(U+3),U+=4;else for(let Gt=0;Gt<16;Gt++)$[Gt]=K[U]<<24|K[U+1]<<16|K[U+2]<<8|K[U+3],U+=4;for(let Gt=16;Gt<80;Gt++){const Vn=$[Gt-3]^$[Gt-8]^$[Gt-14]^$[Gt-16];$[Gt]=4294967295&(Vn<<1|Vn>>>31)}let Pt,At,L=this.chain_[0],re=this.chain_[1],Te=this.chain_[2],rt=this.chain_[3],Ft=this.chain_[4];for(let Gt=0;Gt<80;Gt++){Gt<40?Gt<20?(Pt=rt^re&(Te^rt),At=1518500249):(Pt=re^Te^rt,At=1859775393):Gt<60?(Pt=re&Te|rt&(re|Te),At=2400959708):(Pt=re^Te^rt,At=3395469782);const Vn=(L<<5|L>>>27)+Pt+Ft+At+$[Gt]&4294967295;Ft=rt,rt=Te,Te=4294967295&(re<<30|re>>>2),re=L,L=Vn}this.chain_[0]=this.chain_[0]+L&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+Te&4294967295,this.chain_[3]=this.chain_[3]+rt&4294967295,this.chain_[4]=this.chain_[4]+Ft&4294967295}update(K,U){if(null==K)return;void 0===U&&(U=K.length);const $=U-this.blockSize;let L=0;const re=this.buf_;let Te=this.inbuf_;for(;L<U;){if(0===Te)for(;L<=$;)this.compress_(K,L),L+=this.blockSize;if("string"==typeof K){for(;L<U;)if(re[Te]=K.charCodeAt(L),++Te,++L,Te===this.blockSize){this.compress_(re),Te=0;break}}else for(;L<U;)if(re[Te]=K[L],++Te,++L,Te===this.blockSize){this.compress_(re),Te=0;break}}this.inbuf_=Te,this.total_+=U}digest(){const K=[];let U=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let L=this.blockSize-1;L>=56;L--)this.buf_[L]=255&U,U/=256;this.compress_(this.buf_);let $=0;for(let L=0;L<5;L++)for(let re=24;re>=0;re-=8)K[$]=this.chain_[L]>>re&255,++$;return K}}function yn(X,K){const U=new Li(X,K);return U.subscribe.bind(U)}class Li{constructor(K,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{K(this)}).catch($=>{this.error($)})}next(K){this.forEachObserver(U=>{U.next(K)})}error(K){this.forEachObserver(U=>{U.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,U,$){let L;if(void 0===K&&void 0===U&&void 0===$)throw new Error("Missing Observer.");L=function fn(X,K){if("object"!=typeof X||null===X)return!1;for(const U of K)if(U in X&&"function"==typeof X[U])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:U,complete:$},void 0===L.next&&(L.next=gi),void 0===L.error&&(L.error=gi),void 0===L.complete&&(L.complete=gi);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),re}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,K)}sendOne(K,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{U(this.observers[K])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gi(){}const co=function(X,K,U,$){let L;if($<K?L="at least "+K:$>U&&(L=0===U?"none":"no more than "+U),L)throw new Error(X+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+L+".")};function An(X,K){return`${X} failed: ${K} argument `}function Qt(X,K,U,$){if((!$||U)&&"function"!=typeof U)throw new Error(An(X,K)+"must be a valid function.")}function ai(X,K,U,$){if((!$||U)&&("object"!=typeof U||null===U))throw new Error(An(X,K)+"must be a valid context object.")}const lo=function(X){const K=[];let U=0;for(let $=0;$<X.length;$++){let L=X.charCodeAt($);if(L>=55296&&L<=56319){const re=L-55296;$++,Z($<X.length,"Surrogate pair missing trail surrogate."),L=65536+(re<<10)+(X.charCodeAt($)-56320)}L<128?K[U++]=L:L<2048?(K[U++]=L>>6|192,K[U++]=63&L|128):L<65536?(K[U++]=L>>12|224,K[U++]=L>>6&63|128,K[U++]=63&L|128):(K[U++]=L>>18|240,K[U++]=L>>12&63|128,K[U++]=L>>6&63|128,K[U++]=63&L|128)}return K},Bo=function(X){let K=0;for(let U=0;U<X.length;U++){const $=X.charCodeAt(U);$<128?K++:$<2048?K+=2:$>=55296&&$<=56319?(K+=4,U++):K+=3}return K},Xn=1e3,Zn=2,Ti=144e5,ei=.5;function Ii(X,K=Xn,U=Zn){const $=K*Math.pow(U,X),L=Math.round(ei*$*(Math.random()-.5)*2);return Math.min(Ti,$+L)}function bn(X){return X&&X._delegate?X._delegate:X}},5237:(It,Re,z)=>{"use strict";var s=z(5879);let Z=null;function B(){return Z}class ce{}const ue=new s.OlP("DocumentToken");let Se=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(we)},providedIn:"platform"}),i})();const Ve=new s.OlP("Location Initialized");let we=(()=>{class i extends Se{constructor(){super(),this._doc=(0,s.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return new i},providedIn:"platform"}),i})();function Q(i,n){if(0==i.length)return n;if(0==n.length)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?i+n.substring(1):1==e?i+n:i+"/"+n}function ee(i){const n=i.match(/#|\?|$/),e=n&&n.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function he(i){return i&&"?"!==i[0]?"?"+i:i}let $e=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(ot)},providedIn:"root"}),i})();const Ne=new s.OlP("appBaseHref");let ot=(()=>{class i extends $e{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Q(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+he(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,a){const l=this.prepareExternalUrl(o+he(a));this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,a){const l=this.prepareExternalUrl(o+he(a));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Se),s.LFG(Ne,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Fe=(()=>{class i extends $e{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Q(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,a){let l=this.prepareExternalUrl(o+he(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,a){let l=this.prepareExternalUrl(o+he(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Se),s.LFG(Ne,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),it=(()=>{class i{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function le(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(ee(Ct(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+he(r))}normalize(e){return i.stripTrailingSlash(function xt(i,n){if(!i||!n.startsWith(i))return n;const e=n.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,Ct(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return i.normalizeQueryParams=he,i.joinWithSlash=Q,i.stripTrailingSlash=ee,i.\u0275fac=function(e){return new(e||i)(s.LFG($e))},i.\u0275prov=s.Yz7({token:i,factory:function(){return function We(){return new it((0,s.LFG)($e))}()},providedIn:"root"}),i})();function Ct(i){return i.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Percent=1]="Percent",me[me.Currency=2]="Currency",me[me.Scientific=3]="Scientific",me))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function yt(i,n){const e=(0,s.cg1)(i),r=e[s.wAp.NumberSymbols][n];if(typeof r>"u"){if(n===Qe.CurrencyDecimal)return e[s.wAp.NumberSymbols][Qe.Decimal];if(n===Qe.CurrencyGroup)return e[s.wAp.NumberSymbols][Qe.Group]}return r}const L=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tn(i){const n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}const Vo=/\s+/,ss=[];let zn=(()=>{class i{constructor(e,r,o,a){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=a,this.initialClasses=ss,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Vo):ss}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Vo):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],o=e[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Vo).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class as{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,a,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new as(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,l),vi(h,o)}});for(let o=0,a=r.length;o<a;o++){const h=r.get(o).context;h.index=o,h.count=a,h.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{vi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function vi(i,n){i.context.$implicit=n.item}let Rn=(()=>{class i{constructor(e,r){this._viewContainer=e,this._context=new ll,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class ll{constructor(){this.$implicit=null,this.ngIf=null}}function yc(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,s.AaK)(n)}'.`)}class oa{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let xo=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),bs=(()=>{class i{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new oa(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(xo,9))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),Ra=(()=>{class i{constructor(e,r,o){o._addDefault(new oa(e,r))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(xo,9))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0}),i})(),ws=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:a,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(o,a,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),i})();function on(i,n){return new s.vHH(2100,!1)}class N{createSubscription(n,e){return(0,s.rg0)(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){(0,s.rg0)(()=>n.unsubscribe())}}class H{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const J=new H,pe=new N;let Ze=(()=>{class i{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,s.QGY)(e))return J;if((0,s.F4k)(e))return pe;throw on()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO,16))},i.\u0275pipe=s.Yjl({name:"async",type:i,pure:!1,standalone:!0}),i})();const un=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let hi=(()=>{class i{transform(e){if(null==e)return null;if("string"!=typeof e)throw on();return e.replace(un,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"titlecase",type:i,pure:!0,standalone:!0}),i})(),jt=(()=>{class i{constructor(e){this._locale=e}transform(e,r,o){if(!function sa(i){return!(null==i||""===i||i!=i)}(e))return null;o=o||this._locale;try{return function Ce(i,n,e){return function en(i,n,e,r,o,a,l=!1){let h="",m=!1;if(isFinite(i)){let g=function kt(i){let r,o,a,l,h,n=Math.abs(i)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(a=n.search(/e/i))>0?(o<0&&(o=a),o+=+n.slice(a+1),n=n.substring(0,a)):o<0&&(o=n.length),a=0;"0"===n.charAt(a);a++);if(a===(h=n.length))r=[0],o=1;else{for(h--;"0"===n.charAt(h);)h--;for(o-=a,r=[],l=0;a<=h;a++,l++)r[l]=Number(n.charAt(a))}return o>22&&(r=r.splice(0,21),e=o-1,o=1),{digits:r,exponent:e,integerLen:o}}(i);l&&(g=function Ge(i){if(0===i.digits[0])return i;const n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===n?i.digits.push(0,0):1===n&&i.digits.push(0),i.integerLen+=2),i}(g));let b=n.minInt,E=n.minFrac,S=n.maxFrac;if(a){const Me=a.match(L);if(null===Me)throw new Error(`${a} is not a valid digit info`);const Oe=Me[1],De=Me[3],Pe=Me[5];null!=Oe&&(b=tn(Oe)),null!=De&&(E=tn(De)),null!=Pe?S=tn(Pe):null!=De&&E>S&&(S=E)}!function zt(i,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=i.digits,o=r.length-i.integerLen;const a=Math.min(Math.max(n,o),e);let l=a+i.integerLen,h=r[l];if(l>0){r.splice(Math.max(i.integerLen,l));for(let E=l;E<r.length;E++)r[E]=0}else{o=Math.max(0,o),i.integerLen=1,r.length=Math.max(1,l=a+1),r[0]=0;for(let E=1;E<l;E++)r[E]=0}if(h>=5)if(l-1<0){for(let E=0;E>l;E--)r.unshift(0),i.integerLen++;r.unshift(1),i.integerLen++}else r[l-1]++;for(;o<Math.max(0,a);o++)r.push(0);let m=0!==a;const g=n+i.integerLen,b=r.reduceRight(function(E,S,R,F){return F[R]=(S+=E)<10?S:S-10,m&&(0===F[R]&&R>=g?F.pop():m=!1),S>=10?1:0},0);b&&(r.unshift(b),i.integerLen++)}(g,E,S);let R=g.digits,F=g.integerLen;const G=g.exponent;let Y=[];for(m=R.every(Me=>!Me);F<b;F++)R.unshift(0);for(;F<0;F++)R.unshift(0);F>0?Y=R.splice(F,R.length):(Y=R,R=[0]);const ve=[];for(R.length>=n.lgSize&&ve.unshift(R.splice(-n.lgSize,R.length).join(""));R.length>n.gSize;)ve.unshift(R.splice(-n.gSize,R.length).join(""));R.length&&ve.unshift(R.join("")),h=ve.join(yt(e,r)),Y.length&&(h+=yt(e,o)+Y.join("")),G&&(h+=yt(e,Qe.Exponential)+"+"+G)}else h=yt(e,Qe.Infinity);return h=i<0&&!m?n.negPre+h+n.negSuf:n.posPre+h+n.posSuf,h}(i,function fe(i,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=i.split(";"),o=r[0],a=r[1],l=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],h=l[0],m=l[1]||"";e.posPre=h.substring(0,h.indexOf("#"));for(let b=0;b<m.length;b++){const E=m.charAt(b);"0"===E?e.minFrac=e.maxFrac=b+1:"#"===E?e.maxFrac=b+1:e.posSuf+=E}const g=h.split(",");if(e.gSize=g[1]?g[1].length:0,e.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,a){const b=o.length-e.posPre.length-e.posSuf.length,E=a.indexOf("#");e.negPre=a.substring(0,E).replace(/'/g,""),e.negSuf=a.slice(E+b).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function qn(i,n){return(0,s.cg1)(i)[s.wAp.NumberFormats][n]}(n,me.Decimal),yt(n,Qe.MinusSign)),n,Qe.Group,Qe.Decimal,e)}(function yi(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(e),o,r)}catch(a){throw on()}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.soG,16))},i.\u0275pipe=s.Yjl({name:"number",type:i,pure:!0,standalone:!0}),i})();let fr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const wc="browser";function ls(i){return"server"===i}let Fa=(()=>{class i{}return i.\u0275prov=(0,s.Yz7)({token:i,providedIn:"root",factory:()=>new Eo((0,s.LFG)(ue),window)}),i})();class Eo{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function xc(i,n){const e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const r=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const a=o.shadowRoot;if(a){const l=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],o-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=La(this.window.history)||La(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function La(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Tc extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qr extends Tc{static makeCurrent(){!function ae(i){Z||(Z=i)}(new qr)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Sf(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}();return null==e?null:function Ho(i){ua=ua||document.createElement("a"),ua.setAttribute("href",i);const n=ua.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function hr(i,n){n=encodeURIComponent(n);for(const e of i.split(";")){const r=e.indexOf("="),[o,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(a)}return null}(document.cookie,n)}}let ua,Ic=null,Mf=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Uu=new s.OlP("EventManagerPlugins");let Es=(()=>{class i{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(a=>a.supports(e)),!r)throw new s.vHH(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Uu),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class Hu{constructor(n){this._doc=n}}const zu="ng-app-id";let hd=(()=>{class i{constructor(e,r,o,a={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ls(a),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${zu}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){const o=this.styleRef;if(o.has(e)){const a=o.get(e);return a.usage+=r,a.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===e)return o.delete(r),a.removeAttribute(zu),a;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(zu,this.appId),l}}addStyleToHost(e,r){const o=this.getStyleElement(e,r);e.appendChild(o);const a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue),s.LFG(s.AFp),s.LFG(s.Ojb,8),s.LFG(s.Lbi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Dc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zo=/%COMP%/g,Tv=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function gl(i,n){return n.map(e=>e.replace(zo,i))}let jo=(()=>{class i{constructor(e,r,o,a,l,h,m,g=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=a,this.doc=l,this.platformId=h,this.ngZone=m,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=ls(h),this.defaultRenderer=new md(e,l,m,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===s.ifc.ShadowDom&&(r={...r,encapsulation:s.ifc.Emulated});const o=this.getOrCreateRenderer(e,r);return o instanceof In?o.applyToHost(e):o instanceof He&&o.applyStyles(),o}getOrCreateRenderer(e,r){const o=this.rendererByCompId;let a=o.get(r.id);if(!a){const l=this.doc,h=this.ngZone,m=this.eventManager,g=this.sharedStylesHost,b=this.removeStylesOnCompDestory,E=this.platformIsServer;switch(r.encapsulation){case s.ifc.Emulated:a=new In(m,g,r,this.appId,b,l,h,E);break;case s.ifc.ShadowDom:return new Zp(m,g,e,r,l,h,this.nonce,E);default:a=new He(m,g,r,b,l,h,E)}a.onDestroy=()=>o.delete(r.id),o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Es),s.LFG(hd),s.LFG(s.AFp),s.LFG(Tv),s.LFG(ue),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(s.Ojb))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class md{constructor(n,e,r,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Dc[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Rf(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Rf(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new s.vHH(5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const a=Dc[o];a?n.setAttributeNS(a,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Dc[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(s.JOm.DashCase|s.JOm.Important)?n.style.setProperty(e,r,o&s.JOm.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&s.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=B().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Rf(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class Zp extends md{constructor(n,e,r,o,a,l,h,m){super(n,a,l,m),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=gl(o.id,o.styles);for(const b of g){const E=document.createElement("style");h&&E.setAttribute("nonce",h),E.textContent=b,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class He extends md{constructor(n,e,r,o,a,l,h,m){super(n,a,l,h),this.sharedStylesHost=e,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=m?gl(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class In extends He{constructor(n,e,r,o,a,l,h,m){const g=o+"-"+r.id;super(n,e,r,a,l,h,m,g),this.contentAttr=function $u(i){return"_ngcontent-%COMP%".replace(zo,i)}(g),this.hostAttr=function qp(i){return"_nghost-%COMP%".replace(zo,i)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let Gu=(()=>{class i extends Hu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const pd=["alt","control","meta","shift"],mr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yp={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let gd=(()=>{class i extends Hu{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,r,o){const a=i.parseEventName(r),l=i.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,a.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const a=i._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),pd.forEach(g=>{const b=r.indexOf(g);b>-1&&(r.splice(b,1),l+=g+".")}),l+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=o,m.fullKey=l,m}static matchEventFullKeyCode(e,r){let o=mr[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(o=e.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),pd.forEach(l=>{l!==o&&(0,Yp[l])(e)&&(a+=l+".")}),a+=o,a===r)}static eventCallback(e,r,o){return a=>{i.matchEventFullKeyCode(a,e)&&o.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const _d=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:wc},{provide:s.g9A,useValue:function Of(){qr.makeCurrent()},multi:!0},{provide:ue,useFactory:function Lr(){return(0,s.RDi)(document),document},deps:[]}]),bi=new s.OlP(""),Ts=[{provide:s.rWj,useClass:class Gp{addToWindow(n){s.dqk.getAngularTestability=(r,o=!0)=>{const a=n.findTestabilityInTree(r,o);if(null==a)throw new s.vHH(5103,!1);return a},s.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const o=s.dqk.getAllAngularTestabilities();let a=o.length,l=!1;const h=function(m){l=l||m,a--,0==a&&r(l)};o.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?B().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],pr=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Pf(){return new s.qLn},deps:[]},{provide:Uu,useClass:Gu,multi:!0,deps:[ue,s.R0b,s.Lbi]},{provide:Uu,useClass:gd,multi:!0,deps:[ue]},jo,hd,Es,{provide:s.FYo,useExisting:jo},{provide:class jr{},useClass:Mf,deps:[]},[]];let vd=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:s.AFp,useValue:e.appId}]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(bi,12))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[...pr,...Ts],imports:[fr,s.hGG]}),i})(),bd=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:function(e){let r=null;return r=e?new e:function yl(){return new bd((0,s.LFG)(ue))}(),r},providedIn:"root"}),i})();typeof window<"u"&&window;const Qp={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Ir=new s.OlP("HammerGestureConfig"),Is=new s.OlP("HammerLoader");let ii=(()=>{class i{constructor(){this.events=[],this.overrides={}}buildHammer(e){const r=new Hammer(e,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(const o in this.overrides)r.get(o).set(this.overrides[o]);return r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),Cd=(()=>{class i extends Hu{constructor(e,r,o,a){super(e),this._config=r,this.console=o,this.loader=a,this._loaderPromise=null}supports(e){return!(!Qp.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,r,o){const a=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||a.runOutsideAngular(()=>this.loader());let l=!1,h=()=>{l=!0};return a.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?l||(h=this.addEventListener(e,r,o)):h=()=>{}}).catch(()=>{h=()=>{}})),()=>{h()}}return a.runOutsideAngular(()=>{const l=this._config.buildHammer(e),h=function(m){a.runGuarded(function(){o(m)})};return l.on(r,h),()=>{l.off(r,h),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue),s.LFG(Ir),s.LFG(s.c2e),s.LFG(Is,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),Vf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[{provide:Uu,useClass:Cd,multi:!0,deps:[ue,Ir,s.c2e,[new s.FiY,Is]]},{provide:Ir,useClass:ii,deps:[]}]}),i})(),Mc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(e){let r=null;return r=e?new(e||i):s.LFG(Yu),r},providedIn:"root"}),i})(),Yu=(()=>{class i extends Mc{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new s.vHH(5200,!1);case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new s.vHH(5201,!1);default:throw new s.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:function(e){let r=null;return r=e?new e:function Zu(i){return new Yu(i.get(ue))}(s.LFG(s.zs3)),r},providedIn:"root"}),i})();z(7271);var Ds=z(3182),an=z(8186);class To{constructor(n){return n}}class ma{constructor(){return(0,Ds.C6)()}}const qs=new s.OlP("angularfire2._apps"),Xu={provide:To,useFactory:function Td(i){return i&&1===i.length?i[0]:new To((0,Ds.Mq)())},deps:[[new s.FiY,qs]]},Jp={provide:ma,deps:[[new s.FiY,qs]]};function xl(i){return(n,e)=>{const r=n.runOutsideAngular(()=>i(e));return new To(r)}}let Dv=(()=>{class i{constructor(e){(0,Ds.KN)("angularfire",an.q4.full,"core"),(0,Ds.KN)("angularfire",an.q4.full,"app"),(0,Ds.KN)("angular",s.q4F.full,e.toString())}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.Lbi))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Xu,Jp]}),i})();function pa(i,...n){return{ngModule:Dv,providers:[{provide:qs,useFactory:xl(i),multi:!0,deps:[s.R0b,s.zs3,an.HU,...n]}]}}const Cl=(0,an.u3)(Ds.ZF,!0);var jn=z(6304),Et=z(8645),Dt=z(2096),Ln=z(5592),Cn=z(2459),Wi=z(3019),ga=z(3093),fi=z(4664),Je=z(7398),zf=z(4552);class Mv extends Et.x{constructor(n=1/0,e=1/0,r=zf.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:a,_windowTime:l}=this;e||(r.push(n),!o&&r.push(a.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,a=o.slice();for(let l=0;l<a.length&&!n.closed;l+=r?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,a=(o?1:2)*n;if(n<1/0&&a<r.length&&r.splice(0,r.length-a),!o){const l=e.now();let h=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)h=m;h&&r.splice(0,h+1)}}}var _a=z(3020);function kl(i,n,e){let r,o=!1;return i&&"object"==typeof i?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=i):r=i??1/0,(0,_a.B)({connector:()=>new Mv(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Id=(0,z(2306).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var gr=z(9360),li=z(8251);function cn(i,n){return(0,gr.e)((e,r)=>{let o=0;e.subscribe((0,li.x)(r,a=>i.call(n,a,o++)&&r.next(a)))})}var Go=z(6232);function Hi(i){return i<=0?()=>Go.E:(0,gr.e)((n,e)=>{let r=0;n.subscribe((0,li.x)(e,o=>{++r<=i&&(e.next(o),i<=r&&e.complete())}))})}function ja(i){return(0,gr.e)((n,e)=>{let r=!1;n.subscribe((0,li.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(i),e.complete()}))})}function $a(i=eg){return(0,gr.e)((n,e)=>{let r=!1;n.subscribe((0,li.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(i())))})}function eg(){return new Id}var va=z(2737);function Ss(i,n){const e=arguments.length>=2;return r=>r.pipe(i?cn((o,a)=>i(o,a,r)):va.y,Hi(1),e?ja(n):$a(()=>new Id))}var qo=z(4674);function Dd(i,n){return(0,qo.m)(n)?(0,fi.w)(()=>i,n):(0,fi.w)(()=>i)}var Tl=z(5137),Ee=z(5861),wi=z(534),or=z(4537),j=z(9058),Xr=z(7879);const Ms=new Map,Sd={activated:!1,tokenObservers:[]},Md={initialized:!1,enabled:!1};function xi(i){return Ms.get(i)||Object.assign({},Sd)}function Ac(){return Md}const Rc="https://content-firebaseappcheck.googleapis.com/v1",Ad="exchangeDebugToken",nh={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ci{constructor(n,e,r,o,a){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new j.BH,yield function ih(i){return new Promise(n=>{setTimeout(n,i)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new j.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const sr=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ga(i){if(!xi(i).activated)throw sr.create("use-before-activation",{appName:i.name})}function Wa(i,n){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,Ee.Z)(function*({url:i,body:n},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const E=yield o.getHeartbeatsHeader();E&&(r["X-Firebase-Client"]=E)}const a={method:"POST",body:JSON.stringify(n),headers:r};let l,h;try{l=yield fetch(i,a)}catch(E){throw sr.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==l.status)throw sr.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(E){throw sr.create("fetch-parse-error",{originalErrorMessage:E?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const g=1e3*Number(m[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+g,issuedAtTimeMillis:b}})).apply(this,arguments)}function rh(i,n){const{projectId:e,appId:r,apiKey:o}=i.options;return{url:`${Rc}/projects/${e}/apps/${r}:${Ad}?key=${o}`,body:{debug_token:n}}}const k="firebase-app-check-database",D=1,A="firebase-app-check-store";let te=null;function Zt(){return(Zt=(0,Ee.Z)(function*(i,n){const r=(yield function se(){return te||(te=new Promise((i,n)=>{try{const e=indexedDB.open(k,D);e.onsuccess=r=>{i(r.target.result)},e.onerror=r=>{var o;n(sr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(A,{keyPath:"compositeKey"})}}catch(e){n(sr.create("storage-open",{originalErrorMessage:e?.message}))}}),te)}()).transaction(A,"readwrite"),a=r.objectStore(A).put({compositeKey:i,value:n});return new Promise((l,h)=>{a.onsuccess=m=>{l()},r.onerror=m=>{var g;h(sr.create("storage-set",{originalErrorMessage:null===(g=m.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Za=new Xr.Yd("@firebase/app-check");function Do(i,n){return(0,j.hl)()?function ft(i,n){return function nn(i,n){return Zt.apply(this,arguments)}(function Rs(i){return`${i.options.appId}-${i.name}`}(i),n)}(i,n).catch(e=>{Za.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Pd(){return Ac().enabled}function $f(){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,Ee.Z)(function*(){const i=Ac();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fd={error:"UNKNOWN_ERROR"};function ew(i){return j.US.encodeString(JSON.stringify(i),!1)}function ng(i){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,Ee.Z)(function*(i,n=!1){const e=i.app;Ga(e);const r=xi(e);let a,o=r.token;if(o&&!y(o)&&(r.token=void 0,o=void 0),!o){const m=yield r.cachedTokenPromise;m&&(y(m)?o=m:yield Do(e,void 0))}if(!n&&o&&y(o))return{token:o.token};let h,l=!1;if(Pd()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Wa(rh(e,yield $f()),i.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield Do(e,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield xi(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Za.warn(m.message):Za.error(m),a=m}return o?a?h=y(o)?{token:o.token,internalError:a}:T(a):(h={token:o.token},r.token=o,yield Do(e,o)):h=T(a),l&&function v(i,n){const e=xi(i).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=n.error?r.error(n.error):r.next(n)}catch{}}(e,h),h})).apply(this,arguments)}function Ov(i){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,Ee.Z)(function*(i){const n=i.app;Ga(n);const{provider:e}=xi(n);if(Pd()){const r=yield $f(),{token:o}=yield Wa(rh(n,r),i.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function ig(i,n){const e=xi(i),r=e.tokenObservers.filter(o=>o.next!==n);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function tw(i){const{app:n}=i,e=xi(n);let r=e.tokenRefresher;r||(r=function x(i){const{app:n}=i;return new Ci((0,Ee.Z)(function*(){let r;if(r=xi(n).token?yield ng(i,!0):yield ng(i),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=xi(n);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},nh.RETRIAL_MIN_WAIT,nh.RETRIAL_MAX_WAIT)}(i),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function y(i){return i.expireTimeMillis-Date.now()>0}function T(i){return{token:ew(Fd),error:i}}class O{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=xi(this.app);for(const e of n)ig(this.app,e.next);return Promise.resolve()}}const ow="app-check-internal";!function sw(){(0,wi._registerComponent)(new or.wA("app-check",i=>function V(i,n){return new O(i,n)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,n,e)=>{i.getProvider(ow).initialize()})),(0,wi._registerComponent)(new or.wA(ow,i=>function ie(i){return{getToken:n=>ng(i,n),getLimitedUseToken:()=>Ov(i),addTokenListener:n=>function qf(i,n,e,r){const{app:o}=i,a=xi(o);if(a.tokenObservers=[...a.tokenObservers,{next:e,error:r,type:n}],a.token&&y(a.token)){const h=a.token;Promise.resolve().then(()=>{e({token:h.token}),tw(i)}).catch(()=>{})}a.cachedTokenPromise.then(()=>tw(i))}(i,"INTERNAL",n),removeTokenListener:n=>ig(i.app,n)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wi.registerVersion)("@firebase/app-check","0.8.0")}();class Qf{constructor(){return(0,an.vb)("app-check")}}typeof window<"u"&&window;var Vv=z(7142);const dw=new s.OlP("angularfire2.auth.use-emulator"),uw=new s.OlP("angularfire2.auth.settings"),og=new s.OlP("angularfire2.auth.tenant-id"),sg=new s.OlP("angularfire2.auth.langugage-code"),hw=new s.OlP("angularfire2.auth.use-device-language"),ch=new s.OlP("angularfire.auth.persistence"),fw=(i,n,e,r,o,a,l,h)=>(0,jn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const m=n.runOutsideAngular(()=>i.auth());if(e&&m.useEmulator(...e),r&&(m.tenantId=r),m.languageCode=o,a&&m.useDeviceLanguage(),l)for(const[g,b]of Object.entries(l))m.settings[g]=b;return h&&m.setPersistence(h),m},[e,r,o,a,l,h]);let ag=(()=>{class i{constructor(e,r,o,a,l,h,m,g,b,E,S,R){const F=new Et.x,G=(0,Dt.of)(void 0).pipe((0,ga.Q)(l.outsideAngular),(0,fi.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,6365)))),(0,Je.U)(()=>(0,jn.on)(e,a,r)),(0,Je.U)(Y=>fw(Y,a,h,g,b,E,m,S)),kl({bufferSize:1,refCount:!1}));if(ls(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{G.pipe(Ss()).subscribe();const ve=G.pipe((0,fi.w)(De=>De.getRedirectResult().then(Pe=>Pe,()=>null)),an.iC,kl({bufferSize:1,refCount:!1})),Me=G.pipe((0,fi.w)(De=>new Ln.y(Pe=>({unsubscribe:a.runOutsideAngular(()=>De.onAuthStateChanged(et=>Pe.next(et),et=>Pe.error(et),()=>Pe.complete()))})))),Oe=G.pipe((0,fi.w)(De=>new Ln.y(Pe=>({unsubscribe:a.runOutsideAngular(()=>De.onIdTokenChanged(et=>Pe.next(et),et=>Pe.error(et),()=>Pe.complete()))}))));this.authState=ve.pipe(Dd(Me),(0,Tl.R)(l.outsideAngular),(0,ga.Q)(l.insideAngular)),this.user=ve.pipe(Dd(Oe),(0,Tl.R)(l.outsideAngular),(0,ga.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,fi.w)(De=>De?(0,Cn.D)(De.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,fi.w)(De=>De?(0,Cn.D)(De.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,Wi.T)(ve,F,this.authState.pipe(cn(De=>!De))).pipe((0,Je.U)(De=>De?.user?De:null),(0,Tl.R)(l.outsideAngular),(0,ga.Q)(l.insideAngular))}return(0,jn.pX)(this,G,a,{spy:{apply:(Y,ve,Me)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&Me.then(Oe=>F.next(Oe))}}})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(jn.Dh),s.LFG(jn.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(an.HU),s.LFG(dw,8),s.LFG(uw,8),s.LFG(og,8),s.LFG(sg,8),s.LFG(hw,8),s.LFG(ch,8),s.LFG(Qf,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Uk=(()=>{class i{constructor(){Vv.Z.registerVersion("angularfire",an.q4.full,"auth-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[ag]}),i})();var Jf=z(6321);function Ya(i,n){return(0,gr.e)(function Hk(i,n,e,r,o){return(a,l)=>{let h=e,m=n,g=0;a.subscribe((0,li.x)(l,b=>{const E=g++;m=h?i(m,b,E):(h=!0,b),r&&l.next(m)},o&&(()=>{h&&l.next(m),l.complete()})))}}(i,n,arguments.length>=2,!0))}var Oc=z(3997),Ml=z(4829),cg=z(2420),Al=z(9940);z(6365);var mw=z(3106);const zk="@firebase/database";let Uv="";function Hv(i){Uv=i}class $k{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,j.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,j.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class pw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,j.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Gk=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const n=window[i];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new $k(n)}}catch{}return new pw},lh=Gk("localStorage"),lg=Gk("sessionStorage"),dh=new Xr.Yd("@firebase/database"),Bd=function(){let i=1;return function(){return i++}}(),gw=function(i){const n=(0,j.dS)(i),e=new j.gQ;e.update(n);const r=e.digest();return j.US.encodeByteArray(r)},Xf=function(...i){let n="";for(let e=0;e<i.length;e++){const r=i[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=Xf.apply(null,r):n+="object"==typeof r?(0,j.Wl)(r):r,n+=" "}return n};let uh=null,M1=!0;const dg=function(i,n){(0,j.hu)(!n||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(dh.logLevel=Xr.in.VERBOSE,uh=dh.log.bind(dh),n&&lg.set("logging_enabled",!0)):"function"==typeof i?uh=i:(uh=null,lg.remove("logging_enabled"))},mo=function(...i){if(!0===M1&&(M1=!1,null===uh&&!0===lg.get("logging_enabled")&&dg(!0)),uh){const n=Xf.apply(null,i);uh(n)}},em=function(i){return function(...n){mo(i,...n)}},zv=function(...i){const n="FIREBASE INTERNAL ERROR: "+Xf(...i);dh.error(n)},Ka=function(...i){const n=`FIREBASE FATAL ERROR: ${Xf(...i)}`;throw dh.error(n),new Error(n)},po=function(...i){const n="FIREBASE WARNING: "+Xf(...i);dh.warn(n)},hh=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Rl="[MIN_NAME]",Qa="[MAX_NAME]",Pc=function(i,n){if(i===n)return 0;if(i===Rl||n===Qa)return-1;if(n===Rl||i===Qa)return 1;{const e=ph(i),r=ph(n);return null!==e?null!==r?e-r==0?i.length-n.length:e-r:-1:null!==r?1:i<n?-1:1}},Wk=function(i,n){return i===n?0:i<n?-1:1},fh=function(i,n){if(n&&i in n)return n[i];throw new Error("Missing required key ("+i+") in object: "+(0,j.Wl)(n))},mh=function(i){if("object"!=typeof i||null===i)return(0,j.Wl)(i);const n=[];for(const r in i)n.push(r);n.sort();let e="{";for(let r=0;r<n.length;r++)0!==r&&(e+=","),e+=(0,j.Wl)(n[r]),e+=":",e+=mh(i[n[r]]);return e+="}",e},Zk=function(i,n){const e=i.length;if(e<=n)return[i];const r=[];for(let o=0;o<e;o+=n)r.push(i.substring(o,o+n>e?e:o+n));return r};function eo(i,n){for(const e in i)i.hasOwnProperty(e)&&n(e,i[e])}const Yk=function(i){(0,j.hu)(!hh(i),"Invalid JSON number");const r=1023;let o,a,l,h,m;0===i?(a=0,l=0,o=1/i==-1/0?1:0):(o=i<0,(i=Math.abs(i))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),a=h+r,l=Math.round(i*Math.pow(2,52-h)-Math.pow(2,52))):(a=0,l=Math.round(i/Math.pow(2,-1074))));const g=[];for(m=52;m;m-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)g.push(a%2?1:0),a=Math.floor(a/2);g.push(o?1:0),g.reverse();const b=g.join("");let E="";for(m=0;m<64;m+=8){let S=parseInt(b.substr(m,8),2).toString(16);1===S.length&&(S="0"+S),E+=S}return E.toLowerCase()},Qk=new RegExp("^-?(0*)\\d{1,10}$"),ph=function(i){if(Qk.test(i)){const n=Number(i);if(n>=-2147483648&&n<=2147483647)return n}return null},tm=function(i){try{i()}catch(n){setTimeout(()=>{throw po("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},$v=function(i,n){const e=setTimeout(i,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class P1{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){po(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vw{constructor(n,e,r){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(mo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',po(n)}}let hg=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const ww=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xk="websocket",eT="long_polling";class Cw{constructor(n,e,r,o,a=!1,l="",h=!1,m=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lh.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&lh.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gh(i,n,e){let r;if((0,j.hu)("string"==typeof n,"typeof type must == string"),(0,j.hu)("object"==typeof e,"typeof params must == object"),n===Xk)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(n!==eT)throw new Error("Unknown connection type: "+n);r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Ol(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const o=[];return eo(e,(a,l)=>{o.push(a+"="+l)}),r+o.join("&")}class N1{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,j.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,j.p$)(this.counters_)}}const Ew={},kw={};function Tw(i){const n=i.toString();return Ew[n]||(Ew[n]=new N1),Ew[n]}class L1{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&tm(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _h{constructor(n,e,r,o,a,l,h){this.connId=n,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=em(n),this.stats_=Tw(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),gh(e,eT,m))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new L1(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,j.Yr)()||"complete"===document.readyState)i();else{let n=!1;const e=function(){document.body?n||(n=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qv((...a)=>{const[l,h,m,g,b]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ww.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_h.forceAllow_=!0}static forceDisallow(){_h.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!_h.forceAllow_&&(_h.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,j.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,j.h$)(e),o=Zk(r,1840);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=n,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,j.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class qv{constructor(n,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Bd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=qv.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){mo("frame writing exception"),h.stack&&mo(h.stack),mo(h)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||mo("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+o+"="+l.seg+"&ts"+o+"="+l.ts+"&d"+o+"="+l.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,r){this.pendingSegs.push({seg:n,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),r()})}addTag(n,e){(0,j.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{mo("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Wv=null;typeof MozWebSocket<"u"?Wv=MozWebSocket:typeof WebSocket<"u"&&(Wv=WebSocket);let nm=(()=>{class i{constructor(e,r,o,a,l,h,m){this.connId=e,this.applicationId=o,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=em(this.connId),this.stats_=Tw(r),this.connURL=i.connectionURL_(r,h,m,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,a,l){const h={v:"5"};return!(0,j.Yr)()&&typeof location<"u"&&location.hostname&&ww.test(location.hostname)&&(h.r="f"),r&&(h.s=r),o&&(h.ls=o),a&&(h.ac=a),l&&(h.p=l),gh(e,Xk,h)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lh.set("previous_websocket_failure",!0);try{let o;if((0,j.Yr)()){o={headers:{"User-Agent":`Firebase/5/${Uv}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(o.proxy={origin:h})}this.mySock=new Wv(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Wv&&!i.forceDisallow_}static previouslyFailed(){return lh.isInMemoryStorage||!0===lh.get("previous_websocket_failure")}markConnectionHealthy(){lh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,j.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,j.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Zk(r,16384);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),Mw=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_h,nm]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=nm&&nm.isAvailable();let o=r&&!nm.previouslyFailed();if(e.webSocketOnly&&(r||po("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[nm];else{const a=this.transports_=[];for(const l of i.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class W1{constructor(n,e,r,o,a,l,h,m,g,b){this.id=n,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=em("c:"+this.id+":"),this.transportManager_=new Mw(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=$v(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=fh("t",n),r=fh("d",n);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=fh("t",n),r=fh("d",n);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=fh("t",n);if("d"in n){const r=n.d;if("h"===e){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?zv("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zv("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&po("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),$v(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$v(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Z1{put(n,e,r,o){}merge(n,e,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,r){}onDisconnectMerge(n,e,r){}onDisconnectCancel(n,e){}reportStats(n){}}class im{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,j.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(n,e,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:r});const o=this.getInitialEvent(n);o&&e.apply(r,o)}off(n,e,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let a=0;a<o.length;a++)if(o[a].callback===e&&(!r||r===o[a].context))return void o.splice(a,1)}validateEventType_(n){(0,j.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class Un extends im{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Un}getInitialEvent(n){return(0,j.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class ri{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function $n(){return new ri("")}function Dn(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Hd(i){return i.pieces_.length-i.pieceNum_}function Ei(i){let n=i.pieceNum_;return n<i.pieces_.length&&n++,new ri(i.pieces_,n)}function Kv(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Qv(i,n=0){return i.pieces_.slice(i.pieceNum_+n)}function Jv(i){if(i.pieceNum_>=i.pieces_.length)return null;const n=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)n.push(i.pieces_[e]);return new ri(n,0)}function ar(i,n){const e=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)e.push(i.pieces_[r]);if(n instanceof ri)for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new ri(e,0)}function Tn(i){return i.pieceNum_>=i.pieces_.length}function Wo(i,n){const e=Dn(i),r=Dn(n);if(null===e)return n;if(e===r)return Wo(Ei(i),Ei(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+i+")")}function fT(i,n){const e=Qv(i,0),r=Qv(n,0);for(let o=0;o<e.length&&o<r.length;o++){const a=Pc(e[o],r[o]);if(0!==a)return a}return e.length===r.length?0:e.length<r.length?-1:1}function Pl(i,n){if(Hd(i)!==Hd(n))return!1;for(let e=i.pieceNum_,r=n.pieceNum_;e<=i.pieces_.length;e++,r++)if(i.pieces_[e]!==n.pieces_[r])return!1;return!0}function wa(i,n){let e=i.pieceNum_,r=n.pieceNum_;if(Hd(i)>Hd(n))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==n.pieces_[r])return!1;++e,++r}return!0}class Pw{constructor(n,e){this.errorPrefix_=e,this.parts_=Qv(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);ey(this)}}function ey(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fc(i))}function Fc(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Nl extends im{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Nl}getInitialEvent(n){return(0,j.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const vh=1e3;let gg,yh=(()=>{class i extends Z1{constructor(e,r,o,a,l,h,m,g){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=i.nextPersistentConnectionId_++,this.log_=em("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nl.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Un.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const a=++this.requestNumber_,l={r:a,a:e,b:r};this.log_((0,j.Wl)(l)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),o&&(this.requestCBHash_[a]=o)}get(e){this.initConnection_();const r=new j.BH,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,o,a){this.initConnection_();const l=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:a,hashFn:r,query:e,tag:o};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const l={p:o};e.tag&&(l.q=r._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,m=>{const g=m.d,b=m.s;i.warnOnListenWarnings_(g,r),(this.listens.get(o)&&this.listens.get(o).get(a))===e&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(o,a),e.onComplete&&e.onComplete(b,g))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,j.r3)(e,"w")){const o=(0,j.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();po(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,j.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,j.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const l=a.s,h=a.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),(0,j.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,e._queryObject,r)}sendUnlisten_(e,r,o,a){this.log_("Unlisten on "+e+" for "+r);const l={p:e};a&&(l.q=o,l.t=a),this.sendRequest("n",l)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,a){const l={p:r,d:o};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(e,r,o,a){this.putInternal("p",e,r,o,a)}merge(e,r,o,a){this.putInternal("m",e,r,o,a)}putInternal(e,r,o,a,l){this.initConnection_();const h={p:r,d:o};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:e,request:h,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,j.Wl)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):zv("Unrecognized action received from server: "+(0,j.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ee.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),a=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+i.nextConnectionId_++,h=e.lastSessionId;let m=!1,g=null;const b=function(){g?g.close():(m=!0,a())};e.realtime_={close:b,sendRequest:function(R){(0,j.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(R)}};const S=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,F]=yield Promise.all([e.authTokenProvider_.getToken(S),e.appCheckTokenProvider_.getToken(S)]);m?mo("getToken() completed but was canceled"):(mo("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=F&&F.token,g=new W1(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,a,G=>{po(G+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(R){e.log_("Failed to get token: "+R),m||(e.repoInfo_.nodeAdmin&&po(R),b())}}})()}interrupt(e){mo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(l=>mh(l)).join("$"):"default";const a=this.removeListen_(e,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,r){const o=new ri(e).toString();let a;if(this.listens.has(o)){const l=this.listens.get(o);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(e,r){mo("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){mo("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Uv.replace(/\./g,"-")]=1,(0,j.uI)()?e["framework.cordova"]=1:(0,j.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Un.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class Nn{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Nn(n,e)}}class sm{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const r=new Nn(Rl,n),o=new Nn(Rl,e);return 0!==this.compare(r,o)}minPost(){return Nn.MIN}}class _T extends sm{static get __EMPTY_NODE(){return gg}static set __EMPTY_NODE(n){gg=n}compare(n,e){return Pc(n.name,e.name)}isDefinedOn(n){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Nn.MIN}maxPost(){return new Nn(Qa,gg)}makePost(n,e){return(0,j.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Nn(n,gg)}toString(){return".key"}}const Ja=new _T;class am{constructor(n,e,r,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!n.isEmpty();)if(l=e?r(n.key,e):1,o&&(l*=-1),l<0)n=this.isReverse_?n.left:n.right;else{if(0===l){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let yT,Lc=(()=>{class i{constructor(e,r,o,a,l){this.key=e,this.value=r,this.color=o??i.RED,this.left=a??Ps.EMPTY_NODE,this.right=l??Ps.EMPTY_NODE}copy(e,r,o,a,l){return new i(e??this.key,r??this.value,o??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const l=o(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,r,o),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ps.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,a;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return Ps.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Ps{constructor(n,e=Ps.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Ps(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Lc.BLACK,null,null))}remove(n){return new Ps(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Lc.BLACK,null,null))}get(n){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(n){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new am(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new am(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new am(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new am(this.root_,null,this.comparator_,!0,n)}}function J1(i,n){return Pc(i.name,n.name)}function vT(i,n){return Pc(i,n)}Ps.EMPTY_NODE=new class Q1{copy(n,e,r,o,a){return this}insert(n,e,r){return new Lc(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bT=function(i){return"number"==typeof i?"number:"+Yk(i):"string:"+i},ny=function(i){if(i.isLeafNode()){const n=i.val();(0,j.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,j.r3)(n,".sv"),"Priority must be a string or number.")}else(0,j.hu)(i===yT||i.isEmpty(),"priority of unexpected type.");(0,j.hu)(i===yT||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let iy,ry,oy,Bc=(()=>{class i{constructor(e,r=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ny(this.priorityNode_)}static set __childrenNodeConstructor(e){iy=e}static get __childrenNodeConstructor(){return iy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tn(e)?this:".priority"===Dn(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=Dn(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,j.hu)(".priority"!==o||1===Hd(e),".priority must be the last token in a path"),this.updateImmediateChild(o,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ei(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bT(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?Yk(this.value_):this.value_,this.lazyHash_=gw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,j.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,a=i.VALUE_TYPE_ORDER.indexOf(r),l=i.VALUE_TYPE_ORDER.indexOf(o);return(0,j.hu)(a>=0,"Unknown leaf type: "+r),(0,j.hu)(l>=0,"Unknown leaf type: "+o),a===l?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Si=new class vg extends sm{compare(n,e){const r=n.node.getPriority(),o=e.node.getPriority(),a=r.compareTo(o);return 0===a?Pc(n.name,e.name):a}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Nn.MIN}maxPost(){return new Nn(Qa,new Bc("[PRIORITY-POST]",oy))}makePost(n,e){const r=ry(n);return new Nn(e,new Bc("[PRIORITY-POST]",r))}toString(){return".priority"}},Fw=Math.log(2);class ay{constructor(n){this.count=parseInt(Math.log(n+1)/Fw,10),this.current_=this.count-1;const o=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Lw=function(i,n,e,r){i.sort(n);const o=function(m,g){const b=g-m;let E,S;if(0===b)return null;if(1===b)return E=i[m],S=e?e(E):E,new Lc(S,E.node,Lc.BLACK,null,null);{const R=parseInt(b/2,10)+m,F=o(m,R),G=o(R+1,g);return E=i[R],S=e?e(E):E,new Lc(S,E.node,Lc.BLACK,F,G)}},h=function(m){let g=null,b=null,E=i.length;const S=function(F,G){const Y=E-F,ve=E;E-=F;const Me=o(Y+1,ve),Oe=i[Y],De=e?e(Oe):Oe;R(new Lc(De,Oe.node,G,null,Me))},R=function(F){g?(g.left=F,g=F):(b=F,g=F)};for(let F=0;F<m.count;++F){const G=m.nextBitIsOne(),Y=Math.pow(2,m.count-(F+1));G?S(Y,Lc.BLACK):(S(Y,Lc.BLACK),S(Y,Lc.RED))}return b}(new ay(i.length));return new Ps(r||n,h)};let yg;const zd={};class Vc{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,j.hu)(zd&&Si,"ChildrenNode.ts has not been loaded"),yg=yg||new Vc({".priority":zd},{".priority":Si}),yg}get(n){const e=(0,j.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Ps?e:null}hasIndex(n){return(0,j.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,j.hu)(n!==Ja,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const a=e.getIterator(Nn.Wrap);let h,l=a.getNext();for(;l;)o=o||n.isDefinedOn(l.node),r.push(l),l=a.getNext();h=o?Lw(r,n.getCompare()):zd;const m=n.toString(),g=Object.assign({},this.indexSet_);g[m]=n;const b=Object.assign({},this.indexes_);return b[m]=h,new Vc(b,g)}addToIndexes(n,e){const r=(0,j.UI)(this.indexes_,(o,a)=>{const l=(0,j.DV)(this.indexSet_,a);if((0,j.hu)(l,"Missing index implementation for "+a),o===zd){if(l.isDefinedOn(n.node)){const h=[],m=e.getIterator(Nn.Wrap);let g=m.getNext();for(;g;)g.name!==n.name&&h.push(g),g=m.getNext();return h.push(n),Lw(h,l.getCompare())}return zd}{const h=e.get(n.name);let m=o;return h&&(m=m.remove(new Nn(n.name,h))),m.insert(n,n.node)}});return new Vc(r,this.indexSet_)}removeFromIndexes(n,e){const r=(0,j.UI)(this.indexes_,o=>{if(o===zd)return o;{const a=e.get(n.name);return a?o.remove(new Nn(n.name,a)):o}});return new Vc(r,this.indexSet_)}}let bg,xn=(()=>{class i{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&ny(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bg||(bg=new i(new Ps(vT),null,Vc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bg}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?bg:r}}getChild(e){const r=Dn(e);return null===r?this:this.getImmediateChild(r).getChild(Ei(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new Nn(e,r);let a,l;r.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(e,r),l=this.indexMap_.addToIndexes(o,this.children_));const h=a.isEmpty()?bg:this.priorityNode_;return new i(a,h,l)}}updateChild(e,r){const o=Dn(e);if(null===o)return r;{(0,j.hu)(".priority"!==Dn(e)||1===Hd(e),".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(Ei(e),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,a=0,l=!0;if(this.forEachChild(Si,(h,m)=>{r[h]=m.val(e),o++,l&&i.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):l=!1}),!e&&l&&a<2*o){const h=[];for(const m in r)h[m]=r[m];return h}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+bT(this.getPriority().val())+":"),this.forEachChild(Si,(r,o)=>{const a=o.hash();""!==a&&(e+=":"+r+":"+a)}),this.lazyHash_=""===e?"":gw(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const a=this.resolveIndex_(o);if(a){const l=a.getPredecessorKey(new Nn(e,r));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Nn(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Nn(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Nn.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Nn.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cm?-1:0}withIndex(e){if(e===Ja||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ja||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(Si),a=r.getIterator(Si);let l=o.getNext(),h=a.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=o.getNext(),h=a.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(e){return e===Ja?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const cm=new class wT extends xn{constructor(){super(new Ps(vT),xn.EMPTY_NODE,Vc.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return xn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Nn,{MIN:{value:new Nn(Rl,xn.EMPTY_NODE)},MAX:{value:new Nn(Qa,cm)}}),_T.__EMPTY_NODE=xn.EMPTY_NODE,Bc.__childrenNodeConstructor=xn,function ty(i){yT=i}(cm),function sy(i){oy=i}(cm);const X1=!0;function yr(i,n=null){if(null===i)return xn.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(n=i[".priority"]),(0,j.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Bc(i,yr(n));if(i instanceof Array||!X1){let e=xn.EMPTY_NODE;return eo(i,(r,o)=>{if((0,j.r3)(i,r)&&"."!==r.substring(0,1)){const a=yr(o);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(r,a))}}),e.updatePriority(yr(n))}{const e=[];let r=!1;if(eo(i,(l,h)=>{if("."!==l.substring(0,1)){const m=yr(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),e.push(new Nn(l,m)))}}),0===e.length)return xn.EMPTY_NODE;const a=Lw(e,J1,l=>l.name,vT);if(r){const l=Lw(e,Si.getCompare());return new xn(a,yr(n),new Vc({".priority":l},{".priority":Si}))}return new xn(a,yr(n),Vc.Default)}}!function _g(i){ry=i}(yr);class xT extends sm{constructor(n){super(),this.indexPath_=n,(0,j.hu)(!Tn(n)&&".priority"!==Dn(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const r=this.extractChild(n.node),o=this.extractChild(e.node),a=r.compareTo(o);return 0===a?Pc(n.name,e.name):a}makePost(n,e){const r=yr(n),o=xn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Nn(e,o)}maxPost(){const n=xn.EMPTY_NODE.updateChild(this.indexPath_,cm);return new Nn(Qa,n)}toString(){return Qv(this.indexPath_,0).join("/")}}const wg=new class eR extends sm{compare(n,e){const r=n.node.compareTo(e.node);return 0===r?Pc(n.name,e.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Nn.MIN}maxPost(){return Nn.MAX}makePost(n,e){const r=yr(n);return new Nn(e,r)}toString(){return".value"}};function cy(i){return{type:"value",snapshotNode:i}}function lm(i,n){return{type:"child_added",snapshotNode:n,childName:i}}function dm(i,n){return{type:"child_removed",snapshotNode:n,childName:i}}function bh(i,n,e){return{type:"child_changed",snapshotNode:n,childName:i,oldSnap:e}}class Bw{constructor(n){this.index_=n}updateChild(n,e,r,o,a,l){(0,j.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=n.getImmediateChild(e);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(null!=l&&(r.isEmpty()?n.hasChild(e)?l.trackChildChange(dm(e,h)):(0,j.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(lm(e,r)):l.trackChildChange(bh(e,r,h))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(n,e,r){return null!=r&&(n.isLeafNode()||n.forEachChild(Si,(o,a)=>{e.hasChild(o)||r.trackChildChange(dm(o,a))}),e.isLeafNode()||e.forEachChild(Si,(o,a)=>{if(n.hasChild(o)){const l=n.getImmediateChild(o);l.equals(a)||r.trackChildChange(bh(o,a,l))}else r.trackChildChange(lm(o,a))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?xn.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class um{constructor(n){this.indexedFilter_=new Bw(n.getIndex()),this.index_=n.getIndex(),this.startPost_=um.getStartPost_(n),this.endPost_=um.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&r}updateChild(n,e,r,o,a,l){return this.matches(new Nn(e,r))||(r=xn.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,r,o,a,l)}updateFullNode(n,e,r){e.isLeafNode()&&(e=xn.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(xn.EMPTY_NODE);const a=this;return e.forEachChild(Si,(l,h)=>{a.matches(new Nn(l,h))||(o=o.updateImmediateChild(l,xn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class tR{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=e=>{const r=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new um(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,r,o,a,l){return this.rangedFilter_.matches(new Nn(e,r))||(r=xn.EMPTY_NODE),n.getImmediateChild(e).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,r,o,a,l):this.fullLimitUpdateChild_(n,e,r,a,l)}updateFullNode(n,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=xn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let a;o=xn.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;o=o.updateImmediateChild(h.name,h.node),l++}}}else{let a;o=e.withIndex(this.index_),o=o.updatePriority(xn.EMPTY_NODE),a=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let l=0;for(;a.hasNext();){const h=a.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:o=o.updateImmediateChild(h.name,xn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,r,o,a){let l;if(this.reverse_){const E=this.index_.getCompare();l=(S,R)=>E(R,S)}else l=this.index_.getCompare();const h=n;(0,j.hu)(h.numChildren()===this.limit_,"");const m=new Nn(e,r),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(h.hasChild(e)){const E=h.getImmediateChild(e);let S=o.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=S&&(S.name===e||h.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const R=null==S?1:l(S,m);if(b&&!r.isEmpty()&&R>=0)return a?.trackChildChange(bh(e,r,E)),h.updateImmediateChild(e,r);{a?.trackChildChange(dm(e,E));const G=h.updateImmediateChild(e,xn.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(a?.trackChildChange(lm(S.name,S.node)),G.updateImmediateChild(S.name,S.node)):G}}return r.isEmpty()?n:b&&l(g,m)>=0?(null!=a&&(a.trackChildChange(dm(g.name,g.node)),a.trackChildChange(lm(e,r))),h.updateImmediateChild(e,r).updateImmediateChild(g.name,xn.EMPTY_NODE)):n}}class xg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Si}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Si}copy(){const n=new xg;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Vw(i,n,e){const r=i.copy();return r.startSet_=!0,void 0===n&&(n=null),r.indexStartValue_=n,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function wh(i,n,e){const r=i.copy();return r.endSet_=!0,void 0===n&&(n=null),r.indexEndValue_=n,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Eg(i,n){const e=i.copy();return e.index_=n,e}function CT(i){const n={};if(i.isDefault())return n;let e;if(i.index_===Si?e="$priority":i.index_===wg?e="$value":i.index_===Ja?e="$key":((0,j.hu)(i.index_ instanceof xT,"Unrecognized index type!"),e=i.index_.toString()),n.orderBy=(0,j.Wl)(e),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";n[r]=(0,j.Wl)(i.indexStartValue_),i.startNameSet_&&(n[r]+=","+(0,j.Wl)(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";n[r]=(0,j.Wl)(i.indexEndValue_),i.endNameSet_&&(n[r]+=","+(0,j.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?n.limitToFirst=i.limit_:n.limitToLast=i.limit_),n}function ET(i){const n={};if(i.startSet_&&(n.sp=i.indexStartValue_,i.startNameSet_&&(n.sn=i.indexStartName_),n.sin=!i.startAfterSet_),i.endSet_&&(n.ep=i.indexEndValue_,i.endNameSet_&&(n.en=i.indexEndName_),n.ein=!i.endBeforeSet_),i.limitSet_){n.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),n.vf=e}return i.index_!==Si&&(n.i=i.index_.toString()),n}class dy extends Z1{constructor(n,e,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=em("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,j.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,r,o){const a=n._path.toString();this.log_("Listen called for "+a+" "+n._queryIdentifier);const l=dy.getListenId_(n,r),h={};this.listens_[l]=h;const m=CT(n._queryParams);this.restRequest_(a+".json",m,(g,b)=>{let E=b;if(404===g&&(E=null,g=null),null===g&&this.onDataUpdate_(a,E,!1,r),(0,j.DV)(this.listens_,l)===h){let S;S=g?401===g?"permission_denied":"rest_error:"+g:"ok",o(S,null)}})}unlisten(n,e){const r=dy.getListenId_(n,e);delete this.listens_[r]}get(n){const e=CT(n._queryParams),r=n._path.toString(),o=new j.BH;return this.restRequest_(r+".json",e,(a,l)=>{let h=l;404===a&&(h=null,a=null),null===a?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(n){}restRequest_(n,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(e.auth=o.accessToken),a&&a.token&&(e.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,j.xO)(e);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,j.cI)(h.responseText)}catch{po("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,m)}else 401!==h.status&&404!==h.status&&po("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class kT{constructor(){this.rootNode_=xn.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function kg(){return{value:null,children:new Map}}function jd(i,n,e){if(Tn(n))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(n,e);else{const r=Dn(n);i.children.has(r)||i.children.set(r,kg()),jd(i.children.get(r),n=Ei(n),e)}}function xh(i,n){if(Tn(n))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Si,(r,o)=>{jd(i,new ri(r),o)}),xh(i,n)}}if(i.children.size>0){const e=Dn(n);return n=Ei(n),i.children.has(e)&&xh(i.children.get(e),n)&&i.children.delete(e),0===i.children.size}return!0}function uy(i,n,e){null!==i.value?e(n,i.value):function wB(i,n){i.children.forEach((e,r)=>{n(r,e)})}(i,(r,o)=>{uy(o,new ri(n.toString()+"/"+r),e)})}class Uw{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&eo(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=n,e}}class IT{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Uw(n);const r=1e4+2e4*Math.random();$v(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),e={};let r=!1;eo(n,(o,a)=>{a>0&&(0,j.r3)(this.statsToReport_,o)&&(e[o]=a,r=!0)}),r&&this.server_.reportStats(e),$v(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wr=(()=>((Wr=Wr||{})[Wr.OVERWRITE=0]="OVERWRITE",Wr[Wr.MERGE=1]="MERGE",Wr[Wr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Wr[Wr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Wr))();function jw(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class fy{constructor(n,e,r){this.path=n,this.affectedTree=e,this.revert=r,this.type=Wr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Tn(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ri(n));return new fy($n(),e,this.revert)}}return(0,j.hu)(Dn(this.path)===n,"operationForChild called for unrelated child."),new fy(Ei(this.path),this.affectedTree,this.revert)}}class fm{constructor(n,e){this.source=n,this.path=e,this.type=Wr.LISTEN_COMPLETE}operationForChild(n){return Tn(this.path)?new fm(this.source,$n()):new fm(this.source,Ei(this.path))}}class $d{constructor(n,e,r){this.source=n,this.path=e,this.snap=r,this.type=Wr.OVERWRITE}operationForChild(n){return Tn(this.path)?new $d(this.source,$n(),this.snap.getImmediateChild(n)):new $d(this.source,Ei(this.path),this.snap)}}class Xa{constructor(n,e,r){this.source=n,this.path=e,this.children=r,this.type=Wr.MERGE}operationForChild(n){if(Tn(this.path)){const e=this.children.subtree(new ri(n));return e.isEmpty()?null:e.value?new $d(this.source,$n(),e.value):new Xa(this.source,$n(),e)}return(0,j.hu)(Dn(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Xa(this.source,Ei(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zo{constructor(n,e,r){this.node_=n,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Tn(n))return this.isFullyInitialized()&&!this.filtered_;const e=Dn(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class DT{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Tg(i,n,e,r,o,a){const l=r.filter(h=>h.type===e);l.sort((h,m)=>function EB(i,n,e){if(null==n.childName||null==e.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new Nn(n.childName,n.snapshotNode),o=new Nn(e.childName,e.snapshotNode);return i.index_.compare(r,o)}(i,h,m)),l.forEach(h=>{const m=function CB(i,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,i.index_)),n}(i,h,a);o.forEach(g=>{g.respondsTo(h.type)&&n.push(g.createEvent(m,i.query_))})})}function Ig(i,n){return{eventCache:i,serverCache:n}}function mm(i,n,e,r){return Ig(new Zo(n,e,r),i.serverCache)}function rR(i,n,e,r){return Ig(i.eventCache,new Zo(n,e,r))}function Dg(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Uc(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let my;class Mi{constructor(n,e=(()=>(my||(my=new Ps(Wk)),my))()){this.value=n,this.children=e}static fromObject(n){let e=new Mi(null);return eo(n,(r,o)=>{e=e.set(new ri(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:$n(),value:this.value};if(Tn(n))return null;{const r=Dn(n),o=this.children.get(r);if(null!==o){const a=o.findRootMostMatchingPathAndValue(Ei(n),e);return null!=a?{path:ar(new ri(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Tn(n))return this;{const e=Dn(n),r=this.children.get(e);return null!==r?r.subtree(Ei(n)):new Mi(null)}}set(n,e){if(Tn(n))return new Mi(e,this.children);{const r=Dn(n),a=(this.children.get(r)||new Mi(null)).set(Ei(n),e),l=this.children.insert(r,a);return new Mi(this.value,l)}}remove(n){if(Tn(n))return this.children.isEmpty()?new Mi(null):new Mi(null,this.children);{const e=Dn(n),r=this.children.get(e);if(r){const o=r.remove(Ei(n));let a;return a=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&a.isEmpty()?new Mi(null):new Mi(this.value,a)}return this}}get(n){if(Tn(n))return this.value;{const e=Dn(n),r=this.children.get(e);return r?r.get(Ei(n)):null}}setTree(n,e){if(Tn(n))return e;{const r=Dn(n),a=(this.children.get(r)||new Mi(null)).setTree(Ei(n),e);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Mi(this.value,l)}}fold(n){return this.fold_($n(),n)}fold_(n,e){const r={};return this.children.inorderTraversal((o,a)=>{r[o]=a.fold_(ar(n,o),e)}),e(n,this.value,r)}findOnPath(n,e){return this.findOnPath_(n,$n(),e)}findOnPath_(n,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(Tn(n))return null;{const a=Dn(n),l=this.children.get(a);return l?l.findOnPath_(Ei(n),ar(e,a),r):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,$n(),e)}foreachOnPath_(n,e,r){if(Tn(n))return this;{this.value&&r(e,this.value);const o=Dn(n),a=this.children.get(o);return a?a.foreachOnPath_(Ei(n),ar(e,o),r):new Mi(null)}}foreach(n){this.foreach_($n(),n)}foreach_(n,e){this.children.inorderTraversal((r,o)=>{o.foreach_(ar(n,r),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,r)=>{r.value&&n(e,r.value)})}}class Kt{constructor(n){this.writeTree_=n}static empty(){return new Kt(new Mi(null))}}function pm(i,n,e){if(Tn(n))return new Kt(new Mi(e));{const r=i.writeTree_.findRootMostValueAndPath(n);if(null!=r){const o=r.path;let a=r.value;const l=Wo(o,n);return a=a.updateChild(l,e),new Kt(i.writeTree_.set(o,a))}{const o=new Mi(e),a=i.writeTree_.setTree(n,o);return new Kt(a)}}}function py(i,n,e){let r=i;return eo(e,(o,a)=>{r=pm(r,ar(n,o),a)}),r}function oR(i,n){if(Tn(n))return Kt.empty();{const e=i.writeTree_.setTree(n,new Mi(null));return new Kt(e)}}function $w(i,n){return null!=Gd(i,n)}function Gd(i,n){const e=i.writeTree_.findRootMostValueAndPath(n);return null!=e?i.writeTree_.get(e.path).getChild(Wo(e.path,n)):null}function MT(i){const n=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Si,(r,o)=>{n.push(new Nn(r,o))}):i.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&n.push(new Nn(r,o.value))}),n}function qd(i,n){if(Tn(n))return i;{const e=Gd(i,n);return new Kt(null!=e?new Mi(e):i.writeTree_.subtree(n))}}function gy(i){return i.writeTree_.isEmpty()}function gm(i,n){return Gw($n(),i.writeTree_,n)}function Gw(i,n,e){if(null!=n.value)return e.updateChild(i,n.value);{let r=null;return n.children.inorderTraversal((o,a)=>{".priority"===o?((0,j.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):e=Gw(ar(i,o),a,e)}),!e.getChild(i).isEmpty()&&null!==r&&(e=e.updateChild(ar(i,".priority"),r)),e}}function _y(i,n){return FT(n,i)}function Wd(i,n){if(i.snap)return wa(i.path,n);for(const e in i.children)if(i.children.hasOwnProperty(e)&&wa(ar(i.path,e),n))return!0;return!1}function OT(i){return i.visible}function PT(i,n,e){let r=Kt.empty();for(let o=0;o<i.length;++o){const a=i[o];if(n(a)){const l=a.path;let h;if(a.snap)wa(e,l)?(h=Wo(e,l),r=pm(r,h,a.snap)):wa(l,e)&&(h=Wo(l,e),r=pm(r,$n(),a.snap.getChild(h)));else{if(!a.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(wa(e,l))h=Wo(e,l),r=py(r,h,a.children);else if(wa(l,e))if(h=Wo(l,e),Tn(h))r=py(r,$n(),a.children);else{const m=(0,j.DV)(a.children,Dn(h));if(m){const g=m.getChild(Ei(h));r=pm(r,$n(),g)}}}}}return r}function Sg(i,n,e,r,o){if(r||o){const a=qd(i.visibleWrites,n);return!o&&gy(a)?e:o||null!=e||$w(a,$n())?gm(PT(i.allWrites,function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(wa(g.path,n)||wa(n,g.path))},n),e||xn.EMPTY_NODE):null}{const a=Gd(i.visibleWrites,n);if(null!=a)return a;{const l=qd(i.visibleWrites,n);return gy(l)?e:null!=e||$w(l,$n())?gm(l,e||xn.EMPTY_NODE):null}}}function ym(i,n,e,r){return Sg(i.writeTree,i.treePath,n,e,r)}function vy(i,n){return function vm(i,n,e){let r=xn.EMPTY_NODE;const o=Gd(i.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Si,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(e){const a=qd(i.visibleWrites,n);return e.forEachChild(Si,(l,h)=>{const m=gm(qd(a,new ri(l)),h);r=r.updateImmediateChild(l,m)}),MT(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return MT(qd(i.visibleWrites,n)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(i.writeTree,i.treePath,n)}function yy(i,n,e,r){return function qw(i,n,e,r,o){(0,j.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const a=ar(n,e);if($w(i.visibleWrites,a))return null;{const l=qd(i.visibleWrites,a);return gy(l)?o.getChild(e):gm(l,o.getChild(e))}}(i.writeTree,i.treePath,n,e,r)}function by(i,n){return function NT(i,n){return Gd(i.visibleWrites,n)}(i.writeTree,ar(i.treePath,n))}function Yw(i,n,e){return function Mg(i,n,e,r){const o=ar(n,e),a=Gd(i.visibleWrites,o);return null!=a?a:r.isCompleteForChild(e)?gm(qd(i.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,n,e)}function Kw(i,n){return FT(ar(i.treePath,n),i.writeTree)}function FT(i,n){return{treePath:i,writeTree:n}}class cR{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,r=n.childName;(0,j.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const a=o.type;if("child_added"===e&&"child_removed"===a)this.changeMap.set(r,bh(r,n.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===a)this.changeMap.set(r,dm(r,o.oldSnap));else if("child_changed"===e&&"child_added"===a)this.changeMap.set(r,lm(r,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==a)throw(0,j.g5)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(r,bh(r,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}const LT=new class lR{getCompleteChild(n){return null}getChildAfterChild(n,e,r){return null}};class wy{constructor(n,e,r=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const r=null!=this.optCompleteServerCache_?new Zo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yw(this.writes_,n,r)}}getChildAfterChild(n,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uc(this.viewCache_),a=function aR(i,n,e,r,o,a){return function Ww(i,n,e,r,o,a,l){let h;const m=qd(i.visibleWrites,n),g=Gd(m,$n());if(null!=g)h=g;else{if(null==e)return[];h=gm(m,e)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],E=l.getCompare(),S=a?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let R=S.getNext();for(;R&&b.length<o;)0!==E(R,r)&&b.push(R),R=S.getNext();return b}}(i.writeTree,i.treePath,n,e,r,o,a)}(this.writes_,o,e,1,r,n);return 0===a.length?null:a[0]}}function VT(i,n,e,r,o,a){const l=n.eventCache;if(null!=by(r,e))return n;{let h,m;if(Tn(e))if((0,j.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Uc(n),E=vy(r,g instanceof xn?g:xn.EMPTY_NODE);h=i.filter.updateFullNode(n.eventCache.getNode(),E,a)}else{const g=ym(r,Uc(n));h=i.filter.updateFullNode(n.eventCache.getNode(),g,a)}else{const g=Dn(e);if(".priority"===g){(0,j.hu)(1===Hd(e),"Can't have a priority with additional path components");const b=l.getNode();m=n.serverCache.getNode();const E=yy(r,e,b,m);h=null!=E?i.filter.updatePriority(b,E):l.getNode()}else{const b=Ei(e);let E;if(l.isCompleteForChild(g)){m=n.serverCache.getNode();const S=yy(r,e,l.getNode(),m);E=null!=S?l.getNode().getImmediateChild(g).updateChild(b,S):l.getNode().getImmediateChild(g)}else E=Yw(r,g,n.serverCache);h=null!=E?i.filter.updateChild(l.getNode(),g,E,b,o,a):l.getNode()}}return mm(n,h,l.isFullyInitialized()||Tn(e),i.filter.filtersNodes())}}function xy(i,n,e,r,o,a,l,h){const m=n.serverCache;let g;const b=l?i.filter:i.filter.getIndexedFilter();if(Tn(e))g=b.updateFullNode(m.getNode(),r,null);else if(b.filtersNodes()&&!m.isFiltered()){const R=m.getNode().updateChild(e,r);g=b.updateFullNode(m.getNode(),R,null)}else{const R=Dn(e);if(!m.isCompleteForPath(e)&&Hd(e)>1)return n;const F=Ei(e),Y=m.getNode().getImmediateChild(R).updateChild(F,r);g=".priority"===R?b.updatePriority(m.getNode(),Y):b.updateChild(m.getNode(),R,Y,F,LT,null)}const E=rR(n,g,m.isFullyInitialized()||Tn(e),b.filtersNodes());return VT(i,E,e,o,new wy(o,E,a),h)}function UT(i,n,e,r,o,a,l){const h=n.eventCache;let m,g;const b=new wy(o,n,a);if(Tn(e))g=i.filter.updateFullNode(n.eventCache.getNode(),r,l),m=mm(n,g,!0,i.filter.filtersNodes());else{const E=Dn(e);if(".priority"===E)g=i.filter.updatePriority(n.eventCache.getNode(),r),m=mm(n,g,h.isFullyInitialized(),h.isFiltered());else{const S=Ei(e),R=h.getNode().getImmediateChild(E);let F;if(Tn(S))F=r;else{const G=b.getCompleteChild(E);F=null!=G?".priority"===Kv(S)&&G.getChild(Jv(S)).isEmpty()?G:G.updateChild(S,r):xn.EMPTY_NODE}m=R.equals(F)?n:mm(n,i.filter.updateChild(h.getNode(),E,F,S,b,l),h.isFullyInitialized(),i.filter.filtersNodes())}}return m}function Cy(i,n){return i.eventCache.isCompleteForChild(n)}function zT(i,n,e){return e.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function Qw(i,n,e,r,o,a,l,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g,m=n;g=Tn(e)?r:new Mi(null).setTree(e,r);const b=n.serverCache.getNode();return g.children.inorderTraversal((E,S)=>{if(b.hasChild(E)){const F=zT(0,n.serverCache.getNode().getImmediateChild(E),S);m=xy(i,m,new ri(E),F,o,a,l,h)}}),g.children.inorderTraversal((E,S)=>{const R=!n.serverCache.isCompleteForChild(E)&&null===S.value;if(!b.hasChild(E)&&!R){const G=zT(0,n.serverCache.getNode().getImmediateChild(E),S);m=xy(i,m,new ri(E),G,o,a,l,h)}}),m}class mR{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Bw(r.getIndex()),a=function bB(i){return i.loadsAllData()?new Bw(i.getIndex()):i.hasLimit()?new tR(i):new um(i)}(r);this.processor_=function BT(i){return{filter:i}}(a);const l=e.serverCache,h=e.eventCache,m=o.updateFullNode(xn.EMPTY_NODE,l.getNode(),null),g=a.updateFullNode(xn.EMPTY_NODE,h.getNode(),null),b=new Zo(m,l.isFullyInitialized(),o.filtersNodes()),E=new Zo(g,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ig(E,b),this.eventGenerator_=new DT(this.query_)}get query(){return this.query_}}function gR(i,n){const e=Uc(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Tn(n)&&!e.getImmediateChild(Dn(n)).isEmpty())?e.getChild(n):null}function $T(i){return 0===i.eventRegistrations_.length}function GT(i,n,e){const r=[];if(e){(0,j.hu)(null==n,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(e,o);l&&r.push(l)})}if(n){let o=[];for(let a=0;a<i.eventRegistrations_.length;++a){const l=i.eventRegistrations_[a];if(l.matches(n)){if(n.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(a+1));break}}else o.push(l)}i.eventRegistrations_=o}else i.eventRegistrations_=[];return r}function ec(i,n,e,r){n.type===Wr.MERGE&&null!==n.source.queryId&&((0,j.hu)(Uc(i.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(Dg(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,a=function uR(i,n,e,r,o){const a=new cR;let l,h;if(e.type===Wr.OVERWRITE){const g=e;g.source.fromUser?l=UT(i,n,g.path,g.snap,r,o,a):((0,j.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||n.serverCache.isFiltered()&&!Tn(g.path),l=xy(i,n,g.path,g.snap,r,o,h,a))}else if(e.type===Wr.MERGE){const g=e;g.source.fromUser?l=function HT(i,n,e,r,o,a,l){let h=n;return r.foreach((m,g)=>{const b=ar(e,m);Cy(n,Dn(b))&&(h=UT(i,h,b,g,o,a,l))}),r.foreach((m,g)=>{const b=ar(e,m);Cy(n,Dn(b))||(h=UT(i,h,b,g,o,a,l))}),h}(i,n,g.path,g.children,r,o,a):((0,j.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||n.serverCache.isFiltered(),l=Qw(i,n,g.path,g.children,r,o,h,a))}else if(e.type===Wr.ACK_USER_WRITE){const g=e;l=g.revert?function fR(i,n,e,r,o,a){let l;if(null!=by(r,e))return n;{const h=new wy(r,n,o),m=n.eventCache.getNode();let g;if(Tn(e)||".priority"===Dn(e)){let b;if(n.serverCache.isFullyInitialized())b=ym(r,Uc(n));else{const E=n.serverCache.getNode();(0,j.hu)(E instanceof xn,"serverChildren would be complete if leaf node"),b=vy(r,E)}g=i.filter.updateFullNode(m,b,a)}else{const b=Dn(e);let E=Yw(r,b,n.serverCache);null==E&&n.serverCache.isCompleteForChild(b)&&(E=m.getImmediateChild(b)),g=null!=E?i.filter.updateChild(m,b,E,Ei(e),h,a):n.eventCache.getNode().hasChild(b)?i.filter.updateChild(m,b,xn.EMPTY_NODE,Ei(e),h,a):m,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(l=ym(r,Uc(n)),l.isLeafNode()&&(g=i.filter.updateFullNode(g,l,a)))}return l=n.serverCache.isFullyInitialized()||null!=by(r,$n()),mm(n,g,l,i.filter.filtersNodes())}}(i,n,g.path,r,o,a):function hR(i,n,e,r,o,a,l){if(null!=by(o,e))return n;const h=n.serverCache.isFiltered(),m=n.serverCache;if(null!=r.value){if(Tn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return xy(i,n,e,m.getNode().getChild(e),o,a,h,l);if(Tn(e)){let g=new Mi(null);return m.getNode().forEachChild(Ja,(b,E)=>{g=g.set(new ri(b),E)}),Qw(i,n,e,g,o,a,h,l)}return n}{let g=new Mi(null);return r.foreach((b,E)=>{const S=ar(e,b);m.isCompleteForPath(S)&&(g=g.set(b,m.getNode().getChild(S)))}),Qw(i,n,e,g,o,a,h,l)}}(i,n,g.path,g.affectedTree,r,o,a)}else{if(e.type!==Wr.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+e.type);l=function jT(i,n,e,r,o){const a=n.serverCache;return VT(i,rR(n,a.getNode(),a.isFullyInitialized()||Tn(e),a.isFiltered()),e,r,LT,o)}(i,n,e.path,r,a)}const m=a.getChanges();return function Zs(i,n,e){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Dg(i);(e.length>0||!i.eventCache.isFullyInitialized()||o&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&e.push(cy(Dg(n)))}}(n,l,m),{viewCache:l,changes:m}}(i.processor_,o,n,e,r);return function dR(i,n){(0,j.hu)(n.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(n.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,a.viewCache),(0,j.hu)(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=a.viewCache,qT(i,a.changes,a.viewCache.eventCache.getNode(),null)}function qT(i,n,e,r){return function xB(i,n,e,r){const o=[],a=[];return n.forEach(l=>{"child_changed"===l.type&&i.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function ly(i,n){return{type:"child_moved",snapshotNode:n,childName:i}}(l.childName,l.snapshotNode))}),Tg(i,o,"child_removed",n,r,e),Tg(i,o,"child_added",n,r,e),Tg(i,o,"child_moved",a,r,e),Tg(i,o,"child_changed",n,r,e),Tg(i,o,"value",n,r,e),o}(i.eventGenerator_,n,e,r?[r]:i.eventRegistrations_)}let Ag,bm;class WT{constructor(){this.views=new Map}}function Rg(i,n,e,r){const o=n.source.queryId;if(null!==o){const a=i.views.get(o);return(0,j.hu)(null!=a,"SyncTree gave us an op for an invalid query."),ec(a,n,e,r)}{let a=[];for(const l of i.views.values())a=a.concat(ec(l,n,e,r));return a}}function vR(i,n,e,r,o){const l=i.views.get(n._queryIdentifier);if(!l){let h=ym(e,o?r:null),m=!1;h?m=!0:r instanceof xn?(h=vy(e,r),m=!1):(h=xn.EMPTY_NODE,m=!1);const g=Ig(new Zo(h,m,!1),new Zo(r,o,!1));return new mR(n,g)}return l}function ex(i){const n=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Fl(i,n){let e=null;for(const r of i.views.values())e=e||gR(r,n);return e}function ky(i,n){return n._queryParams.loadsAllData()?Ty(i):i.views.get(n._queryIdentifier)}function Hc(i,n){return null!=ky(i,n)}function Zd(i){return null!=Ty(i)}function Ty(i){for(const n of i.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let wR=1;class xR{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Mi(null),this.pendingWriteTree_=function Zw(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iy(i,n,e,r,o){return function sR(i,n,e,r,o){(0,j.hu)(r>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),i.allWrites.push({path:n,snap:e,writeId:r,visible:o}),o&&(i.visibleWrites=pm(i.visibleWrites,n,e)),i.lastWriteId=r}(i.pendingWriteTree_,n,e,r,o),o?zc(i,new $d({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function tc(i,n,e=!1){const r=function AT(i,n){for(let e=0;e<i.allWrites.length;e++){const r=i.allWrites[e];if(r.writeId===n)return r}return null}(i.pendingWriteTree_,n);if(function RT(i,n){const e=i.allWrites.findIndex(h=>h.writeId===n);(0,j.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[e];i.allWrites.splice(e,1);let o=r.visible,a=!1,l=i.allWrites.length-1;for(;o&&l>=0;){const h=i.allWrites[l];h.visible&&(l>=e&&Wd(h,r.path)?o=!1:wa(r.path,h.path)&&(a=!0)),l--}return!!o&&(a?(function _m(i){i.visibleWrites=PT(i.allWrites,OT,$n()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(r.snap?i.visibleWrites=oR(i.visibleWrites,r.path):eo(r.children,m=>{i.visibleWrites=oR(i.visibleWrites,ar(r.path,m))}),!0))}(i.pendingWriteTree_,n)){let a=new Mi(null);return null!=r.snap?a=a.set($n(),!0):eo(r.children,l=>{a=a.set(new ri(l),!0)}),zc(i,new fy(r.path,a,e))}return[]}function Ll(i,n,e){return zc(i,new $d({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function Og(i,n,e,r,o=!1){const a=n._path,l=i.syncPointTree_.get(a);let h=[];if(l&&("default"===n._queryIdentifier||Hc(l,n))){const m=function QT(i,n,e,r){const o=n._queryIdentifier,a=[];let l=[];const h=Zd(i);if("default"===o)for(const[m,g]of i.views.entries())l=l.concat(GT(g,e,r)),$T(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||a.push(g.query));else{const m=i.views.get(o);m&&(l=l.concat(GT(m,e,r)),$T(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||a.push(m.query)))}return h&&!Zd(i)&&a.push(new(function YT(){return(0,j.hu)(Ag,"Reference.ts has not been loaded"),Ag}())(n._repo,n._path)),{removed:a,events:l}}(l,n,e,r);(function Ey(i){return 0===i.views.size})(l)&&(i.syncPointTree_=i.syncPointTree_.remove(a));const g=m.removed;if(h=m.events,!o){const b=-1!==g.findIndex(S=>S._queryParams.loadsAllData()),E=i.syncPointTree_.findOnPath(a,(S,R)=>Zd(R));if(b&&!E){const S=i.syncPointTree_.subtree(a);if(!S.isEmpty()){const R=function TR(i){return i.fold((n,e,r)=>{if(e&&Zd(e))return[Ty(e)];{let o=[];return e&&(o=ex(e)),eo(r,(a,l)=>{o=o.concat(l)}),o}})}(S);for(let F=0;F<R.length;++F){const G=R[F],Y=G.query,ve=rx(i,G);i.listenProvider_.startListening(Fg(Y),Ng(i,Y),ve.hashFn,ve.onComplete)}}}!E&&g.length>0&&!r&&(b?i.listenProvider_.stopListening(Fg(n),null):g.forEach(S=>{const R=i.queryToTagMap.get(Sy(S));i.listenProvider_.stopListening(Fg(S),R)}))}!function IR(i,n){for(let e=0;e<n.length;++e){const r=n[e];if(!r._queryParams.loadsAllData()){const o=Sy(r),a=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(a)}}}(i,g)}return h}function tx(i,n,e,r){const o=Eh(i,r);if(null!=o){const a=ox(o),l=a.path,h=a.queryId,m=Wo(l,n);return eI(i,l,new $d(jw(h),m,e))}return[]}function nx(i,n,e,r=!1){const o=n._path;let a=null,l=!1;i.syncPointTree_.foreachOnPath(o,(S,R)=>{const F=Wo(S,o);a=a||Fl(R,F),l=l||Zd(R)});let m,h=i.syncPointTree_.get(o);h?(l=l||Zd(h),a=a||Fl(h,$n())):(h=new WT,i.syncPointTree_=i.syncPointTree_.set(o,h)),null!=a?m=!0:(m=!1,a=xn.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((R,F)=>{const G=Fl(F,$n());G&&(a=a.updateImmediateChild(R,G))}));const g=Hc(h,n);if(!g&&!n._queryParams.loadsAllData()){const S=Sy(n);(0,j.hu)(!i.queryToTagMap.has(S),"View does not exist, but we have a tag");const R=function DR(){return wR++}();i.queryToTagMap.set(S,R),i.tagToQueryMap.set(R,S)}let E=function KT(i,n,e,r,o,a){const l=vR(i,n,r,o,a);return i.views.has(n._queryIdentifier)||i.views.set(n._queryIdentifier,l),function _R(i,n){i.eventRegistrations_.push(n)}(l,e),function Xw(i,n){const e=i.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Si,(a,l)=>{r.push(lm(a,l))}),e.isFullyInitialized()&&r.push(cy(e.getNode())),qT(i,r,e.getNode(),n)}(l,e)}(h,n,e,_y(i.pendingWriteTree_,o),a,m);if(!g&&!l&&!r){const S=ky(h,n);E=E.concat(function SR(i,n,e){const r=n._path,o=Ng(i,n),a=rx(i,e),l=i.listenProvider_.startListening(Fg(n),o,a.hashFn,a.onComplete),h=i.syncPointTree_.subtree(r);if(o)(0,j.hu)(!Zd(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,b,E)=>{if(!Tn(g)&&b&&Zd(b))return[Ty(b).query];{let S=[];return b&&(S=S.concat(ex(b).map(R=>R.query))),eo(E,(R,F)=>{S=S.concat(F)}),S}});for(let g=0;g<m.length;++g){const b=m[g];i.listenProvider_.stopListening(Fg(b),Ng(i,b))}}return l}(i,n,S))}return E}function Pg(i,n,e){const o=i.pendingWriteTree_,a=i.syncPointTree_.findOnPath(n,(l,h)=>{const g=Fl(h,Wo(l,n));if(g)return g});return Sg(o,n,a,e,!0)}function zc(i,n){return XT(n,i.syncPointTree_,null,_y(i.pendingWriteTree_,$n()))}function XT(i,n,e,r){if(Tn(i.path))return ix(i,n,e,r);{const o=n.get($n());null==e&&null!=o&&(e=Fl(o,$n()));let a=[];const l=Dn(i.path),h=i.operationForChild(l),m=n.children.get(l);if(m&&h){const g=e?e.getImmediateChild(l):null,b=Kw(r,l);a=a.concat(XT(h,m,g,b))}return o&&(a=a.concat(Rg(o,i,r,e))),a}}function ix(i,n,e,r){const o=n.get($n());null==e&&null!=o&&(e=Fl(o,$n()));let a=[];return n.children.inorderTraversal((l,h)=>{const m=e?e.getImmediateChild(l):null,g=Kw(r,l),b=i.operationForChild(l);b&&(a=a.concat(ix(b,h,m,g)))}),o&&(a=a.concat(Rg(o,i,r,e))),a}function rx(i,n){const e=n.query,r=Ng(i,e);return{hashFn:()=>(function Jw(i){return i.viewCache_.serverCache.getNode()}(n)||xn.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function ER(i,n,e){const r=Eh(i,e);if(r){const o=ox(r),a=o.path,l=o.queryId,h=Wo(a,n);return eI(i,a,new fm(jw(l),h))}return[]}(i,e._path,r):function TB(i,n){return zc(i,new fm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(i,e._path);{const a=function Kk(i,n){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const r=new Error(i+" at "+n._path.toString()+": "+e);return r.code=i.toUpperCase(),r}(o,e);return Og(i,e,null,a)}}}}function Ng(i,n){const e=Sy(n);return i.queryToTagMap.get(e)}function Sy(i){return i._path.toString()+"$"+i._queryIdentifier}function Eh(i,n){return i.tagToQueryMap.get(n)}function ox(i){const n=i.indexOf("$");return(0,j.hu)(-1!==n&&n<i.length-1,"Bad queryKey."),{queryId:i.substr(n+1),path:new ri(i.substr(0,n))}}function eI(i,n,e){const r=i.syncPointTree_.get(n);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),Rg(r,e,_y(i.pendingWriteTree_,n),null)}function Fg(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function bR(){return(0,j.hu)(bm,"Reference.ts has not been loaded"),bm}())(i._repo,i._path):i}class sx{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new sx(e)}node(){return this.node_}}class ax{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=ar(this.path_,n);return new ax(this.syncTree_,e)}node(){return Pg(this.syncTree_,this.path_)}}const tI=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},My=function(i,n,e){return i&&"object"==typeof i?((0,j.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?MR(i[".sv"],n,e):"object"==typeof i[".sv"]?Ay(i[".sv"],n):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},MR=function(i,n,e){if("timestamp"===i)return e.timestamp;(0,j.hu)(!1,"Unexpected server value: "+i)},Ay=function(i,n,e){i.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const o=n.node();if((0,j.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const l=o.getValue();return"number"!=typeof l?r:l+r},nI=function(i,n,e,r){return lx(n,new ax(e,i),r)},cx=function(i,n,e){return lx(i,new sx(n),e)};function lx(i,n,e){const r=i.getPriority().val(),o=My(r,n.getImmediateChild(".priority"),e);let a;if(i.isLeafNode()){const l=i,h=My(l.getValue(),n,e);return h!==l.getValue()||o!==l.getPriority().val()?new Bc(h,yr(o)):i}{const l=i;return a=l,o!==l.getPriority().val()&&(a=a.updatePriority(new Bc(o))),l.forEachChild(Si,(h,m)=>{const g=lx(m,n.getImmediateChild(h),e);g!==m&&(a=a.updateImmediateChild(h,g))}),a}}class dx{constructor(n="",e=null,r={children:{},childCount:0}){this.name=n,this.parent=e,this.node=r}}function Ry(i,n){let e=n instanceof ri?n:new ri(n),r=i,o=Dn(e);for(;null!==o;){const a=(0,j.DV)(r.node.children,o)||{children:{},childCount:0};r=new dx(o,r,a),e=Ei(e),o=Dn(e)}return r}function kh(i){return i.node.value}function ux(i,n){i.node.value=n,oI(i)}function hx(i){return i.node.childCount>0}function Oy(i,n){eo(i.node.children,(e,r)=>{n(new dx(e,i,r))})}function AR(i,n,e,r){e&&!r&&n(i),Oy(i,o=>{AR(o,n,!0,r)}),e&&r&&n(i)}function wm(i){return new ri(null===i.parent?i.name:wm(i.parent)+"/"+i.name)}function oI(i){null!==i.parent&&function Py(i,n,e){const r=function iI(i){return void 0===kh(i)&&!hx(i)}(e),o=(0,j.r3)(i.node.children,n);r&&o?(delete i.node.children[n],i.node.childCount--,oI(i)):!r&&!o&&(i.node.children[n]=e.node,i.node.childCount++,oI(i))}(i.parent,i.name,i)}const RR=/[\[\].#$\/\u0000-\u001F\u007F]/,OR=/[\[\].#$\u0000-\u001F\u007F]/,Lg=10485760,Ny=function(i){return"string"==typeof i&&0!==i.length&&!RR.test(i)},nc=function(i){return"string"==typeof i&&0!==i.length&&!OR.test(i)},Zr=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!hh(i)||i&&"object"==typeof i&&(0,j.r3)(i,".sv")},Yo=function(i,n,e,r){r&&void 0===n||Yd((0,j.gK)(i,"value"),n,e)},Yd=function(i,n,e){const r=e instanceof ri?new Pw(e,i):e;if(void 0===n)throw new Error(i+"contains undefined "+Fc(r));if("function"==typeof n)throw new Error(i+"contains a function "+Fc(r)+" with contents = "+n.toString());if(hh(n))throw new Error(i+"contains "+n.toString()+" "+Fc(r));if("string"==typeof n&&n.length>Lg/3&&(0,j.ug)(n)>Lg)throw new Error(i+"contains a string greater than "+Lg+" utf8 bytes "+Fc(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,a=!1;if(eo(n,(l,h)=>{if(".value"===l)o=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!Ny(l)))throw new Error(i+" contains an invalid key ("+l+") "+Fc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xv(i,n){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(n),i.byteLength_+=(0,j.ug)(n),ey(i)})(r,l),Yd(i,h,r),function Y1(i){const n=i.parts_.pop();i.byteLength_-=(0,j.ug)(n),i.parts_.length>0&&(i.byteLength_-=1)}(r)}),o&&a)throw new Error(i+' contains ".value" child '+Fc(r)+" in addition to actual children.")}},Fy=function(i,n,e,r){if(r&&void 0===n)return;const o=(0,j.gK)(i,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const a=[];eo(n,(l,h)=>{const m=new ri(l);if(Yd(o,h,ar(e,m)),".priority"===Kv(m)&&!Zr(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),function(i,n){let e,r;for(e=0;e<n.length;e++){r=n[e];const a=Qv(r);for(let l=0;l<a.length;l++)if((".priority"!==a[l]||l!==a.length-1)&&!Ny(a[l]))throw new Error(i+"contains an invalid key ("+a[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(fT);let o=null;for(e=0;e<n.length;e++){if(r=n[e],null!==o&&wa(o,r))throw new Error(i+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,a)},Kd=function(i,n,e){if(!e||void 0!==n){if(hh(n))throw new Error((0,j.gK)(i,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zr(n))throw new Error((0,j.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jc=function(i,n,e,r){if(!(r&&void 0===e||Ny(e)))throw new Error((0,j.gK)(i,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$c=function(i,n,e,r){if(!(r&&void 0===e||nc(e)))throw new Error((0,j.gK)(i,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xm=function(i,n,e,r){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$c(i,n,e,r)},So=function(i,n){if(".info"===Dn(n))throw new Error(i+" failed = Can't modify data under /.info/")},Th=function(i,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ny(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nc(i)}(e))throw new Error((0,j.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Cm{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bl(i,n){let e=null;for(let r=0;r<n.length;r++){const o=n[r],a=o.getPath();null!==e&&!Pl(a,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(o)}e&&i.eventLists_.push(e)}function Ih(i,n,e){Bl(i,e),fx(i,r=>Pl(r,n))}function Ns(i,n,e){Bl(i,e),fx(i,r=>wa(r,n)||wa(n,r))}function fx(i,n){i.recursionDepth_++;let e=!0;for(let r=0;r<i.eventLists_.length;r++){const o=i.eventLists_[r];o&&(n(o.path)?(sI(i.eventLists_[r]),i.eventLists_[r]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function sI(i){for(let n=0;n<i.events.length;n++){const e=i.events[n];if(null!==e){i.events[n]=null;const r=e.getEventRunner();uh&&mo("event: "+e.toString()),tm(r)}}}const mx="repo_interrupt",aI=25;class cI{constructor(n,e,r,o){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kg(),this.transactionQueueTree_=new dx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function px(i){const e=i.infoData_.getNode(new ri(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Em(i){return tI({timestamp:px(i)})}function Ly(i,n,e,r,o){i.dataUpdateCount++;const a=new ri(n);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(n,e):e;let l=[];if(o)if(r){const m=(0,j.UI)(e,g=>yr(g));l=function kR(i,n,e,r){const o=Eh(i,r);if(o){const a=ox(o),l=a.path,h=a.queryId,m=Wo(l,n),g=Mi.fromObject(e);return eI(i,l,new Xa(jw(h),m,g))}return[]}(i.serverSyncTree_,a,m,o)}else{const m=yr(e);l=tx(i.serverSyncTree_,a,m,o)}else if(r){const m=(0,j.UI)(e,g=>yr(g));l=function Dy(i,n,e){const r=Mi.fromObject(e);return zc(i,new Xa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}(i.serverSyncTree_,a,m)}else{const m=yr(e);l=Ll(i.serverSyncTree_,a,m)}let h=a;l.length>0&&(h=km(i,a)),Ns(i.eventQueue_,h,l)}function dI(i,n){uI(i,"connected",n),!1===n&&function DB(i){Gc(i,"onDisconnectEvents");const n=Em(i),e=kg();uy(i.onDisconnect_,$n(),(o,a)=>{const l=nI(o,a,i.serverSyncTree_,n);jd(e,o,l)});let r=[];uy(e,$n(),(o,a)=>{r=r.concat(Ll(i.serverSyncTree_,o,a));const l=vx(i,o);km(i,l)}),i.onDisconnect_=kg(),Ns(i.eventQueue_,$n(),r)}(i)}function uI(i,n,e){const r=new ri("/.info/"+n),o=yr(e);i.infoData_.updateSnapshot(r,o);const a=Ll(i.infoSyncTree_,r,o);Ns(i.eventQueue_,r,a)}function By(i){return i.nextWriteId_++}function hI(i,n,e,r,o){Gc(i,"set",{path:n.toString(),value:e,priority:r});const a=Em(i),l=yr(e,r),h=Pg(i.serverSyncTree_,n),m=cx(l,h,a),g=By(i),b=Iy(i.serverSyncTree_,n,m,g,!0);Bl(i.eventQueue_,b),i.server_.put(n.toString(),l.val(!0),(S,R)=>{const F="ok"===S;F||po("set at "+n+" failed: "+S);const G=tc(i.serverSyncTree_,g,!F);Ns(i.eventQueue_,n,G),Vl(0,o,S,R)});const E=vx(i,n);km(i,E),Ns(i.eventQueue_,E,[])}function FR(i,n,e){i.server_.onDisconnectCancel(n.toString(),(r,o)=>{"ok"===r&&xh(i.onDisconnect_,n),Vl(0,e,r,o)})}function fI(i,n,e,r){const o=yr(e);i.server_.onDisconnectPut(n.toString(),o.val(!0),(a,l)=>{"ok"===a&&jd(i.onDisconnect_,n,o),Vl(0,r,a,l)})}function Ug(i,n,e){let r;r=".info"===Dn(n._path)?Og(i.infoSyncTree_,n,e):Og(i.serverSyncTree_,n,e),Ih(i.eventQueue_,n._path,r)}function Hg(i){i.persistentConnection_&&i.persistentConnection_.interrupt(mx)}function Gc(i,...n){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),mo(e,...n)}function Vl(i,n,e,r){n&&tm(()=>{if("ok"===e)n(null);else{const o=(e||"error").toUpperCase();let a=o;r&&(a+=": "+r);const l=new Error(a);l.code=o,n(l)}})}function Dh(i,n,e){return Pg(i.serverSyncTree_,n,e)||xn.EMPTY_NODE}function Vy(i,n=i.transactionQueueTree_){if(n||_x(i,n),kh(n)){const e=zg(i,n);(0,j.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function VR(i,n,e){const r=e.map(g=>g.currentWriteId),o=Dh(i,n,r);let a=o;const l=o.hash();for(let g=0;g<e.length;g++){const b=e[g];(0,j.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=Wo(n,b.path);a=a.updateChild(E,b.currentOutputSnapshotRaw)}const h=a.val(!0),m=n;i.server_.put(m.toString(),h,g=>{Gc(i,"transaction put response",{path:m.toString(),status:g});let b=[];if("ok"===g){const E=[];for(let S=0;S<e.length;S++)e[S].status=2,b=b.concat(tc(i.serverSyncTree_,e[S].currentWriteId)),e[S].onComplete&&E.push(()=>e[S].onComplete(null,!0,e[S].currentOutputSnapshotResolved)),e[S].unwatcher();_x(i,Ry(i.transactionQueueTree_,n)),Vy(i,i.transactionQueueTree_),Ns(i.eventQueue_,n,b);for(let S=0;S<E.length;S++)tm(E[S])}else{if("datastale"===g)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{po("transaction at "+m.toString()+" failed: "+g);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=g}km(i,n)}},l)}(i,wm(n),e)}else hx(n)&&Oy(n,e=>{Vy(i,e)})}function km(i,n){const e=Uy(i,n),r=wm(e);return function UR(i,n,e){if(0===n.length)return;const r=[];let o=[];const l=n.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<n.length;h++){const m=n[h],g=Wo(e,m.path);let E,b=!1;if((0,j.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,E=m.abortReason,o=o.concat(tc(i.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=aI)b=!0,E="maxretry",o=o.concat(tc(i.serverSyncTree_,m.currentWriteId,!0));else{const S=Dh(i,m.path,l);m.currentInputSnapshot=S;const R=n[h].update(S.val());if(void 0!==R){Yd("transaction failed: Data returned ",R,m.path);let F=yr(R);"object"==typeof R&&null!=R&&(0,j.r3)(R,".priority")||(F=F.updatePriority(S.getPriority()));const Y=m.currentWriteId,ve=Em(i),Me=cx(F,S,ve);m.currentOutputSnapshotRaw=F,m.currentOutputSnapshotResolved=Me,m.currentWriteId=By(i),l.splice(l.indexOf(Y),1),o=o.concat(Iy(i.serverSyncTree_,m.path,Me,m.currentWriteId,m.applyLocally)),o=o.concat(tc(i.serverSyncTree_,Y,!0))}else b=!0,E="nodata",o=o.concat(tc(i.serverSyncTree_,m.currentWriteId,!0))}Ns(i.eventQueue_,e,o),o=[],b&&(n[h].status=2,setTimeout(n[h].unwatcher,Math.floor(0)),n[h].onComplete&&r.push("nodata"===E?()=>n[h].onComplete(null,!1,n[h].currentInputSnapshot):()=>n[h].onComplete(new Error(E),!1,null)))}_x(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)tm(r[h]);Vy(i,i.transactionQueueTree_)}(i,zg(i,e),r),r}function Uy(i,n){let e,r=i.transactionQueueTree_;for(e=Dn(n);null!==e&&void 0===kh(r);)r=Ry(r,e),e=Dn(n=Ei(n));return r}function zg(i,n){const e=[];return jg(i,n,e),e.sort((r,o)=>r.order-o.order),e}function jg(i,n,e){const r=kh(n);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);Oy(n,o=>{jg(i,o,e)})}function _x(i,n){const e=kh(n);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,ux(n,e.length>0?e:void 0)}Oy(n,r=>{_x(i,r)})}function vx(i,n){const e=wm(Uy(i,n)),r=Ry(i.transactionQueueTree_,n);return function rI(i,n,e){let r=e?i:i.parent;for(;null!==r;){if(n(r))return!0;r=r.parent}}(r,o=>{yx(i,o)}),yx(i,r),AR(r,o=>{yx(i,o)}),e}function yx(i,n){const e=kh(n);if(e){const r=[];let o=[],a=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,j.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,e[l].status=3,e[l].abortReason="set"):((0,j.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),o=o.concat(tc(i.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&r.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?ux(n,void 0):e.length=a+1,Ns(i.eventQueue_,wm(n),o);for(let l=0;l<r.length;l++)tm(r[l])}}const Hy=function(i,n){const e=zR(i),r=e.namespace;return"firebase.com"===e.domain&&Ka(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Ka("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&po("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Cw(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,n,"",r!==e.subdomain),path:new ri(e.pathString)}},zR=function(i){let n="",e="",r="",o="",a="",l=!0,h="https",m=443;if("string"==typeof i){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let b=i.indexOf("/");-1===b&&(b=i.length);let E=i.indexOf("?");-1===E&&(E=i.length),n=i.substring(0,Math.min(b,E)),b<E&&(o=function bx(i){let n="";const e=i.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(i.substring(b,E)));const S=function HR(i){const n={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):po(`Invalid query segment '${e}' in query '${i}'`)}return n}(i.substring(Math.min(i.length,E)));g=n.indexOf(":"),g>=0?(l="https"===h||"wss"===h,m=parseInt(n.substring(g+1),10)):g=n.length;const R=n.slice(0,g);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const F=n.indexOf(".");r=n.substring(0,F).toLowerCase(),e=n.substring(F+1),a=r}"ns"in S&&(a=S.ns)}return{host:n,port:m,domain:e,subdomain:r,secure:l,scheme:h,pathString:o,namespace:a}},pI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gI=function(){let i=0;const n=[];return function(e){const r=e===i;let o;i=e;const a=new Array(8);for(o=7;o>=0;o--)a[o]=pI.charAt(e%64),e=Math.floor(e/64);(0,j.hu)(0===e,"Cannot push at time == 0");let l=a.join("");if(r){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)l+=pI.charAt(n[o]);return(0,j.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class wx{constructor(n,e,r,o){this.eventType=n,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.Wl)(this.snapshot.exportVal())}}class xx{constructor(n,e,r){this.eventRegistration=n,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Cx{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,j.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class _I{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new j.BH;return FR(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){So("OnDisconnect.remove",this._path);const n=new j.BH;return fI(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){So("OnDisconnect.set",this._path),Yo("OnDisconnect.set",n,this._path,!1);const e=new j.BH;return fI(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){So("OnDisconnect.setWithPriority",this._path),Yo("OnDisconnect.setWithPriority",n,this._path,!1),Kd("OnDisconnect.setWithPriority",e,!1);const r=new j.BH;return function LR(i,n,e,r,o){const a=yr(e,r);i.server_.onDisconnectPut(n.toString(),a.val(!0),(l,h)=>{"ok"===l&&jd(i.onDisconnect_,n,a),Vl(0,o,l,h)})}(this._repo,this._path,n,e,r.wrapCallback(()=>{})),r.promise}update(n){So("OnDisconnect.update",this._path),Fy("OnDisconnect.update",n,this._path,!1);const e=new j.BH;return function gx(i,n,e,r){if((0,j.xb)(e))return mo("onDisconnect().update() called with empty data.  Don't do anything."),void Vl(0,r,"ok",void 0);i.server_.onDisconnectMerge(n.toString(),e,(o,a)=>{"ok"===o&&eo(e,(l,h)=>{const m=yr(h);jd(i.onDisconnect_,ar(n,l),m)}),Vl(0,r,o,a)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Fs{constructor(n,e,r,o){this._repo=n,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return Tn(this._path)?null:Kv(this._path)}get ref(){return new Ca(this._repo,this._path)}get _queryIdentifier(){const n=ET(this._queryParams),e=mh(n);return"{}"===e?"default":e}get _queryObject(){return ET(this._queryParams)}isEqual(n){if(!((n=(0,j.m9)(n))instanceof Fs))return!1;const e=this._repo===n._repo,r=Pl(this._path,n._path);return e&&r&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ow(i){let n="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(n+="/"+encodeURIComponent(String(i.pieces_[e])));return n||"/"}(this._path)}}function $g(i,n){if(!0===i._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function qc(i){let n=null,e=null;if(i.hasStart()&&(n=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Ja){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Rl)throw new Error(r);if("string"!=typeof n)throw new Error(o)}if(i.hasEnd()){if(i.getIndexEndName()!==Qa)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(i.getIndex()===Si){if(null!=n&&!Zr(n)||null!=e&&!Zr(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.hu)(i.getIndex()instanceof xT||i.getIndex()===wg,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tm(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ca extends Fs{constructor(n,e){super(n,e,new xg,!1)}get parent(){const n=Jv(this._path);return null===n?null:new Ca(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Wc{constructor(n,e,r){this._node=n,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new ri(n),r=Qd(this.ref,n);return new Wc(this._node.getChild(e),r,Si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>n(new Wc(o,Qd(this.ref,r),Si)))}hasChild(n){const e=new ri(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gg(i,n){return(i=(0,j.m9)(i))._checkNotDeleted("ref"),void 0!==n?Qd(i._root,n):i._root}function zy(i,n){(i=(0,j.m9)(i))._checkNotDeleted("refFromURL");const e=Hy(n,i._repo.repoInfo_.nodeAdmin);Th("refFromURL",e);const r=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&r.host!==i._repo.repoInfo_.host&&Ka("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+i._repo.repoInfo_.host+")"),Gg(i,e.path.toString())}function Qd(i,n){return null===Dn((i=(0,j.m9)(i))._path)?xm("child","path",n,!1):$c("child","path",n,!1),new Ca(i._repo,ar(i._path,n))}function Im(i,n){i=(0,j.m9)(i),So("set",i._path),Yo("set",n,i._path,!1);const e=new j.BH;return hI(i._repo,i._path,n,null,e.wrapCallback(()=>{})),e.promise}function vI(i,n){Fy("update",n,i._path,!1);const e=new j.BH;return function NR(i,n,e,r){Gc(i,"update",{path:n.toString(),value:e});let o=!0;const a=Em(i),l={};if(eo(e,(h,m)=>{o=!1,l[h]=nI(ar(n,h),yr(m),i.serverSyncTree_,a)}),o)mo("update() called with empty data.  Don't do anything."),Vl(0,r,"ok",void 0);else{const h=By(i),m=function CR(i,n,e,r){!function kB(i,n,e,r){(0,j.hu)(r>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:n,children:e,writeId:r,visible:!0}),i.visibleWrites=py(i.visibleWrites,n,e),i.lastWriteId=r}(i.pendingWriteTree_,n,e,r);const o=Mi.fromObject(e);return zc(i,new Xa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(i.serverSyncTree_,n,l,h);Bl(i.eventQueue_,m),i.server_.merge(n.toString(),e,(g,b)=>{const E="ok"===g;E||po("update at "+n+" failed: "+g);const S=tc(i.serverSyncTree_,h,!E),R=S.length>0?km(i,n):n;Ns(i.eventQueue_,R,S),Vl(0,r,g,b)}),eo(e,g=>{const b=vx(i,ar(n,g));km(i,b)}),Ns(i.eventQueue_,n,[])}}(i._repo,i._path,n,e.wrapCallback(()=>{})),e.promise}function GR(i){i=(0,j.m9)(i);const n=new Cx(()=>{}),e=new qg(n);return function PR(i,n,e){const r=function JT(i,n){const e=n._path;let r=null;i.syncPointTree_.foreachOnPath(e,(g,b)=>{const E=Wo(g,e);r=r||Fl(b,E)});let o=i.syncPointTree_.get(e);o?r=r||Fl(o,$n()):(o=new WT,i.syncPointTree_=i.syncPointTree_.set(e,o));const a=null!=r,l=a?new Zo(r,!0,!1):null;return function pR(i){return Dg(i.viewCache_)}(vR(o,n,_y(i.pendingWriteTree_,n._path),a?l.getNode():xn.EMPTY_NODE,a))}(i.serverSyncTree_,n);return null!=r?Promise.resolve(r):i.server_.get(n).then(o=>{const a=yr(o).withIndex(n._queryParams.getIndex());let l;if(nx(i.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())l=Ll(i.serverSyncTree_,n._path,a);else{const h=Ng(i.serverSyncTree_,n);l=tx(i.serverSyncTree_,n._path,a,h)}return Ns(i.eventQueue_,n._path,l),Og(i.serverSyncTree_,n,e,null,!0),a},o=>(Gc(i,"get for query "+(0,j.Wl)(n)+" failed: "+o),Promise.reject(new Error(o))))}(i._repo,i,e).then(r=>new Wc(r,new Ca(i._repo,i._path),i._queryParams.getIndex()))}class qg{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const r=e._queryParams.getIndex();return new wx("value",this,new Wc(n.snapshotNode,new Ca(e._repo,e._path),r))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new xx(this,n,e):null}matches(n){return n instanceof qg&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Wg{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new xx(this,n,e):null}createEvent(n,e){(0,j.hu)(null!=n.childName,"Child events should have a childName.");const r=Qd(new Ca(e._repo,e._path),n.childName),o=e._queryParams.getIndex();return new wx(n.type,this,new Wc(n.snapshotNode,r,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof Wg&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Sh(i,n,e,r,o){let a;if("object"==typeof r&&(a=void 0,o=r),"function"==typeof r&&(a=r),o&&o.onlyOnce){const m=e,g=(b,E)=>{Ug(i._repo,i,h),m(b,E)};g.userCallback=e.userCallback,g.context=e.context,e=g}const l=new Cx(e,a||void 0),h="value"===n?new qg(l):new Wg(n,l);return function Vg(i,n,e){let r;r=".info"===Dn(n._path)?nx(i.infoSyncTree_,n,e):nx(i.serverSyncTree_,n,e),Ih(i.eventQueue_,n._path,r)}(i._repo,i,h),()=>Ug(i._repo,i,h)}function $y(i,n,e,r){return Sh(i,"value",n,e,r)}function Gy(i,n,e,r){return Sh(i,"child_added",n,e,r)}function qy(i,n,e,r){return Sh(i,"child_changed",n,e,r)}function yI(i,n,e,r){return Sh(i,"child_moved",n,e,r)}function kx(i,n,e,r){return Sh(i,"child_removed",n,e,r)}function Tx(i,n,e){let r=null;const o=e?new Cx(e):null;"value"===n?r=new qg(o):n&&(r=new Wg(n,o)),Ug(i._repo,i,r)}class Ea{}class Ix extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Yo("endAt",this._value,n._path,!0);const e=wh(n._queryParams,this._value,this._key);if(Tm(e),qc(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fs(n._repo,n._path,e,n._orderByCalled)}}class bI extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Yo("endBefore",this._value,n._path,!1);const e=function iR(i,n,e){let r;return r=wh(i,n,i.index_===Ja||e?e:Rl),r.endBeforeSet_=!0,r}(n._queryParams,this._value,this._key);if(Tm(e),qc(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fs(n._repo,n._path,e,n._orderByCalled)}}class Dx extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Yo("startAt",this._value,n._path,!0);const e=Vw(n._queryParams,this._value,this._key);if(Tm(e),qc(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fs(n._repo,n._path,e,n._orderByCalled)}}class xI extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Yo("startAfter",this._value,n._path,!1);const e=function hm(i,n,e){let r;return r=Vw(i,n,i.index_===Ja||e?e:Qa),r.startAfterSet_=!0,r}(n._queryParams,this._value,this._key);if(Tm(e),qc(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fs(n._repo,n._path,e,n._orderByCalled)}}class EI extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fs(n._repo,n._path,function nR(i,n){const e=i.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class TI extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fs(n._repo,n._path,function Cg(i,n){const e=i.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class DI extends Ea{constructor(n){super(),this._path=n}_apply(n){$g(n,"orderByChild");const e=new ri(this._path);if(Tn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new xT(e),o=Eg(n._queryParams,r);return qc(o),new Fs(n._repo,n._path,o,!0)}}class Wy extends Ea{_apply(n){$g(n,"orderByKey");const e=Eg(n._queryParams,Ja);return qc(e),new Fs(n._repo,n._path,e,!0)}}class WR extends Ea{_apply(n){$g(n,"orderByPriority");const e=Eg(n._queryParams,Si);return qc(e),new Fs(n._repo,n._path,e,!0)}}class Mx extends Ea{_apply(n){$g(n,"orderByValue");const e=Eg(n._queryParams,wg);return qc(e),new Fs(n._repo,n._path,e,!0)}}class Ax extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(Yo("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ix(this._value,this._key)._apply(new Dx(this._value,this._key)._apply(n))}}function Ys(i,...n){let e=(0,j.m9)(i);for(const r of n)e=r._apply(e);return e}(function ZT(i){(0,j.hu)(!Ag,"__referenceConstructor has already been defined"),Ag=i})(Ca),function yR(i){(0,j.hu)(!bm,"__referenceConstructor has already been defined"),bm=i}(Ca);const MI={};function Rx(i,n,e,r,o){let a=r||i.options.databaseURL;void 0===a&&(i.options.projectId||Ka("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mo("Using default host for project ",i.options.projectId),a=`${i.options.projectId}-default-rtdb.firebaseio.com`);let m,g,l=Hy(a,o),h=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(m=!0,a=`http://${g}?ns=${h.namespace}`,l=Hy(a,o),h=l.repoInfo):m=!l.repoInfo.secure;const b=o&&m?new hg(hg.OWNER):new vw(i.name,i.options,n);Th("Invalid Firebase Database URL",l),Tn(l.path)||Ka("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function to(i,n,e,r){let o=MI[n.name];o||(o={},MI[n.name]=o);let a=o[i.toURLString()];return a&&Ka("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new cI(i,false,e,r),o[i.toURLString()]=a,a}(h,i,b,new P1(i.name,e));return new JR(E,i)}class JR{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function lI(i,n,e){if(i.stats_=Tw(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new dy(i.repoInfo_,(r,o,a,l)=>{Ly(i,r,o,a,l)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>dI(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new yh(i.repoInfo_,n,(r,o,a,l)=>{Ly(i,r,o,a,l)},r=>{dI(i,r)},r=>{!function IB(i,n){eo(n,(e,r)=>{uI(i,e,r)})}(i,r)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=function F1(i,n){const e=i.toString();return kw[e]||(kw[e]=n()),kw[e]}(i.repoInfo_,()=>new IT(i.stats_,i.server_)),i.infoData_=new kT,i.infoSyncTree_=new xR({startListening:(r,o,a,l)=>{let h=[];const m=i.infoData_.getNode(r._path);return m.isEmpty()||(h=Ll(i.infoSyncTree_,r._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),uI(i,"connected",!1),i.serverSyncTree_=new xR({startListening:(r,o,a,l)=>(i.server_.listen(r,a,o,(h,m)=>{const g=l(h,m);Ns(i.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{i.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ca(this._repo,$n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function QR(i,n){const e=MI[n];(!e||e[i.key]!==i)&&Ka(`Database ${n}(${i.repoInfo_}) has already been deleted.`),Hg(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Ka("Cannot call "+n+" on a deleted database.")}}function OI(){Mw.IS_TRANSPORT_INITIALIZED&&po("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function PI(){OI(),_h.forceDisallow()}function XR(){OI(),nm.forceDisallow(),_h.forceAllow()}function nO(i,n){dg(i,n)}const iO={".sv":"timestamp"};class Px{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}yh.prototype.simpleListen=function(i,n){this.sendRequest("q",{p:i},n)},yh.prototype.echo=function(i,n){this.sendRequest("echo",{d:i},n)},function NI(i){Hv(wi.SDK_VERSION),(0,wi._registerComponent)(new or.wA("database",(n,{instanceIdentifier:e})=>Rx(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,wi.registerVersion)(zk,"0.14.4",i),(0,wi.registerVersion)(zk,"0.14.4","esm2017")}();const ic=new Xr.Yd("@firebase/database-compat"),ka=function(i){ic.warn("FIREBASE WARNING: "+i)};class oO{constructor(n){this._delegate=n}cancel(n){(0,j.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,j.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),r=>n(r)),e}remove(n){(0,j.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,j.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),r=>n(r)),e}set(n,e){(0,j.Dv)("OnDisconnect.set",1,2,arguments.length),(0,j.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(n);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(n,e,r){(0,j.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(n,e);return r&&o.then(()=>r(null),a=>r(a)),o}update(n,e){if((0,j.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let a=0;a<n.length;++a)o[""+a]=n[a];n=o,ka("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(n);return e&&r.then(()=>e(null),o=>e(o)),r}}class sO{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,j.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xd{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,j.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,j.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),$c("DataSnapshot.child","path",n,!1),new Xd(this._database,this._delegate.child(n))}hasChild(n){return(0,j.Dv)("DataSnapshot.hasChild",1,1,arguments.length),$c("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,j.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,j.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,j.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new Xd(this._database,e)))}hasChildren(){return(0,j.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.Dv)("DataSnapshot.ref",0,0,arguments.length),new fs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Mo{constructor(n,e){this.database=n,this._delegate=e}on(n,e,r,o){var a;(0,j.Dv)("Query.on",2,4,arguments.length),(0,j.Wj)("Query.on","callback",e,!1);const l=Mo.getCancelAndContextArgs_("Query.on",r,o),h=(g,b)=>{e.call(l.context,new Xd(this.database,g),b)};h.userCallback=e,h.context=l.context;const m=null===(a=l.cancel)||void 0===a?void 0:a.bind(l.context);switch(n){case"value":return $y(this._delegate,h,m),e;case"child_added":return Gy(this._delegate,h,m),e;case"child_removed":return kx(this._delegate,h,m),e;case"child_changed":return qy(this._delegate,h,m),e;case"child_moved":return yI(this._delegate,h,m),e;default:throw new Error((0,j.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,r){if((0,j.Dv)("Query.off",0,3,arguments.length),function(i,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,j.Wj)("Query.off","callback",e,!0),(0,j.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,Tx(this._delegate,n,o)}else Tx(this._delegate,n)}get(){return GR(this._delegate).then(n=>new Xd(this.database,n))}once(n,e,r,o){(0,j.Dv)("Query.once",1,4,arguments.length),(0,j.Wj)("Query.once","callback",e,!0);const a=Mo.getCancelAndContextArgs_("Query.once",r,o),l=new j.BH,h=(g,b)=>{const E=new Xd(this.database,g);e&&e.call(a.context,E,b),l.resolve(E)};h.userCallback=e,h.context=a.context;const m=g=>{a.cancel&&a.cancel.call(a.context,g),l.reject(g)};switch(n){case"value":$y(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":Gy(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":kx(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":qy(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":yI(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,j.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(n){return(0,j.Dv)("Query.limitToFirst",1,1,arguments.length),new Mo(this.database,Ys(this._delegate,function kI(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new EI(i)}(n)))}limitToLast(n){return(0,j.Dv)("Query.limitToLast",1,1,arguments.length),new Mo(this.database,Ys(this._delegate,function II(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new TI(i)}(n)))}orderByChild(n){return(0,j.Dv)("Query.orderByChild",1,1,arguments.length),new Mo(this.database,Ys(this._delegate,function SI(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $c("orderByChild","path",i,!1),new DI(i)}(n)))}orderByKey(){return(0,j.Dv)("Query.orderByKey",0,0,arguments.length),new Mo(this.database,Ys(this._delegate,function Jd(){return new Wy}()))}orderByPriority(){return(0,j.Dv)("Query.orderByPriority",0,0,arguments.length),new Mo(this.database,Ys(this._delegate,function ZR(){return new WR}()))}orderByValue(){return(0,j.Dv)("Query.orderByValue",0,0,arguments.length),new Mo(this.database,Ys(this._delegate,function Mh(){return new Mx}()))}startAt(n=null,e){return(0,j.Dv)("Query.startAt",0,2,arguments.length),new Mo(this.database,Ys(this._delegate,function Sx(i=null,n){return jc("startAt","key",n,!0),new Dx(i,n)}(n,e)))}startAfter(n=null,e){return(0,j.Dv)("Query.startAfter",0,2,arguments.length),new Mo(this.database,Ys(this._delegate,function CI(i,n){return jc("startAfter","key",n,!0),new xI(i,n)}(n,e)))}endAt(n=null,e){return(0,j.Dv)("Query.endAt",0,2,arguments.length),new Mo(this.database,Ys(this._delegate,function qR(i,n){return jc("endAt","key",n,!0),new Ix(i,n)}(n,e)))}endBefore(n=null,e){return(0,j.Dv)("Query.endBefore",0,2,arguments.length),new Mo(this.database,Ys(this._delegate,function wI(i,n){return jc("endBefore","key",n,!0),new bI(i,n)}(n,e)))}equalTo(n,e){return(0,j.Dv)("Query.equalTo",1,2,arguments.length),new Mo(this.database,Ys(this._delegate,function YR(i,n){return jc("equalTo","key",n,!0),new Ax(i,n)}(n,e)))}toString(){return(0,j.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,j.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Mo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,j.Wj)(n,"cancel",o.cancel,!0),o.context=r,(0,j.lb)(n,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,j.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new fs(this.database,new Ca(this._delegate._repo,this._delegate._path))}}class fs extends Mo{constructor(n,e){super(n,new Fs(e._repo,e._path,new xg,!1)),this.database=n,this._delegate=e}getKey(){return(0,j.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,j.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new fs(this.database,Qd(this._delegate,n))}getParent(){(0,j.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new fs(this.database,n):null}getRoot(){return(0,j.Dv)("Reference.root",0,0,arguments.length),new fs(this.database,this._delegate.root)}set(n,e){(0,j.Dv)("Reference.set",1,2,arguments.length),(0,j.Wj)("Reference.set","onComplete",e,!0);const r=Im(this._delegate,n);return e&&r.then(()=>e(null),o=>e(o)),r}update(n,e){if((0,j.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let a=0;a<n.length;++a)o[""+a]=n[a];n=o,ka("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}So("Reference.update",this._delegate._path),(0,j.Wj)("Reference.update","onComplete",e,!0);const r=vI(this._delegate,n);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(n,e,r){(0,j.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,j.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function Ex(i,n,e){if(So("setWithPriority",i._path),Yo("setWithPriority",n,i._path,!1),Kd("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const r=new j.BH;return hI(i._repo,i._path,n,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,n,e);return r&&o.then(()=>r(null),a=>r(a)),o}remove(n){(0,j.Dv)("Reference.remove",0,1,arguments.length),(0,j.Wj)("Reference.remove","onComplete",n,!0);const e=function $R(i){return So("remove",i._path),Im(i,null)}(this._delegate);return n&&e.then(()=>n(null),r=>n(r)),e}transaction(n,e,r){(0,j.Dv)("Reference.transaction",1,3,arguments.length),(0,j.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,j.Wj)("Reference.transaction","onComplete",e,!0),function(i,n,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,j.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function Nx(i,n,e){var r;if(i=(0,j.m9)(i),So("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const o=null===(r=e?.applyLocally)||void 0===r||r,a=new j.BH,h=$y(i,()=>{});return function BR(i,n,e,r,o,a){Gc(i,"transaction on "+n);const l={path:n,update:e,onComplete:r,status:null,order:Bd(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=Dh(i,n,void 0);l.currentInputSnapshot=h;const m=l.update(h.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Yd("transaction failed: Data returned ",m,l.path),l.status=0;const g=Ry(i.transactionQueueTree_,n),b=kh(g)||[];let E;b.push(l),ux(g,b),"object"==typeof m&&null!==m&&(0,j.r3)(m,".priority")?(E=(0,j.DV)(m,".priority"),(0,j.hu)(Zr(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(Pg(i.serverSyncTree_,n)||xn.EMPTY_NODE).getPriority().val();const S=Em(i),R=yr(m,E),F=cx(R,h,S);l.currentOutputSnapshotRaw=R,l.currentOutputSnapshotResolved=F,l.currentWriteId=By(i);const G=Iy(i.serverSyncTree_,n,F,l.currentWriteId,l.applyLocally);Ns(i.eventQueue_,n,G),Vy(i,i.transactionQueueTree_)}}(i._repo,i._path,n,(m,g,b)=>{let E=null;m?a.reject(m):(E=new Wc(b,new Ca(i._repo,i._path),Si),a.resolve(new Px(g,E)))},h,o),a.promise}(this._delegate,n,{applyLocally:r}).then(a=>new sO(a.committed,new Xd(this.database,a.snapshot)));return e&&o.then(a=>e(null,a.committed,a.snapshot),a=>e(a,!1,null)),o}setPriority(n,e){(0,j.Dv)("Reference.setPriority",1,2,arguments.length),(0,j.Wj)("Reference.setPriority","onComplete",e,!0);const r=function jy(i,n){i=(0,j.m9)(i),So("setPriority",i._path),Kd("setPriority",n,!1);const e=new j.BH;return hI(i._repo,ar(i._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&r.then(()=>e(null),o=>e(o)),r}push(n,e){(0,j.Dv)("Reference.push",0,2,arguments.length),(0,j.Wj)("Reference.push","onComplete",e,!0);const r=function jR(i,n){i=(0,j.m9)(i),So("push",i._path),Yo("push",n,i._path,!0);const e=px(i._repo),r=gI(e),o=Qd(i,r),a=Qd(i,r);let l;return l=null!=n?Im(a,n).then(()=>a):Promise.resolve(a),o.then=l.then.bind(l),o.catch=l.then.bind(l,void 0),o}(this._delegate,n),o=r.then(l=>new fs(this.database,l));e&&o.then(()=>e(null),l=>e(l));const a=new fs(this.database,r);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a}onDisconnect(){return So("Reference.onDisconnect",this._delegate._path),new oO(new _I(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Hl{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:PI,forceLongPolling:XR}}useEmulator(n,e,r={}){!function Ox(i,n,e,r={}){(i=(0,j.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Ka("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ka('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new hg(hg.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,i.app.options.projectId);a=new hg(l)}!function KR(i,n,e,r){i.repoInfo_=new Cw(`${n}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),r&&(i.authTokenProvider_=r)}(o,n,e,a)}(this._delegate,n,e,r)}ref(n){if((0,j.Dv)("database.ref",0,1,arguments.length),n instanceof fs){const e=zy(this._delegate,n.toString());return new fs(this,e)}{const e=Gg(this._delegate,n);return new fs(this,e)}}refFromURL(n){(0,j.Dv)("database.refFromURL",1,1,arguments.length);const r=zy(this._delegate,n);return new fs(this,r)}goOffline(){return(0,j.Dv)("database.goOffline",0,0,arguments.length),function Dm(i){(i=(0,j.m9)(i))._checkNotDeleted("goOffline"),Hg(i._repo)}(this._delegate)}goOnline(){return(0,j.Dv)("database.goOnline",0,0,arguments.length),function tO(i){(i=(0,j.m9)(i))._checkNotDeleted("goOnline"),function mI(i){i.persistentConnection_&&i.persistentConnection_.resume(mx)}(i._repo)}(this._delegate)}}Hl.ServerValue={TIMESTAMP:function FI(){return iO}(),increment:i=>function AB(i){return{".sv":{increment:i}}}(i)};var VI=Object.freeze({__proto__:null,initStandalone:function aO({app:i,url:n,version:e,customAuthImpl:r,namespace:o,nodeAdmin:a=!1}){Hv(e);const l=new or.zt("auth-internal",new or.H0("database-standalone"));return l.setComponent(new or.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Hl(Rx(i,l,void 0,n,a),i),namespace:o}}});const cO=Hl.ServerValue;function Zg(i){return null==i}function zI(i){return"function"==typeof i.set}function Fx(i,n){return zI(n)?n:i.ref(n)}function Lx(i,n){if(function UI(i){return"string"==typeof i}(i))return n.stringCase();if(zI(i))return n.firebaseCase();if(function HI(i){return"function"==typeof i.exportVal}(i))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Sm(i,n,e="on",r=Jf.z){return new Ln.y(o=>{let a=null;return a=i[e](n,(l,h)=>{r.schedule(()=>{o.next({snapshot:l,prevKey:h})}),"once"===e&&r.schedule(()=>o.complete())},l=>{r.schedule(()=>o.error(l))}),"on"===e?{unsubscribe(){null!=a&&i.off(n,a)}}:{unsubscribe(){}}}).pipe((0,Je.U)(o=>{const{snapshot:a,prevKey:l}=o;let h=null;return a.exists()&&(h=a.key),{type:n,payload:a,prevKey:l,key:h}}),(0,_a.B)())}function jI(i,n){const e=i.length;for(let r=0;r<e;r++)if(i[r].payload.key===n)return r;return-1}function Zy(i,n){const{payload:e,prevKey:r,key:o}=n,a=jI(i,o),l=function Bx(i,n){if(Zg(n))return 0;{const e=jI(i,n);return-1===e?i.length:e+1}}(i,r);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let h=null;n.payload.forEach(m=>{const g={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,i=[...i,g],!1})}return i;case"child_added":if(a>-1){const h=i[a-1];(h&&h.key||null)!==r&&(i=i.filter(m=>m.payload.key!==e.key)).splice(l,0,n)}else{if(null==r)return[n,...i];(i=i.slice()).splice(l,0,n)}return i;case"child_removed":return i.filter(h=>h.payload.key!==e.key);case"child_changed":return i.map(h=>h.payload.key===o?n:h);case"child_moved":if(a>-1){const h=i.splice(a,1)[0];return(i=i.slice()).splice(l,0,h),i}return i;default:return i}}function Yy(i){return(Zg(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function Vx(i,n,e){return function dO(i,n,e){return Sm(i,"value","once",e).pipe((0,fi.w)(r=>{const o=[(0,Dt.of)(r)];return n.forEach(a=>o.push(Sm(i,a,"on",e))),(0,Wi.T)(...o).pipe(Ya(Zy,[]))}),(0,Oc.x)())}(i,n=Yy(n),e)}function Ux(i,n,e){const r=(n=Yy(n)).map(o=>Sm(i,o,"on",e));return(0,Wi.T)(...r)}function Hx(i,n){return function(r,o){return Lx(r,{stringCase:()=>i.child(r)[n](o),firebaseCase:()=>r[n](o),snapshotCase:()=>r.ref[n](o)})}}function WI(i){return function(e){return e?Lx(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function YI(i,n){return function(){return Sm(i,"value","on",n)}}!function lO(i){i.INTERNAL.registerComponent(new or.wA("database-compat",(n,{instanceIdentifier:e})=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:e});return new Hl(o,r)},"PUBLIC").setServiceProps({Reference:fs,Query:Mo,Database:Hl,DataSnapshot:Xd,enableLogging:nO,INTERNAL:VI,ServerValue:cO}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.4")}(mw.Z);const hO=new s.OlP("angularfire2.realtimeDatabaseURL"),fO=new s.OlP("angularfire2.database.use-emulator");let mO=(()=>{class i{constructor(e,r,o,a,l,h,m,g,b,E,S,R,F,G,Y){this.schedulers=h;const ve=m,Me=(0,jn.on)(e,l,r);g&&fw(Me,l,b,S,R,F,E,G),this.database=(0,jn.cc)(`${Me.name}.database.${o}`,"AngularFireDatabase",Me.name,()=>{const Oe=l.runOutsideAngular(()=>Me.database(o||void 0));return ve&&Oe.useEmulator(...ve),Oe},[ve])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>Fx(this.database,e));let a=o;return r&&(a=r(o)),function ZI(i,n){const e=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>i.ref);return{query:i,update:Hx(r,"update"),set:Hx(r,"set"),push:o=>r.push(o),remove:WI(r),snapshotChanges:o=>Vx(i,o,e).pipe(an.iC),stateChanges:o=>Ux(i,o,e).pipe(an.iC),auditTrail:o=>function $I(i,n,e){return function qI(i,n,e){return function GI(i,n){return Sm(i,"value","on",n).pipe((0,Je.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(i,e).pipe(function D1(...i){const n=(0,Al.jO)(i);return(0,gr.e)((e,r)=>{const o=i.length,a=new Array(o);let l=i.map(()=>!1),h=!1;for(let m=0;m<o;m++)(0,Ml.Xf)(i[m]).subscribe((0,li.x)(r,g=>{a[m]=g,!h&&!l[m]&&(l[m]=!0,(h=l.every(va.y))&&(l=null))},cg.Z));e.subscribe((0,li.x)(r,m=>{if(h){const g=[m,...a];r.next(n?n(...g):g)}}))})}(n),(0,Je.U)(([o,a])=>{const l=o.lastKeyToLoad,h=a.map(m=>m.key);return{actions:a,lastKeyToLoad:l,loadedKeys:h}}),function S1(i){return(0,gr.e)((n,e)=>{let r=!1,o=0;n.subscribe((0,li.x)(e,a=>(r||(r=!i(a,o++)))&&e.next(a)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Je.U)(o=>o.actions))}(i,Ux(i,n).pipe(Ya((o,a)=>[...o,a],[])),e)}(i,o,e).pipe(an.iC),valueChanges:(o,a)=>Vx(i,o,e).pipe((0,Je.U)(h=>h.map(m=>a&&a.idField?Object.assign(Object.assign({},m.payload.val()),{[a.idField]:m.key}):m.payload.val())),an.iC)}}(a,this)}object(e){return function uO(i,n){return{query:i,snapshotChanges:()=>YI(i,n.schedulers.outsideAngular)().pipe(an.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>YI(i,n.schedulers.outsideAngular)().pipe(an.iC,(0,Je.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Fx(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(jn.Dh),s.LFG(jn.xv,8),s.LFG(hO,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(an.HU),s.LFG(fO,8),s.LFG(ag,8),s.LFG(dw,8),s.LFG(uw,8),s.LFG(og,8),s.LFG(sg,8),s.LFG(hw,8),s.LFG(ch,8),s.LFG(Qf,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),pO=(()=>{class i{constructor(){Vv.Z.registerVersion("angularfire",an.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[mO]}),i})();var Yg=z(7537);function Ky(...i){return function gO(){return(0,Yg.J)(1)}()((0,Cn.D)(i,(0,Al.yG)(i)))}function go(...i){const n=(0,Al.yG)(i);return(0,gr.e)((e,r)=>{(n?Ky(i,e,n):Ky(i,e)).subscribe(r)})}function zx(){return(0,gr.e)((i,n)=>{let e,r=!1;i.subscribe((0,li.x)(n,o=>{const a=e;e=o,r&&n.next([a,o]),r=!0}))})}var wt,_O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rc={},jx=jx||{},gn=_O||self;function Qy(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Mm(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Jy="closure_uid_"+(1e9*Math.random()>>>0),QI=0;function JI(i,n,e){return i.call.apply(i.bind,arguments)}function XI(i,n,e){if(!i)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),i.apply(n,o)}}return function(){return i.apply(n,arguments)}}function Ao(i,n,e){return(Ao=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JI:XI).apply(null,arguments)}function Kg(i,n){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),i.apply(this,r)}}function no(i,n){function e(){}e.prototype=n.prototype,i.$=n.prototype,i.prototype=new e,i.prototype.constructor=i,i.ac=function(r,o,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return n.prototype[o].apply(r,l)}}function Yc(){this.s=this.s,this.o=this.o}Yc.prototype.s=!1,Yc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function KI(i){Object.prototype.hasOwnProperty.call(i,Jy)&&i[Jy]||(i[Jy]=++QI)}(this)},Yc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eu=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===n)return e;return-1};function Gx(i){const n=i.length;if(0<n){const e=Array(n);for(let r=0;r<n;r++)e[r]=i[r];return e}return[]}function eD(i,n){for(let e=1;e<arguments.length;e++){const r=arguments[e];if(Qy(r)){const o=i.length||0,a=r.length||0;i.length=o+a;for(let l=0;l<a;l++)i[o+l]=r[l]}else i.push(r)}}function Br(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var OB=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{gn.addEventListener("test",()=>{},n),gn.removeEventListener("test",()=>{},n)}catch{}return i}();function Ah(i){return/^[\s\xa0]*$/.test(i)}function qx(){var i=gn.navigator;return i&&(i=i.userAgent)?i:""}function oc(i){return-1!=qx().indexOf(i)}function Xy(i){return Xy[" "](i),i}Xy[" "]=function(){};var Rm,i,Jt=oc("Opera"),Am=oc("Trident")||oc("MSIE"),tD=oc("Edge"),Wx=tD||Am,Rh=oc("Gecko")&&!(-1!=qx().toLowerCase().indexOf("webkit")&&!oc("Edge"))&&!(oc("Trident")||oc("MSIE"))&&!oc("Edge"),vO=-1!=qx().toLowerCase().indexOf("webkit")&&!oc("Edge");function Qg(){var i=gn.document;return i?i.documentMode:void 0}e:{var cr="",nD=(i=qx(),Rh?/rv:([^\);]+)(\)|;)/.exec(i):tD?/Edge\/([\d\.]+)/.exec(i):Am?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):vO?/WebKit\/(\S+)/.exec(i):Jt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(nD&&(cr=nD?nD[1]:""),Am){var eb=Qg();if(null!=eb&&eb>parseFloat(cr)){Rm=String(eb);break e}}Rm=cr}var rD=gn.document&&Am&&(Qg()||parseInt(Rm,10))||void 0;function Om(i,n){if(Br.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,r=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(Rh){e:{try{Xy(n.nodeName);var o=!0;break e}catch{}o=!1}o||(n=null)}}else"mouseover"==e?n=i.fromElement:"mouseout"==e&&(n=i.toElement);this.relatedTarget=n,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:oD[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Om.$.h.call(this)}}no(Om,Br);var oD={2:"touch",3:"pen",4:"mouse"};Om.prototype.h=function(){Om.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Pm="closure_listenable_"+(1e6*Math.random()|0),yO=0;function bO(i,n,e,r,o){this.listener=i,this.proxy=null,this.src=n,this.type=e,this.capture=!!r,this.la=o,this.key=++yO,this.fa=this.ia=!1}function nb(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Oh(i,n,e){for(const r in i)n.call(e,i[r],r,i)}function sD(i){const n={};for(const e in i)n[e]=i[e];return n}const aD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jg(i,n){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)i[e]=r[e];for(let a=0;a<aD.length;a++)e=aD[a],Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}}function Xg(i){this.src=i,this.g={},this.h=0}function ib(i,n){var e=n.type;if(e in i.g){var a,r=i.g[e],o=eu(r,n);(a=0<=o)&&Array.prototype.splice.call(r,o,1),a&&(nb(n),0==i.g[e].length&&(delete i.g[e],i.h--))}}function rb(i,n,e,r){for(var o=0;o<i.length;++o){var a=i[o];if(!a.fa&&a.listener==n&&a.capture==!!e&&a.la==r)return o}return-1}Xg.prototype.add=function(i,n,e,r,o){var a=i.toString();(i=this.g[a])||(i=this.g[a]=[],this.h++);var l=rb(i,n,r,o);return-1<l?(n=i[l],e||(n.ia=!1)):((n=new bO(n,this.src,a,!!r,o)).ia=e,i.push(n)),n};var Zx="closure_lm_"+(1e6*Math.random()|0),Ph={};function Nm(i,n,e,r,o){if(r&&r.once)return lD(i,n,e,r,o);if(Array.isArray(n)){for(var a=0;a<n.length;a++)Nm(i,n[a],e,r,o);return null}return e=Jx(e),i&&i[Pm]?i.O(n,e,Mm(r)?!!r.capture:!!r,o):cD(i,n,e,!1,r,o)}function cD(i,n,e,r,o,a){if(!n)throw Error("Invalid event type");var l=Mm(o)?!!o.capture:!!o,h=sb(i);if(h||(i[Zx]=h=new Xg(i)),(e=h.add(n,e,r,l,a)).proxy)return e;if(r=function xO(){const n=CO;return function i(e){return n.call(i.src,i.listener,e)}}(),e.proxy=r,r.src=i,r.listener=e,i.addEventListener)OB||(o=l),void 0===o&&(o=!1),i.addEventListener(n.toString(),r,o);else if(i.attachEvent)i.attachEvent(Kx(n.toString()),r);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(r)}return e}function lD(i,n,e,r,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)lD(i,n[a],e,r,o);return null}return e=Jx(e),i&&i[Pm]?i.P(n,e,Mm(r)?!!r.capture:!!r,o):cD(i,n,e,!0,r,o)}function Yx(i,n,e,r,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)Yx(i,n[a],e,r,o);else r=Mm(r)?!!r.capture:!!r,e=Jx(e),i&&i[Pm]?(i=i.i,(n=String(n).toString())in i.g&&-1<(e=rb(a=i.g[n],e,r,o))&&(nb(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete i.g[n],i.h--))):i&&(i=sb(i))&&(n=i.g[n.toString()],i=-1,n&&(i=rb(n,e,r,o)),(e=-1<i?n[i]:null)&&ob(e))}function ob(i){if("number"!=typeof i&&i&&!i.fa){var n=i.src;if(n&&n[Pm])ib(n.i,i);else{var e=i.type,r=i.proxy;n.removeEventListener?n.removeEventListener(e,r,i.capture):n.detachEvent?n.detachEvent(Kx(e),r):n.addListener&&n.removeListener&&n.removeListener(r),(e=sb(n))?(ib(e,i),0==e.h&&(e.src=null,n[Zx]=null)):nb(i)}}}function Kx(i){return i in Ph?Ph[i]:Ph[i]="on"+i}function CO(i,n){if(i.fa)i=!0;else{n=new Om(n,this);var e=i.listener,r=i.la||i.src;i.ia&&ob(i),i=e.call(r,n)}return i}function sb(i){return(i=i[Zx])instanceof Xg?i:null}var Qx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jx(i){return"function"==typeof i?i:(i[Qx]||(i[Qx]=function(n){return i.handleEvent(n)}),i[Qx])}function Ro(){Yc.call(this),this.i=new Xg(this),this.S=this,this.J=null}function Ko(i,n){var e,r=i.J;if(r)for(e=[];r;r=r.J)e.push(r);if(i=i.S,r=n.type||n,"string"==typeof n)n=new Br(n,i);else if(n instanceof Br)n.target=n.target||i;else{var o=n;Jg(n=new Br(r,i),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var l=n.g=e[a];o=Xx(l,r,!0,n)&&o}if(o=Xx(l=n.g=i,r,!0,n)&&o,o=Xx(l,r,!1,n)&&o,e)for(a=0;a<e.length;a++)o=Xx(l=n.g=e[a],r,!1,n)&&o}function Xx(i,n,e,r){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var o=!0,a=0;a<n.length;++a){var l=n[a];if(l&&!l.fa&&l.capture==e){var h=l.listener,m=l.la||l.src;l.ia&&ib(i.i,l),o=!1!==h.call(m,r)&&o}}return o&&!r.defaultPrevented}no(Ro,Yc),Ro.prototype[Pm]=!0,Ro.prototype.removeEventListener=function(i,n,e,r){Yx(this,i,n,e,r)},Ro.prototype.N=function(){if(Ro.$.N.call(this),this.i){var n,i=this.i;for(n in i.g){for(var e=i.g[n],r=0;r<e.length;r++)nb(e[r]);delete i.g[n],i.h--}}this.J=null},Ro.prototype.O=function(i,n,e,r){return this.i.add(String(i),n,!1,e,r)},Ro.prototype.P=function(i,n,e,r){return this.i.add(String(i),n,!0,e,r)};var dD=gn.JSON.stringify;function ab(){var i=eC;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var hD=new class uD{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fD,i=>i.reset());class fD{constructor(){this.next=this.g=this.h=null}set(n,e){this.h=n,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function e_(i){var n=1;i=i.split(":");const e=[];for(;0<n&&i.length;)e.push(i.shift()),n--;return i.length&&e.push(i.join(":")),e}function kO(i){gn.setTimeout(()=>{throw i},0)}let t_,n_=!1,eC=new class EO{constructor(){this.h=this.g=null}add(n,e){const r=hD.get();r.set(n,e),this.h?this.h.next=r:this.g=r,this.h=r}},TO=()=>{const i=gn.Promise.resolve(void 0);t_=()=>{i.then(IO)}};var IO=()=>{for(var i;i=ab();){try{i.h.call(i.g)}catch(e){kO(e)}var n=hD;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}n_=!1};function i_(i,n){Ro.call(this),this.h=i||1,this.g=n||gn,this.j=Ao(this.qb,this),this.l=Date.now()}function tC(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function nC(i,n,e){if("function"==typeof i)e&&(i=Ao(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ao(i.handleEvent,i)}return 2147483647<Number(n)?-1:gn.setTimeout(i,n||0)}function Fm(i){i.g=nC(()=>{i.g=null,i.i&&(i.i=!1,Fm(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}no(i_,Ro),(wt=i_.prototype).ga=!1,wt.T=null,wt.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ko(this,"tick"),this.ga&&(tC(this),this.start()))}},wt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.N=function(){i_.$.N.call(this),tC(this),delete this.g};class DO extends Yc{constructor(n,e){super(),this.m=n,this.j=e,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Fm(this)}N(){super.N(),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lm(i){Yc.call(this),this.h=i,this.g={}}no(Lm,Yc);var mD=[];function iC(i,n,e,r){Array.isArray(e)||(e&&(mD[0]=e.toString()),e=mD);for(var o=0;o<e.length;o++){var a=Nm(n,e[o],r||i.handleEvent,!1,i.h||i);if(!a)break;i.g[a.key]=a}}function pD(i){Oh(i.g,function(n,e){this.g.hasOwnProperty(e)&&ob(n)},i),i.g={}}function r_(){this.g=!0}function Bm(i,n,e,r){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function _D(i,n){if(!i.g)return n;if(!n)return null;try{var e=JSON.parse(n);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var r=e[i];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<o.length;l++)o[l]=""}}}return dD(e)}catch{return n}}(i,e)+(r?" "+r:"")})}Lm.prototype.N=function(){Lm.$.N.call(this),pD(this)},Lm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},r_.prototype.Ea=function(){this.g=!1},r_.prototype.info=function(){};var Nh={},vD=null;function cb(){return vD=vD||new Ro}function lb(i){Br.call(this,Nh.Ta,i)}function o_(i){const n=cb();Ko(n,new lb(n))}function oC(i,n){Br.call(this,Nh.STAT_EVENT,i),this.stat=n}function ms(i){const n=cb();Ko(n,new oC(n,i))}function yD(i,n){Br.call(this,Nh.Ua,i),this.size=n}function s_(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){i()},n)}Nh.Ta="serverreachability",no(lb,Br),Nh.STAT_EVENT="statevent",no(oC,Br),Nh.Ua="timingevent",no(yD,Br);var db={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sC(){}function xD(){}sC.prototype.h=null;var cC,Vm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ub(){Br.call(this,"d")}function aC(){Br.call(this,"c")}function a_(){}function c_(i,n,e,r){this.l=i,this.j=n,this.m=e,this.W=r||1,this.U=new Lm(this),this.P=MO,this.V=new i_(i=Wx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CD}function CD(){this.i=null,this.g="",this.h=!1}no(ub,Br),no(aC,Br),no(a_,sC),a_.prototype.g=function(){return new XMLHttpRequest},a_.prototype.i=function(){return{}},cC=new a_;var MO=45e3,l_={},Um={};function hb(i,n,e){i.L=1,i.v=h_(Kc(n)),i.s=e,i.S=!0,fb(i,null)}function fb(i,n){i.G=Date.now(),d_(i),i.A=Kc(i.v);var e=i.A,r=i.W;Array.isArray(r)||(r=[String(r)]),pC(e.i,"t",r),i.C=0,e=i.l.J,i.h=new CD,i.g=IC(i.l,e?n:null,!i.s),0<i.O&&(i.M=new DO(Ao(i.Pa,i,i.g),i.O)),iC(i.U,i.g,"readystatechange",i.nb),n=i.I?sD(i.I):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,n)):(i.u="GET",i.g.ha(i.A,i.u,null,n)),o_(),function SO(i,n,e,r,o,a){i.info(function(){if(i.g)if(a)for(var l="",h=a.split("&"),m=0;m<h.length;m++){var g=h[m].split("=");if(1<g.length){var b=g[0];g=g[1];var E=b.split("_");l=2<=E.length&&"type"==E[1]?l+(b+"=")+g+"&":l+(b+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+n+"\n"+e+"\n"+l})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ED(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function kD(i,n,e){let o,r=!0;for(;!i.J&&i.C<e.length;){if(o=lC(i,e),o==Um){4==n&&(i.o=4,ms(14),r=!1),Bm(i.j,i.m,null,"[Incomplete Response]");break}if(o==l_){i.o=4,ms(15),Bm(i.j,i.m,e,"[Invalid Chunk]"),r=!1;break}Bm(i.j,i.m,o,null),TD(i,o)}ED(i)&&o!=Um&&o!=l_&&(i.h.g="",i.C=0),4!=n||0!=e.length||i.h.h||(i.o=1,ms(16),r=!1),i.i=i.i&&r,r?0<e.length&&!i.ba&&(i.ba=!0,(n=i.l).g==i&&n.ca&&!n.M&&(n.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),yb(n),n.M=!0,ms(11))):(Bm(i.j,i.m,e,"[Invalid Chunked Response]"),Fh(i),Hm(i))}function lC(i,n){var e=i.C,r=n.indexOf("\n",e);return-1==r?Um:(e=Number(n.substring(e,r)),isNaN(e)?l_:(r+=1)+e>n.length?Um:(n=n.slice(r,r+e),i.C=r+e,n))}function d_(i){i.Y=Date.now()+i.P,dC(i,i.P)}function dC(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=s_(Ao(i.lb,i),n)}function zl(i){i.B&&(gn.clearTimeout(i.B),i.B=null)}function Hm(i){0==i.l.H||i.J||TC(i.l,i)}function Fh(i){zl(i);var n=i.M;n&&"function"==typeof n.sa&&n.sa(),i.M=null,tC(i.V),pD(i.U),i.g&&(n=i.g,i.g=null,n.abort(),n.sa())}function TD(i,n){try{var e=i.l;if(0!=e.H&&(e.g==i||_C(e.i,i)))if(!i.K&&_C(e.i,i)&&3==e.H){try{var r=e.Ja.g.parse(n)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<i.G))break e;k_(e),_b(e)}E_(e),ms(18)}}else e.Fa=o[1],0<e.Fa-e.V&&37500>o[2]&&e.G&&0==e.A&&!e.v&&(e.v=s_(Ao(e.ib,e),6e3));if(1>=LD(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Uh(e,11)}else if((i.K||e.g==i)&&k_(e),!Ah(n))for(o=e.Ja.g.parse(n),n=0;n<o.length;n++){let g=o[n];if(e.V=g[0],g=g[1],2==e.H)if("c"==g[0]){e.K=g[1],e.pa=g[2];const b=g[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const E=g[4];null!=E&&(e.Ga=E,e.l.info("SVER="+e.Ga));const S=g[5];null!=S&&"number"==typeof S&&0<S&&(e.L=r=1.5*S,e.l.info("backChannelRequestTimeoutMs_="+r)),r=e;const R=i.g;if(R){const F=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var a=r.i;a.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(vC(a,a.h),a.h=null))}if(r.F){const G=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,zi(r.I,r.F,G))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-i.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=i;if((r=e).wa=wb(r,r.J?r.pa:null,r.Y),l.K){jm(r.i,l);var h=l,m=r.L;m&&h.setTimeout(m),h.B&&(zl(h),d_(h)),r.g=l}else kC(r);0<e.j.length&&x_(e)}else"stop"!=g[0]&&"close"!=g[0]||Uh(e,7);else 3==e.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Uh(e,7):gb(e):"noop"!=g[0]&&e.h&&e.h.Aa(g),e.A=0)}o_()}catch{}}function ID(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(Qy(i)||"string"==typeof i)Array.prototype.forEach.call(i,n,void 0);else for(var e=function hC(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Qy(i)||"string"==typeof i){var n=[];i=i.length;for(var e=0;e<i;e++)n.push(e);return n}n=[],e=0;for(const r in i)n[e++]=r;return n}}}(i),r=function uC(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Qy(i)){for(var n=[],e=i.length,r=0;r<e;r++)n.push(i[r]);return n}for(r in n=[],e=0,i)n[e++]=i[r];return n}(i),o=r.length,a=0;a<o;a++)n.call(void 0,r[a],e&&e[a],i)}(wt=c_.prototype).setTimeout=function(i){this.P=i},wt.nb=function(i){i=i.target;const n=this.M;n&&3==Ks(i)?n.l():this.Pa(i)},wt.Pa=function(i){try{if(i==this.g)e:{const b=Ks(this.g);var n=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Wx||this.g&&(this.h.h||this.g.ja()||CC(this.g)))){this.J||4!=b||7==n||o_(),zl(this);var e=this.g.da();this.ca=e;t:if(ED(this)){var r=CC(this.g);i="";var o=r.length,a=4==Ks(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fh(this),Hm(this);var l="";break t}this.h.i=new gn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,i+=this.h.i.decode(r[n],{stream:a&&n==o-1});r.splice(0,o),this.h.g+=i,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function rC(i,n,e,r,o,a,l){i.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+n+"\n"+e+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ah(h)){var g=h;break t}}g=null}if(!(e=g)){this.i=!1,this.o=3,ms(12),Fh(this),Hm(this);break e}Bm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,TD(this,e)}this.S?(kD(this,b,l),Wx&&this.i&&3==b&&(iC(this.U,this.V,"tick",this.mb),this.V.start())):(Bm(this.j,this.m,l,null),TD(this,l)),4==b&&Fh(this),this.i&&!this.J&&(4==b?TC(this.l,this):(this.i=!1,d_(this)))}else(function FO(i){const n={};i=(i.g&&2<=Ks(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<i.length;r++){if(Ah(i[r]))continue;var e=e_(i[r]);const o=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const a=n[o]||[];n[o]=a,a.push(e)}!function wO(i,n){for(const e in i)n.call(void 0,i[e],e,i)}(n,function(r){return r.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,ms(12)):(this.o=0,ms(13)),Fh(this),Hm(this)}}}catch{}},wt.mb=function(){if(this.g){var i=Ks(this.g),n=this.g.ja();this.C<n.length&&(zl(this),kD(this,i,n),this.i&&4!=i&&d_(this))}},wt.cancel=function(){this.J=!0,Fh(this)},wt.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function gD(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.L&&(o_(),ms(17)),Fh(this),this.o=2,Hm(this)):dC(this,this.Y-i)};var fC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Lh){this.h=i.h,zm(this,i.j),this.s=i.s,this.g=i.g,u_(this,i.m),this.l=i.l;var n=i.i,e=new p_;e.i=n.i,n.g&&(e.g=new Map(n.g),e.h=n.h),mC(this,e),this.o=i.o}else i&&(n=String(i).match(fC))?(this.h=!1,zm(this,n[1]||"",!0),this.s=f_(n[2]||""),this.g=f_(n[3]||"",!0),u_(this,n[4]),this.l=f_(n[5]||"",!0),mC(this,n[6]||"",!0),this.o=f_(n[7]||"")):(this.h=!1,this.i=new p_(null,this.h))}function Kc(i){return new Lh(i)}function zm(i,n,e){i.j=e?f_(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function u_(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function mC(i,n,e){n instanceof p_?(i.i=n,function PD(i,n){n&&!i.j&&(Bh(i),i.i=null,i.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&(RD(this,r),pC(this,o,e))},i)),i.j=n}(i.i,i.h)):(e||(n=m_(n,AD)),i.i=new p_(n,i.h))}function zi(i,n,e){i.i.set(n,e)}function h_(i){return zi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function f_(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function m_(i,n,e){return"string"==typeof i?(i=encodeURI(i).replace(n,AO),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function AO(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Lh.prototype.toString=function(){var i=[],n=this.j;n&&i.push(m_(n,SD,!0),":");var e=this.g;return(e||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(m_(n,SD,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&i.push("/"),i.push(m_(e,"/"==e.charAt(0)?NB:MD,!0))),(e=this.i.toString())&&i.push("?",e),(e=this.o)&&i.push("#",m_(e,RO)),i.join("")};var SD=/[#\/\?@]/g,MD=/[#\?:]/g,NB=/[#\?]/g,AD=/[#\?@]/g,RO=/#/g;function p_(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Bh(i){i.g||(i.g=new Map,i.h=0,i.i&&function DD(i,n){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var r=i[e].indexOf("="),o=null;if(0<=r){var a=i[e].substring(0,r);o=i[e].substring(r+1)}else a=i[e];n(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(i.i,function(n,e){i.add(decodeURIComponent(n.replace(/\+/g," ")),e)}))}function RD(i,n){Bh(i),n=Vh(i,n),i.g.has(n)&&(i.i=null,i.h-=i.g.get(n).length,i.g.delete(n))}function OD(i,n){return Bh(i),n=Vh(i,n),i.g.has(n)}function pC(i,n,e){RD(i,n),0<e.length&&(i.i=null,i.g.set(Vh(i,n),Gx(e)),i.h+=e.length)}function Vh(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function gC(i){this.l=i||OO,i=gn.PerformanceNavigationTiming?0<(i=gn.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(gn.g&&gn.g.Ka&&gn.g.Ka()&&gn.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=p_.prototype).add=function(i,n){Bh(this),this.i=null,i=Vh(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(n),this.h+=1,this},wt.forEach=function(i,n){Bh(this),this.g.forEach(function(e,r){e.forEach(function(o){i.call(n,o,r,this)},this)},this)},wt.ta=function(){Bh(this);const i=Array.from(this.g.values()),n=Array.from(this.g.keys()),e=[];for(let r=0;r<n.length;r++){const o=i[r];for(let a=0;a<o.length;a++)e.push(n[r])}return e},wt.Z=function(i){Bh(this);let n=[];if("string"==typeof i)OD(this,i)&&(n=n.concat(this.g.get(Vh(this,i))));else{i=Array.from(this.g.values());for(let e=0;e<i.length;e++)n=n.concat(i[e])}return n},wt.set=function(i,n){return Bh(this),this.i=null,OD(this,i=Vh(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},wt.get=function(i,n){return i&&0<(i=this.Z(i)).length?String(i[0]):n},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],n=Array.from(this.g.keys());for(var e=0;e<n.length;e++){var r=n[e];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=a;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),i.push(o)}}return this.i=i.join("&")};var OO=10;function FD(i){return!!i.h||!!i.g&&i.g.size>=i.j}function LD(i){return i.h?1:i.g?i.g.size:0}function _C(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function vC(i,n){i.g?i.g.add(n):i.h=n}function jm(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function yC(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const e of i.g.values())n=n.concat(e.F);return n}return Gx(i.i)}gC.prototype.cancel=function(){if(this.i=yC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var BD=class{stringify(i){return gn.JSON.stringify(i,void 0)}parse(i){return gn.JSON.parse(i,void 0)}};function VD(){this.g=new BD}function UD(i,n,e){const r=e||"";try{ID(i,function(o,a){let l=o;Mm(o)&&(l=dD(o)),n.push(r+a+"="+encodeURIComponent(l))})}catch(o){throw n.push(r+"type="+encodeURIComponent("_badmap")),o}}function g_(i,n,e,r,o){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,o(r)}catch{}}function __(i){this.l=i.fc||null,this.j=i.ob||!1}function bC(i,n){Ro.call(this),this.F=i,this.u=n,this.m=void 0,this.readyState=mb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}no(__,sC),__.prototype.g=function(){return new bC(this.l,this.j)},__.prototype.i=function(i){return function(){return i}}({}),no(bC,Ro);var mb=0;function wC(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function $m(i){i.readyState=4,i.l=null,i.j=null,i.A=null,v_(i)}function v_(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(wt=bC.prototype).open=function(i,n){if(this.readyState!=mb)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,v_(this)},wt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.F||gn).fetch(new Request(this.B,n)).then(this.$a.bind(this),this.ka.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$m(this)),this.readyState=mb},wt.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,v_(this)),this.g&&(this.readyState=3,v_(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gn.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wC(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},wt.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?$m(this):v_(this),3==this.readyState&&wC(this)}},wt.Za=function(i){this.g&&(this.response=this.responseText=i,$m(this))},wt.Ya=function(i){this.g&&(this.response=i,$m(this))},wt.ka=function(){this.g&&$m(this)},wt.setRequestHeader=function(i,n){this.v.append(i,n)},wt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var e=n.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=n.next();return i.join("\r\n")},Object.defineProperty(bC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var PO=gn.JSON.parse;function ji(i){Ro.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zD,this.L=this.M=!1}no(ji,Ro);var zD="",xC=/^https?$/i,Qc=["POST","PUT"];function y_(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Gm(i),pb(i)}function Gm(i){i.F||(i.F=!0,Ko(i,"complete"),Ko(i,"error"))}function jD(i){if(i.h&&typeof jx<"u"&&(!i.C[1]||4!=Ks(i)||2!=i.da()))if(i.v&&4==Ks(i))nC(i.La,0,i);else if(Ko(i,"readystatechange"),4==Ks(i)){i.h=!1;try{const l=i.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var e;if(!(e=n)){var r;if(r=0===l){var o=String(i.I).match(fC)[1]||null;!o&&gn.self&&gn.self.location&&(o=gn.self.location.protocol.slice(0,-1)),r=!xC.test(o?o.toLowerCase():"")}e=r}if(e)Ko(i,"complete"),Ko(i,"success");else{i.m=6;try{var a=2<Ks(i)?i.g.statusText:""}catch{a=""}i.j=a+" ["+i.da()+"]",Gm(i)}}finally{pb(i)}}}function pb(i,n){if(i.g){$D(i);const e=i.g,r=i.C[0]?()=>{}:null;i.g=null,i.C=null,n||Ko(i,"ready");try{e.onreadystatechange=r}catch{}}}function $D(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(gn.clearTimeout(i.A),i.A=null)}function Ks(i){return i.g?i.g.readyState:0}function CC(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case zD:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function GD(i){let n="";return Oh(i,function(e,r){n+=r,n+=":",n+=e,n+="\r\n"}),n}function b_(i,n,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=GD(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):zi(i,n,e))}function w_(i,n,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||n}function qD(i){this.Ga=0,this.j=[],this.l=new r_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=w_("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=w_("baseRetryDelayMs",5e3,i),this.hb=w_("retryDelaySeedMs",1e4,i),this.eb=w_("forwardChannelMaxRetries",2,i),this.xa=w_("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new gC(i&&i.concurrentRequestLimit),this.Ja=new VD,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gb(i){if(WD(i),3==i.H){var n=i.W++,e=Kc(i.I);if(zi(e,"SID",i.K),zi(e,"RID",n),zi(e,"TYPE","terminate"),C_(i,e),(n=new c_(i,i.l,n)).L=2,n.v=h_(Kc(e)),e=!1,gn.navigator&&gn.navigator.sendBeacon)try{e=gn.navigator.sendBeacon(n.v.toString(),"")}catch{}!e&&gn.Image&&((new Image).src=n.v,e=!0),e||(n.g=IC(n.l,null),n.g.ha(n.v)),n.G=Date.now(),d_(n)}bb(i)}function _b(i){i.g&&(yb(i),i.g.cancel(),i.g=null)}function WD(i){_b(i),i.u&&(gn.clearTimeout(i.u),i.u=null),k_(i),i.i.cancel(),i.m&&("number"==typeof i.m&&gn.clearTimeout(i.m),i.m=null)}function x_(i){if(!FD(i.i)&&!i.m){i.m=!0;var n=i.Na;t_||TO(),n_||(t_(),n_=!0),eC.add(n,i),i.C=0}}function ZD(i,n){var e;e=n?n.m:i.W++;const r=Kc(i.I);zi(r,"SID",i.K),zi(r,"RID",e),zi(r,"AID",i.V),C_(i,r),i.o&&i.s&&b_(r,i.o,i.s),e=new c_(i,i.l,e,i.C+1),null===i.o&&(e.I=i.s),n&&(i.j=n.F.concat(i.j)),n=EC(i,e,1e3),e.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),vC(i.i,e),hb(e,r,n)}function C_(i,n){i.na&&Oh(i.na,function(e,r){zi(n,r,e)}),i.h&&ID({},function(e,r){zi(n,r,e)})}function EC(i,n,e){e=Math.min(i.j.length,e);var r=i.h?Ao(i.h.Va,i.h,i):null;e:{var o=i.j;let a=-1;for(;;){const l=["count="+e];-1==a?0<e?(a=o[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let m=0;m<e;m++){let g=o[m].g;const b=o[m].map;if(g-=a,0>g)a=Math.max(0,o[m].g-100),h=!1;else try{UD(b,l,"req"+g+"_")}catch{r&&r(b)}}if(h){r=l.join("&");break e}}}return i=i.j.splice(0,e),n.F=i,r}function kC(i){if(!i.g&&!i.u){i.ba=1;var n=i.Ma;t_||TO(),n_||(t_(),n_=!0),eC.add(n,i),i.A=0}}function E_(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=s_(Ao(i.Ma,i),KD(i,i.A)),i.A++,0))}function yb(i){null!=i.B&&(gn.clearTimeout(i.B),i.B=null)}function YD(i){i.g=new c_(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var n=Kc(i.wa);zi(n,"RID","rpc"),zi(n,"SID",i.K),zi(n,"AID",i.V),zi(n,"CI",i.G?"0":"1"),!i.G&&i.qa&&zi(n,"TO",i.qa),zi(n,"TYPE","xmlhttp"),C_(i,n),i.o&&i.s&&b_(n,i.o,i.s),i.L&&i.g.setTimeout(i.L);var e=i.g;i=i.pa,e.L=1,e.v=h_(Kc(n)),e.s=null,e.S=!0,fb(e,i)}function k_(i){null!=i.v&&(gn.clearTimeout(i.v),i.v=null)}function TC(i,n){var e=null;if(i.g==n){k_(i),yb(i),i.g=null;var r=2}else{if(!_C(i.i,n))return;e=n.F,jm(i.i,n),r=1}if(0!=i.H)if(n.i)if(1==r){e=n.s?n.s.length:0,n=Date.now()-n.G;var o=i.C;Ko(r=cb(),new yD(r,e)),x_(i)}else kC(i);else if(3==(o=n.o)||0==o&&0<n.ca||!(1==r&&function vb(i,n){return!(LD(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=n.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=s_(Ao(i.Na,i,n),KD(i,i.C)),i.C++,0)))}(i,n)||2==r&&E_(i)))switch(e&&0<e.length&&(n=i.i,n.i=n.i.concat(e)),o){case 1:Uh(i,5);break;case 4:Uh(i,10);break;case 3:Uh(i,6);break;default:Uh(i,2)}}function KD(i,n){let e=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(e*=2),e*n}function Uh(i,n){if(i.l.info("Error code "+n),2==n){var e=null;i.h&&(e=null);var r=Ao(i.pb,i);e||(e=new Lh("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||zm(e,"https"),h_(e)),function HD(i,n){const e=new r_;if(gn.Image){const r=new Image;r.onload=Kg(g_,e,r,"TestLoadImage: loaded",!0,n),r.onerror=Kg(g_,e,r,"TestLoadImage: error",!1,n),r.onabort=Kg(g_,e,r,"TestLoadImage: abort",!1,n),r.ontimeout=Kg(g_,e,r,"TestLoadImage: timeout",!1,n),gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=i}else n(!1)}(e.toString(),r)}else ms(2);i.H=0,i.h&&i.h.za(n),bb(i),WD(i)}function bb(i){if(i.H=0,i.ma=[],i.h){const n=yC(i.i);(0!=n.length||0!=i.j.length)&&(eD(i.ma,n),eD(i.ma,i.j),i.i.i.length=0,Gx(i.j),i.j.length=0),i.h.ya()}}function wb(i,n,e){var r=e instanceof Lh?Kc(e):new Lh(e);if(""!=r.g)n&&(r.g=n+"."+r.g),u_(r,r.m);else{var o=gn.location;r=o.protocol,n=n?n+"."+o.hostname:o.hostname,o=+o.port;var a=new Lh(null);r&&zm(a,r),n&&(a.g=n),o&&u_(a,o),e&&(a.l=e),r=a}return n=i.Da,(e=i.F)&&n&&zi(r,e,n),zi(r,"VER",i.ra),C_(i,r),r}function IC(i,n,e){if(n&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new ji(e&&i.Ha&&!i.va?new __({ob:!0}):i.va)).Oa(i.J),n}function xb(){}function qm(){if(Am&&!(10<=Number(rD)))throw Error("Environmental error: no available transport.")}function Qs(i,n){Ro.call(this),this.g=new qD(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.Ca&&(i?i["X-WebChannel-Client-Profile"]=n.Ca:i={"X-WebChannel-Client-Profile":n.Ca}),this.g.U=i,(i=n&&n.cc)&&!Ah(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ah(n)&&(this.g.F=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Wm(this)}function QD(i){ub.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var n=i.__sm__;if(n){e:{for(const e in n){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function JD(){aC.call(this),this.status=1}function Wm(i){this.g=i}function Js(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cb(i,n,e){e||(e=0);var r=Array(16);if("string"==typeof n)for(var o=0;16>o;++o)r[o]=n.charCodeAt(e++)|n.charCodeAt(e++)<<8|n.charCodeAt(e++)<<16|n.charCodeAt(e++)<<24;else for(o=0;16>o;++o)r[o]=n[e++]|n[e++]<<8|n[e++]<<16|n[e++]<<24;var a=i.g[3],l=(n=i.g[0])+(a^(e=i.g[1])&((o=i.g[2])^a))+r[0]+3614090360&4294967295;l=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=(e=(o=(a=(n=e+(l<<7&4294967295|l>>>25))+((l=a+(o^n&(e^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(n^e))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(a^n))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=n+(a^e&(o^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(o^n&(e^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(n^e))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(a^n))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=n+(a^e&(o^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(o^n&(e^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(n^e))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(a^n))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=n+(a^e&(o^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(o^n&(e^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^a&(n^e))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(a^n))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=n+(o^a&(e^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(n^e))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(a^n))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^n&(o^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=n+(o^a&(e^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(n^e))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(a^n))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^n&(o^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=n+(o^a&(e^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(n^e))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(a^n))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^n&(o^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=n+(o^a&(e^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(e^o&(n^e))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(a^n))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(a^n&(o^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=n+(e^o^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(n^e^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^n^e)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^n)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=n+(e^o^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(n^e^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^n^e)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^n)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=n+(e^o^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(n^e^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^n^e)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^n)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=n+(e^o^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(n^e^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(a^n^e)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^a^n)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=n+(o^(e|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(n|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(n^(a|~e))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(a^(o|~n))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=n+(o^(e|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(n|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(n^(a|~e))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(a^(o|~n))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=n+(o^(e|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(n|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(n^(a|~e))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(a^(o|~n))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(n=e+((l=n+(o^(e|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(e^(n|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=a+((l=o+(n^(a|~e))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~n))+r[9]+3951481745&4294967295,i.g[0]=i.g[0]+n&4294967295,i.g[1]=i.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,i.g[2]=i.g[2]+o&4294967295,i.g[3]=i.g[3]+a&4294967295}function di(i,n){this.h=n;for(var e=[],r=!0,o=i.length-1;0<=o;o--){var a=0|i[o];r&&a==n||(e[o]=a,r=!1)}this.g=e}(wt=ji.prototype).Oa=function(i){this.M=i},wt.ha=function(i,n,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);n=n?n.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cC.g(),this.C=function wD(i){return i.h||(i.h=i.i())}(this.u?this.u:cC),this.g.onreadystatechange=Ao(this.La,this);try{this.G=!0,this.g.open(n,String(i),!0),this.G=!1}catch(a){return void y_(this,a)}if(i=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)e.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())e.set(a,r.get(a))}r=Array.from(e.keys()).find(a=>"content-type"==a.toLowerCase()),o=gn.FormData&&i instanceof gn.FormData,!(0<=eu(Qc,n))||r||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of e)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$D(this),0<this.B&&((this.L=function NO(i){return Am&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ao(this.ua,this)):this.A=nC(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(a){y_(this,a)}},wt.ua=function(){typeof jx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ko(this,"timeout"),this.abort(8))},wt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ko(this,"complete"),Ko(this,"abort"),pb(this))},wt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pb(this,!0)),ji.$.N.call(this)},wt.La=function(){this.s||(this.G||this.v||this.l?jD(this):this.kb())},wt.kb=function(){jD(this)},wt.isActive=function(){return!!this.g},wt.da=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},wt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Wa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),PO(n)}},wt.Ia=function(){return this.m},wt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=qD.prototype).ra=8,wt.H=1,wt.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const o=new c_(this,this.l,i);let a=this.s;if(this.U&&(a?(a=sD(a),Jg(a,this.U)):a=this.U),null!==this.o||this.O||(o.I=a,a=null),this.P)e:{for(var n=0,e=0;e<this.j.length;e++){var r=this.j[e];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(n+=r)){n=e;break e}if(4096===n||e===this.j.length-1){n=e+1;break e}}n=1e3}else n=1e3;n=EC(this,o,n),zi(e=Kc(this.I),"RID",i),zi(e,"CVER",22),this.F&&zi(e,"X-HTTP-Session-Id",this.F),C_(this,e),a&&(this.O?n="headers="+encodeURIComponent(String(GD(a)))+"&"+n:this.o&&b_(e,this.o,a)),vC(this.i,o),this.bb&&zi(e,"TYPE","init"),this.P?(zi(e,"$req",n),zi(e,"SID","null"),o.aa=!0,hb(o,e,null)):hb(o,e,n),this.H=2}}else 3==this.H&&(i?ZD(this,i):0==this.j.length||FD(this.i)||ZD(this))},wt.Ma=function(){if(this.u=null,YD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=s_(Ao(this.jb,this),i)}},wt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ms(10),_b(this),YD(this))},wt.ib=function(){null!=this.v&&(this.v=null,_b(this),E_(this),ms(19))},wt.pb=function(i){i?(this.l.info("Successfully pinged google.com"),ms(2)):(this.l.info("Failed to ping google.com"),ms(1))},wt.isActive=function(){return!!this.h&&this.h.isActive(this)},(wt=xb.prototype).Ba=function(){},wt.Aa=function(){},wt.za=function(){},wt.ya=function(){},wt.isActive=function(){return!0},wt.Va=function(){},qm.prototype.g=function(i,n){return new Qs(i,n)},no(Qs,Ro),Qs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,n=this.l,e=this.h||void 0;ms(0),i.Y=n,i.na=e||{},i.G=i.aa,i.I=wb(i,null,i.Y),x_(i)},Qs.prototype.close=function(){gb(this.g)},Qs.prototype.u=function(i){var n=this.g;if("string"==typeof i){var e={};e.__data__=i,i=e}else this.v&&((e={}).__data__=dD(i),i=e);n.j.push(new class{constructor(i,n){this.g=i,this.map=n}}(n.fb++,i)),3==n.H&&x_(n)},Qs.prototype.N=function(){this.g.h=null,delete this.j,gb(this.g),delete this.g,Qs.$.N.call(this)},no(QD,ub),no(JD,aC),no(Wm,xb),Wm.prototype.Ba=function(){Ko(this.g,"a")},Wm.prototype.Aa=function(i){Ko(this.g,new QD(i))},Wm.prototype.za=function(i){Ko(this.g,new JD)},Wm.prototype.ya=function(){Ko(this.g,"b")},no(Js,function XD(){this.blockSize=-1}),Js.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Js.prototype.j=function(i,n){void 0===n&&(n=i.length);for(var e=n-this.blockSize,r=this.m,o=this.h,a=0;a<n;){if(0==o)for(;a<=e;)Cb(this,i,a),a+=this.blockSize;if("string"==typeof i){for(;a<n;)if(r[o++]=i.charCodeAt(a++),o==this.blockSize){Cb(this,r),o=0;break}}else for(;a<n;)if(r[o++]=i[a++],o==this.blockSize){Cb(this,r),o=0;break}}this.h=o,this.i+=n},Js.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var n=1;n<i.length-8;++n)i[n]=0;var e=8*this.i;for(n=i.length-8;n<i.length;++n)i[n]=255&e,e/=256;for(this.j(i),i=Array(16),n=e=0;4>n;++n)for(var r=0;32>r;r+=8)i[e++]=this.g[n]>>>r&255;return i};var eS={};function Eb(i){return-128<=i&&128>i?function PB(i,n){var e=eS;return Object.prototype.hasOwnProperty.call(e,i)?e[i]:e[i]=n(i)}(i,function(n){return new di([0|n],0>n?-1:0)}):new di([0|i],0>i?-1:0)}function Jc(i){if(isNaN(i)||!isFinite(i))return Zm;if(0>i)return Po(Jc(-i));for(var n=[],e=1,r=0;i>=e;r++)n[r]=i/e|0,e*=kb;return new di(n,0)}var kb=4294967296,Zm=Eb(0),Tb=Eb(1),SC=Eb(16777216);function br(i){if(0!=i.h)return!1;for(var n=0;n<i.g.length;n++)if(0!=i.g[n])return!1;return!0}function Oo(i){return-1==i.h}function Po(i){for(var n=i.g.length,e=[],r=0;r<n;r++)e[r]=~i.g[r];return new di(e,~i.h).add(Tb)}function Ib(i,n){return i.add(Po(n))}function MC(i,n){for(;(65535&i[n])!=i[n];)i[n+1]+=i[n]>>>16,i[n]&=65535,n++}function Db(i,n){this.g=i,this.h=n}function T_(i,n){if(br(n))throw Error("division by zero");if(br(i))return new Db(Zm,Zm);if(Oo(i))return n=T_(Po(i),n),new Db(Po(n.g),Po(n.h));if(Oo(n))return n=T_(i,Po(n)),new Db(Po(n.g),n.h);if(30<i.g.length){if(Oo(i)||Oo(n))throw Error("slowDivide_ only works with positive integers.");for(var e=Tb,r=n;0>=r.X(i);)e=Sb(e),r=Sb(r);var o=Xc(e,1),a=Xc(r,1);for(r=Xc(r,2),e=Xc(e,2);!br(r);){var l=a.add(r);0>=l.X(i)&&(o=o.add(e),a=l),r=Xc(r,1),e=Xc(e,1)}return n=Ib(i,o.R(n)),new Db(o,n)}for(o=Zm;0<=i.X(n);){for(e=Math.max(1,Math.floor(i.ea()/n.ea())),r=48>=(r=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Jc(e)).R(n);Oo(l)||0<l.X(i);)l=(a=Jc(e-=r)).R(n);br(a)&&(a=Tb),o=o.add(a),i=Ib(i,l)}return new Db(o,i)}function Sb(i){for(var n=i.g.length+1,e=[],r=0;r<n;r++)e[r]=i.D(r)<<1|i.D(r-1)>>>31;return new di(e,i.h)}function Xc(i,n){var e=n>>5;n%=32;for(var r=i.g.length-e,o=[],a=0;a<r;a++)o[a]=0<n?i.D(a+e)>>>n|i.D(a+e+1)<<32-n:i.D(a+e);return new di(o,i.h)}(wt=di.prototype).ea=function(){if(Oo(this))return-Po(this).ea();for(var i=0,n=1,e=0;e<this.g.length;e++){var r=this.D(e);i+=(0<=r?r:kb+r)*n,n*=kb}return i},wt.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(br(this))return"0";if(Oo(this))return"-"+Po(this).toString(i);for(var n=Jc(Math.pow(i,6)),e=this,r="";;){var o=T_(e,n).g,a=((0<(e=Ib(e,o.R(n))).g.length?e.g[0]:e.h)>>>0).toString(i);if(br(e=o))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},wt.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},wt.X=function(i){return Oo(i=Ib(this,i))?-1:br(i)?0:1},wt.abs=function(){return Oo(this)?Po(this):this},wt.add=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0,o=0;o<=n;o++){var a=r+(65535&this.D(o))+(65535&i.D(o)),l=(a>>>16)+(this.D(o)>>>16)+(i.D(o)>>>16);r=l>>>16,e[o]=(l&=65535)<<16|(a&=65535)}return new di(e,-2147483648&e[e.length-1]?-1:0)},wt.R=function(i){if(br(this)||br(i))return Zm;if(Oo(this))return Oo(i)?Po(this).R(Po(i)):Po(Po(this).R(i));if(Oo(i))return Po(this.R(Po(i)));if(0>this.X(SC)&&0>i.X(SC))return Jc(this.ea()*i.ea());for(var n=this.g.length+i.g.length,e=[],r=0;r<2*n;r++)e[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<i.g.length;o++){var a=this.D(r)>>>16,l=65535&this.D(r),h=i.D(o)>>>16,m=65535&i.D(o);e[2*r+2*o]+=l*m,MC(e,2*r+2*o),e[2*r+2*o+1]+=a*m,MC(e,2*r+2*o+1),e[2*r+2*o+1]+=l*h,MC(e,2*r+2*o+1),e[2*r+2*o+2]+=a*h,MC(e,2*r+2*o+2)}for(r=0;r<n;r++)e[r]=e[2*r+1]<<16|e[2*r];for(r=n;r<2*n;r++)e[r]=0;return new di(e,0)},wt.gb=function(i){return T_(this,i).h},wt.and=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0;r<n;r++)e[r]=this.D(r)&i.D(r);return new di(e,this.h&i.h)},wt.or=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0;r<n;r++)e[r]=this.D(r)|i.D(r);return new di(e,this.h|i.h)},wt.xor=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0;r<n;r++)e[r]=this.D(r)^i.D(r);return new di(e,this.h^i.h)},qm.prototype.createWebChannel=qm.prototype.g,Qs.prototype.send=Qs.prototype.u,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,db.NO_ERROR=0,db.TIMEOUT=8,db.HTTP_ERROR=6,bD.COMPLETE="complete",xD.EventType=Vm,Vm.OPEN="a",Vm.CLOSE="b",Vm.ERROR="c",Vm.MESSAGE="d",Ro.prototype.listen=Ro.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,Js.prototype.digest=Js.prototype.l,Js.prototype.reset=Js.prototype.reset,Js.prototype.update=Js.prototype.j,di.prototype.add=di.prototype.add,di.prototype.multiply=di.prototype.R,di.prototype.modulo=di.prototype.gb,di.prototype.compare=di.prototype.X,di.prototype.toNumber=di.prototype.ea,di.prototype.toString=di.prototype.toString,di.prototype.getBits=di.prototype.D,di.fromNumber=Jc,di.fromString=function DC(i,n){if(0==i.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==i.charAt(0))return Po(DC(i.substring(1),n));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Jc(Math.pow(n,8)),r=Zm,o=0;o<i.length;o+=8){var a=Math.min(8,i.length-o),l=parseInt(i.substring(o,o+a),n);8>a?(a=Jc(Math.pow(n,a)),r=r.R(a).add(Jc(l))):r=(r=r.R(e)).add(Jc(l))}return r};var LO=rc.createWebChannelTransport=function(){return new qm},AC=rc.getStatEventTarget=function(){return cb()},RC=rc.ErrorCode=db,tS=rc.EventType=bD,BO=rc.Event=Nh,nS=rc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},VO=rc.FetchXmlHttpFactory=__,Ym=rc.WebChannel=xD,iS=rc.XhrIo=ji,UO=rc.Md5=Js,jl=rc.Integer=di;const Mb="@firebase/firestore";class No{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}No.UNAUTHENTICATED=new No(null),No.GOOGLE_CREDENTIALS=new No("google-credentials-uid"),No.FIRST_PARTY=new No("first-party-uid"),No.MOCK_USER=new No("mock-user");let Hh="9.23.0";const tu=new Xr.Yd("@firebase/firestore");function Ab(){return tu.logLevel}function Ke(i,...n){if(tu.logLevel<=Xr.in.DEBUG){const e=n.map(rS);tu.debug(`Firestore (${Hh}): ${i}`,...e)}}function Sr(i,...n){if(tu.logLevel<=Xr.in.ERROR){const e=n.map(rS);tu.error(`Firestore (${Hh}): ${i}`,...e)}}function Ls(i,...n){if(tu.logLevel<=Xr.in.WARN){const e=n.map(rS);tu.warn(`Firestore (${Hh}): ${i}`,...e)}}function rS(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function St(i="Unexpected state"){const n=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: `+i;throw Sr(n),new Error(n)}function Ht(i,n){i||St()}function bt(i,n){return i}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends j.ZR{constructor(n,e){super(n,e),this.code=n,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise((n,e)=>{this.resolve=n,this.reject=e})}}class oS{constructor(n,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class sS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,e){n.enqueueRetryable(()=>e(No.UNAUTHENTICATED))}shutdown(){}}class aS{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,e){this.changeListener=e,n.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class zO{constructor(n){this.t=n,this.currentUser=No.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,e){var r=this;let o=this.i;const a=g=>this.i!==o?(o=this.i,e(g)):Promise.resolve();let l=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yr,n.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=l;n.enqueueRetryable((0,Ee.Z)(function*(){yield g.promise,yield a(r.currentUser)}))},m=g=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yr)}},0),h()}getToken(){const n=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==n?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new oS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Ht(null===n||"string"==typeof n),new No(n)}}class jO{constructor(n,e,r){this.h=n,this.l=e,this.m=r,this.type="FirstParty",this.user=No.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const n=this.p();return n&&this.g.set("Authorization",n),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cS{constructor(n,e,r){this.h=n,this.l=e,this.m=r}getToken(){return Promise.resolve(new jO(this.h,this.l,this.m))}start(n,e){n.enqueueRetryable(()=>e(No.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lS{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dS{constructor(n){this.I=n,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(n,e){const r=a=>{null!=a.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{n.enqueueRetryable(()=>r(a))};const o=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?o(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(e=>e?(Ht("string"==typeof e.token),this.T=e.token,new lS(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uS(i){const n=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class OC{static A(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=uS(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[a]%62))}return r}}function mn(i,n){return i<n?-1:i>n?1:0}function Qm(i,n,e){return i.length===n.length&&i.every((r,o)=>e(r,n[o]))}function GO(i){return i+"\0"}class Yi{constructor(n,e){if(this.seconds=n,this.nanoseconds=e,e<0)throw new ze(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(n<-62135596800)throw new ze(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ze(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Yi.fromMillis(Date.now())}static fromDate(n){return Yi.fromMillis(n.getTime())}static fromMillis(n){const e=Math.floor(n/1e3),r=Math.floor(1e6*(n-1e3*e));return new Yi(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?mn(this.nanoseconds,n.nanoseconds):mn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(n){this.timestamp=n}static fromTimestamp(n){return new $t(n)}static min(){return new $t(new Yi(0,0))}static max(){return new $t(new Yi(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rb{constructor(n,e,r){void 0===e?e=0:e>n.length&&St(),void 0===r?r=n.length-e:r>n.length-e&&St(),this.segments=n,this.offset=e,this.len=r}get length(){return this.len}isEqual(n){return 0===Rb.comparator(this,n)}child(n){const e=this.segments.slice(this.offset,this.limit());return n instanceof Rb?n.forEach(r=>{e.push(r)}):e.push(n),this.construct(e)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0}forEach(n){for(let e=this.offset,r=this.limit();e<r;e++)n(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,e){const r=Math.min(n.length,e.length);for(let o=0;o<r;o++){const a=n.get(o),l=e.get(o);if(a<l)return-1;if(a>l)return 1}return n.length<e.length?-1:n.length>e.length?1:0}}class Gn extends Rb{construct(n,e,r){return new Gn(n,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const e=[];for(const r of n){if(r.indexOf("//")>=0)throw new ze(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new Gn(e)}static emptyPath(){return new Gn([])}}const FB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Rb{construct(n,e,r){return new Vr(n,e,r)}static isValidIdentifier(n){return FB.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(n){const e=[];let r="",o=0;const a=()=>{if(0===r.length)throw new ze(ye.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let l=!1;for(;o<n.length;){const h=n[o];if("\\"===h){if(o+1===n.length)throw new ze(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const m=n[o+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new ze(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=m,o+=2}else"`"===h?(l=!l,o++):"."!==h||l?(r+=h,o++):(a(),o++)}if(a(),l)throw new ze(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Vr(e)}static emptyPath(){return new Vr([])}}class vt{constructor(n){this.path=n}static fromPath(n){return new vt(Gn.fromString(n))}static fromName(n){return new vt(Gn.fromString(n).popFirst(5))}static empty(){return new vt(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Gn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,e){return Gn.comparator(n.path,e.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new vt(new Gn(n.slice()))}}class PC{constructor(n,e,r,o){this.indexId=n,this.collectionGroup=e,this.fields=r,this.indexState=o}}function hS(i){return i.fields.find(n=>2===n.kind)}function Jm(i){return i.fields.filter(n=>2!==n.kind)}PC.UNKNOWN_ID=-1;class Xm{constructor(n,e){this.fieldPath=n,this.kind=e}}class I_{constructor(n,e){this.sequenceNumber=n,this.offset=e}static empty(){return new I_(0,Ta.min())}}function D_(i,n){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=$t.fromTimestamp(1e9===r?new Yi(e+1,0):new Yi(e,r));return new Ta(o,vt.empty(),n)}function pS(i){return new Ta(i.readTime,i.key,-1)}class Ta{constructor(n,e,r){this.readTime=n,this.documentKey=e,this.largestBatchId=r}static min(){return new Ta($t.min(),vt.empty(),-1)}static max(){return new Ta($t.max(),vt.empty(),-1)}}function gS(i,n){let e=i.readTime.compareTo(n.readTime);return 0!==e?e:(e=vt.comparator(i.documentKey,n.documentKey),0!==e?e:mn(i.largestBatchId,n.largestBatchId))}const qO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function nu(i){return FC.apply(this,arguments)}function FC(){return FC=(0,Ee.Z)(function*(i){if(i.code!==ye.FAILED_PRECONDITION||i.message!==qO)throw i;Ke("LocalStore","Unexpectedly lost primary lease")}),FC.apply(this,arguments)}class ge{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(n){return this.next(void 0,n)}next(n,e){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(n,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(n,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,o)}})}toPromise(){return new Promise((n,e)=>{this.next(n,e)})}wrapUserFunction(n){try{const e=n();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(n,e){return n?this.wrapUserFunction(()=>n(e)):ge.resolve(e)}wrapFailure(n,e){return n?this.wrapUserFunction(()=>n(e)):ge.reject(e)}static resolve(n){return new ge((e,r)=>{e(n)})}static reject(n){return new ge((e,r)=>{r(n)})}static waitFor(n){return new ge((e,r)=>{let o=0,a=0,l=!1;n.forEach(h=>{++o,h.next(()=>{++a,l&&a===o&&e()},m=>r(m))}),l=!0,a===o&&e()})}static or(n){let e=ge.resolve(!1);for(const r of n)e=e.next(o=>o?ge.resolve(o):r());return e}static forEach(n,e){const r=[];return n.forEach((o,a)=>{r.push(e.call(this,o,a))}),this.waitFor(r)}static mapArray(n,e){return new ge((r,o)=>{const a=n.length,l=new Array(a);let h=0;for(let m=0;m<a;m++){const g=m;e(n[g]).next(b=>{l[g]=b,++h,h===a&&r(l)},b=>o(b))}})}static doWhile(n,e){return new ge((r,o)=>{const a=()=>{!0===n()?e().next(()=>{a()},o):r()};a()})}}class LC{constructor(n,e){this.action=n,this.transaction=e,this.aborted=!1,this.v=new Yr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new ep(n,e.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Pb(r.target.error);this.v.reject(new ep(n,o))}}static open(n,e,r,o){try{return new LC(e,n.transaction(o,r))}catch(a){throw new ep(e,a)}}get R(){return this.v.promise}abort(n){n&&this.v.reject(n),this.aborted||(Ke("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const e=this.transaction.objectStore(n);return new ac(e)}}class sc{constructor(n,e,r){this.name=n,this.version=e,this.V=r,12.2===sc.S((0,j.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ke("SimpleDb","Removing database:",n),jh(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,j.hl)())return!1;if(sc.C())return!0;const n=(0,j.z$)(),e=sc.S(n),r=0<e&&e<10,o=sc.N(n),a=0<o&&o<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||r||a)}static C(){var n;return typeof process<"u"&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.k)}static M(n,e){return n.store(e)}static S(n){const e=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(n){var e=this;return(0,Ee.Z)(function*(){return e.db||(Ke("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{o(new ep(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const h=l.target.error;o("VersionError"===h.name?new ze(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ze(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new ep(n,h))},a.onupgradeneeded=l=>{Ke("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,a.transaction,l.oldVersion,e.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=r=>e.F(r)),e.db})()}B(n){this.F=n,this.db&&(this.db.onversionchange=e=>n(e))}runTransaction(n,e,r,o){var a=this;return(0,Ee.Z)(function*(){const l="readonly"===e;let h=0;for(;;){++h;try{a.db=yield a.$(n);const m=LC.open(a.db,n,l?"readonly":"readwrite",r),g=o(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),ge.reject(b))).toPromise();return g.catch(()=>{}),yield m.R,g}catch(m){const g=m,b="FirebaseError"!==g.name&&h<3;if(Ke("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),a.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _S{constructor(n){this.L=n,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(n){this.L=n}done(){this.q=!0}G(n){this.U=n}delete(){return jh(this.L.delete())}}class ep extends ze{constructor(n,e){super(ye.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function zh(i){return"IndexedDbTransactionError"===i.name}class ac{constructor(n){this.store=n}put(n,e){let r;return void 0!==e?(Ke("SimpleDb","PUT",this.store.name,n,e),r=this.store.put(e,n)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",n),r=this.store.put(n)),jh(r)}add(n){return Ke("SimpleDb","ADD",this.store.name,n,n),jh(this.store.add(n))}get(n){return jh(this.store.get(n)).next(e=>(void 0===e&&(e=null),Ke("SimpleDb","GET",this.store.name,n,e),e))}delete(n){return Ke("SimpleDb","DELETE",this.store.name,n),jh(this.store.delete(n))}count(){return Ke("SimpleDb","COUNT",this.store.name),jh(this.store.count())}j(n,e){const r=this.options(n,e);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),a=[];return this.W(o,(l,h)=>{a.push(h)}).next(()=>a)}{const o=this.store.getAll(r.range);return new ge((a,l)=>{o.onerror=h=>{l(h.target.error)},o.onsuccess=h=>{a(h.target.result)}})}}H(n,e){const r=this.store.getAll(n,null===e?void 0:e);return new ge((o,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(n,e){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(n,e);r.Y=!1;const o=this.cursor(r);return this.W(o,(a,l,h)=>h.delete())}X(n,e){let r;e?r=n:(r={},e=n);const o=this.cursor(r);return this.W(o,e)}Z(n){const e=this.cursor({});return new ge((r,o)=>{e.onerror=a=>{const l=Pb(a.target.error);o(l)},e.onsuccess=a=>{const l=a.target.result;l?n(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}W(n,e){const r=[];return new ge((o,a)=>{n.onerror=l=>{a(l.target.error)},n.onsuccess=l=>{const h=l.target.result;if(!h)return void o();const m=new _S(h),g=e(h.primaryKey,h.value,m);if(g instanceof ge){const b=g.catch(E=>(m.done(),ge.reject(E)));r.push(b)}m.isDone?o():null===m.K?h.continue():h.continue(m.K)}}).next(()=>ge.waitFor(r))}options(n,e){let r;return void 0!==n&&("string"==typeof n?r=n:e=n),{index:r,range:e}}cursor(n){let e="next";if(n.reverse&&(e="prev"),n.index){const r=this.store.index(n.index);return n.Y?r.openKeyCursor(n.range,e):r.openCursor(n.range,e)}return this.store.openCursor(n.range,e)}}function jh(i){return new ge((n,e)=>{i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{const o=Pb(r.target.error);e(o)}})}let Ob=!1;function Pb(i){const n=sc.S((0,j.z$)());if(n>=12.2&&n<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ob||(Ob=!0,setTimeout(()=>{throw r},0)),r}}return i}class WO{constructor(n,e){this.asyncQueue=n,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(n){var e=this;Ke("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ee.Z)(function*(){e.task=null;try{Ke("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(r){zh(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield nu(r)}yield e.et(6e4)}))}}class LB{constructor(n,e){this.localStore=n,this.persistence=e}nt(n=50){var e=this;return(0,Ee.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,n))})()}st(n,e){const r=new Set;let o=e,a=!0;return ge.doWhile(()=>!0===a&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(l=>{if(null!==l&&!r.has(l))return Ke("IndexBackiller",`Processing collection: ${l}`),this.it(n,l,o).next(h=>{o-=h,r.add(l)});a=!1})).next(()=>e-o)}it(n,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,e).next(o=>this.localStore.localDocuments.getNextDocuments(n,e,o,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(n,l).next(()=>this.rt(o,a)).next(h=>(Ke("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(n,e,h))).next(()=>l.size)}))}rt(n,e){let r=n;return e.changes.forEach((o,a)=>{const l=pS(a);gS(l,r)>0&&(r=l)}),new Ta(r.readTime,r.documentKey,Math.max(e.batchId,n.largestBatchId))}}let Ai=(()=>{class i{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return i.ct=-1,i})();function S_(i){return null==i}function $h(i){return 0===i&&1/i==-1/0}function vS(i){return"number"==typeof i&&Number.isInteger(i)&&!$h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Qo(i){let n="";for(let e=0;e<i.length;e++)n.length>0&&(n=VC(n)),n=BC(i.get(e),n);return VC(n)}function BC(i,n){let e=n;const r=i.length;for(let o=0;o<r;o++){const a=i.charAt(o);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function VC(i){return i+"\x01\x01"}function cc(i){const n=i.length;if(Ht(n>=2),2===n)return Ht("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gn.emptyPath();const e=n-2,r=[];let o="";for(let a=0;a<n;){const l=i.indexOf("\x01",a);switch((l<0||l>e)&&St(),i.charAt(l+1)){case"\x01":const h=i.substring(a,l);let m;0===o.length?m=h:(o+=h,m=o,o=""),r.push(m);break;case"\x10":o+=i.substring(a,l),o+="\0";break;case"\x11":o+=i.substring(a,l+1);break;default:St()}a=l+2}return new Gn(r)}const yS=["userId","batchId"];function M_(i,n){return[i,Qo(n)]}function UC(i,n,e){return[i,Qo(n),e]}const bS={},wS=["prefixPath","collectionGroup","readTime","documentId"],ZO=["prefixPath","collectionGroup","documentId"],xS=["collectionGroup","readTime","prefixPath","documentId"],YO=["canonicalId","targetId"],HC=["targetId","path"],iu=["path","targetId"],CS=["collectionId","parent"],zC=["indexId","uid"],jC=["uid","sequenceNumber"],KO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BB=["indexId","uid","orderedDocumentKey"],ES=["userId","collectionPath","documentId"],QO=["userId","collectionPath","largestBatchId"],JO=["userId","collectionGroup","largestBatchId"],kS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XO=[...kS,"documentOverlays"],$C=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eP=$C,TS=[...eP,"indexConfiguration","indexState","indexEntries"];class GC extends NC{constructor(n,e){super(),this.ht=n,this.currentSequenceNumber=e}}function io(i,n){const e=bt(i);return sc.M(e.ht,n)}function tP(i){let n=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&n++;return n}function el(i,n){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&n(e,i[e])}function qC(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Ri{constructor(n,e){this.comparator=n,this.root=e||_o.EMPTY}insert(n,e){return new Ri(this.comparator,this.root.insert(n,e,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(n){return new Ri(this.comparator,this.root.remove(n,this.comparator).copy(null,null,_o.BLACK,null,null))}get(n){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(n,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(n){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(n,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((e,r)=>(n(e,r),!1))}toString(){const n=[];return this.inorderTraversal((e,r)=>(n.push(`${e}:${r}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Nb(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Nb(this.root,n,this.comparator,!1)}getReverseIterator(){return new Nb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Nb(this.root,n,this.comparator,!0)}}class Nb{constructor(n,e,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!n.isEmpty();)if(a=e?r(n.key,e):1,e&&o&&(a*=-1),a<0)n=this.isReverse?n.left:n.right;else{if(0===a){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const e={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class _o{constructor(n,e,r,o,a){this.key=n,this.value=e,this.color=r??_o.RED,this.left=o??_o.EMPTY,this.right=a??_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,e,r,o,a){return new _o(n??this.key,e??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,e,r){let o=this;const a=r(n,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(n,e,r),null):0===a?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(n,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,e){let r,o=this;if(e(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(n,o.key)){if(o.right.isEmpty())return _o.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,e)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const n=this.left.check();if(n!==this.right.check())throw St();return n+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(i,n,e,r,o){return this}insert(i,n,e){return new _o(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $i{constructor(n){this.comparator=n,this.data=new Ri(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((e,r)=>(n(e),!1))}forEachInRange(n,e){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,n[1])>=0)return;e(o.key)}}forEachWhile(n,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const e=this.data.getIteratorFrom(n);return e.hasNext()?e.getNext().key:null}getIterator(){return new Gh(this.data.getIterator())}getIteratorFrom(n){return new Gh(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let e=this;return e.size<n.size&&(e=n,n=this),n.forEach(r=>{e=e.add(r)}),e}isEqual(n){if(!(n instanceof $i)||this.size!==n.size)return!1;const e=this.data.getIterator(),r=n.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,a=r.getNext().key;if(0!==this.comparator(o,a))return!1}return!0}toArray(){const n=[];return this.forEach(e=>{n.push(e)}),n}toString(){const n=[];return this.forEach(e=>n.push(e)),"SortedSet("+n.toString()+")"}copy(n){const e=new $i(this.comparator);return e.data=n,e}}class Gh{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $l(i){return i.hasNext()?i.getNext():void 0}class ps{constructor(n){this.fields=n,n.sort(Vr.comparator)}static empty(){return new ps([])}unionWith(n){let e=new $i(Vr.comparator);for(const r of this.fields)e=e.add(r);for(const r of n)e=e.add(r);return new ps(e.toArray())}covers(n){for(const e of this.fields)if(e.isPrefixOf(n))return!0;return!1}isEqual(n){return Qm(this.fields,n.fields,(e,r)=>e.isEqual(r))}}class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ro{constructor(n){this.binaryString=n}static fromBase64String(n){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WC("Invalid base64 string: "+o):o}}(n);return new ro(e)}static fromUint8Array(n){const e=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(n);return new ro(e)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const e=new Uint8Array(n.length);for(let r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return mn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ro.EMPTY_BYTE_STRING=new ro("");const VB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(i){if(Ht(!!i),"string"==typeof i){let n=0;const e=VB.exec(i);if(Ht(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),n=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:Mr(i.seconds),nanos:Mr(i.nanos)}}function Mr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ql(i){return"string"==typeof i?ro.fromBase64String(i):ro.fromUint8Array(i)}function ZC(i){var n,e;return"server_timestamp"===(null===(e=((null===(n=i?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function YC(i){const n=i.mapValue.fields.__previous_value__;return ZC(n)?YC(n):n}function Fb(i){const n=Gl(i.mapValue.fields.__local_write_time__.timestampValue);return new Yi(n.seconds,n.nanos)}class IS{constructor(n,e,r,o,a,l,h,m,g){this.databaseId=n,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g}}class ru{constructor(n,e){this.projectId=n,this.database=e||"(default)"}static empty(){return new ru("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof ru&&n.projectId===this.projectId&&n.database===this.database}}const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lb={nullValue:"NULL_VALUE"};function qh(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ZC(i)?4:zb(i)?9007199254740991:10:St()}function Wl(i,n){if(i===n)return!0;const e=qh(i);if(e!==qh(n))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Fb(i).isEqual(Fb(n));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=Gl(r.timestampValue),l=Gl(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return o=n,ql(i.bytesValue).isEqual(ql(o.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(r,o){return Mr(r.geoPointValue.latitude)===Mr(o.geoPointValue.latitude)&&Mr(r.geoPointValue.longitude)===Mr(o.geoPointValue.longitude)}(i,n);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Mr(r.integerValue)===Mr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Mr(r.doubleValue),l=Mr(o.doubleValue);return a===l?$h(a)===$h(l):isNaN(a)&&isNaN(l)}return!1}(i,n);case 9:return Qm(i.arrayValue.values||[],n.arrayValue.values||[],Wl);case 10:return function(r,o){const a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(tP(a)!==tP(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===l[h]||!Wl(a[h],l[h])))return!1;return!0}(i,n);default:return St()}var o}function Bb(i,n){return void 0!==(i.values||[]).find(e=>Wl(e,n))}function Wh(i,n){if(i===n)return 0;const e=qh(i),r=qh(n);if(e!==r)return mn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return mn(i.booleanValue,n.booleanValue);case 2:return function(o,a){const l=Mr(o.integerValue||o.doubleValue),h=Mr(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(i,n);case 3:return iP(i.timestampValue,n.timestampValue);case 4:return iP(Fb(i),Fb(n));case 5:return mn(i.stringValue,n.stringValue);case 6:return function(o,a){const l=ql(o),h=ql(a);return l.compareTo(h)}(i.bytesValue,n.bytesValue);case 7:return function(o,a){const l=o.split("/"),h=a.split("/");for(let m=0;m<l.length&&m<h.length;m++){const g=mn(l[m],h[m]);if(0!==g)return g}return mn(l.length,h.length)}(i.referenceValue,n.referenceValue);case 8:return function(o,a){const l=mn(Mr(o.latitude),Mr(a.latitude));return 0!==l?l:mn(Mr(o.longitude),Mr(a.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(o,a){const l=o.values||[],h=a.values||[];for(let m=0;m<l.length&&m<h.length;++m){const g=Wh(l[m],h[m]);if(g)return g}return mn(l.length,h.length)}(i.arrayValue,n.arrayValue);case 10:return function(o,a){if(o===ou.mapValue&&a===ou.mapValue)return 0;if(o===ou.mapValue)return 1;if(a===ou.mapValue)return-1;const l=o.fields||{},h=Object.keys(l),m=a.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const E=mn(h[b],g[b]);if(0!==E)return E;const S=Wh(l[h[b]],m[g[b]]);if(0!==S)return S}return mn(h.length,g.length)}(i.mapValue,n.mapValue);default:throw St()}}function iP(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return mn(i,n);const e=Gl(i),r=Gl(n),o=mn(e.seconds,r.seconds);return 0!==o?o:mn(e.nanos,r.nanos)}function tp(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=Gl(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ql(i.bytesValue).toBase64():"referenceValue"in i?vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(r){let o="[",a=!0;for(const l of r.values||[])a?a=!1:o+=",",o+=np(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of o)l?l=!1:a+=",",a+=`${h}:${np(r.fields[h])}`;return a+"}"}(i.mapValue):St();var n}function Zh(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function Ub(i){return!!i&&"integerValue"in i}function lc(i){return!!i&&"arrayValue"in i}function KC(i){return!!i&&"nullValue"in i}function Hb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ip(i){return!!i&&"mapValue"in i}function A_(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return el(i.mapValue.fields,(e,r)=>n.mapValue.fields[e]=A_(r)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)n.arrayValue.values[e]=A_(i.arrayValue.values[e]);return n}return Object.assign({},i)}function zb(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function QC(i){return"nullValue"in i?Lb:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Zh(ru.empty(),vt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:St()}function jb(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Zh(ru.empty(),vt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ou:St()}function rP(i,n){const e=Wh(i.value,n.value);return 0!==e?e:i.inclusive&&!n.inclusive?-1:!i.inclusive&&n.inclusive?1:0}function oP(i,n){const e=Wh(i.value,n.value);return 0!==e?e:i.inclusive&&!n.inclusive?1:!i.inclusive&&n.inclusive?-1:0}class Jo{constructor(n){this.value=n}static empty(){return new Jo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let e=this.value;for(let r=0;r<n.length-1;++r)if(e=(e.mapValue.fields||{})[n.get(r)],!ip(e))return null;return e=(e.mapValue.fields||{})[n.lastSegment()],e||null}}set(n,e){this.getFieldsMap(n.popLast())[n.lastSegment()]=A_(e)}setAll(n){let e=Vr.emptyPath(),r={},o=[];n.forEach((l,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,r,o),r={},o=[],e=h.popLast()}l?r[h.lastSegment()]=A_(l):o.push(h.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,r,o)}delete(n){const e=this.field(n.popLast());ip(e)&&e.mapValue.fields&&delete e.mapValue.fields[n.lastSegment()]}isEqual(n){return Wl(this.value,n.value)}getFieldsMap(n){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<n.length;++r){let o=e.mapValue.fields[n.get(r)];ip(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[n.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(n,e,r){el(e,(o,a)=>n[o]=a);for(const o of r)delete n[o]}clone(){return new Jo(A_(this.value))}}function JC(i){const n=[];return el(i.fields,(e,r)=>{const o=new Vr([e]);if(ip(r)){const a=JC(r.mapValue).fields;if(0===a.length)n.push(o);else for(const l of a)n.push(o.child(l))}else n.push(o)}),new ps(n)}class Ki{constructor(n,e,r,o,a,l,h){this.key=n,this.documentType=e,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(n){return new Ki(n,0,$t.min(),$t.min(),$t.min(),Jo.empty(),0)}static newFoundDocument(n,e,r,o){return new Ki(n,1,e,$t.min(),r,o,0)}static newNoDocument(n,e){return new Ki(n,2,e,$t.min(),$t.min(),Jo.empty(),0)}static newUnknownDocument(n,e){return new Ki(n,3,e,$t.min(),$t.min(),Jo.empty(),2)}convertToFoundDocument(n,e){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Jo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ki&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class su{constructor(n,e){this.position=n,this.inclusive=e}}function DS(i,n,e){let r=0;for(let o=0;o<i.position.length;o++){const a=n[o],l=i.position[o];if(r=a.field.isKeyField()?vt.comparator(vt.fromName(l.referenceValue),e.key):Wh(l,e.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function SS(i,n){if(null===i)return null===n;if(null===n||i.inclusive!==n.inclusive||i.position.length!==n.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Wl(i.position[e],n.position[e]))return!1;return!0}class Yh{constructor(n,e="asc"){this.field=n,this.dir=e}}function MS(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}class XC{}class Bn extends XC{constructor(n,e,r){super(),this.field=n,this.op=e,this.value=r}static create(n,e,r){return n.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(n,e,r):new UB(n,e,r):"array-contains"===e?new lP(n,r):"in"===e?new tE(n,r):"not-in"===e?new NS(n,r):"array-contains-any"===e?new HB(n,r):new Bn(n,e,r)}static createKeyFieldInFilter(n,e,r){return"in"===e?new aP(n,r):new cP(n,r)}matches(n){const e=n.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Wh(e,this.value)):null!==e&&qh(this.value)===qh(e)&&this.matchesComparison(Wh(e,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mi extends XC{constructor(n,e){super(),this.filters=n,this.op=e,this.lt=null}static create(n,e){return new mi(n,e)}matches(n){return Kh(this)?void 0===this.filters.find(e=>!e.matches(n)):void 0!==this.filters.find(e=>e.matches(n))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((n,e)=>n.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const n=this.ft(e=>e.isInequality());return null!==n?n.field:null}ft(n){for(const e of this.getFlattenedFilters())if(n(e))return e;return null}}function Kh(i){return"and"===i.op}function R_(i){return"or"===i.op}function AS(i){return eE(i)&&Kh(i)}function eE(i){for(const n of i.filters)if(n instanceof mi)return!1;return!0}function O_(i){if(i instanceof Bn)return i.field.canonicalString()+i.op.toString()+tp(i.value);if(AS(i))return i.filters.map(n=>O_(n)).join(",");{const n=i.filters.map(e=>O_(e)).join(",");return`${i.op}(${n})`}}function RS(i,n){return i instanceof Bn?(e=i,(r=n)instanceof Bn&&e.op===r.op&&e.field.isEqual(r.field)&&Wl(e.value,r.value)):i instanceof mi?function(e,r){return r instanceof mi&&e.op===r.op&&e.filters.length===r.filters.length&&e.filters.reduce((o,a,l)=>o&&RS(a,r.filters[l]),!0)}(i,n):void St();var e,r}function OS(i,n){const e=i.filters.concat(n);return mi.create(e,i.op)}function sP(i){return i instanceof Bn?`${(n=i).field.canonicalString()} ${n.op} ${tp(n.value)}`:i instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(sP).join(" ,")+"}"}(i):"Filter";var n}class UB extends Bn{constructor(n,e,r){super(n,e,r),this.key=vt.fromName(r.referenceValue)}matches(n){const e=vt.comparator(n.key,this.key);return this.matchesComparison(e)}}class aP extends Bn{constructor(n,e){super(n,"in",e),this.keys=PS(0,e)}matches(n){return this.keys.some(e=>e.isEqual(n.key))}}class cP extends Bn{constructor(n,e){super(n,"not-in",e),this.keys=PS(0,e)}matches(n){return!this.keys.some(e=>e.isEqual(n.key))}}function PS(i,n){var e;return((null===(e=n.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>vt.fromName(r.referenceValue))}class lP extends Bn{constructor(n,e){super(n,"array-contains",e)}matches(n){const e=n.data.field(this.field);return lc(e)&&Bb(e.arrayValue,this.value)}}class tE extends Bn{constructor(n,e){super(n,"in",e)}matches(n){const e=n.data.field(this.field);return null!==e&&Bb(this.value.arrayValue,e)}}class NS extends Bn{constructor(n,e){super(n,"not-in",e)}matches(n){if(Bb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=n.data.field(this.field);return null!==e&&!Bb(this.value.arrayValue,e)}}class HB extends Bn{constructor(n,e){super(n,"array-contains-any",e)}matches(n){const e=n.data.field(this.field);return!(!lc(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Bb(this.value.arrayValue,r))}}class dP{constructor(n,e=null,r=[],o=[],a=null,l=null,h=null){this.path=n,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=h,this.dt=null}}function P_(i,n=null,e=[],r=[],o=null,a=null,l=null){return new dP(i,n,e,r,o,a,l)}function au(i){const n=bt(i);if(null===n.dt){let e=n.path.canonicalString();null!==n.collectionGroup&&(e+="|cg:"+n.collectionGroup),e+="|f:",e+=n.filters.map(r=>O_(r)).join(","),e+="|ob:",e+=n.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),S_(n.limit)||(e+="|l:",e+=n.limit),n.startAt&&(e+="|lb:",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(r=>tp(r)).join(",")),n.endAt&&(e+="|ub:",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(r=>tp(r)).join(",")),n.dt=e}return n.dt}function rp(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!MS(i.orderBy[e],n.orderBy[e]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!RS(i.filters[e],n.filters[e]))return!1;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!SS(i.startAt,n.startAt)&&SS(i.endAt,n.endAt)}function $b(i){return vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function op(i,n){return i.filters.filter(e=>e instanceof Bn&&e.field.isEqual(n))}function FS(i,n,e){let r=Lb,o=!0;for(const a of op(i,n)){let l=Lb,h=!0;switch(a.op){case"<":case"<=":l=QC(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,h=!1;break;case"!=":case"not-in":l=Lb}rP({value:r,inclusive:o},{value:l,inclusive:h})<0&&(r=l,o=h)}if(null!==e)for(let a=0;a<i.orderBy.length;++a)if(i.orderBy[a].field.isEqual(n)){const l=e.position[a];rP({value:r,inclusive:o},{value:l,inclusive:e.inclusive})<0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}function LS(i,n,e){let r=ou,o=!0;for(const a of op(i,n)){let l=ou,h=!0;switch(a.op){case">=":case">":l=jb(a.value),h=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,h=!1;break;case"!=":case"not-in":l=ou}oP({value:r,inclusive:o},{value:l,inclusive:h})>0&&(r=l,o=h)}if(null!==e)for(let a=0;a<i.orderBy.length;++a)if(i.orderBy[a].field.isEqual(n)){const l=e.position[a];oP({value:r,inclusive:o},{value:l,inclusive:e.inclusive})>0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}class tl{constructor(n,e=null,r=[],o=[],a=null,l="F",h=null,m=null){this.path=n,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function nE(i,n,e,r,o,a,l,h){return new tl(i,n,e,r,o,a,l,h)}function N_(i){return new tl(i)}function BS(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function sp(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function iE(i){for(const n of i.filters){const e=n.getFirstInequalityField();if(null!==e)return e}return null}function rE(i){return null!==i.collectionGroup}function ap(i){const n=bt(i);if(null===n.wt){n.wt=[];const e=iE(n),r=sp(n);if(null!==e&&null===r)e.isKeyField()||n.wt.push(new Yh(e)),n.wt.push(new Yh(Vr.keyField(),"asc"));else{let o=!1;for(const a of n.explicitOrderBy)n.wt.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.wt.push(new Yh(Vr.keyField(),a))}}}return n.wt}function Bs(i){const n=bt(i);if(!n._t)if("F"===n.limitType)n._t=P_(n.path,n.collectionGroup,ap(n),n.filters,n.limit,n.startAt,n.endAt);else{const e=[];for(const a of ap(n))e.push(new Yh(a.field,"desc"===a.dir?"asc":"desc"));const r=n.endAt?new su(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new su(n.startAt.position,n.startAt.inclusive):null;n._t=P_(n.path,n.collectionGroup,e,n.filters,n.limit,r,o)}return n._t}function oE(i,n){n.getFirstInequalityField(),iE(i);const e=i.filters.concat([n]);return new tl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function sE(i,n,e){return new tl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,e,i.startAt,i.endAt)}function Gb(i,n){return rp(Bs(i),Bs(n))&&i.limitType===n.limitType}function uP(i){return`${au(Bs(i))}|lt:${i.limitType}`}function VS(i){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(r=>sP(r)).join(", ")}]`),S_(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(r=>tp(r)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(r=>tp(r)).join(",")),`Target(${e})`}(Bs(i))}; limitType=${i.limitType})`}function qb(i,n){return n.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):vt.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(i,n)&&function(e,r){for(const o of ap(e))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(i,n)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(i,n)&&(r=n,!((e=i).startAt&&!function(o,a,l){const h=DS(o,a,l);return o.inclusive?h<=0:h<0}(e.startAt,ap(e),r)||e.endAt&&!function(o,a,l){const h=DS(o,a,l);return o.inclusive?h>=0:h>0}(e.endAt,ap(e),r)));var e,r}function US(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hP(i){return(n,e)=>{let r=!1;for(const o of ap(i)){const a=zB(o,n,e);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function zB(i,n,e){const r=i.field.isKeyField()?vt.comparator(n.key,e.key):function(o,a,l){const h=a.data.field(o),m=l.data.field(o);return null!==h&&null!==m?Wh(h,m):St()}(i.field,n,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}class cu{constructor(n,e){this.mapKeyFn=n,this.equalsFn=e,this.inner={},this.innerSize=0}get(n){const e=this.mapKeyFn(n),r=this.inner[e];if(void 0!==r)for(const[o,a]of r)if(this.equalsFn(o,n))return a}has(n){return void 0!==this.get(n)}set(n,e){const r=this.mapKeyFn(n),o=this.inner[r];if(void 0===o)return this.inner[r]=[[n,e]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],n))return void(o[a]=[n,e]);o.push([n,e]),this.innerSize++}delete(n){const e=this.mapKeyFn(n),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],n))return 1===r.length?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(n){el(this.inner,(e,r)=>{for(const[o,a]of r)n(o,a)})}isEmpty(){return qC(this.inner)}size(){return this.innerSize}}const jB=new Ri(vt.comparator);function Xs(){return jB}const HS=new Ri(vt.comparator);function Wb(...i){let n=HS;for(const e of i)n=n.insert(e.key,e);return n}function c(i){let n=HS;return i.forEach((e,r)=>n=n.insert(e,r.overlayedDocument)),n}function d(){return f()}function u(){return f()}function f(){return new cu(i=>i.toString(),(i,n)=>i.isEqual(n))}const p=new Ri(vt.comparator),_=new $i(vt.comparator);function w(...i){let n=_;for(const e of i)n=n.add(e);return n}const C=new $i(mn);function I(){return C}function M(i,n){if(i.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(n)?"-0":n}}function P(i){return{integerValue:""+i}}function W(i,n){return vS(n)?P(n):M(i,n)}class ne{constructor(){this._=void 0}}function de(i,n,e){return i instanceof mt?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ZC(o)&&(o=YC(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(e,n):i instanceof Rt?Ue(i,n):i instanceof Xt?Fn(i,n):function(r,o){const a=Ye(r,o),l=Fo(a)+Fo(r.gt);return Ub(a)&&Ub(r.gt)?P(l):M(r.serializer,l)}(i,n)}function Le(i,n,e){return i instanceof Rt?Ue(i,n):i instanceof Xt?Fn(i,n):e}function Ye(i,n){return i instanceof Sn?Ub(e=n)||(r=e)&&"doubleValue"in r?n:{integerValue:0}:null;var r,e}class mt extends ne{}class Rt extends ne{constructor(n){super(),this.elements=n}}function Ue(i,n){const e=F_(n);for(const r of i.elements)e.some(o=>Wl(o,r))||e.push(r);return{arrayValue:{values:e}}}class Xt extends ne{constructor(n){super(),this.elements=n}}function Fn(i,n){let e=F_(n);for(const r of i.elements)e=e.filter(o=>!Wl(o,r));return{arrayValue:{values:e}}}class Sn extends ne{constructor(n,e){super(),this.serializer=n,this.gt=e}}function Fo(i){return Mr(i.integerValue||i.doubleValue)}function F_(i){return lc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class L_{constructor(n,e){this.field=n,this.transform=e}}class m${constructor(n,e){this.version=n,this.transformResults=e}}class Ar{constructor(n,e){this.updateTime=n,this.exists=e}static none(){return new Ar}static exists(n){return new Ar(void 0,n)}static updateTime(n){return new Ar(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function zS(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class jS{}function $B(i,n){if(!i.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return i.isNoDocument()?new Yb(i.key,Ar.none()):new Zb(i.key,i.data,Ar.none());{const e=i.data,r=Jo.empty();let o=new $i(Vr.comparator);for(let a of n.fields)if(!o.has(a)){let l=e.field(a);null===l&&a.length>1&&(a=a.popLast(),l=e.field(a)),null===l?r.delete(a):r.set(a,l),o=o.add(a)}return new Qh(i.key,r,new ps(o.toArray()),Ar.none())}}function p$(i,n,e){i instanceof Zb?function(r,o,a){const l=r.value.clone(),h=WB(r.fieldTransforms,o,a.transformResults);l.setAll(h),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(i,n,e):i instanceof Qh?function(r,o,a){if(!zS(r.precondition,o))return void o.convertToUnknownDocument(a.version);const l=WB(r.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(qB(r)),h.setAll(l),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(i,n,e):n.convertToNoDocument(e.version).setHasCommittedMutations()}function aE(i,n,e,r){return i instanceof Zb?function(o,a,l,h){if(!zS(o.precondition,a))return l;const m=o.value.clone(),g=ZB(o.fieldTransforms,h,a);return m.setAll(g),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(i,n,e,r):i instanceof Qh?function(o,a,l,h){if(!zS(o.precondition,a))return l;const m=ZB(o.fieldTransforms,h,a),g=a.data;return g.setAll(qB(o)),g.setAll(m),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(i,n,e,r):(l=e,zS(i.precondition,a=n)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function g$(i,n){let e=null;for(const r of i.fieldTransforms){const o=n.data.field(r.field),a=Ye(r.transform,o||null);null!=a&&(null===e&&(e=Jo.empty()),e.set(r.field,a))}return e||null}function GB(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(r=n.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===r||e&&r&&Qm(e,r,(o,a)=>function fP(i,n){return i.field.isEqual(n.field)&&(r=n.transform,(e=i.transform)instanceof Rt&&r instanceof Rt||e instanceof Xt&&r instanceof Xt?Qm(e.elements,r.elements,Wl):e instanceof Sn&&r instanceof Sn?Wl(e.gt,r.gt):e instanceof mt&&r instanceof mt);var e,r}(o,a))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var e,r}class Zb extends jS{constructor(n,e,r,o=[]){super(),this.key=n,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qh extends jS{constructor(n,e,r,o,a=[]){super(),this.key=n,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qB(i){const n=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=i.data.field(e);n.set(e,r)}}),n}function WB(i,n,e){const r=new Map;Ht(i.length===e.length);for(let o=0;o<e.length;o++){const a=i[o],l=a.transform,h=n.data.field(a.field);r.set(a.field,Le(l,h,e[o]))}return r}function ZB(i,n,e){const r=new Map;for(const o of i){const a=o.transform,l=e.data.field(o.field);r.set(o.field,de(a,l,n))}return r}class Yb extends jS{constructor(n,e){super(),this.key=n,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mP extends jS{constructor(n,e){super(),this.key=n,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pP{constructor(n,e,r,o){this.batchId=n,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(n,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(n.key)&&p$(a,n,r[o])}}applyToLocalView(n,e){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(e=aE(r,n,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(e=aE(r,n,e,this.localWriteTime));return e}applyToLocalDocumentSet(n,e){const r=u();return this.mutations.forEach(o=>{const a=n.get(o.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=e.has(o.key)?null:h;const m=$B(l,h);null!==m&&r.set(o.key,m),l.isValidDocument()||l.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((n,e)=>n.add(e.key),w())}isEqual(n){return this.batchId===n.batchId&&Qm(this.mutations,n.mutations,(e,r)=>GB(e,r))&&Qm(this.baseMutations,n.baseMutations,(e,r)=>GB(e,r))}}class gP{constructor(n,e,r,o){this.batch=n,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(n,e,r){Ht(n.mutations.length===r.length);let o=p;const a=n.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new gP(n,e,r,o)}}class _P{constructor(n,e){this.largestBatchId=n,this.mutation=e}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class v${constructor(n,e){this.count=n,this.unchangedNames=e}}var vo,Kn;function YB(i){switch(i){default:return St();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function KB(i){if(void 0===i)return Sr("GRPC error has no .code"),ye.UNKNOWN;switch(i){case vo.OK:return ye.OK;case vo.CANCELLED:return ye.CANCELLED;case vo.UNKNOWN:return ye.UNKNOWN;case vo.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case vo.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case vo.INTERNAL:return ye.INTERNAL;case vo.UNAVAILABLE:return ye.UNAVAILABLE;case vo.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case vo.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case vo.NOT_FOUND:return ye.NOT_FOUND;case vo.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case vo.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case vo.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case vo.ABORTED:return ye.ABORTED;case vo.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case vo.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case vo.DATA_LOSS:return ye.DATA_LOSS;default:return St()}}(Kn=vo||(vo={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";class vP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $S}static getOrCreateInstance(){return null===$S&&($S=new vP),$S}onExistenceFilterMismatch(n){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,n),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(n){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(n))}}let $S=null;function QB(){return new TextEncoder}const y$=new jl([4294967295,4294967295],0);function JB(i){const n=QB().encode(i),e=new UO;return e.update(n),new Uint8Array(e.digest())}function XB(i){const n=new DataView(i.buffer),e=n.getUint32(0,!0),r=n.getUint32(4,!0),o=n.getUint32(8,!0),a=n.getUint32(12,!0);return[new jl([e,r],0),new jl([o,a],0)]}class yP{constructor(n,e,r){if(this.bitmap=n,this.padding=e,this.hashCount=r,e<0||e>=8)throw new cE(`Invalid padding: ${e}`);if(r<0)throw new cE(`Invalid hash count: ${r}`);if(n.length>0&&0===this.hashCount)throw new cE(`Invalid hash count: ${r}`);if(0===n.length&&0!==e)throw new cE(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*n.length-e,this.Tt=jl.fromNumber(this.It)}Et(n,e,r){let o=n.add(e.multiply(jl.fromNumber(r)));return 1===o.compare(y$)&&(o=new jl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(n){return 0!=(this.bitmap[Math.floor(n/8)]&1<<n%8)}vt(n){if(0===this.It)return!1;const e=JB(n),[r,o]=XB(e);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,o,a);if(!this.At(l))return!1}return!0}static create(n,e,r){const o=n%8==0?0:8-n%8,a=new Uint8Array(Math.ceil(n/8)),l=new yP(a,o,e);return r.forEach(h=>l.insert(h)),l}insert(n){if(0===this.It)return;const e=JB(n),[r,o]=XB(e);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,o,a);this.Rt(l)}}Rt(n){const e=Math.floor(n/8);this.bitmap[e]|=1<<n%8}}class cE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lE{constructor(n,e,r,o,a){this.snapshotVersion=n,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(n,e,r){const o=new Map;return o.set(n,dE.createSynthesizedTargetChangeForCurrentChange(n,e,r)),new lE($t.min(),o,new Ri(mn),Xs(),w())}}class dE{constructor(n,e,r,o,a){this.resumeToken=n,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(n,e,r){return new dE(r,e,w(),w(),w())}}class GS{constructor(n,e,r,o){this.Pt=n,this.removedTargetIds=e,this.key=r,this.bt=o}}class e3{constructor(n,e){this.targetId=n,this.Vt=e}}class t3{constructor(n,e,r=ro.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=e,this.resumeToken=r,this.cause=o}}class n3{constructor(){this.St=0,this.Dt=o3(),this.Ct=ro.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(n){n.approximateByteSize()>0&&(this.Nt=!0,this.Ct=n)}Ot(){let n=w(),e=w(),r=w();return this.Dt.forEach((o,a)=>{switch(a){case 0:n=n.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:St()}}),new dE(this.Ct,this.xt,n,e,r)}Ft(){this.Nt=!1,this.Dt=o3()}Bt(n,e){this.Nt=!0,this.Dt=this.Dt.insert(n,e)}Lt(n){this.Nt=!0,this.Dt=this.Dt.remove(n)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class b${constructor(n){this.Gt=n,this.Qt=new Map,this.jt=Xs(),this.zt=r3(),this.Wt=new Ri(mn)}Ht(n){for(const e of n.Pt)n.bt&&n.bt.isFoundDocument()?this.Jt(e,n.bt):this.Yt(e,n.key,n.bt);for(const e of n.removedTargetIds)this.Yt(e,n.key,n.bt)}Xt(n){this.forEachTarget(n,e=>{const r=this.Zt(e);switch(n.state){case 0:this.te(e)&&r.$t(n.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(n.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(e);break;case 3:this.te(e)&&(r.Kt(),r.$t(n.resumeToken));break;case 4:this.te(e)&&(this.ee(e),r.$t(n.resumeToken));break;default:St()}})}forEachTarget(n,e){n.targetIds.length>0?n.targetIds.forEach(e):this.Qt.forEach((r,o)=>{this.te(o)&&e(o)})}ne(n){var e;const r=n.targetId,o=n.Vt.count,a=this.se(r);if(a){const l=a.target;if($b(l))if(0===o){const h=new vt(l.path);this.Yt(r,h,Ki.newNoDocument(h,$t.min()))}else Ht(1===o);else{const h=this.ie(r);if(h!==o){const m=this.re(n,h);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=vP.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(g,b,E){var S,R,F,G,Y,ve;const Me={localCacheCount:b,existenceFilterCount:E.count},Oe=E.unchangedNames;return Oe&&(Me.bloomFilter={applied:0===g,hashCount:null!==(S=Oe?.hashCount)&&void 0!==S?S:0,bitmapLength:null!==(G=null===(F=null===(R=Oe?.bits)||void 0===R?void 0:R.bitmap)||void 0===F?void 0:F.length)&&void 0!==G?G:0,padding:null!==(ve=null===(Y=Oe?.bits)||void 0===Y?void 0:Y.padding)&&void 0!==ve?ve:0}),Me}(m,h,n.Vt))}}}}re(n,e){const{unchangedNames:r,count:o}=n.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=r;let m,g;try{m=ql(a).toUint8Array()}catch(b){if(b instanceof WC)return Ls("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{g=new yP(m,l,h)}catch(b){return Ls(b instanceof cE?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===g.It?1:o!==e-this.oe(n.targetId,g)?2:0}oe(n,e){const r=this.Gt.getRemoteKeysForTarget(n);let o=0;return r.forEach(a=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.vt(h)||(this.Yt(n,a,null),o++)}),o}ce(n){const e=new Map;this.Qt.forEach((a,l)=>{const h=this.se(l);if(h){if(a.current&&$b(h.target)){const m=new vt(h.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Ki.newNoDocument(m,n))}a.Mt&&(e.set(l,a.Ot()),a.Ft())}});let r=w();this.zt.forEach((a,l)=>{let h=!0;l.forEachWhile(m=>{const g=this.se(m);return!g||"TargetPurposeLimboResolution"===g.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(n));const o=new lE(n,e,this.Wt,this.jt,r);return this.jt=Xs(),this.zt=r3(),this.Wt=new Ri(mn),o}Jt(n,e){if(!this.te(n))return;const r=this.ae(n,e.key)?2:0;this.Zt(n).Bt(e.key,r),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(n))}Yt(n,e,r){if(!this.te(n))return;const o=this.Zt(n);this.ae(n,e)?o.Bt(e,1):o.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(n)),r&&(this.jt=this.jt.insert(e,r))}removeTarget(n){this.Qt.delete(n)}ie(n){const e=this.Zt(n).Ot();return this.Gt.getRemoteKeysForTarget(n).size+e.addedDocuments.size-e.removedDocuments.size}qt(n){this.Zt(n).qt()}Zt(n){let e=this.Qt.get(n);return e||(e=new n3,this.Qt.set(n,e)),e}he(n){let e=this.zt.get(n);return e||(e=new $i(mn),this.zt=this.zt.insert(n,e)),e}te(n){const e=null!==this.se(n);return e||Ke("WatchChangeAggregator","Detected inactive target",n),e}se(n){const e=this.Qt.get(n);return e&&e.kt?null:this.Gt.le(n)}ee(n){this.Qt.set(n,new n3),this.Gt.getRemoteKeysForTarget(n).forEach(e=>{this.Yt(n,e,null)})}ae(n,e){return this.Gt.getRemoteKeysForTarget(n).has(e)}}function r3(){return new Ri(vt.comparator)}function o3(){return new Ri(vt.comparator)}const w$={asc:"ASCENDING",desc:"DESCENDING"},x$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C$={and:"AND",or:"OR"};class E${constructor(n,e){this.databaseId=n,this.useProto3Json=e}}function bP(i,n){return i.useProto3Json||S_(n)?n:{value:n}}function Kb(i,n){return i.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function s3(i,n){return i.useProto3Json?n.toBase64():n.toUint8Array()}function k$(i,n){return Kb(i,n.toTimestamp())}function oo(i){return Ht(!!i),$t.fromTimestamp(function(n){const e=Gl(n);return new Yi(e.seconds,e.nanos)}(i))}function wP(i,n){return(e=i,new Gn(["projects",e.projectId,"databases",e.database])).child("documents").child(n).canonicalString();var e}function a3(i){const n=Gn.fromString(i);return Ht(g3(n)),n}function uE(i,n){return wP(i.databaseId,n.path)}function lu(i,n){const e=a3(n);if(e.get(1)!==i.databaseId.projectId)throw new ze(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ze(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new vt(l3(e))}function xP(i,n){return wP(i.databaseId,n)}function c3(i){const n=a3(i);return 4===n.length?Gn.emptyPath():l3(n)}function hE(i){return new Gn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function l3(i){return Ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function d3(i,n,e){return{name:uE(i,n),fields:e.value.mapValue.fields}}function u3(i,n,e){const r=lu(i,n.name),o=oo(n.updateTime),a=n.createTime?oo(n.createTime):$t.min(),l=new Jo({mapValue:{fields:n.fields}}),h=Ki.newFoundDocument(r,o,a,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function fE(i,n){let e;if(n instanceof Zb)e={update:d3(i,n.key,n.value)};else if(n instanceof Yb)e={delete:uE(i,n.key)};else if(n instanceof Qh)e={update:d3(i,n.key,n.data),updateMask:O$(n.fieldMask)};else{if(!(n instanceof mP))return St();e={verify:uE(i,n.key)}}return n.fieldTransforms.length>0&&(e.updateTransforms=n.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof mt)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rt)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xt)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sn)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw St()}(0,r))),n.precondition.isNone||(e.currentDocument=void 0!==(o=n.precondition).updateTime?{updateTime:k$(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:St()),e;var o}function CP(i,n){const e=n.currentDocument?void 0!==(o=n.currentDocument).updateTime?Ar.updateTime(oo(o.updateTime)):void 0!==o.exists?Ar.exists(o.exists):Ar.none():Ar.none(),r=n.updateTransforms?n.updateTransforms.map(o=>function(a,l){let h=null;"setToServerValue"in l?(Ht("REQUEST_TIME"===l.setToServerValue),h=new mt):"appendMissingElements"in l?h=new Rt(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new Xt(l.removeAllFromArray.values||[]):"increment"in l?h=new Sn(a,l.increment):St();const m=Vr.fromServerFormat(l.fieldPath);return new L_(m,h)}(i,o)):[];var o;if(n.update){const o=lu(i,n.update.name),a=new Jo({mapValue:{fields:n.update.fields}});if(n.updateMask){const l=new ps((n.updateMask.fieldPaths||[]).map(g=>Vr.fromServerFormat(g)));return new Qh(o,a,l,e,r)}return new Zb(o,a,e,r)}if(n.delete){const o=lu(i,n.delete);return new Yb(o,e)}if(n.verify){const o=lu(i,n.verify);return new mP(o,e)}return St()}function h3(i,n){return{documents:[xP(i,n.path)]}}function EP(i,n){const e={structuredQuery:{}},r=n.path;null!==n.collectionGroup?(e.parent=xP(i,r),e.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(e.parent=xP(i,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0!==m.length)return p3(mi.create(m,"and"))}(n.filters);o&&(e.structuredQuery.where=o);const a=function(m){if(0!==m.length)return m.map(g=>{return{field:cp((b=g).field),direction:M$(b.dir)};var b})}(n.orderBy);a&&(e.structuredQuery.orderBy=a);const l=bP(i,n.limit);var h,m;return null!==l&&(e.structuredQuery.limit=l),n.startAt&&(e.structuredQuery.startAt={before:(h=n.startAt).inclusive,values:h.position}),n.endAt&&(e.structuredQuery.endAt={before:!(m=n.endAt).inclusive,values:m.position}),e}function f3(i){let n=c3(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Ht(1===r);const b=e.from[0];b.allDescendants?o=b.collectionId:n=n.child(b.collectionId)}let a=[];e.where&&(a=function(b){const E=m3(b);return E instanceof mi&&AS(E)?E.getFilters():[E]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(b=>{return new Yh(Qb((E=b).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let h=null;e.limit&&(h=function(b){let E;return E="object"==typeof b?b.value:b,S_(E)?null:E}(e.limit));let m=null;var b;e.startAt&&(m=new su((b=e.startAt).values||[],!!b.before));let g=null;return e.endAt&&(g=function(b){return new su(b.values||[],!b.before)}(e.endAt)),nE(n,o,l,a,h,"F",m,g)}function m3(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Qb(n.unaryFilter.field);return Bn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Qb(n.unaryFilter.field);return Bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qb(n.unaryFilter.field);return Bn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qb(n.unaryFilter.field);return Bn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(i):void 0!==i.fieldFilter?Bn.create(Qb((n=i).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return mi.create(n.compositeFilter.filters.map(e=>m3(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return St()}}(n.compositeFilter.op))}(i):St();var n}function M$(i){return w$[i]}function A$(i){return x$[i]}function R$(i){return C$[i]}function cp(i){return{fieldPath:i.canonicalString()}}function Qb(i){return Vr.fromServerFormat(i.fieldPath)}function p3(i){return i instanceof Bn?function(n){if("=="===n.op){if(Hb(n.value))return{unaryFilter:{field:cp(n.field),op:"IS_NAN"}};if(KC(n.value))return{unaryFilter:{field:cp(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Hb(n.value))return{unaryFilter:{field:cp(n.field),op:"IS_NOT_NAN"}};if(KC(n.value))return{unaryFilter:{field:cp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cp(n.field),op:A$(n.op),value:n.value}}}(i):i instanceof mi?function(n){const e=n.getFilters().map(r=>p3(r));return 1===e.length?e[0]:{compositeFilter:{op:R$(n.op),filters:e}}}(i):St()}function O$(i){const n=[];return i.fields.forEach(e=>n.push(e.canonicalString())),{fieldPaths:n}}function g3(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Jh{constructor(n,e,r,o,a=$t.min(),l=$t.min(),h=ro.EMPTY_BYTE_STRING,m=null){this.target=n,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(n){return new Jh(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,e){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class _3{constructor(n){this.fe=n}}function v3(i,n){const e=n.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:qS(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())r.document={name:uE(o=i.fe,(a=n).key),fields:a.data.value.mapValue.fields,updateTime:Kb(o,a.version.toTimestamp()),createTime:Kb(o,a.createTime.toTimestamp())};else if(n.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:B_(n.version)};else{if(!n.isUnknownDocument())return St();r.unknownDocument={path:e.path.toArray(),version:B_(n.version)}}var o,a;return r}function qS(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function B_(i){const n=i.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function V_(i){const n=new Yi(i.seconds,i.nanoseconds);return $t.fromTimestamp(n)}function U_(i,n){const e=(n.baseMutations||[]).map(a=>CP(i.fe,a));for(let a=0;a<n.mutations.length-1;++a)a+1<n.mutations.length&&void 0!==n.mutations[a+1].transform&&(n.mutations[a].updateTransforms=n.mutations[a+1].transform.fieldTransforms,n.mutations.splice(a+1,1),++a);const r=n.mutations.map(a=>CP(i.fe,a)),o=Yi.fromMillis(n.localWriteTimeMs);return new pP(n.batchId,o,e,r)}function mE(i){const n=V_(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?V_(i.lastLimboFreeSnapshotVersion):$t.min();let r;var o;return void 0!==i.query.documents?(Ht(1===(o=i.query).documents.length),r=Bs(N_(c3(o.documents[0])))):r=Bs(f3(i.query)),new Jh(r,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,n,e,ro.fromBase64String(i.resumeToken))}function y3(i,n){const e=B_(n.snapshotVersion),r=B_(n.lastLimboFreeSnapshotVersion);let o;o=$b(n.target)?h3(i.fe,n.target):EP(i.fe,n.target);const a=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:au(n.target),readTime:e,resumeToken:a,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function kP(i){const n=f3({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?sE(n,n.limit,"L"):n}function TP(i,n){return new _P(n.largestBatchId,CP(i.fe,n.overlayMutation))}function b3(i,n){const e=n.path.lastSegment();return[i,Qo(n.path.popLast()),e]}function w3(i,n,e,r){return{indexId:i,uid:n.uid||"",sequenceNumber:e,readTime:B_(r.readTime),documentKey:Qo(r.documentKey.path),largestBatchId:r.largestBatchId}}class N${getBundleMetadata(n,e){return x3(n).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:V_(o.createTime),version:o.version};var o})}saveBundleMetadata(n,e){return x3(n).put({bundleId:(r=e).id,createTime:B_(oo(r.createTime)),version:r.version});var r}getNamedQuery(n,e){return C3(n).get(e).next(r=>{if(r)return{name:(o=r).name,query:kP(o.bundledQuery),readTime:V_(o.readTime)};var o})}saveNamedQuery(n,e){return C3(n).put({name:(r=e).name,readTime:B_(oo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function x3(i){return io(i,"bundles")}function C3(i){return io(i,"namedQueries")}class WS{constructor(n,e){this.serializer=n,this.userId=e}static de(n,e){return new WS(n,e.uid||"")}getOverlay(n,e){return pE(n).get(b3(this.userId,e)).next(r=>r?TP(this.serializer,r):null)}getOverlays(n,e){const r=d();return ge.forEach(e,o=>this.getOverlay(n,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(n,e,r){const o=[];return r.forEach((a,l)=>{const h=new _P(e,l);o.push(this.we(n,h))}),ge.waitFor(o)}removeOverlaysForBatchId(n,e,r){const o=new Set;e.forEach(l=>o.add(Qo(l.getCollectionPath())));const a=[];return o.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(pE(n).J("collectionPathOverlayIndex",h))}),ge.waitFor(a)}getOverlaysForCollection(n,e,r){const o=d(),a=Qo(e),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return pE(n).j("collectionPathOverlayIndex",l).next(h=>{for(const m of h){const g=TP(this.serializer,m);o.set(g.getKey(),g)}return o})}getOverlaysForCollectionGroup(n,e,r,o){const a=d();let l;const h=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return pE(n).X({index:"collectionGroupOverlayIndex",range:h},(m,g,b)=>{const E=TP(this.serializer,g);a.size()<o||E.largestBatchId===l?(a.set(E.getKey(),E),l=E.largestBatchId):b.done()}).next(()=>a)}we(n,e){return pE(n).put(function(r,o,a){const[l,h,m]=b3(o,a.mutation.key);return{userId:o,collectionPath:h,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:fE(r.fe,a.mutation)}}(this.serializer,this.userId,e))}}function pE(i){return io(i,"documentOverlays")}class H_{constructor(){}_e(n,e){this.me(n,e),e.ge()}me(n,e){if("nullValue"in n)this.ye(e,5);else if("booleanValue"in n)this.ye(e,10),e.pe(n.booleanValue?1:0);else if("integerValue"in n)this.ye(e,15),e.pe(Mr(n.integerValue));else if("doubleValue"in n){const r=Mr(n.doubleValue);isNaN(r)?this.ye(e,13):(this.ye(e,15),$h(r)?e.pe(0):e.pe(r))}else if("timestampValue"in n){const r=n.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie(`${r.seconds||""}`),e.pe(r.nanos||0))}else if("stringValue"in n)this.Te(n.stringValue,e),this.Ee(e);else if("bytesValue"in n)this.ye(e,30),e.Ae(ql(n.bytesValue)),this.Ee(e);else if("referenceValue"in n)this.ve(n.referenceValue,e);else if("geoPointValue"in n){const r=n.geoPointValue;this.ye(e,45),e.pe(r.latitude||0),e.pe(r.longitude||0)}else"mapValue"in n?zb(n)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(n.mapValue,e),this.Ee(e)):"arrayValue"in n?(this.Pe(n.arrayValue,e),this.Ee(e)):St()}Te(n,e){this.ye(e,25),this.be(n,e)}be(n,e){e.Ie(n)}Re(n,e){const r=n.fields||{};this.ye(e,55);for(const o of Object.keys(r))this.Te(o,e),this.me(r[o],e)}Pe(n,e){const r=n.values||[];this.ye(e,50);for(const o of r)this.me(o,e)}ve(n,e){this.ye(e,37),vt.fromName(n).path.forEach(r=>{this.ye(e,60),this.be(r,e)})}ye(n,e){n.pe(e)}Ee(n){n.pe(2)}}function F$(i){if(0===i)return 8;let n=0;return!(i>>4)&&(n+=4,i<<=4),!(i>>6)&&(n+=2,i<<=2),!(i>>7)&&(n+=1),n}function E3(i){const n=64-function(e){let r=0;for(let o=0;o<8;++o){const a=F$(255&e[o]);if(r+=a,8!==a)break}return r}(i);return Math.ceil(n/8)}H_.Ve=new H_;class L${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(n){const e=n[Symbol.iterator]();let r=e.next();for(;!r.done;)this.De(r.value),r=e.next();this.Ce()}xe(n){const e=n[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ne(r.value),r=e.next();this.ke()}Me(n){for(const e of n){const r=e.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=e.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(n){for(const e of n){const r=e.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=e.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(n){const e=this.Fe(n),r=E3(e);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Le(n){const e=this.Fe(n),r=E3(e);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(n){this.Be(n.length),this.buffer.set(n,this.position),this.position+=n.length}Qe(){return this.buffer.slice(0,this.position)}Fe(n){const e=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(n),r=0!=(128&e[0]);e[0]^=r?255:128;for(let o=1;o<e.length;++o)e[o]^=r?255:0;return e}De(n){const e=255&n;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(n){const e=255&n;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(n)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(n){this.Be(1),this.buffer[this.position++]=n}Ge(n){this.Be(1),this.buffer[this.position++]=~n}Be(n){const e=n+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class B${constructor(n){this.je=n}Ae(n){this.je.Se(n)}Ie(n){this.je.Me(n)}pe(n){this.je.Oe(n)}ge(){this.je.qe()}}class V${constructor(n){this.je=n}Ae(n){this.je.xe(n)}Ie(n){this.je.$e(n)}pe(n){this.je.Le(n)}ge(){this.je.Ke()}}class gE{constructor(){this.je=new L$,this.ze=new B$(this.je),this.We=new V$(this.je)}seed(n){this.je.seed(n)}He(n){return 0===n?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class z_{constructor(n,e,r,o){this.indexId=n,this.documentKey=e,this.arrayValue=r,this.directionalValue=o}Je(){const n=this.directionalValue.length,e=0===n||255===this.directionalValue[n-1]?n+1:n,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==n?r.set([0],this.directionalValue.length):++r[r.length-1],new z_(this.indexId,this.documentKey,this.arrayValue,r)}}function lp(i,n){let e=i.indexId-n.indexId;return 0!==e?e:(e=k3(i.arrayValue,n.arrayValue),0!==e?e:(e=k3(i.directionalValue,n.directionalValue),0!==e?e:vt.comparator(i.documentKey,n.documentKey)))}function k3(i,n){for(let e=0;e<i.length&&e<n.length;++e){const r=i[e]-n[e];if(0!==r)return r}return i.length-n.length}class U${constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ye=n.orderBy,this.Xe=[];for(const e of n.filters){const r=e;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(n){Ht(n.collectionGroup===this.collectionId);const e=hS(n);if(void 0!==e&&!this.en(e))return!1;const r=Jm(n);let o=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)o=o.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const h=r[a];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(n){for(const e of this.Xe)if(this.nn(e,n))return!0;return!1}nn(n,e){return!(void 0===n||!n.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===n.op||"array-contains-any"===n.op)}sn(n,e){return!!n.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===n.dir||1===e.kind&&"desc"===n.dir)}}function T3(i){var n,e;if(Ht(i instanceof Bn||i instanceof mi),i instanceof Bn){if(i instanceof tE){const o=(null===(e=null===(n=i.value.arrayValue)||void 0===n?void 0:n.values)||void 0===e?void 0:e.map(a=>Bn.create(i.field,"==",a)))||[];return mi.create(o,"or")}return i}const r=i.filters.map(o=>T3(o));return mi.create(r,i.op)}function H$(i){if(0===i.getFilters().length)return[];const n=SP(T3(i));return Ht(I3(n)),IP(n)||DP(n)?[n]:n.getFilters()}function IP(i){return i instanceof Bn}function DP(i){return i instanceof mi&&AS(i)}function I3(i){return IP(i)||DP(i)||function(n){if(n instanceof mi&&R_(n)){for(const e of n.getFilters())if(!IP(e)&&!DP(e))return!1;return!0}return!1}(i)}function SP(i){if(Ht(i instanceof Bn||i instanceof mi),i instanceof Bn)return i;if(1===i.filters.length)return SP(i.filters[0]);const n=i.filters.map(r=>SP(r));let e=mi.create(n,i.op);return e=ZS(e),I3(e)?e:(Ht(e instanceof mi),Ht(Kh(e)),Ht(e.filters.length>1),e.filters.reduce((r,o)=>MP(r,o)))}function MP(i,n){let e;return Ht(i instanceof Bn||i instanceof mi),Ht(n instanceof Bn||n instanceof mi),e=i instanceof Bn?n instanceof Bn?mi.create([i,n],"and"):D3(i,n):n instanceof Bn?D3(n,i):function(r,o){if(Ht(r.filters.length>0&&o.filters.length>0),Kh(r)&&Kh(o))return OS(r,o.getFilters());const a=R_(r)?r:o,l=R_(r)?o:r,h=a.filters.map(m=>MP(m,l));return mi.create(h,"or")}(i,n),ZS(e)}function D3(i,n){if(Kh(n))return OS(n,i.getFilters());{const e=n.filters.map(r=>MP(i,r));return mi.create(e,"or")}}function ZS(i){if(Ht(i instanceof Bn||i instanceof mi),i instanceof Bn)return i;const n=i.getFilters();if(1===n.length)return ZS(n[0]);if(eE(i))return i;const e=n.map(o=>ZS(o)),r=[];return e.forEach(o=>{o instanceof Bn?r.push(o):o instanceof mi&&(o.op===i.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:mi.create(r,i.op)}class z${constructor(){this.rn=new AP}addToCollectionParentIndex(n,e){return this.rn.add(e),ge.resolve()}getCollectionParents(n,e){return ge.resolve(this.rn.getEntries(e))}addFieldIndex(n,e){return ge.resolve()}deleteFieldIndex(n,e){return ge.resolve()}getDocumentsMatchingTarget(n,e){return ge.resolve(null)}getIndexType(n,e){return ge.resolve(0)}getFieldIndexes(n,e){return ge.resolve([])}getNextCollectionGroupToUpdate(n){return ge.resolve(null)}getMinOffset(n,e){return ge.resolve(Ta.min())}getMinOffsetFromCollectionGroup(n,e){return ge.resolve(Ta.min())}updateCollectionGroup(n,e,r){return ge.resolve()}updateIndexEntries(n,e){return ge.resolve()}}class AP{constructor(){this.index={}}add(n){const e=n.lastSegment(),r=n.popLast(),o=this.index[e]||new $i(Gn.comparator),a=!o.has(r);return this.index[e]=o.add(r),a}has(n){const e=n.lastSegment(),r=n.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(n){return(this.index[n]||new $i(Gn.comparator)).toArray()}}const YS=new Uint8Array(0);class j${constructor(n,e){this.user=n,this.databaseId=e,this.on=new AP,this.un=new cu(r=>au(r),(r,o)=>rp(r,o)),this.uid=n.uid||""}addToCollectionParentIndex(n,e){if(!this.on.has(e)){const r=e.lastSegment(),o=e.popLast();n.addOnCommittedListener(()=>{this.on.add(e)});const a={collectionId:r,parent:Qo(o)};return S3(n).put(a)}return ge.resolve()}getCollectionParents(n,e){const r=[],o=IDBKeyRange.bound([e,""],[GO(e),""],!1,!0);return S3(n).j(o).next(a=>{for(const l of a){if(l.collectionId!==e)break;r.push(cc(l.parent))}return r})}addFieldIndex(n,e){const r=KS(n),o={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete o.indexId;const a=r.add(o);if(e.indexState){const l=vE(n);return a.next(h=>{l.put(w3(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(n,e){const r=KS(n),o=vE(n),a=_E(n);return r.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,e){const r=_E(n);let o=!0;const a=new Map;return ge.forEach(this.cn(e),l=>this.an(n,l).next(h=>{o&&(o=!!h),a.set(l,h)})).next(()=>{if(o){let l=w();const h=[];return ge.forEach(a,(m,g)=>{var b;Ke("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${au(e)}`);const E=function(Oe,De){const Pe=hS(De);if(void 0===Pe)return null;for(const et of op(Oe,Pe.fieldPath))switch(et.op){case"array-contains-any":return et.value.arrayValue.values||[];case"array-contains":return[et.value]}return null}(g,m),S=function(Oe,De){const Pe=new Map;for(const et of Jm(De))for(const ht of op(Oe,et.fieldPath))switch(ht.op){case"==":case"in":Pe.set(et.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return Pe.set(et.fieldPath.canonicalString(),ht.value),Array.from(Pe.values())}return null}(g,m),R=function(Oe,De){const Pe=[];let et=!0;for(const ht of Jm(De)){const Bt=0===ht.kind?FS(Oe,ht.fieldPath,Oe.startAt):LS(Oe,ht.fieldPath,Oe.startAt);Pe.push(Bt.value),et&&(et=Bt.inclusive)}return new su(Pe,et)}(g,m),F=function(Oe,De){const Pe=[];let et=!0;for(const ht of Jm(De)){const Bt=0===ht.kind?LS(Oe,ht.fieldPath,Oe.endAt):FS(Oe,ht.fieldPath,Oe.endAt);Pe.push(Bt.value),et&&(et=Bt.inclusive)}return new su(Pe,et)}(g,m),G=this.hn(m,g,R),Y=this.hn(m,g,F),ve=this.ln(m,g,S),Me=this.fn(m.indexId,E,G,R.inclusive,Y,F.inclusive,ve);return ge.forEach(Me,Oe=>r.H(Oe,e.limit).next(De=>{De.forEach(Pe=>{const et=vt.fromSegments(Pe.documentKey);l.has(et)||(l=l.add(et),h.push(et))})}))}).next(()=>h)}return ge.resolve(null)})}cn(n){let e=this.un.get(n);return e||(e=0===n.filters.length?[n]:H$(mi.create(n.filters,"and")).map(r=>P_(n.path,n.collectionGroup,n.orderBy,r.getFilters(),n.limit,n.startAt,n.endAt)),this.un.set(n,e),e)}fn(n,e,r,o,a,l,h){const m=(null!=e?e.length:1)*Math.max(r.length,a.length),g=m/(null!=e?e.length:1),b=[];for(let E=0;E<m;++E){const S=e?this.dn(e[E/g]):YS,R=this.wn(n,S,r[E%g],o),F=this._n(n,S,a[E%g],l),G=h.map(Y=>this.wn(n,S,Y,!0));b.push(...this.createRange(R,F,G))}return b}wn(n,e,r,o){const a=new z_(n,vt.empty(),e,r);return o?a:a.Je()}_n(n,e,r,o){const a=new z_(n,vt.empty(),e,r);return o?a.Je():a}an(n,e){const r=new U$(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(n,o).next(a=>{let l=null;for(const h of a)r.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(n,e){let r=2;const o=this.cn(e);return ge.forEach(o,a=>this.an(n,a).next(l=>{l?0!==r&&l.fields.length<function(h){let m=new $i(Vr.comparator),g=!1;for(const b of h.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?g=!0:m=m.add(E.field));for(const b of h.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(g?1:0)}(a)&&(r=1):r=0})).next(()=>null!==e.limit&&o.length>1&&2===r?1:r)}mn(n,e){const r=new gE;for(const o of Jm(n)){const a=e.data.field(o.fieldPath);if(null==a)return null;const l=r.He(o.kind);H_.Ve._e(a,l)}return r.Qe()}dn(n){const e=new gE;return H_.Ve._e(n,e.He(0)),e.Qe()}gn(n,e){const r=new gE;return H_.Ve._e(Zh(this.databaseId,e),r.He(function(o){const a=Jm(o);return 0===a.length?0:a[a.length-1].kind}(n))),r.Qe()}ln(n,e,r){if(null===r)return[];let o=[];o.push(new gE);let a=0;for(const l of Jm(n)){const h=r[a++];for(const m of o)if(this.yn(e,l.fieldPath)&&lc(h))o=this.pn(o,l,h);else{const g=m.He(l.kind);H_.Ve._e(h,g)}}return this.In(o)}hn(n,e,r){return this.ln(n,e,r.position)}In(n){const e=[];for(let r=0;r<n.length;++r)e[r]=n[r].Qe();return e}pn(n,e,r){const o=[...n],a=[];for(const l of r.arrayValue.values||[])for(const h of o){const m=new gE;m.seed(h.Qe()),H_.Ve._e(l,m.He(e.kind)),a.push(m)}return a}yn(n,e){return!!n.filters.find(r=>r instanceof Bn&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(n,e){const r=KS(n),o=vE(n);return(e?r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.j()).next(a=>{const l=[];return ge.forEach(a,h=>o.get([h.indexId,this.uid]).next(m=>{l.push(function(g,b){const E=b?new I_(b.sequenceNumber,new Ta(V_(b.readTime),new vt(cc(b.documentKey)),b.largestBatchId)):I_.empty(),S=g.fields.map(([R,F])=>new Xm(Vr.fromServerFormat(R),F));return new PC(g.indexId,g.collectionGroup,S,E)}(h,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(e=>0===e.length?null:(e.sort((r,o)=>{const a=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==a?a:mn(r.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(n,e,r){const o=KS(n),a=vE(n);return this.Tn(n).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ge.forEach(h,m=>a.put(w3(m.indexId,this.user,l,r)))))}updateIndexEntries(n,e){const r=new Map;return ge.forEach(e,(o,a)=>{const l=r.get(o.collectionGroup);return(l?ge.resolve(l):this.getFieldIndexes(n,o.collectionGroup)).next(h=>(r.set(o.collectionGroup,h),ge.forEach(h,m=>this.En(n,o,m).next(g=>{const b=this.An(a,m);return g.isEqual(b)?ge.resolve():this.vn(n,a,m,g,b)}))))})}Rn(n,e,r,o){return _E(n).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,e.key),documentKey:e.key.path.toArray()})}Pn(n,e,r,o){return _E(n).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,e.key),e.key.path.toArray()])}En(n,e,r){const o=_E(n);let a=new $i(lp);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,e)])},(l,h)=>{a=a.add(new z_(r.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>a)}An(n,e){let r=new $i(lp);const o=this.mn(e,n);if(null==o)return r;const a=hS(e);if(null!=a){const l=n.data.field(a.fieldPath);if(lc(l))for(const h of l.arrayValue.values||[])r=r.add(new z_(e.indexId,n.key,this.dn(h),o))}else r=r.add(new z_(e.indexId,n.key,YS,o));return r}vn(n,e,r,o,a){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(h,m,g,b,E){const S=h.getIterator(),R=m.getIterator();let F=$l(S),G=$l(R);for(;F||G;){let Y=!1,ve=!1;if(F&&G){const Me=g(F,G);Me<0?ve=!0:Me>0&&(Y=!0)}else null!=F?ve=!0:Y=!0;Y?(b(G),G=$l(R)):ve?(E(F),F=$l(S)):(F=$l(S),G=$l(R))}}(o,a,lp,h=>{l.push(this.Rn(n,e,r,h))},h=>{l.push(this.Pn(n,e,r,h))}),ge.waitFor(l)}Tn(n){let e=1;return vE(n).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,a)=>{a.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(n,e,r){r=r.sort((l,h)=>lp(l,h)).filter((l,h,m)=>!h||0!==lp(l,m[h-1]));const o=[];o.push(n);for(const l of r){const h=lp(l,n),m=lp(l,e);if(0===h)o[0]=n.Je();else if(h>0&&m<0)o.push(l),o.push(l.Je());else if(m>0)break}o.push(e);const a=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];a.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,YS,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,YS,[]]))}return a}bn(n,e){return lp(n,e)>0}getMinOffsetFromCollectionGroup(n,e){return this.getFieldIndexes(n,e).next(M3)}getMinOffset(n,e){return ge.mapArray(this.cn(e),r=>this.an(n,r).next(o=>o||St())).next(M3)}}function S3(i){return io(i,"collectionParents")}function _E(i){return io(i,"indexEntries")}function KS(i){return io(i,"indexConfiguration")}function vE(i){return io(i,"indexState")}function M3(i){Ht(0!==i.length);let n=i[0].indexState.offset,e=n.largestBatchId;for(let r=1;r<i.length;r++){const o=i[r].indexState.offset;gS(o,n)<0&&(n=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Ta(n.readTime,n.documentKey,e)}const A3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vs{constructor(n,e,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(n){return new Vs(n,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function R3(i,n,e){const r=i.store("mutations"),o=i.store("documentMutations"),a=[],l=IDBKeyRange.only(e.batchId);let h=0;const m=r.X({range:l},(b,E,S)=>(h++,S.delete()));a.push(m.next(()=>{Ht(1===h)}));const g=[];for(const b of e.mutations){const E=UC(n,b.key.path,e.batchId);a.push(o.delete(E)),g.push(b.key)}return ge.waitFor(a).next(()=>g)}function QS(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw St();n=i.noDocument}return JSON.stringify(n).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);class JS{constructor(n,e,r,o){this.userId=n,this.serializer=e,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(n,e,r,o){Ht(""!==n.uid);const a=n.isAuthenticated()?n.uid:"";return new JS(a,e,r,o)}checkEmpty(n){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dp(n).X({index:"userMutationsIndex",range:r},(o,a,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(n,e,r,o){const a=Jb(n),l=dp(n);return l.add({}).next(h=>{Ht("number"==typeof h);const m=new pP(h,e,r,o),g=function(S,R,F){const G=F.baseMutations.map(ve=>fE(S.fe,ve)),Y=F.mutations.map(ve=>fE(S.fe,ve));return{userId:R,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:G,mutations:Y}}(this.serializer,this.userId,m),b=[];let E=new $i((S,R)=>mn(S.canonicalString(),R.canonicalString()));for(const S of o){const R=UC(this.userId,S.key.path,h);E=E.add(S.key.path.popLast()),b.push(l.put(g)),b.push(a.put(R,bS))}return E.forEach(S=>{b.push(this.indexManager.addToCollectionParentIndex(n,S))}),n.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),ge.waitFor(b).next(()=>m)})}lookupMutationBatch(n,e){return dp(n).get(e).next(r=>r?(Ht(r.userId===this.userId),U_(this.serializer,r)):null)}Sn(n,e){return this.Vn[e]?ge.resolve(this.Vn[e]):this.lookupMutationBatch(n,e).next(r=>{if(r){const o=r.keys();return this.Vn[e]=o,o}return null})}getNextMutationBatchAfterBatchId(n,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return dp(n).X({index:"userMutationsIndex",range:o},(l,h,m)=>{h.userId===this.userId&&(Ht(h.batchId>=r),a=U_(this.serializer,h)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(n){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return dp(n).X({index:"userMutationsIndex",range:e,reverse:!0},(o,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(n){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dp(n).j("userMutationsIndex",e).next(r=>r.map(o=>U_(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(n,e){const r=M_(this.userId,e.path),o=IDBKeyRange.lowerBound(r),a=[];return Jb(n).X({range:o},(l,h,m)=>{const[g,b,E]=l,S=cc(b);if(g===this.userId&&e.path.isEqual(S))return dp(n).get(E).next(R=>{if(!R)throw St();Ht(R.userId===this.userId),a.push(U_(this.serializer,R))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(n,e){let r=new $i(mn);const o=[];return e.forEach(a=>{const l=M_(this.userId,a.path),h=IDBKeyRange.lowerBound(l),m=Jb(n).X({range:h},(g,b,E)=>{const[S,R,F]=g,G=cc(R);S===this.userId&&a.path.isEqual(G)?r=r.add(F):E.done()});o.push(m)}),ge.waitFor(o).next(()=>this.Dn(n,r))}getAllMutationBatchesAffectingQuery(n,e){const r=e.path,o=r.length+1,a=M_(this.userId,r),l=IDBKeyRange.lowerBound(a);let h=new $i(mn);return Jb(n).X({range:l},(m,g,b)=>{const[E,S,R]=m,F=cc(S);E===this.userId&&r.isPrefixOf(F)?F.length===o&&(h=h.add(R)):b.done()}).next(()=>this.Dn(n,h))}Dn(n,e){const r=[],o=[];return e.forEach(a=>{o.push(dp(n).get(a).next(l=>{if(null===l)throw St();Ht(l.userId===this.userId),r.push(U_(this.serializer,l))}))}),ge.waitFor(o).next(()=>r)}removeMutationBatch(n,e){return R3(n.ht,this.userId,e).next(r=>(n.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ge.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(n,o))))}Cn(n){delete this.Vn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(e=>{if(!e)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Jb(n).X({range:r},(a,l,h)=>{if(a[0]===this.userId){const m=cc(a[1]);o.push(m)}else h.done()}).next(()=>{Ht(0===o.length)})})}containsKey(n,e){return O3(n,this.userId,e)}xn(n){return P3(n).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function O3(i,n,e){const r=M_(n,e.path),o=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Jb(i).X({range:a,Y:!0},(h,m,g)=>{const[b,E,S]=h;b===n&&E===o&&(l=!0),g.done()}).next(()=>l)}function dp(i){return io(i,"mutations")}function Jb(i){return io(i,"documentMutations")}function P3(i){return io(i,"mutationQueues")}class j_{constructor(n){this.Nn=n}next(){return this.Nn+=2,this.Nn}static kn(){return new j_(0)}static Mn(){return new j_(-1)}}class $${constructor(n,e){this.referenceDelegate=n,this.serializer=e}allocateTargetId(n){return this.$n(n).next(e=>{const r=new j_(e.highestTargetId);return e.highestTargetId=r.next(),this.On(n,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.$n(n).next(e=>$t.fromTimestamp(new Yi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.$n(n).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(n,e,r){return this.$n(n).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.On(n,o)))}addTargetData(n,e){return this.Fn(n,e).next(()=>this.$n(n).next(r=>(r.targetCount+=1,this.Bn(e,r),this.On(n,r))))}updateTargetData(n,e){return this.Fn(n,e)}removeTargetData(n,e){return this.removeMatchingKeysForTargetId(n,e.targetId).next(()=>Xb(n).delete(e.targetId)).next(()=>this.$n(n)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.On(n,r)))}removeTargets(n,e,r){let o=0;const a=[];return Xb(n).X((l,h)=>{const m=mE(h);m.sequenceNumber<=e&&null===r.get(m.targetId)&&(o++,a.push(this.removeTargetData(n,m)))}).next(()=>ge.waitFor(a)).next(()=>o)}forEachTarget(n,e){return Xb(n).X((r,o)=>{const a=mE(o);e(a)})}$n(n){return N3(n).get("targetGlobalKey").next(e=>(Ht(null!==e),e))}On(n,e){return N3(n).put("targetGlobalKey",e)}Fn(n,e){return Xb(n).put(y3(this.serializer,e))}Bn(n,e){let r=!1;return n.targetId>e.highestTargetId&&(e.highestTargetId=n.targetId,r=!0),n.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n.sequenceNumber,r=!0),r}getTargetCount(n){return this.$n(n).next(e=>e.targetCount)}getTargetData(n,e){const r=au(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Xb(n).X({range:o,index:"queryTargetsIndex"},(l,h,m)=>{const g=mE(h);rp(e,g.target)&&(a=g,m.done())}).next(()=>a)}addMatchingKeys(n,e,r){const o=[],a=up(n);return e.forEach(l=>{const h=Qo(l.path);o.push(a.put({targetId:r,path:h})),o.push(this.referenceDelegate.addReference(n,r,l))}),ge.waitFor(o)}removeMatchingKeys(n,e,r){const o=up(n);return ge.forEach(e,a=>{const l=Qo(a.path);return ge.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(n,r,a)])})}removeMatchingKeysForTargetId(n,e){const r=up(n),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(n,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=up(n);let a=w();return o.X({range:r,Y:!0},(l,h,m)=>{const g=cc(l[1]),b=new vt(g);a=a.add(b)}).next(()=>a)}containsKey(n,e){const r=Qo(e.path),o=IDBKeyRange.bound([r],[GO(r)],!1,!0);let a=0;return up(n).X({index:"documentTargetsIndex",Y:!0,range:o},([l,h],m,g)=>{0!==l&&(a++,g.done())}).next(()=>a>0)}le(n,e){return Xb(n).get(e).next(r=>r?mE(r):null)}}function Xb(i){return io(i,"targets")}function N3(i){return io(i,"targetGlobal")}function up(i){return io(i,"targetDocuments")}function F3([i,n],[e,r]){const o=mn(i,e);return 0===o?mn(n,r):o}class G${constructor(n){this.Ln=n,this.buffer=new $i(F3),this.qn=0}Un(){return++this.qn}Kn(n){const e=[n,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();F3(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class L3{constructor(n,e,r){this.garbageCollector=n,this.asyncQueue=e,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(n){var e=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ee.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){zh(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield nu(r)}yield e.Qn(3e5)}))}}class q${constructor(n,e){this.jn=n,this.params=e}calculateTargetCount(n,e){return this.jn.zn(n).next(r=>Math.floor(e/100*r))}nthSequenceNumber(n,e){if(0===e)return ge.resolve(Ai.ct);const r=new G$(e);return this.jn.forEachTarget(n,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(n,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(n,e,r){return this.jn.removeTargets(n,e,r)}removeOrphanedDocuments(n,e){return this.jn.removeOrphanedDocuments(n,e)}collect(n,e){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(A3)):this.getCacheSize(n).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A3):this.Hn(n,e))}getCacheSize(n){return this.jn.getCacheSize(n)}Hn(n,e){let r,o,a,l,h,m,g;const b=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,l=Date.now(),this.nthSequenceNumber(n,o))).next(E=>(r=E,h=Date.now(),this.removeTargets(n,r,e))).next(E=>(a=E,m=Date.now(),this.removeOrphanedDocuments(n,r))).next(E=>(g=Date.now(),Ab()<=Xr.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${o} in `+(h-l)+`ms\n\tRemoved ${a} targets in `+(m-h)+`ms\n\tRemoved ${E} documents in `+(g-m)+`ms\nTotal Duration: ${g-b}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}class W${constructor(n,e){this.db=n,this.garbageCollector=function B3(i,n){return new q$(i,n)}(this,e)}zn(n){const e=this.Jn(n);return this.db.getTargetCache().getTargetCount(n).next(r=>e.next(o=>r+o))}Jn(n){let e=0;return this.Wn(n,r=>{e++}).next(()=>e)}forEachTarget(n,e){return this.db.getTargetCache().forEachTarget(n,e)}Wn(n,e){return this.Yn(n,(r,o)=>e(o))}addReference(n,e,r){return XS(n,r)}removeReference(n,e,r){return XS(n,r)}removeTargets(n,e,r){return this.db.getTargetCache().removeTargets(n,e,r)}markPotentiallyOrphaned(n,e){return XS(n,e)}Xn(n,e){return function(r,o){let a=!1;return P3(r).Z(l=>O3(r,l,o).next(h=>(h&&(a=!0),ge.resolve(!h)))).next(()=>a)}(n,e)}removeOrphanedDocuments(n,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let a=0;return this.Yn(n,(l,h)=>{if(h<=e){const m=this.Xn(n,l).next(g=>{if(!g)return a++,r.getEntry(n,l).next(()=>(r.removeEntry(l,$t.min()),up(n).delete([0,Qo(l.path)])))});o.push(m)}}).next(()=>ge.waitFor(o)).next(()=>r.apply(n)).next(()=>a)}removeTarget(n,e){const r=e.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,r)}updateLimboDocument(n,e){return XS(n,e)}Yn(n,e){const r=up(n);let o,a=Ai.ct;return r.X({index:"documentTargetsIndex"},([l,h],{path:m,sequenceNumber:g})=>{0===l?(a!==Ai.ct&&e(new vt(cc(o)),a),a=g,o=m):a=Ai.ct}).next(()=>{a!==Ai.ct&&e(new vt(cc(o)),a)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function XS(i,n){return up(i).put((r=i.currentSequenceNumber,{targetId:0,path:Qo(n.path),sequenceNumber:r}));var r}class V3{constructor(){this.changes=new cu(n=>n.toString(),(n,e)=>n.isEqual(e)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,e){this.assertNotApplied(),this.changes.set(n,Ki.newInvalidDocument(n).setReadTime(e))}getEntry(n,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ge.resolve(r):this.getFromCache(n,e)}getEntries(n,e){return this.getAllFromCache(n,e)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Z${constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,e,r){return $_(n).put(r)}removeEntry(n,e,r){return $_(n).delete(function(o,a){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],qS(a),l[l.length-1]]}(e,r))}updateMetadata(n,e){return this.getMetadata(n).next(r=>(r.byteSize+=e,this.Zn(n,r)))}getEntry(n,e){let r=Ki.newInvalidDocument(e);return $_(n).X({index:"documentKeyIndex",range:IDBKeyRange.only(yE(e))},(o,a)=>{r=this.ts(e,a)}).next(()=>r)}es(n,e){let r={size:0,document:Ki.newInvalidDocument(e)};return $_(n).X({index:"documentKeyIndex",range:IDBKeyRange.only(yE(e))},(o,a)=>{r={document:this.ts(e,a),size:QS(a)}}).next(()=>r)}getEntries(n,e){let r=Xs();return this.ns(n,e,(o,a)=>{const l=this.ts(o,a);r=r.insert(o,l)}).next(()=>r)}ss(n,e){let r=Xs(),o=new Ri(vt.comparator);return this.ns(n,e,(a,l)=>{const h=this.ts(a,l);r=r.insert(a,h),o=o.insert(a,QS(l))}).next(()=>({documents:r,rs:o}))}ns(n,e,r){if(e.isEmpty())return ge.resolve();let o=new $i(j3);e.forEach(m=>o=o.add(m));const a=IDBKeyRange.bound(yE(o.first()),yE(o.last())),l=o.getIterator();let h=l.getNext();return $_(n).X({index:"documentKeyIndex",range:a},(m,g,b)=>{const E=vt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&j3(h,E)<0;)r(h,null),h=l.getNext();h&&h.isEqual(E)&&(r(h,g),h=l.hasNext()?l.getNext():null),h?b.G(yE(h)):b.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(n,e,r,o){const a=e.path,l=[a.popLast().toArray(),a.lastSegment(),qS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $_(n).j(IDBKeyRange.bound(l,h,!0)).next(m=>{let g=Xs();for(const b of m){const E=this.ts(vt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(qb(e,E)||o.has(E.key))&&(g=g.insert(E.key,E))}return g})}getAllFromCollectionGroup(n,e,r,o){let a=Xs();const l=z3(e,r),h=z3(e,Ta.max());return $_(n).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(m,g,b)=>{const E=this.ts(vt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);a=a.insert(E.key,E),a.size===o&&b.done()}).next(()=>a)}newChangeBuffer(n){return new Y$(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(e=>e.byteSize)}getMetadata(n){return H3(n).get("remoteDocumentGlobalKey").next(e=>(Ht(!!e),e))}Zn(n,e){return H3(n).put("remoteDocumentGlobalKey",e)}ts(n,e){if(e){const r=function P$(i,n){let e;if(n.document)e=u3(i.fe,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const r=vt.fromSegments(n.noDocument.path),o=V_(n.noDocument.readTime);e=Ki.newNoDocument(r,o),n.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!n.unknownDocument)return St();{const r=vt.fromSegments(n.unknownDocument.path),o=V_(n.unknownDocument.version);e=Ki.newUnknownDocument(r,o)}}return n.readTime&&e.setReadTime(function(r){const o=new Yi(r[0],r[1]);return $t.fromTimestamp(o)}(n.readTime)),e}(this.serializer,e);if(!r.isNoDocument()||!r.version.isEqual($t.min()))return r}return Ki.newInvalidDocument(n)}}function U3(i){return new Z$(i)}class Y$ extends V3{constructor(n,e){super(),this.os=n,this.trackRemovals=e,this.us=new cu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(n){const e=[];let r=0,o=new $i((a,l)=>mn(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const h=this.us.get(a);if(e.push(this.os.removeEntry(n,a,h.readTime)),l.isValidDocument()){const m=v3(this.os.serializer,l);o=o.add(a.path.popLast());const g=QS(m);r+=g-h.size,e.push(this.os.addEntry(n,a,m))}else if(r-=h.size,this.trackRemovals){const m=v3(this.os.serializer,l.convertToNoDocument($t.min()));e.push(this.os.addEntry(n,a,m))}}),o.forEach(a=>{e.push(this.os.indexManager.addToCollectionParentIndex(n,a))}),e.push(this.os.updateMetadata(n,r)),ge.waitFor(e)}getFromCache(n,e){return this.os.es(n,e).next(r=>(this.us.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(n,e){return this.os.ss(n,e).next(({documents:r,rs:o})=>(o.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function H3(i){return io(i,"remoteDocumentGlobal")}function $_(i){return io(i,"remoteDocumentsV14")}function yE(i){const n=i.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function z3(i,n){const e=n.documentKey.path.toArray();return[i,qS(n.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function j3(i,n){const e=i.path.toArray(),r=n.path.toArray();let o=0;for(let a=0;a<e.length-2&&a<r.length-2;++a)if(o=mn(e[a],r[a]),o)return o;return o=mn(e.length,r.length),o||(o=mn(e[e.length-2],r[r.length-2]),o||mn(e[e.length-1],r[r.length-1]))}class K${constructor(n,e){this.overlayedDocument=n,this.mutatedFields=e}}class $3{constructor(n,e,r,o){this.remoteDocumentCache=n,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(n,e){let r=null;return this.documentOverlayCache.getOverlay(n,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(n,e))).next(o=>(null!==r&&aE(r.mutation,o,ps.empty(),Yi.now()),o))}getDocuments(n,e){return this.remoteDocumentCache.getEntries(n,e).next(r=>this.getLocalViewOfDocuments(n,r,w()).next(()=>r))}getLocalViewOfDocuments(n,e,r=w()){const o=d();return this.populateOverlays(n,o,e).next(()=>this.computeViews(n,e,o,r).next(a=>{let l=Wb();return a.forEach((h,m)=>{l=l.insert(h,m.overlayedDocument)}),l}))}getOverlayedDocuments(n,e){const r=d();return this.populateOverlays(n,r,e).next(()=>this.computeViews(n,e,r,w()))}populateOverlays(n,e,r){const o=[];return r.forEach(a=>{e.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(n,o).next(a=>{a.forEach((l,h)=>{e.set(l,h)})})}computeViews(n,e,r,o){let a=Xs();const l=f(),h=f();return e.forEach((m,g)=>{const b=r.get(g.key);o.has(g.key)&&(void 0===b||b.mutation instanceof Qh)?a=a.insert(g.key,g):void 0!==b?(l.set(g.key,b.mutation.getFieldMask()),aE(b.mutation,g,b.mutation.getFieldMask(),Yi.now())):l.set(g.key,ps.empty())}),this.recalculateAndSaveOverlays(n,a).next(m=>(m.forEach((g,b)=>l.set(g,b)),e.forEach((g,b)=>{var E;return h.set(g,new K$(b,null!==(E=l.get(g))&&void 0!==E?E:null))}),h))}recalculateAndSaveOverlays(n,e){const r=f();let o=new Ri((l,h)=>l-h),a=w();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,e).next(l=>{for(const h of l)h.keys().forEach(m=>{const g=e.get(m);if(null===g)return;let b=r.get(m)||ps.empty();b=h.applyToLocalView(g,b),r.set(m,b);const E=(o.get(h.batchId)||w()).add(m);o=o.insert(h.batchId,E)})}).next(()=>{const l=[],h=o.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,b=m.value,E=u();b.forEach(S=>{if(!a.has(S)){const R=$B(e.get(S),r.get(S));null!==R&&E.set(S,R),a=a.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(n,g,E))}return ge.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(n,e){return this.remoteDocumentCache.getEntries(n,e).next(r=>this.recalculateAndSaveOverlays(n,r))}getDocumentsMatchingQuery(n,e,r){return vt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(n,e.path):rE(e)?this.getDocumentsMatchingCollectionGroupQuery(n,e,r):this.getDocumentsMatchingCollectionQuery(n,e,r);var o}getNextDocuments(n,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(n,e,r,o).next(a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,e,r.largestBatchId,o-a.size):ge.resolve(d());let h=-1,m=a;return l.next(g=>ge.forEach(g,(b,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(b)?ge.resolve():this.remoteDocumentCache.getEntry(n,b).next(S=>{m=m.insert(b,S)}))).next(()=>this.populateOverlays(n,g,a)).next(()=>this.computeViews(n,m,g,w())).next(b=>({batchId:h,changes:c(b)})))})}getDocumentsMatchingDocumentQuery(n,e){return this.getDocument(n,new vt(e)).next(r=>{let o=Wb();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(n,e,r){const o=e.collectionGroup;let a=Wb();return this.indexManager.getCollectionParents(n,o).next(l=>ge.forEach(l,h=>{const m=(g=e,b=h.child(o),new tl(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,b;return this.getDocumentsMatchingCollectionQuery(n,m,r).next(g=>{g.forEach((b,E)=>{a=a.insert(b,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(n,e,r){let o;return this.documentOverlayCache.getOverlaysForCollection(n,e.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(n,e,r,o))).next(a=>{o.forEach((h,m)=>{const g=m.getKey();null===a.get(g)&&(a=a.insert(g,Ki.newInvalidDocument(g)))});let l=Wb();return a.forEach((h,m)=>{const g=o.get(h);void 0!==g&&aE(g.mutation,m,ps.empty(),Yi.now()),qb(e,m)&&(l=l.insert(h,m))}),l})}}class Q${constructor(n){this.serializer=n,this.cs=new Map,this.hs=new Map}getBundleMetadata(n,e){return ge.resolve(this.cs.get(e))}saveBundleMetadata(n,e){var r;return this.cs.set(e.id,{id:(r=e).id,version:r.version,createTime:oo(r.createTime)}),ge.resolve()}getNamedQuery(n,e){return ge.resolve(this.hs.get(e))}saveNamedQuery(n,e){return this.hs.set(e.name,{name:(r=e).name,query:kP(r.bundledQuery),readTime:oo(r.readTime)}),ge.resolve();var r}}class J${constructor(){this.overlays=new Ri(vt.comparator),this.ls=new Map}getOverlay(n,e){return ge.resolve(this.overlays.get(e))}getOverlays(n,e){const r=d();return ge.forEach(e,o=>this.getOverlay(n,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(n,e,r){return r.forEach((o,a)=>{this.we(n,e,a)}),ge.resolve()}removeOverlaysForBatchId(n,e,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ge.resolve()}getOverlaysForCollection(n,e,r){const o=d(),a=e.length+1,l=new vt(e.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ge.resolve(o)}getOverlaysForCollectionGroup(n,e,r,o){let a=new Ri((g,b)=>g-b);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let b=a.get(g.largestBatchId);null===b&&(b=d(),a=a.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const h=d(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,b)=>h.set(g,b)),!(h.size()>=o)););return ge.resolve(h)}we(n,e,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _P(e,r));let a=this.ls.get(e);void 0===a&&(a=w(),this.ls.set(e,a)),this.ls.set(e,a.add(r.key))}}class RP{constructor(){this.fs=new $i(Xo.ds),this.ws=new $i(Xo._s)}isEmpty(){return this.fs.isEmpty()}addReference(n,e){const r=new Xo(n,e);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(n,e){n.forEach(r=>this.addReference(r,e))}removeReference(n,e){this.ys(new Xo(n,e))}ps(n,e){n.forEach(r=>this.removeReference(r,e))}Is(n){const e=new vt(new Gn([])),r=new Xo(e,n),o=new Xo(e,n+1),a=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(n=>this.ys(n))}ys(n){this.fs=this.fs.delete(n),this.ws=this.ws.delete(n)}Es(n){const e=new vt(new Gn([])),r=new Xo(e,n),o=new Xo(e,n+1);let a=w();return this.ws.forEachInRange([r,o],l=>{a=a.add(l.key)}),a}containsKey(n){const e=new Xo(n,0),r=this.fs.firstAfterOrEqual(e);return null!==r&&n.isEqual(r.key)}}class Xo{constructor(n,e){this.key=n,this.As=e}static ds(n,e){return vt.comparator(n.key,e.key)||mn(n.As,e.As)}static _s(n,e){return mn(n.As,e.As)||vt.comparator(n.key,e.key)}}class X${constructor(n,e){this.indexManager=n,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new $i(Xo.ds)}checkEmpty(n){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(n,e,r,o){const a=this.vs;this.vs++;const l=new pP(a,e,r,o);this.mutationQueue.push(l);for(const h of o)this.Rs=this.Rs.add(new Xo(h.key,a)),this.indexManager.addToCollectionParentIndex(n,h.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(n,e){return ge.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(n,e){const o=this.bs(e+1),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(n){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,e){const r=new Xo(e,0),o=new Xo(e,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,o],l=>{const h=this.Ps(l.As);a.push(h)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(n,e){let r=new $i(mn);return e.forEach(o=>{const a=new Xo(o,0),l=new Xo(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],h=>{r=r.add(h.As)})}),ge.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(n,e){const r=e.path,o=r.length+1;let a=r;vt.isDocumentKey(a)||(a=a.child(""));const l=new Xo(new vt(a),0);let h=new $i(mn);return this.Rs.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(h=h.add(m.As)),!0)},l),ge.resolve(this.Vs(h))}Vs(n){const e=[];return n.forEach(r=>{const o=this.Ps(r);null!==o&&e.push(o)}),e}removeMutationBatch(n,e){Ht(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ge.forEach(e.mutations,o=>{const a=new Xo(o.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)}).next(()=>{this.Rs=r})}Cn(n){}containsKey(n,e){const r=new Xo(e,0),o=this.Rs.firstAfterOrEqual(r);return ge.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(n){return ge.resolve()}Ss(n,e){return this.bs(n)}bs(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Ps(n){const e=this.bs(n);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class eG{constructor(n){this.Ds=n,this.docs=new Ri(vt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,e){const r=e.key,o=this.docs.get(r),a=o?o.size:0,l=this.Ds(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const e=this.docs.get(n);e&&(this.docs=this.docs.remove(n),this.size-=e.size)}getEntry(n,e){const r=this.docs.get(e);return ge.resolve(r?r.document.mutableCopy():Ki.newInvalidDocument(e))}getEntries(n,e){let r=Xs();return e.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Ki.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(n,e,r,o){let a=Xs();const l=e.path,h=new vt(l.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:b}}=m.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||gS(pS(b),r)<=0||(o.has(b.key)||qb(e,b))&&(a=a.insert(b.key,b.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(n,e,r,o){St()}Cs(n,e){return ge.forEach(this.docs,r=>e(r))}newChangeBuffer(n){return new tG(this)}getSize(n){return ge.resolve(this.size)}}class tG extends V3{constructor(n){super(),this.os=n}applyChanges(n){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.os.addEntry(n,o)):this.os.removeEntry(r)}),ge.waitFor(e)}getFromCache(n,e){return this.os.getEntry(n,e)}getAllFromCache(n,e){return this.os.getEntries(n,e)}}class nG{constructor(n){this.persistence=n,this.xs=new cu(e=>au(e),rp),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RP,this.targetCount=0,this.Ms=j_.kn()}forEachTarget(n,e){return this.xs.forEach((r,o)=>e(o)),ge.resolve()}getLastRemoteSnapshotVersion(n){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ge.resolve(this.Ns)}allocateTargetId(n){return this.highestTargetId=this.Ms.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(n,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Ns&&(this.Ns=e),ge.resolve()}Fn(n){this.xs.set(n.target,n);const e=n.targetId;e>this.highestTargetId&&(this.Ms=new j_(e),this.highestTargetId=e),n.sequenceNumber>this.Ns&&(this.Ns=n.sequenceNumber)}addTargetData(n,e){return this.Fn(e),this.targetCount+=1,ge.resolve()}updateTargetData(n,e){return this.Fn(e),ge.resolve()}removeTargetData(n,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(n,e,r){let o=0;const a=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=e&&null===r.get(h.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(n,h.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(n){return ge.resolve(this.targetCount)}getTargetData(n,e){const r=this.xs.get(e)||null;return ge.resolve(r)}addMatchingKeys(n,e,r){return this.ks.gs(e,r),ge.resolve()}removeMatchingKeys(n,e,r){this.ks.ps(e,r);const o=this.persistence.referenceDelegate,a=[];return o&&e.forEach(l=>{a.push(o.markPotentiallyOrphaned(n,l))}),ge.waitFor(a)}removeMatchingKeysForTargetId(n,e){return this.ks.Is(e),ge.resolve()}getMatchingKeysForTargetId(n,e){const r=this.ks.Es(e);return ge.resolve(r)}containsKey(n,e){return ge.resolve(this.ks.containsKey(e))}}class OP{constructor(n,e){this.$s={},this.overlays={},this.Os=new Ai(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=n(this),this.Bs=new nG(this),this.indexManager=new z$,this.remoteDocumentCache=new eG(r=>this.referenceDelegate.Ls(r)),this.serializer=new _3(e),this.qs=new Q$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let e=this.overlays[n.toKey()];return e||(e=new J$,this.overlays[n.toKey()]=e),e}getMutationQueue(n,e){let r=this.$s[n.toKey()];return r||(r=new X$(e,this.referenceDelegate),this.$s[n.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(n,e,r){Ke("MemoryPersistence","Starting transaction:",n);const o=new iG(this.Os.next());return this.referenceDelegate.Us(),r(o).next(a=>this.referenceDelegate.Ks(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Gs(n,e){return ge.or(Object.values(this.$s).map(r=>()=>r.containsKey(n,e)))}}class iG extends NC{constructor(n){super(),this.currentSequenceNumber=n}}class eM{constructor(n){this.persistence=n,this.Qs=new RP,this.js=null}static zs(n){return new eM(n)}get Ws(){if(this.js)return this.js;throw St()}addReference(n,e,r){return this.Qs.addReference(r,e),this.Ws.delete(r.toString()),ge.resolve()}removeReference(n,e,r){return this.Qs.removeReference(r,e),this.Ws.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(n,e){return this.Ws.add(e.toString()),ge.resolve()}removeTarget(n,e){this.Qs.Is(e.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,e.targetId).next(o=>{o.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(n,e))}Us(){this.js=new Set}Ks(n){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ws,r=>{const o=vt.fromPath(r);return this.Hs(n,o).next(a=>{a||e.removeEntry(o,$t.min())})}).next(()=>(this.js=null,e.apply(n)))}updateLimboDocument(n,e){return this.Hs(n,e).next(r=>{r?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(n){return 0}Hs(n,e){return ge.or([()=>ge.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(n,e),()=>this.persistence.Gs(n,e)])}}class rG{constructor(n){this.serializer=n}O(n,e,r,o){const a=new LC("createOrUpgrade",e);var h;r<1&&o>=1&&(n.createObjectStore("owner"),(h=n).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yS,{unique:!0}),h.createObjectStore("documentMutations"),G3(n),function(h){h.createObjectStore("remoteDocuments")}(n));let l=ge.resolve();return r<3&&o>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(n),G3(n)),l=l.next(()=>function(h){const m=h.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",g)}(a))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(h,m){return m.store("mutations").j().next(g=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yS,{unique:!0});const b=m.store("mutations"),E=g.map(S=>b.put(S));return ge.waitFor(E)})}(n,a))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(a))),r<6&&o>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(n),this.Xs(a)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(a))),r<8&&o>=8&&(l=l.next(()=>this.ti(n,a))),r<9&&o>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(n)})),r<10&&o>=10&&(l=l.next(()=>this.ei(a))),r<11&&o>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),r<12&&o>=12&&(l=l.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:ES});m.createIndex("collectionPathOverlayIndex",QO,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",JO,{unique:!1})}(n)})),r<13&&o>=13&&(l=l.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:wS});m.createIndex("documentKeyIndex",ZO),m.createIndex("collectionGroupIndex",xS)}(n)).next(()=>this.ni(n,a)).next(()=>n.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(n,a))),r<15&&o>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:zC}).createIndex("sequenceNumberIndex",jC,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:KO}).createIndex("documentKeyIndex",BB,{unique:!1})}(n))),l}Xs(n){let e=0;return n.store("remoteDocuments").X((r,o)=>{e+=QS(o)}).next(()=>{const r={byteSize:e};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(n){const e=n.store("mutationQueues"),r=n.store("mutations");return e.j().next(o=>ge.forEach(o,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(h=>ge.forEach(h,m=>{Ht(m.userId===a.userId);const g=U_(this.serializer,m);return R3(n,a.userId,g).next(()=>{})}))}))}Zs(n){const e=n.store("targetDocuments"),r=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(o=>{const a=[];return r.X((l,h)=>{const m=new Gn(l),g=[0,Qo(m)];a.push(e.get(g).next(b=>b?ge.resolve():e.put({targetId:0,path:Qo(m),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ge.waitFor(a))})}ti(n,e){n.createObjectStore("collectionParents",{keyPath:CS});const r=e.store("collectionParents"),o=new AP,a=l=>{if(o.add(l)){const h=l.lastSegment(),m=l.popLast();return r.put({collectionId:h,parent:Qo(m)})}};return e.store("remoteDocuments").X({Y:!0},(l,h)=>{const m=new Gn(l);return a(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,h,m],g)=>{const b=cc(h);return a(b.popLast())}))}ei(n){const e=n.store("targets");return e.X((r,o)=>{const a=mE(o),l=y3(this.serializer,a);return e.put(l)})}ni(n,e){const r=e.store("remoteDocuments"),o=[];return r.X((a,l)=>{const h=e.store("remoteDocumentsV14"),m=(g=l,g.document?new vt(Gn.fromString(g.document.name).popFirst(5)):g.noDocument?vt.fromSegments(g.noDocument.path):g.unknownDocument?vt.fromSegments(g.unknownDocument.path):St()).path.toArray();var g;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(h.put(b))}).next(()=>ge.waitFor(o))}si(n,e){const r=e.store("mutations"),o=U3(this.serializer),a=new OP(eM.zs,this.serializer.fe);return r.j().next(l=>{const h=new Map;return l.forEach(m=>{var g;let b=null!==(g=h.get(m.userId))&&void 0!==g?g:w();U_(this.serializer,m).keys().forEach(E=>b=b.add(E)),h.set(m.userId,b)}),ge.forEach(h,(m,g)=>{const b=new No(g),E=WS.de(this.serializer,b),S=a.getIndexManager(b),R=JS.de(b,this.serializer,S,a.referenceDelegate);return new $3(o,R,E,S).recalculateAndSaveOverlaysForDocumentKeys(new GC(e,Ai.ct),m).next()})})}}function G3(i){i.createObjectStore("targetDocuments",{keyPath:HC}).createIndex("documentTargetsIndex",iu,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",YO,{unique:!0}),i.createObjectStore("targetGlobal")}const PP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NP{constructor(n,e,r,o,a,l,h,m,g,b,E=15){if(this.allowTabSynchronization=n,this.persistenceKey=e,this.clientId=r,this.ii=a,this.window=l,this.document=h,this.ri=g,this.oi=b,this.ui=E,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=S=>Promise.resolve(),!NP.D())throw new ze(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new W$(this,o),this.di=e+"main",this.serializer=new _3(m),this.wi=new sc(this.di,this.ui,new rG(this.serializer)),this.Bs=new $$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=U3(this.serializer),this.qs=new N$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(ye.FAILED_PRECONDITION,PP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Bs.getHighestSequenceNumber(n))}).then(n=>{this.Os=new Ai(n,this.ri)}).then(()=>{this.Fs=!0}).catch(n=>(this.wi&&this.wi.close(),Promise.reject(n)))}Ii(n){var e=this;return this.fi=function(){var r=(0,Ee.Z)(function*(o){if(e.started)return n(o)});return function(o){return r.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.wi.B(function(){var e=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield n())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(n){var e=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ii.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>nM(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(n).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(n)).next(e=>this.isPrimary&&!e?this.Ai(n).next(()=>!1):!!e&&this.vi(n).next(()=>!0))).catch(n=>{if(zh(n))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ii.enqueueRetryable(()=>this.fi(n)),this.isPrimary=n})}Ti(n){return bE(n).get("owner").next(e=>ge.resolve(this.Ri(e)))}Pi(n){return nM(n).delete(this.clientId)}bi(){var n=this;return(0,Ee.Z)(function*(){if(n.isPrimary&&!n.Vi(n.li,18e5)){n.li=Date.now();const e=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=io(r,"clientMetadata");return o.j().next(a=>{const l=n.Si(a,18e5),h=a.filter(m=>-1===l.indexOf(m));return ge.forEach(h,m=>o.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(n._i)for(const r of e)n._i.removeItem(n.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(n){return!!n&&n.ownerId===this.clientId}Ei(n){return this.oi?ge.resolve(!0):bE(n).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new ze(ye.FAILED_PRECONDITION,PP);return!1}}return!(!this.networkEnabled||!this.inForeground)||nM(n).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ke("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var n=this;return(0,Ee.Z)(function*(){n.Fs=!1,n.xi(),n.hi&&(n.hi.cancel(),n.hi=null),n.Ni(),n.ki(),yield n.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new GC(e,Ai.ct);return n.Ai(r).next(()=>n.Pi(r))}),n.wi.close(),n.Mi()})()}Si(n,e){return n.filter(r=>this.Vi(r.updateTimeMs,e)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",n=>nM(n).j().next(e=>this.Si(e,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(n,e){return JS.de(n,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new j$(n,this.serializer.fe.databaseId)}getDocumentOverlayCache(n){return WS.de(this.serializer,n)}getBundleCache(){return this.qs}runTransaction(n,e,r){Ke("IndexedDbPersistence","Starting transaction:",n);const o="readonly"===e?"readonly":"readwrite",a=15===(l=this.ui)?TS:14===l?eP:13===l?$C:12===l?XO:11===l?kS:void St();var l;let h;return this.wi.runTransaction(n,o,a,m=>(h=new GC(m,this.Os?this.Os.next():Ai.ct),"readwrite-primary"===e?this.Ti(h).next(g=>!!g||this.Ei(h)).next(g=>{if(!g)throw Sr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ze(ye.FAILED_PRECONDITION,qO);return r(h)}).next(g=>this.vi(h).next(()=>g)):this.Oi(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(n){return bE(n).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ze(ye.FAILED_PRECONDITION,PP)})}vi(n){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bE(n).put("owner",e)}static D(){return sc.D()}Ai(n){const e=bE(n);return e.get("owner").next(r=>this.Ri(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}Vi(n,e){const r=Date.now();return!(n<r-e||n>r&&(Sr(`Detected an update time that is in the future: ${n} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,j.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(n){var e;try{const r=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(n)));return Ke("IndexedDbPersistence",`Client '${n}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(n){Sr("Failed to set zombie client id.",n)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function bE(i){return io(i,"owner")}function nM(i){return io(i,"clientMetadata")}function FP(i,n){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+n+"/"+e+"/"}class LP{constructor(n,e,r,o){this.targetId=n,this.fromCache=e,this.Fi=r,this.Bi=o}static Li(n,e){let r=w(),o=w();for(const a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new LP(n,e.fromCache,r,o)}}class q3{constructor(){this.qi=!1}initialize(n,e){this.Ui=n,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(n,e,r,o){return this.Ki(n,e).next(a=>a||this.Gi(n,e,o,r)).next(a=>a||this.Qi(n,e))}Ki(n,e){if(BS(e))return ge.resolve(null);let r=Bs(e);return this.indexManager.getIndexType(n,r).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=sE(e,null,"F"),r=Bs(e)),this.indexManager.getDocumentsMatchingTarget(n,r).next(a=>{const l=w(...a);return this.Ui.getDocuments(n,l).next(h=>this.indexManager.getMinOffset(n,r).next(m=>{const g=this.ji(e,h);return this.zi(e,g,l,m.readTime)?this.Ki(n,sE(e,null,"F")):this.Wi(n,g,e,m)}))})))}Gi(n,e,r,o){return BS(e)||o.isEqual($t.min())?this.Qi(n,e):this.Ui.getDocuments(n,r).next(a=>{const l=this.ji(e,a);return this.zi(e,l,r,o)?this.Qi(n,e):(Ab()<=Xr.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),VS(e)),this.Wi(n,l,e,D_(o,-1)))})}ji(n,e){let r=new $i(hP(n));return e.forEach((o,a)=>{qb(n,a)&&(r=r.add(a))}),r}zi(n,e,r,o){if(null===n.limit)return!1;if(r.size!==e.size)return!0;const a="F"===n.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Qi(n,e){return Ab()<=Xr.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",VS(e)),this.Ui.getDocumentsMatchingQuery(n,e,Ta.min())}Wi(n,e,r,o){return this.Ui.getDocumentsMatchingQuery(n,r,o).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}class oG{constructor(n,e,r,o){this.persistence=n,this.Hi=e,this.serializer=o,this.Ji=new Ri(mn),this.Yi=new cu(a=>au(a),rp),this.Xi=new Map,this.Zi=n.getRemoteDocumentCache(),this.Bs=n.getTargetCache(),this.qs=n.getBundleCache(),this.tr(r)}tr(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new $3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>n.collect(e,this.Ji))}}function W3(i,n,e,r){return new oG(i,n,e,r)}function Z3(i,n){return BP.apply(this,arguments)}function BP(){return BP=(0,Ee.Z)(function*(i,n){const e=bt(i);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,e.tr(n),e.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let m=w();for(const g of o){l.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}for(const g of a){h.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}return e.localDocuments.getDocuments(r,m).next(g=>({er:g,removedBatchIds:l,addedBatchIds:h}))})})}),BP.apply(this,arguments)}function Y3(i){const n=bt(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",e=>n.Bs.getLastRemoteSnapshotVersion(e))}function K3(i,n,e){let r=w(),o=w();return e.forEach(a=>r=r.add(a)),n.getEntries(i,r).next(a=>{let l=Xs();return e.forEach((h,m)=>{const g=a.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),m.isNoDocument()&&m.version.isEqual($t.min())?(n.removeEntry(h,m.readTime),l=l.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||0===m.version.compareTo(g.version)&&g.hasPendingWrites?(n.addEntry(m),l=l.insert(h,m)):Ke("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)}),{nr:l,sr:o}})}function cG(i,n){const e=bt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===n&&(n=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,n)))}function e0(i,n){const e=bt(i);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Bs.getTargetData(r,n).next(a=>a?(o=a,ge.resolve(o)):e.Bs.allocateTargetId(r).next(l=>(o=new Jh(n,l,"TargetPurposeListen",r.currentSequenceNumber),e.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(r.targetId,r),e.Yi.set(n,r.targetId)),r})}function t0(i,n,e){return VP.apply(this,arguments)}function VP(){return VP=(0,Ee.Z)(function*(i,n,e){const r=bt(i),o=r.Ji.get(n),a=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!zh(l))throw l;Ke("LocalStore",`Failed to update sequence numbers for target ${n}: ${l}`)}r.Ji=r.Ji.remove(n),r.Yi.delete(o.target)}),VP.apply(this,arguments)}function iM(i,n,e){const r=bt(i);let o=$t.min(),a=w();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,m,g){const b=bt(h),E=b.Yi.get(g);return void 0!==E?ge.resolve(b.Ji.get(E)):b.Bs.getTargetData(m,g)}(r,l,Bs(n)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,h.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,n,e?o:$t.min(),e?a:w())).next(h=>(X3(r,US(n),h),{documents:h,ir:a})))}function Q3(i,n){const e=bt(i),r=bt(e.Bs),o=e.Ji.get(n);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",a=>r.le(a,n).next(l=>l?l.target:null))}function J3(i,n){const e=bt(i),r=e.Xi.get(n)||$t.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Zi.getAllFromCollectionGroup(o,n,D_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(X3(e,n,o),o))}function X3(i,n,e){let r=i.Xi.get(n)||$t.min();e.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),i.Xi.set(n,r)}function UP(){return UP=(0,Ee.Z)(function*(i,n,e,r){const o=bt(i);let a=w(),l=Xs();for(const g of e){const b=n.rr(g.metadata.name);g.document&&(a=a.add(b));const E=n.ur(g);E.setReadTime(n.cr(g.metadata.readTime)),l=l.insert(b,E)}const h=o.Zi.newChangeBuffer({trackRemovals:!0}),m=yield e0(o,(g=r,Bs(N_(Gn.fromString(`__bundle__/docs/${g}`)))));var g;return o.persistence.runTransaction("Apply bundle documents","readwrite",g=>K3(g,h,l).next(b=>(h.apply(g),b)).next(b=>o.Bs.removeMatchingKeysForTargetId(g,m.targetId).next(()=>o.Bs.addMatchingKeys(g,a,m.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(g,b.nr,b.sr)).next(()=>b.nr)))}),UP.apply(this,arguments)}function dG(i,n){return HP.apply(this,arguments)}function HP(){return HP=(0,Ee.Z)(function*(i,n,e=w()){const r=yield e0(i,Bs(kP(n.bundledQuery))),o=bt(i);return o.persistence.runTransaction("Save named query","readwrite",a=>{const l=oo(n.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(a,n);const h=r.withResumeToken(ro.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(h.targetId,h),o.Bs.updateTargetData(a,h).next(()=>o.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>o.Bs.addMatchingKeys(a,e,r.targetId)).next(()=>o.qs.saveNamedQuery(a,n))})}),HP.apply(this,arguments)}function eV(i,n){return`firestore_clients_${i}_${n}`}function tV(i,n,e){let r=`firestore_mutations_${i}_${e}`;return n.isAuthenticated()&&(r+=`_${n.uid}`),r}function zP(i,n){return`firestore_targets_${i}_${n}`}class rM{constructor(n,e,r,o){this.user=n,this.batchId=e,this.state=r,this.error=o}static ar(n,e,r){const o=JSON.parse(r);let a,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(a=new ze(o.error.code,o.error.message))),l?new rM(n,e,o.state,a):(Sr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}hr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class wE{constructor(n,e,r){this.targetId=n,this.state=e,this.error=r}static ar(n,e){const r=JSON.parse(e);let o,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new ze(r.error.code,r.error.message))),a?new wE(n,r.state,o):(Sr("SharedClientState",`Failed to parse target state for ID '${n}': ${e}`),null)}hr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class oM{constructor(n,e){this.clientId=n,this.activeTargetIds=e}static ar(n,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,a=I();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=vS(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return o?new oM(n,a):(Sr("SharedClientState",`Failed to parse client data for instance '${n}': ${e}`),null)}}class jP{constructor(n,e){this.clientId=n,this.onlineState=e}static ar(n){const e=JSON.parse(n);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new jP(e.clientId,e.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class $P{constructor(){this.activeTargetIds=I()}lr(n){this.activeTargetIds=this.activeTargetIds.add(n)}dr(n){this.activeTargetIds=this.activeTargetIds.delete(n)}hr(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class GP{constructor(n,e,r,o,a){this.window=n,this.ii=e,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ri(mn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=eV(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new $P),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ee.Z)(function*(){const e=yield n.syncEngine.$i();for(const o of e){if(o===n.wr)continue;const a=n.getItem(eV(n.persistenceKey,o));if(a){const l=oM.ar(o,a);l&&(n.gr=n.gr.insert(l.clientId,l))}}n.Pr();const r=n.storage.getItem(n.vr);if(r){const o=n.br(r);o&&n.Vr(o)}for(const o of n.yr)n.mr(o);n.yr=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Ir,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(n){let e=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(n)&&(e=!0)}),e}addPendingMutation(n){this.Dr(n,"pending")}updateMutationState(n,e,r){this.Dr(n,e,r),this.Cr(n)}addLocalQueryTarget(n){let e="not-current";if(this.isActiveQueryTarget(n)){const r=this.storage.getItem(zP(this.persistenceKey,n));if(r){const o=wE.ar(n,r);o&&(e=o.state)}}return this.Nr.lr(n),this.Pr(),e}removeLocalQueryTarget(n){this.Nr.dr(n),this.Pr()}isLocalQueryTarget(n){return this.Nr.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(zP(this.persistenceKey,n))}updateQueryState(n,e,r){this.kr(n,e,r)}handleUserChange(n,e,r){e.forEach(o=>{this.Cr(o)}),this.currentUser=n,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(n){this.Mr(n)}notifyBundleLoaded(n){this.$r(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(n){const e=this.storage.getItem(n);return Ke("SharedClientState","READ",n,e),e}setItem(n,e){Ke("SharedClientState","SET",n,e),this.storage.setItem(n,e)}removeItem(n){Ke("SharedClientState","REMOVE",n),this.storage.removeItem(n)}mr(n){var e=this;const r=n;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==r.key)if(e.Tr.test(r.key)){if(null==r.newValue){const o=e.Or(r.key);return e.Fr(o,null)}{const o=e.Br(r.key,r.newValue);if(o)return e.Fr(o.clientId,o)}}else if(e.Er.test(r.key)){if(null!==r.newValue){const o=e.Lr(r.key,r.newValue);if(o)return e.qr(o)}}else if(e.Ar.test(r.key)){if(null!==r.newValue){const o=e.Ur(r.key,r.newValue);if(o)return e.Kr(o)}}else if(r.key===e.vr){if(null!==r.newValue){const o=e.br(r.newValue);if(o)return e.Vr(o)}}else if(r.key===e.Ir){const o=function(a){let l=Ai.ct;if(null!=a)try{const h=JSON.parse(a);Ht("number"==typeof h),l=h}catch(h){Sr("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);o!==Ai.ct&&e.sequenceNumberHandler(o)}else if(r.key===e.Rr){const o=e.Gr(r.newValue);yield Promise.all(o.map(a=>e.syncEngine.Qr(a)))}}else e.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(n,e,r){const o=new rM(this.currentUser,n,e,r),a=tV(this.persistenceKey,this.currentUser,n);this.setItem(a,o.hr())}Cr(n){const e=tV(this.persistenceKey,this.currentUser,n);this.removeItem(e)}Mr(n){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:n}))}kr(n,e,r){const o=zP(this.persistenceKey,n),a=new wE(n,e,r);this.setItem(o,a.hr())}$r(n){const e=JSON.stringify(Array.from(n));this.setItem(this.Rr,e)}Or(n){const e=this.Tr.exec(n);return e?e[1]:null}Br(n,e){const r=this.Or(n);return oM.ar(r,e)}Lr(n,e){const r=this.Er.exec(n),o=Number(r[1]);return rM.ar(new No(void 0!==r[2]?r[2]:null),o,e)}Ur(n,e){const r=this.Ar.exec(n),o=Number(r[1]);return wE.ar(o,e)}br(n){return jP.ar(n)}Gr(n){return JSON.parse(n)}qr(n){var e=this;return(0,Ee.Z)(function*(){if(n.user.uid===e.currentUser.uid)return e.syncEngine.jr(n.batchId,n.state,n.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Kr(n){return this.syncEngine.zr(n.targetId,n.state,n.error)}Fr(n,e){const r=e?this.gr.insert(n,e):this.gr.remove(n),o=this.Sr(this.gr),a=this.Sr(r),l=[],h=[];return a.forEach(m=>{o.has(m)||l.push(m)}),o.forEach(m=>{a.has(m)||h.push(m)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=r})}Vr(n){this.gr.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Sr(n){let e=I();return n.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class nV{constructor(){this.Hr=new $P,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,e,r){}addLocalQueryTarget(n){return this.Hr.lr(n),this.Jr[n]||"not-current"}updateQueryState(n,e,r){this.Jr[n]=e}removeLocalQueryTarget(n){this.Hr.dr(n)}isLocalQueryTarget(n){return this.Hr.activeTargetIds.has(n)}clearQueryState(n){delete this.Jr[n]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(n){return this.Hr.activeTargetIds.has(n)}start(){return this.Hr=new $P,Promise.resolve()}handleUserChange(n,e,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class uG{Yr(n){}shutdown(){}}class iV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(n){this.so.push(n)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.so)n(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.so)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sM=null;function qP(){return null===sM?sM=268435456+Math.round(2147483648*Math.random()):sM++,"0x"+sM.toString(16)}const hG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fG{constructor(n){this.ro=n.ro,this.oo=n.oo}uo(n){this.co=n}ao(n){this.ho=n}onMessage(n){this.lo=n}close(){this.oo()}send(n){this.ro(n)}fo(){this.co()}wo(n){this.ho(n)}_o(n){this.lo(n)}}const Us="WebChannelConnection";class mG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.mo=(n.ssl?"https":"http")+"://"+n.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(n,e,r,o,a){const l=qP(),h=this.To(n,e);Ke("RestConnection",`Sending RPC '${n}' ${l}:`,h,r);const m={};return this.Eo(m,o,a),this.Ao(n,h,m,r).then(g=>(Ke("RestConnection",`Received RPC '${n}' ${l}: `,g),g),g=>{throw Ls("RestConnection",`RPC '${n}' ${l} failed with error: `,g,"url: ",h,"request:",r),g})}vo(n,e,r,o,a,l){return this.Io(n,e,r,o,a)}Eo(n,e,r){n["X-Goog-Api-Client"]="gl-js/ fire/"+Hh,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}To(n,e){return`${this.mo}/v1/${e}:${hG[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Ao(n,e,r,o){const a=qP();return new Promise((l,h)=>{const m=new iS;m.setWithCredentials(!0),m.listenOnce(tS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case RC.NO_ERROR:const b=m.getResponseJson();Ke(Us,`XHR for RPC '${n}' ${a} received:`,JSON.stringify(b)),l(b);break;case RC.TIMEOUT:Ke(Us,`RPC '${n}' ${a} timed out`),h(new ze(ye.DEADLINE_EXCEEDED,"Request time out"));break;case RC.HTTP_ERROR:const E=m.getStatus();if(Ke(Us,`RPC '${n}' ${a} failed with status:`,E,"response text:",m.getResponseText()),E>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const F=function(G){const Y=G.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Y)>=0?Y:ye.UNKNOWN}(R.status);h(new ze(F,R.message))}else h(new ze(ye.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ze(ye.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{Ke(Us,`RPC '${n}' ${a} completed.`)}});const g=JSON.stringify(o);Ke(Us,`RPC '${n}' ${a} sending request:`,o),m.send(e,"POST",g,r,15)})}Ro(n,e,r){const o=qP(),a=[this.mo,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=LO(),h=AC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.xmlHttpFactory=new VO({})),this.Eo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const b=a.join("");Ke(Us,`Creating RPC '${n}' stream ${o}: ${b}`,m);const E=l.createWebChannel(b,m);let S=!1,R=!1;const F=new fG({ro:Y=>{R?Ke(Us,`Not sending because RPC '${n}' stream ${o} is closed:`,Y):(S||(Ke(Us,`Opening RPC '${n}' stream ${o} transport.`),E.open(),S=!0),Ke(Us,`RPC '${n}' stream ${o} sending:`,Y),E.send(Y))},oo:()=>E.close()}),G=(Y,ve,Me)=>{Y.listen(ve,Oe=>{try{Me(Oe)}catch(De){setTimeout(()=>{throw De},0)}})};return G(E,Ym.EventType.OPEN,()=>{R||Ke(Us,`RPC '${n}' stream ${o} transport opened.`)}),G(E,Ym.EventType.CLOSE,()=>{R||(R=!0,Ke(Us,`RPC '${n}' stream ${o} transport closed`),F.wo())}),G(E,Ym.EventType.ERROR,Y=>{R||(R=!0,Ls(Us,`RPC '${n}' stream ${o} transport errored:`,Y),F.wo(new ze(ye.UNAVAILABLE,"The operation could not be completed")))}),G(E,Ym.EventType.MESSAGE,Y=>{var ve;if(!R){const Me=Y.data[0];Ht(!!Me);const De=Me.error||(null===(ve=Me[0])||void 0===ve?void 0:ve.error);if(De){Ke(Us,`RPC '${n}' stream ${o} received error:`,De);const Pe=De.status;let et=function(Bt){const vn=vo[Bt];if(void 0!==vn)return KB(vn)}(Pe),ht=De.message;void 0===et&&(et=ye.INTERNAL,ht="Unknown error status: "+Pe+" with message "+De.message),R=!0,F.wo(new ze(et,ht)),E.close()}else Ke(Us,`RPC '${n}' stream ${o} received:`,Me),F._o(Me)}}),G(h,BO.STAT_EVENT,Y=>{Y.stat===nS.PROXY?Ke(Us,`RPC '${n}' stream ${o} detected buffering proxy`):Y.stat===nS.NOPROXY&&Ke(Us,`RPC '${n}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.fo()},0),F}}function rV(){return typeof window<"u"?window:null}function aM(){return typeof document<"u"?document:null}function xE(i){return new E$(i,!0)}class WP{constructor(n,e,r=1e3,o=1.5,a=6e4){this.ii=n,this.timerId=e,this.Po=r,this.bo=o,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(n){this.cancel();const e=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,e-r);o>0&&Ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),n())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oV{constructor(n,e,r,o,a,l,h,m){this.ii=n,this.$o=r,this.Oo=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new WP(n,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var n=this;return(0,Ee.Z)(function*(){n.Uo()&&(yield n.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(n){this.Ho(),this.stream.send(n)}zo(){var n=this;return(0,Ee.Z)(function*(){if(n.Ko())return n.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(n,e){var r=this;return(0,Ee.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==n?r.qo.reset():e&&e.code===ye.RESOURCE_EXHAUSTED?(Sr(e.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):e&&e.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=n,yield r.listener.ao(e)})()}Yo(){}auth(){this.state=1;const n=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===e&&this.Zo(r,o)},r=>{n(()=>{const o=new ze(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(n,e){const r=this.Xo(this.Fo);this.stream=this.eu(n,e),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var n=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){n.state=0,n.start()}))}tu(n){return Ke("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Xo(n){return e=>{this.ii.enqueueAndForget(()=>this.Fo===n?e():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pG extends oV{constructor(n,e,r,o,a,l){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,l),this.serializer=a}eu(n,e){return this.connection.Ro("Listen",n,e)}onMessage(n){this.qo.reset();const e=function I$(i,n){let e;if("targetChange"in n){const r="NO_CHANGE"===(m=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:St(),o=n.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(Ht(void 0===g||"string"==typeof g),ro.fromBase64String(g||"")):(Ht(void 0===g||g instanceof Uint8Array),ro.fromUint8Array(g||new Uint8Array))}(i,n.targetChange.resumeToken),l=n.targetChange.cause,h=l&&function(m){const g=void 0===m.code?ye.UNKNOWN:KB(m.code);return new ze(g,m.message||"")}(l);e=new t3(r,o,a,h||null)}else if("documentChange"in n){const r=n.documentChange,o=lu(i,r.document.name),a=oo(r.document.updateTime),l=r.document.createTime?oo(r.document.createTime):$t.min(),h=new Jo({mapValue:{fields:r.document.fields}}),m=Ki.newFoundDocument(o,a,l,h);e=new GS(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in n){const r=n.documentDelete,o=lu(i,r.document),a=r.readTime?oo(r.readTime):$t.min(),l=Ki.newNoDocument(o,a);e=new GS([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in n){const r=n.documentRemove,o=lu(i,r.document);e=new GS([],r.removedTargetIds||[],o,null)}else{if(!("filter"in n))return St();{const r=n.filter,{count:o=0,unchangedNames:a}=r,l=new v$(o,a);e=new e3(r.targetId,l)}}var m;return e}(this.serializer,n),r=function(o){if(!("targetChange"in o))return $t.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?$t.min():a.readTime?oo(a.readTime):$t.min()}(n);return this.listener.nu(e,r)}su(n){const e={};e.database=hE(this.serializer),e.addTarget=function(o,a){let l;const h=a.target;if(l=$b(h)?{documents:h3(o,h)}:{query:EP(o,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=s3(o,a.resumeToken);const m=bP(o,a.expectedCount);null!==m&&(l.expectedCount=m)}else if(a.snapshotVersion.compareTo($t.min())>0){l.readTime=Kb(o,a.snapshotVersion.toTimestamp());const m=bP(o,a.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,n);const r=function S$(i,n){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(n.purpose);return null==e?null:{"goog-listen-tags":e}}(0,n);r&&(e.labels=r),this.Wo(e)}iu(n){const e={};e.database=hE(this.serializer),e.removeTarget=n,this.Wo(e)}}class gG extends oV{constructor(n,e,r,o,a,l){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(n,e){return this.connection.Ro("Write",n,e)}onMessage(n){if(Ht(!!n.streamToken),this.lastStreamToken=n.streamToken,this.ru){this.qo.reset();const e=function D$(i,n){return i&&i.length>0?(Ht(void 0!==n),i.map(e=>function(r,o){let a=oo(r.updateTime?r.updateTime:o);return a.isEqual($t.min())&&(a=oo(o)),new m$(a,r.transformResults||[])}(e,n))):[]}(n.writeResults,n.commitTime),r=oo(n.commitTime);return this.listener.cu(r,e)}return Ht(!n.writeResults||0===n.writeResults.length),this.ru=!0,this.listener.au()}hu(){const n={};n.database=hE(this.serializer),this.Wo(n)}uu(n){const e={streamToken:this.lastStreamToken,writes:n.map(r=>fE(this.serializer,r))};this.Wo(e)}}class _G extends class{}{constructor(n,e,r,o){super(),this.authCredentials=n,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new ze(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(n,e,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Io(n,e,r,o,a)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ye.UNKNOWN,o.toString())})}vo(n,e,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(n,e,r,a,l,o)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(ye.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class yG{constructor(n,e){this.asyncQueue=n,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(n){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.yu("Offline")))}set(n){this.Tu(),this.wu=0,"Online"===n&&(this.mu=!1),this.yu(n)}yu(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}pu(n){const e=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Sr(e),this.mu=!1):Ke("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class bG{constructor(n,e,r,o,a){var l=this;this.localStore=n,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(h=>{r.enqueueAndForget((0,Ee.Z)(function*(){var m;hp(l)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ee.Z)(function*(g){const b=bt(g);b.vu.add(4),yield n0(b),b.bu.set("Unknown"),b.vu.delete(4),yield CE(b)}),function(g){return m.apply(this,arguments)})(l))}))}),this.bu=new yG(r,o)}}function CE(i){return YP.apply(this,arguments)}function YP(){return YP=(0,Ee.Z)(function*(i){if(hp(i))for(const n of i.Ru)yield n(!0)}),YP.apply(this,arguments)}function n0(i){return KP.apply(this,arguments)}function KP(){return KP=(0,Ee.Z)(function*(i){for(const n of i.Ru)yield n(!1)}),KP.apply(this,arguments)}function cM(i,n){const e=bt(i);e.Au.has(n.targetId)||(e.Au.set(n.targetId,n),XP(e)?JP(e):o0(e).Ko()&&QP(e,n))}function EE(i,n){const e=bt(i),r=o0(e);e.Au.delete(n),r.Ko()&&sV(e,n),0===e.Au.size&&(r.Ko()?r.jo():hp(e)&&e.bu.set("Unknown"))}function QP(i,n){if(i.Vu.qt(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo($t.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(e)}o0(i).su(n)}function sV(i,n){i.Vu.qt(n),o0(i).iu(n)}function JP(i){i.Vu=new b$({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),le:n=>i.Au.get(n)||null,ue:()=>i.datastore.serializer.databaseId}),o0(i).start(),i.bu.gu()}function XP(i){return hp(i)&&!o0(i).Uo()&&i.Au.size>0}function hp(i){return 0===bt(i).vu.size}function aV(i){i.Vu=void 0}function wG(i){return eN.apply(this,arguments)}function eN(){return eN=(0,Ee.Z)(function*(i){i.Au.forEach((n,e)=>{QP(i,n)})}),eN.apply(this,arguments)}function xG(i,n){return tN.apply(this,arguments)}function tN(){return tN=(0,Ee.Z)(function*(i,n){aV(i),XP(i)?(i.bu.Iu(n),JP(i)):i.bu.set("Unknown")}),tN.apply(this,arguments)}function CG(i,n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,Ee.Z)(function*(i,n,e){if(i.bu.set("Online"),n instanceof t3&&2===n.state&&n.cause)try{yield(r=(0,Ee.Z)(function*(o,a){const l=a.cause;for(const h of a.targetIds)o.Au.has(h)&&(yield o.remoteSyncer.rejectListen(h,l),o.Au.delete(h),o.Vu.removeTarget(h))}),function(o,a){return r.apply(this,arguments)})(i,n)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),r),yield lM(i,r)}else if(n instanceof GS?i.Vu.Ht(n):n instanceof e3?i.Vu.ne(n):i.Vu.Xt(n),!e.isEqual($t.min()))try{const r=yield Y3(i.localStore);e.compareTo(r)>=0&&(yield function(o,a){const l=o.Vu.ce(a);return l.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Au.get(m);g&&o.Au.set(m,g.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach((h,m)=>{const g=o.Au.get(h);if(!g)return;o.Au.set(h,g.withResumeToken(ro.EMPTY_BYTE_STRING,g.snapshotVersion)),sV(o,h);const b=new Jh(g.target,h,m,g.sequenceNumber);QP(o,b)}),o.remoteSyncer.applyRemoteEvent(l)}(i,e))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield lM(i,r)}var r}),nN.apply(this,arguments)}function lM(i,n,e){return iN.apply(this,arguments)}function iN(){return iN=(0,Ee.Z)(function*(i,n,e){if(!zh(n))throw n;i.vu.add(1),yield n0(i),i.bu.set("Offline"),e||(e=()=>Y3(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield e(),i.vu.delete(1),yield CE(i)}))}),iN.apply(this,arguments)}function cV(i,n){return n().catch(e=>lM(i,e,n))}function r0(i){return rN.apply(this,arguments)}function rN(){return rN=(0,Ee.Z)(function*(i){const n=bt(i),e=fp(n);let r=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;EG(n);)try{const o=yield cG(n.localStore,r);if(null===o){0===n.Eu.length&&e.jo();break}r=o.batchId,kG(n,o)}catch(o){yield lM(n,o)}lV(n)&&dV(n)}),rN.apply(this,arguments)}function EG(i){return hp(i)&&i.Eu.length<10}function kG(i,n){i.Eu.push(n);const e=fp(i);e.Ko()&&e.ou&&e.uu(n.mutations)}function lV(i){return hp(i)&&!fp(i).Uo()&&i.Eu.length>0}function dV(i){fp(i).start()}function TG(i){return oN.apply(this,arguments)}function oN(){return oN=(0,Ee.Z)(function*(i){fp(i).hu()}),oN.apply(this,arguments)}function IG(i){return sN.apply(this,arguments)}function sN(){return sN=(0,Ee.Z)(function*(i){const n=fp(i);for(const e of i.Eu)n.uu(e.mutations)}),sN.apply(this,arguments)}function DG(i,n,e){return aN.apply(this,arguments)}function aN(){return aN=(0,Ee.Z)(function*(i,n,e){const r=i.Eu.shift(),o=gP.from(r,n,e);yield cV(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),yield r0(i)}),aN.apply(this,arguments)}function SG(i,n){return cN.apply(this,arguments)}function cN(){return cN=(0,Ee.Z)(function*(i,n){var e;n&&fp(i).ou&&(yield(e=(0,Ee.Z)(function*(r,o){if(YB(a=o.code)&&a!==ye.ABORTED){const l=r.Eu.shift();fp(r).Qo(),yield cV(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield r0(r)}var a}),function(r,o){return e.apply(this,arguments)})(i,n)),lV(i)&&dV(i)}),cN.apply(this,arguments)}function uV(i,n){return lN.apply(this,arguments)}function lN(){return lN=(0,Ee.Z)(function*(i,n){const e=bt(i);e.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=hp(e);e.vu.add(3),yield n0(e),r&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(n),e.vu.delete(3),yield CE(e)}),lN.apply(this,arguments)}function dN(i,n){return uN.apply(this,arguments)}function uN(){return uN=(0,Ee.Z)(function*(i,n){const e=bt(i);n?(e.vu.delete(2),yield CE(e)):n||(e.vu.add(2),yield n0(e),e.bu.set("Unknown"))}),uN.apply(this,arguments)}function o0(i){return i.Su||(i.Su=function(n,e,r){const o=bt(n);return o.fu(),new pG(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{uo:wG.bind(null,i),ao:xG.bind(null,i),nu:CG.bind(null,i)}),i.Ru.push(function(){var n=(0,Ee.Z)(function*(e){e?(i.Su.Qo(),XP(i)?JP(i):i.bu.set("Unknown")):(yield i.Su.stop(),aV(i))});return function(e){return n.apply(this,arguments)}}())),i.Su}function fp(i){return i.Du||(i.Du=function(n,e,r){const o=bt(n);return o.fu(),new gG(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{uo:TG.bind(null,i),ao:SG.bind(null,i),au:IG.bind(null,i),cu:DG.bind(null,i)}),i.Ru.push(function(){var n=(0,Ee.Z)(function*(e){e?(i.Du.Qo(),yield r0(i)):(yield i.Du.stop(),i.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(e){return n.apply(this,arguments)}}())),i.Du}class hN{constructor(n,e,r,o,a){this.asyncQueue=n,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(n,e,r,o,a){const l=Date.now()+r,h=new hN(n,e,l,o,a);return h.start(r),h}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(ye.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(i,n){if(Sr("AsyncQueue",`${n}: ${i}`),zh(i))return new ze(ye.UNAVAILABLE,`${n}: ${i}`);throw i}class a0{constructor(n){this.comparator=n?(e,r)=>n(e,r)||vt.comparator(e.key,r.key):(e,r)=>vt.comparator(e.key,r.key),this.keyedMap=Wb(),this.sortedSet=new Ri(this.comparator)}static emptySet(n){return new a0(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const e=this.keyedMap.get(n);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((e,r)=>(n(e),!1))}add(n){const e=this.delete(n.key);return e.copy(e.keyedMap.insert(n.key,n),e.sortedSet.insert(n,null))}delete(n){const e=this.get(n);return e?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(e)):this}isEqual(n){if(!(n instanceof a0)||this.size!==n.size)return!1;const e=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const n=[];return this.forEach(e=>{n.push(e.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,e){const r=new a0;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=e,r}}class hV{constructor(){this.Cu=new Ri(vt.comparator)}track(n){const e=n.doc.key,r=this.Cu.get(e);r?0!==n.type&&3===r.type?this.Cu=this.Cu.insert(e,n):3===n.type&&1!==r.type?this.Cu=this.Cu.insert(e,{type:r.type,doc:n.doc}):2===n.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:n.doc}):2===n.type&&0===r.type?this.Cu=this.Cu.insert(e,{type:0,doc:n.doc}):1===n.type&&0===r.type?this.Cu=this.Cu.remove(e):1===n.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:1,doc:r.doc}):0===n.type&&1===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:n.doc}):St():this.Cu=this.Cu.insert(e,n)}xu(){const n=[];return this.Cu.inorderTraversal((e,r)=>{n.push(r)}),n}}class c0{constructor(n,e,r,o,a,l,h,m,g){this.query=n,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(n,e,r,o,a){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new c0(n,e,a0.emptySet(e),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Gb(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const e=this.docChanges,r=n.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class MG{constructor(){this.Nu=void 0,this.listeners=[]}}class AG{constructor(){this.queries=new cu(n=>uP(n),Gb),this.onlineState="Unknown",this.ku=new Set}}function fN(i,n){return mN.apply(this,arguments)}function mN(){return mN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=n.query;let o=!1,a=e.queries.get(r);if(a||(o=!0,a=new MG),o)try{a.Nu=yield e.onListen(r)}catch(l){const h=s0(l,`Initialization of query '${VS(n.query)}' failed`);return void n.onError(h)}e.queries.set(r,a),a.listeners.push(n),n.Mu(e.onlineState),a.Nu&&n.$u(a.Nu)&&_N(e)}),mN.apply(this,arguments)}function pN(i,n){return gN.apply(this,arguments)}function gN(){return gN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=n.query;let o=!1;const a=e.queries.get(r);if(a){const l=a.listeners.indexOf(n);l>=0&&(a.listeners.splice(l,1),o=0===a.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)}),gN.apply(this,arguments)}function RG(i,n){const e=bt(i);let r=!1;for(const o of n){const l=e.queries.get(o.query);if(l){for(const h of l.listeners)h.$u(o)&&(r=!0);l.Nu=o}}r&&_N(e)}function OG(i,n,e){const r=bt(i),o=r.queries.get(n);if(o)for(const a of o.listeners)a.onError(e);r.queries.delete(n)}function _N(i){i.ku.forEach(n=>{n.next()})}class vN{constructor(n,e,r){this.query=n,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(n){if(!this.options.includeMetadataChanges){const r=[];for(const o of n.docChanges)3!==o.type&&r.push(o);n=new c0(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let e=!1;return this.Fu?this.Lu(n)&&(this.Ou.next(n),e=!0):this.qu(n,this.onlineState)&&(this.Uu(n),e=!0),this.Bu=n,e}onError(n){this.Ou.error(n)}Mu(n){this.onlineState=n;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,n)&&(this.Uu(this.Bu),e=!0),e}qu(n,e){return!n.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===e)}Lu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(n){n=c0.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Fu=!0,this.Ou.next(n)}}class PG{constructor(n,e){this.Gu=n,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class fV{constructor(n){this.serializer=n}rr(n){return lu(this.serializer,n)}ur(n){return n.metadata.exists?u3(this.serializer,n.document,!1):Ki.newNoDocument(this.rr(n.metadata.name),this.cr(n.metadata.readTime))}cr(n){return oo(n)}}class NG{constructor(n,e,r){this.ju=n,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mV(n)}zu(n){this.progress.bytesLoaded+=n.byteLength;let e=this.progress.documentsLoaded;if(n.Gu.namedQuery)this.queries.push(n.Gu.namedQuery);else if(n.Gu.documentMetadata){this.documents.push({metadata:n.Gu.documentMetadata}),n.Gu.documentMetadata.exists||++e;const r=Gn.fromString(n.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else n.Gu.document&&(this.documents[this.documents.length-1].document=n.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(n){const e=new Map,r=new fV(this.serializer);for(const o of n)if(o.metadata.queries){const a=r.rr(o.metadata.name);for(const l of o.metadata.queries){const h=(e.get(l)||w()).add(a);e.set(l,h)}}return e}complete(){var n=this;return(0,Ee.Z)(function*(){const e=yield function lG(i,n,e,r){return UP.apply(this,arguments)}(n.localStore,new fV(n.serializer),n.documents,n.ju.id),r=n.Wu(n.documents);for(const o of n.queries)yield dG(n.localStore,o,r.get(o.name));return n.progress.taskState="Success",{progress:n.progress,Hu:n.collectionGroups,Ju:e}})()}}function mV(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class pV{constructor(n){this.key=n}}class gV{constructor(n){this.key=n}}class _V{constructor(n,e){this.query=n,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=w(),this.mutatedKeys=w(),this.tc=hP(n),this.ec=new a0(this.tc)}get nc(){return this.Yu}sc(n,e){const r=e?e.ic:new hV,o=e?e.ec:this.ec;let a=e?e.mutatedKeys:this.mutatedKeys,l=o,h=!1;const m="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,g="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal((b,E)=>{const S=o.get(b),R=qb(this.query,E)?E:null,F=!!S&&this.mutatedKeys.has(S.key),G=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let Y=!1;S&&R?S.data.isEqual(R.data)?F!==G&&(r.track({type:3,doc:R}),Y=!0):this.rc(S,R)||(r.track({type:2,doc:R}),Y=!0,(m&&this.tc(R,m)>0||g&&this.tc(R,g)<0)&&(h=!0)):!S&&R?(r.track({type:0,doc:R}),Y=!0):S&&!R&&(r.track({type:1,doc:S}),Y=!0,(m||g)&&(h=!0)),Y&&(R?(l=l.add(R),a=G?a.add(b):a.delete(b)):(l=l.delete(b),a=a.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),a=a.delete(b.key),r.track({type:1,doc:b})}return{ec:l,ic:r,zi:h,mutatedKeys:a}}rc(n,e){return n.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(n,e,r){const o=this.ec;this.ec=n.ec,this.mutatedKeys=n.mutatedKeys;const a=n.ic.xu();a.sort((g,b)=>function(E,S){const R=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return R(E)-R(S)}(g.type,b.type)||this.tc(g.doc,b.doc)),this.oc(r);const l=e?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==a.length||m?{snapshot:new c0(this.query,n.ec,o,a,n.mutatedKeys,0===h,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(n){return!this.Yu.has(n)&&!!this.ec.has(n)&&!this.ec.get(n).hasLocalMutations}oc(n){n&&(n.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),n.modifiedDocuments.forEach(e=>{}),n.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=n.current)}uc(){if(!this.current)return[];const n=this.Zu;this.Zu=w(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const e=[];return n.forEach(r=>{this.Zu.has(r)||e.push(new gV(r))}),this.Zu.forEach(r=>{n.has(r)||e.push(new pV(r))}),e}hc(n){this.Yu=n.ir,this.Zu=w();const e=this.sc(n.documents);return this.applyChanges(e,!0)}lc(){return c0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class FG{constructor(n,e,r){this.query=n,this.targetId=e,this.view=r}}class LG{constructor(n){this.key=n,this.fc=!1}}class BG{constructor(n,e,r,o,a,l){this.localStore=n,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new cu(h=>uP(h),Gb),this._c=new Map,this.mc=new Set,this.gc=new Ri(vt.comparator),this.yc=new Map,this.Ic=new RP,this.Tc={},this.Ec=new Map,this.Ac=j_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function VG(i,n){return yN.apply(this,arguments)}function yN(){return yN=(0,Ee.Z)(function*(i,n){const e=zN(i);let r,o;const a=e.wc.get(n);if(a)r=a.targetId,e.sharedClientState.addLocalQueryTarget(r),o=a.view.lc();else{const l=yield e0(e.localStore,Bs(n)),h=e.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield bN(e,n,r,"current"===h,l.resumeToken),e.isPrimaryClient&&cM(e.remoteStore,l)}return o}),yN.apply(this,arguments)}function bN(i,n,e,r,o){return wN.apply(this,arguments)}function wN(){return wN=(0,Ee.Z)(function*(i,n,e,r,o){i.Rc=(E,S,R)=>{return(F=(0,Ee.Z)(function*(G,Y,ve,Me){let Oe=Y.view.sc(ve);Oe.zi&&(Oe=yield iM(G.localStore,Y.query,!1).then(({documents:et})=>Y.view.sc(et,Oe)));const De=Me&&Me.targetChanges.get(Y.targetId),Pe=Y.view.applyChanges(Oe,G.isPrimaryClient,De);return AN(G,Y.targetId,Pe.cc),Pe.snapshot}),function(G,Y,ve,Me){return F.apply(this,arguments)})(i,E,S,R);var F};const a=yield iM(i.localStore,n,!0),l=new _V(n,a.ir),h=l.sc(a.documents),m=dE.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==i.onlineState,o),g=l.applyChanges(h,i.isPrimaryClient,m);AN(i,e,g.cc);const b=new FG(n,e,l);return i.wc.set(n,b),i._c.has(e)?i._c.get(e).push(n):i._c.set(e,[n]),g.snapshot}),wN.apply(this,arguments)}function UG(i,n){return xN.apply(this,arguments)}function xN(){return xN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=e.wc.get(n),o=e._c.get(r.targetId);if(o.length>1)return e._c.set(r.targetId,o.filter(a=>!Gb(a,n))),void e.wc.delete(n);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield t0(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),EE(e.remoteStore,r.targetId),l0(e,r.targetId)}).catch(nu))):(l0(e,r.targetId),yield t0(e.localStore,r.targetId,!0))}),xN.apply(this,arguments)}function CN(){return CN=(0,Ee.Z)(function*(i,n,e){const r=jN(i);try{const o=yield function(a,l){const h=bt(a),m=Yi.now(),g=l.reduce((S,R)=>S.add(R.key),w());let b,E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Xs(),F=w();return h.Zi.getEntries(S,g).next(G=>{R=G,R.forEach((Y,ve)=>{ve.isValidDocument()||(F=F.add(Y))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,R)).next(G=>{b=G;const Y=[];for(const ve of l){const Me=g$(ve,b.get(ve.key).overlayedDocument);null!=Me&&Y.push(new Qh(ve.key,Me,JC(Me.value.mapValue),Ar.exists(!0)))}return h.mutationQueue.addMutationBatch(S,m,Y,l)}).next(G=>{E=G;const Y=G.applyToLocalDocumentSet(b,F);return h.documentOverlayCache.saveOverlays(S,G.batchId,Y)})}).then(()=>({batchId:E.batchId,changes:c(b)}))}(r.localStore,n);r.sharedClientState.addPendingMutation(o.batchId),function(a,l,h){let m=a.Tc[a.currentUser.toKey()];m||(m=new Ri(mn)),m=m.insert(l,h),a.Tc[a.currentUser.toKey()]=m}(r,o.batchId,e),yield Xh(r,o.changes),yield r0(r.remoteStore)}catch(o){const a=s0(o,"Failed to persist write");e.reject(a)}}),CN.apply(this,arguments)}function vV(i,n){return EN.apply(this,arguments)}function EN(){return EN=(0,Ee.Z)(function*(i,n){const e=bt(i);try{const r=yield function aG(i,n){const e=bt(i),r=n.snapshotVersion;let o=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});o=e.Ji;const h=[];n.targetChanges.forEach((b,E)=>{const S=o.get(E);if(!S)return;h.push(e.Bs.removeMatchingKeys(a,b.removedDocuments,E).next(()=>e.Bs.addMatchingKeys(a,b.addedDocuments,E)));let R=S.withSequenceNumber(a.currentSequenceNumber);var F,G,Y;null!==n.targetMismatches.get(E)?R=R.withResumeToken(ro.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,r)),o=o.insert(E,R),G=R,Y=b,(0===(F=S).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(a,R))});let m=Xs(),g=w();if(n.documentUpdates.forEach(b=>{n.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(a,b))}),h.push(K3(a,l,n.documentUpdates).next(b=>{m=b.nr,g=b.sr})),!r.isEqual($t.min())){const b=e.Bs.getLastRemoteSnapshotVersion(a).next(E=>e.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(b)}return ge.waitFor(h).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,m,g)).next(()=>m)}).then(a=>(e.Ji=o,a))}(e.localStore,n);n.targetChanges.forEach((o,a)=>{const l=e.yc.get(a);l&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?Ht(l.fc):o.removedDocuments.size>0&&(Ht(l.fc),l.fc=!1))}),yield Xh(e,r,n)}catch(r){yield nu(r)}}),EN.apply(this,arguments)}function yV(i,n,e){const r=bt(i);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.wc.forEach((a,l)=>{const h=l.view.Mu(n);h.snapshot&&o.push(h.snapshot)}),function(a,l){const h=bt(a);h.onlineState=l;let m=!1;h.queries.forEach((g,b)=>{for(const E of b.listeners)E.Mu(l)&&(m=!0)}),m&&_N(h)}(r.eventManager,n),o.length&&r.dc.nu(o),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}function zG(i,n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,Ee.Z)(function*(i,n,e){const r=bt(i);r.sharedClientState.updateQueryState(n,"rejected",e);const o=r.yc.get(n),a=o&&o.key;if(a){let l=new Ri(vt.comparator);l=l.insert(a,Ki.newNoDocument(a,$t.min()));const h=w().add(a),m=new lE($t.min(),new Map,new Ri(mn),l,h);yield vV(r,m),r.gc=r.gc.remove(a),r.yc.delete(n),RN(r)}else yield t0(r.localStore,n,!1).then(()=>l0(r,n,e)).catch(nu)}),kN.apply(this,arguments)}function jG(i,n){return TN.apply(this,arguments)}function TN(){return TN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=n.batch.batchId;try{const o=yield function sG(i,n){const e=bt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=n.batch.keys(),a=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,m,g){const b=m.batch,E=b.keys();let S=ge.resolve();return E.forEach(R=>{S=S.next(()=>g.getEntry(h,R)).next(F=>{const G=m.docVersions.get(R);Ht(null!==G),F.version.compareTo(G)<0&&(b.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),g.addEntry(F)))})}),S.next(()=>l.mutationQueue.removeMutationBatch(h,b))}(e,r,n,a).next(()=>a.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,n.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=w();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(h=h.add(l.batch.mutations[m].key));return h}(n))).next(()=>e.localDocuments.getDocuments(r,o))})}(e.localStore,n);MN(e,r,null),SN(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Xh(e,o)}catch(o){yield nu(o)}}),TN.apply(this,arguments)}function $G(i,n,e){return IN.apply(this,arguments)}function IN(){return IN=(0,Ee.Z)(function*(i,n,e){const r=bt(i);try{const o=yield function(a,l){const h=bt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,l).next(b=>(Ht(null!==b),g=b.keys(),h.mutationQueue.removeMutationBatch(m,b))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(r.localStore,n);MN(r,n,e),SN(r,n),r.sharedClientState.updateMutationState(n,"rejected",e),yield Xh(r,o)}catch(o){yield nu(o)}}),IN.apply(this,arguments)}function DN(){return DN=(0,Ee.Z)(function*(i,n){const e=bt(i);hp(e.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=bt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===r)return void n.resolve();const o=e.Ec.get(r)||[];o.push(n),e.Ec.set(r,o)}catch(r){const o=s0(r,"Initialization of waitForPendingWrites() operation failed");n.reject(o)}}),DN.apply(this,arguments)}function SN(i,n){(i.Ec.get(n)||[]).forEach(e=>{e.resolve()}),i.Ec.delete(n)}function MN(i,n,e){const r=bt(i);let o=r.Tc[r.currentUser.toKey()];if(o){const a=o.get(n);a&&(e?a.reject(e):a.resolve(),o=o.remove(n)),r.Tc[r.currentUser.toKey()]=o}}function l0(i,n,e=null){i.sharedClientState.removeLocalQueryTarget(n);for(const r of i._c.get(n))i.wc.delete(r),e&&i.dc.Pc(r,e);i._c.delete(n),i.isPrimaryClient&&i.Ic.Is(n).forEach(r=>{i.Ic.containsKey(r)||bV(i,r)})}function bV(i,n){i.mc.delete(n.path.canonicalString());const e=i.gc.get(n);null!==e&&(EE(i.remoteStore,e),i.gc=i.gc.remove(n),i.yc.delete(e),RN(i))}function AN(i,n,e){for(const r of e)r instanceof pV?(i.Ic.addReference(r.key,n),qG(i,r)):r instanceof gV?(Ke("SyncEngine","Document no longer in limbo: "+r.key),i.Ic.removeReference(r.key,n),i.Ic.containsKey(r.key)||bV(i,r.key)):St()}function qG(i,n){const e=n.key,r=e.path.canonicalString();i.gc.get(e)||i.mc.has(r)||(Ke("SyncEngine","New document in limbo: "+e),i.mc.add(r),RN(i))}function RN(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const n=i.mc.values().next().value;i.mc.delete(n);const e=new vt(Gn.fromString(n)),r=i.Ac.next();i.yc.set(r,new LG(e)),i.gc=i.gc.insert(e,r),cM(i.remoteStore,new Jh(Bs(N_(e.path)),r,"TargetPurposeLimboResolution",Ai.ct))}}function Xh(i,n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,Ee.Z)(function*(i,n,e){const r=bt(i),o=[],a=[],l=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,m)=>{l.push(r.Rc(m,n,e).then(g=>{if((g||e)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,g?.fromCache?"not-current":"current"),g){o.push(g);const b=LP.Li(m.targetId,g);a.push(b)}}))}),yield Promise.all(l),r.dc.nu(o),yield(h=(0,Ee.Z)(function*(m,g){const b=bt(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ge.forEach(g,S=>ge.forEach(S.Fi,R=>b.persistence.referenceDelegate.addReference(E,S.targetId,R)).next(()=>ge.forEach(S.Bi,R=>b.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))}catch(E){if(!zh(E))throw E;Ke("LocalStore","Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const R=b.Ji.get(S),G=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.Ji=b.Ji.insert(S,G)}}}),function(m,g){return h.apply(this,arguments)})(r.localStore,a))}),ON.apply(this,arguments)}function WG(i,n){return PN.apply(this,arguments)}function PN(){return PN=(0,Ee.Z)(function*(i,n){const e=bt(i);if(!e.currentUser.isEqual(n)){Ke("SyncEngine","User change. New user:",n.toKey());const r=yield Z3(e.localStore,n);e.currentUser=n,(o=e).Ec.forEach(l=>{l.forEach(h=>{h.reject(new ze(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),e.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),yield Xh(e,r.er)}var o}),PN.apply(this,arguments)}function ZG(i,n){const e=bt(i),r=e.yc.get(n);if(r&&r.fc)return w().add(r.key);{let o=w();const a=e._c.get(n);if(!a)return o;for(const l of a){const h=e.wc.get(l);o=o.unionWith(h.view.nc)}return o}}function YG(i,n){return NN.apply(this,arguments)}function NN(){return NN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=yield iM(e.localStore,n.query,!0),o=n.view.hc(r);return e.isPrimaryClient&&AN(e,n.targetId,o.cc),o}),NN.apply(this,arguments)}function KG(i,n){return FN.apply(this,arguments)}function FN(){return FN=(0,Ee.Z)(function*(i,n){const e=bt(i);return J3(e.localStore,n).then(r=>Xh(e,r))}),FN.apply(this,arguments)}function QG(i,n,e,r){return LN.apply(this,arguments)}function LN(){return LN=(0,Ee.Z)(function*(i,n,e,r){const o=bt(i),a=yield function(l,h){const m=bt(l),g=bt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>g.Sn(b,h).next(E=>E?m.localDocuments.getDocuments(b,E):ge.resolve(null)))}(o.localStore,n);var h;null!==a?("pending"===e?yield r0(o.remoteStore):"acknowledged"===e||"rejected"===e?(MN(o,n,r||null),SN(o,n),h=n,bt(bt(o.localStore).mutationQueue).Cn(h)):St(),yield Xh(o,a)):Ke("SyncEngine","Cannot apply mutation batch with id: "+n)}),LN.apply(this,arguments)}function BN(){return BN=(0,Ee.Z)(function*(i,n){const e=bt(i);if(zN(e),jN(e),!0===n&&!0!==e.vc){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield wV(e,r.toArray());e.vc=!0,yield dN(e.remoteStore,!0);for(const a of o)cM(e.remoteStore,a)}else if(!1===n&&!1!==e.vc){const r=[];let o=Promise.resolve();e._c.forEach((a,l)=>{e.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(l0(e,l),t0(e.localStore,l,!0))),EE(e.remoteStore,l)}),yield o,yield wV(e,r),function(a){const l=bt(a);l.yc.forEach((h,m)=>{EE(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Ri(vt.comparator)}(e),e.vc=!1,yield dN(e.remoteStore,!1)}}),BN.apply(this,arguments)}function wV(i,n,e){return VN.apply(this,arguments)}function VN(){return VN=(0,Ee.Z)(function*(i,n,e){const r=bt(i),o=[],a=[];for(const l of n){let h;const m=r._c.get(l);if(m&&0!==m.length){h=yield e0(r.localStore,Bs(m[0]));for(const g of m){const b=r.wc.get(g),E=yield YG(r,b);E.snapshot&&a.push(E.snapshot)}}else{const g=yield Q3(r.localStore,l);h=yield e0(r.localStore,g),yield bN(r,xV(g),l,!1,h.resumeToken)}o.push(h)}return r.dc.nu(a),o}),VN.apply(this,arguments)}function xV(i){return nE(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function XG(i){const n=bt(i);return bt(bt(n.localStore).persistence).$i()}function e8(i,n,e,r){return UN.apply(this,arguments)}function UN(){return UN=(0,Ee.Z)(function*(i,n,e,r){const o=bt(i);if(o.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const a=o._c.get(n);if(a&&a.length>0)switch(e){case"current":case"not-current":{const l=yield J3(o.localStore,US(a[0])),h=lE.createSynthesizedRemoteEventForCurrentChange(n,"current"===e,ro.EMPTY_BYTE_STRING);yield Xh(o,l,h);break}case"rejected":yield t0(o.localStore,n,!0),l0(o,n,r);break;default:St()}}),UN.apply(this,arguments)}function t8(i,n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,Ee.Z)(function*(i,n,e){const r=zN(i);if(r.vc){for(const o of n){if(r._c.has(o)){Ke("SyncEngine","Adding an already active target "+o);continue}const a=yield Q3(r.localStore,o),l=yield e0(r.localStore,a);yield bN(r,xV(a),l.targetId,!1,l.resumeToken),cM(r.remoteStore,l)}for(const o of e)r._c.has(o)&&(yield t0(r.localStore,o,!1).then(()=>{EE(r.remoteStore,o),l0(r,o)}).catch(nu))}}),HN.apply(this,arguments)}function zN(i){const n=bt(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=vV.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZG.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=zG.bind(null,n),n.dc.nu=RG.bind(null,n.eventManager),n.dc.Pc=OG.bind(null,n.eventManager),n}function jN(i){const n=bt(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=jG.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=$G.bind(null,n),n}class kE{constructor(){this.synchronizeTabs=!1}initialize(n){var e=this;return(0,Ee.Z)(function*(){e.serializer=xE(n.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(n),e.persistence=e.createPersistence(n),yield e.persistence.start(),e.localStore=e.createLocalStore(n),e.gcScheduler=e.createGarbageCollectionScheduler(n,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(n,e.localStore)})()}createGarbageCollectionScheduler(n,e){return null}createIndexBackfillerScheduler(n,e){return null}createLocalStore(n){return W3(this.persistence,new q3,n.initialUser,this.serializer)}createPersistence(n){return new OP(eM.zs,this.serializer)}createSharedClientState(n){return new nV}terminate(){var n=this;return(0,Ee.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class $N extends kE{constructor(n,e,r){super(),this.Vc=n,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(n){var e=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield e().call(r,n),yield r.Vc.initialize(r,n),yield jN(r.Vc.syncEngine),yield r0(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return W3(this.persistence,new q3,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,e){return new L3(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,e)}createIndexBackfillerScheduler(n,e){const r=new LB(e,this.persistence);return new WO(n.asyncQueue,r)}createPersistence(n){const e=FP(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new NP(this.synchronizeTabs,e,n.clientId,r,n.asyncQueue,rV(),aM(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new nV}}class CV extends $N{constructor(n,e){super(n,e,!1),this.Vc=n,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(n){var e=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield e().call(r,n);const o=r.Vc.syncEngine;r.sharedClientState instanceof GP&&(r.sharedClientState.syncEngine={jr:QG.bind(null,o),zr:e8.bind(null,o),Wr:t8.bind(null,o),$i:XG.bind(null,o),Qr:KG.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Ee.Z)(function*(l){yield function JG(i,n){return BN.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(n){const e=rV();if(!GP.D(e))throw new ze(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FP(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new GP(e,n.asyncQueue,r,n.clientId,n.initialUser)}}class d0{initialize(n,e){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=n.localStore,r.sharedClientState=n.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!n.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>yV(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=WG.bind(null,r.syncEngine),yield dN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(n){return new AG}createDatastore(n){const e=xE(n.databaseInfo.databaseId),r=new mG(n.databaseInfo);return new _G(n.authCredentials,n.appCheckCredentials,r,e)}createRemoteStore(n){return e=this.localStore,r=this.datastore,o=n.asyncQueue,a=h=>yV(this.syncEngine,h,0),l=iV.D()?new iV:new uG,new bG(e,r,o,a,l);var e,r,o,a,l}createSyncEngine(n,e){return function(r,o,a,l,h,m,g){const b=new BG(r,o,a,l,h,m);return g&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,e)}terminate(){return(n=(0,Ee.Z)(function*(e){const r=bt(e);Ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield n0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(e){return n.apply(this,arguments)})(this.remoteStore);var n}}function EV(i,n=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<i.byteLength){const r={value:i.slice(e,e+n),done:!1};return e+=n,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dM{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Sc(this.observer.next,n)}error(n){this.observer.error?this.Sc(this.observer.error,n):Sr("Uncaught Error in snapshot listener:",n.toString())}Dc(){this.muted=!0}Sc(n,e){this.muted||setTimeout(()=>{this.muted||n(e)},0)}}class r8{constructor(n,e){this.Cc=n,this.serializer=e,this.metadata=new Yr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var n=this;return(0,Ee.Z)(function*(){return n.metadata.promise})()}bc(){var n=this;return(0,Ee.Z)(function*(){return yield n.getMetadata(),n.Nc()})()}Nc(){var n=this;return(0,Ee.Z)(function*(){const e=yield n.kc();if(null===e)return null;const r=n.xc.decode(e),o=Number(r);isNaN(o)&&n.Mc(`length string (${r}) is not valid number`);const a=yield n.$c(o);return new PG(JSON.parse(a),e.length+o)})()}Oc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}kc(){var n=this;return(0,Ee.Z)(function*(){for(;n.Oc()<0&&!(yield n.Fc()););if(0===n.buffer.length)return null;const e=n.Oc();e<0&&n.Mc("Reached the end of bundle when a length string is expected.");const r=n.buffer.slice(0,e);return n.buffer=n.buffer.slice(e),r})()}$c(n){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<n;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const r=e.xc.decode(e.buffer.slice(0,n));return e.buffer=e.buffer.slice(n),r})()}Mc(n){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${n}`)}Fc(){var n=this;return(0,Ee.Z)(function*(){const e=yield n.Cc.read();if(!e.done){const r=new Uint8Array(n.buffer.length+e.value.length);r.set(n.buffer),r.set(e.value,n.buffer.length),n.buffer=r}return e.done})()}}class o8{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ze(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ee.Z)(function*(a,l){const h=bt(a),m=hE(h.serializer)+"/documents",g={documents:l.map(R=>uE(h.serializer,R))},b=yield h.vo("BatchGetDocuments",m,g,l.length),E=new Map;b.forEach(R=>{const F=function T$(i,n){return"found"in n?function(e,r){Ht(!!r.found);const o=lu(e,r.found.name),a=oo(r.found.updateTime),l=r.found.createTime?oo(r.found.createTime):$t.min(),h=new Jo({mapValue:{fields:r.found.fields}});return Ki.newFoundDocument(o,a,l,h)}(i,n):"missing"in n?function(e,r){Ht(!!r.missing),Ht(!!r.readTime);const o=lu(e,r.missing),a=oo(r.readTime);return Ki.newNoDocument(o,a)}(i,n):St()}(h.serializer,R);E.set(F.key.toString(),F)});const S=[];return l.forEach(R=>{const F=E.get(R.toString());Ht(!!F),S.push(F)}),S}),function(a,l){return o.apply(this,arguments)})(e.datastore,n);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(n,e){this.write(e.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,e){try{this.write(e.toMutation(n,this.preconditionForUpdate(n)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(n.toString())}delete(n){this.write(new Yb(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ee.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const e=n.readVersions;var r;n.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const a=vt.fromPath(o);n.mutations.push(new mP(a,n.precondition(a)))}),yield(r=(0,Ee.Z)(function*(o,a){const l=bt(o),h=hE(l.serializer)+"/documents",m={writes:a.map(g=>fE(l.serializer,g))};yield l.Io("Commit",h,m)}),function(o,a){return r.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let e;if(n.isFoundDocument())e=n.version;else{if(!n.isNoDocument())throw St();e=$t.min()}const r=this.readVersions.get(n.key.toString());if(r){if(!e.isEqual(r))throw new ze(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),e)}precondition(n){const e=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&e?e.isEqual($t.min())?Ar.exists(!1):Ar.updateTime(e):Ar.none()}preconditionForUpdate(n){const e=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&e){if(e.isEqual($t.min()))throw new ze(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(e)}return Ar.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class s8{constructor(n,e,r,o,a){this.asyncQueue=n,this.datastore=e,this.options=r,this.updateFunction=o,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new WP(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var n=this;this.qo.No((0,Ee.Z)(function*(){const e=new o8(n.datastore),r=n.qc(e);r&&r.then(o=>{n.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{n.deferred.resolve(o)}).catch(a=>{n.Uc(a)}))}).catch(o=>{n.Uc(o)})}))}qc(n){try{const e=this.updateFunction(n);return!S_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(n){this.Bc>0&&this.Kc(n)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(n)}Kc(n){if("FirebaseError"===n.name){const e=n.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!YB(e)}return!1}}class a8{constructor(n,e,r,o){var a=this;this.authCredentials=n,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=No.UNAUTHENTICATED,this.clientId=OC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ee.Z)(function*(h){Ke("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var n=this;return(0,Ee.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=s0(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function uM(i,n){return GN.apply(this,arguments)}function GN(){return GN=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const e=yield i.getConfiguration();yield n.initialize(e);let r=e.initialUser;i.setCredentialChangeListener(function(){var o=(0,Ee.Z)(function*(a){r.isEqual(a)||(yield Z3(n.localStore,a),r=a)});return function(a){return o.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=n}),GN.apply(this,arguments)}function qN(i,n){return WN.apply(this,arguments)}function WN(){return WN=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const e=yield ZN(i);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(e,r),i.setCredentialChangeListener(o=>uV(n.remoteStore,o)),i.setAppCheckTokenChangeListener((o,a)=>uV(n.remoteStore,a)),i._onlineComponents=n}),WN.apply(this,arguments)}function kV(i){return"FirebaseError"===i.name?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function ZN(i){return YN.apply(this,arguments)}function YN(){return YN=(0,Ee.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uM(i,i._uninitializedComponentsProvider._offline)}catch(n){const e=n;if(!kV(e))throw e;Ls("Error using user provided cache. Falling back to memory cache: "+e),yield uM(i,new kE)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield uM(i,new kE);return i._offlineComponents}),YN.apply(this,arguments)}function hM(i){return KN.apply(this,arguments)}function KN(){return KN=(0,Ee.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield qN(i,i._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield qN(i,new d0))),i._onlineComponents}),KN.apply(this,arguments)}function TV(i){return ZN(i).then(n=>n.persistence)}function fM(i){return ZN(i).then(n=>n.localStore)}function IV(i){return hM(i).then(n=>n.remoteStore)}function QN(i){return hM(i).then(n=>n.syncEngine)}function u0(i){return JN.apply(this,arguments)}function JN(){return JN=(0,Ee.Z)(function*(i){const n=yield hM(i),e=n.eventManager;return e.onListen=VG.bind(null,n.syncEngine),e.onUnlisten=UG.bind(null,n.syncEngine),e}),JN.apply(this,arguments)}function SV(i,n,e={}){const r=new Yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(o,a,l,h,m){const g=new dM({next:E=>{a.enqueueAndForget(()=>pN(o,b));const S=E.docs.has(l);!S&&E.fromCache?m.reject(new ze(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&"server"===h.source?m.reject(new ze(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),b=new vN(N_(l.path),g,{includeMetadataChanges:!0,Ku:!0});return fN(o,b)}(yield u0(i),i.asyncQueue,n,e,r)})),r.promise}function MV(i,n,e={}){const r=new Yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(o,a,l,h,m){const g=new dM({next:E=>{a.enqueueAndForget(()=>pN(o,b)),E.fromCache&&"server"===h.source?m.reject(new ze(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),b=new vN(l,g,{includeMetadataChanges:!0,Ku:!0});return fN(o,b)}(yield u0(i),i.asyncQueue,n,e,r)})),r.promise}function AV(i){const n={};return void 0!==i.timeoutSeconds&&(n.timeoutSeconds=i.timeoutSeconds),n}const RV=new Map;function XN(i,n,e){if(!e)throw new ze(ye.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function OV(i,n,e,r){if(!0===n&&!0===r)throw new ze(ye.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function PV(i){if(!vt.isDocumentKey(i))throw new ze(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NV(i){if(vt.isDocumentKey(i))throw new ze(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mM(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(e=i).constructor?e.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var e;return"function"==typeof i?"a function":St()}function Hn(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new ze(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mM(i);throw new ze(ye.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${e}`)}}return i}function FV(i,n){if(n<=0)throw new ze(ye.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class LV{constructor(n){var e,r;if(void 0===n.host){if(void 0!==n.ssl)throw new ze(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(e=n.ssl)||void 0===e||e;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.cache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ze(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}OV("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AV(null!==(r=n.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class TE{constructor(n,e,r,o){this._authCredentials=n,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ze(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LV(n),void 0!==n.credentials&&(this._authCredentials=function(e){if(!e)return new sS;switch(e.type){case"firstParty":return new cS(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ze(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const e=RV.get(n);e&&(Ke("ComponentProvider","Removing Datastore"),RV.delete(n),e.terminate())}(this),Promise.resolve()}}function BV(i,n,e,r={}){var o;const a=(i=Hn(i,TE))._getSettings(),l=`${n}:${e}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=No.MOCK_USER;else{h=(0,j.Sg)(r.mockUserToken,null===(o=i._app)||void 0===o?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ze(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new No(g)}i._authCredentials=new aS(new oS(h,m))}}class wr{constructor(n,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new wr(this.firestore,n,this._key)}}class gs{constructor(n,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new gs(this.firestore,n,this._query)}}class du extends gs{constructor(n,e,r){super(n,e,N_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new wr(this.firestore,null,new vt(n))}withConverter(n){return new du(this.firestore,n,this._path)}}function VV(i,n,...e){if(i=(0,j.m9)(i),XN("collection","path",n),i instanceof TE){const r=Gn.fromString(n,...e);return NV(r),new du(i,null,r)}{if(!(i instanceof wr||i instanceof du))throw new ze(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Gn.fromString(n,...e));return NV(r),new du(i.firestore,null,r)}}function pM(i,n,...e){if(i=(0,j.m9)(i),1===arguments.length&&(n=OC.A()),XN("doc","path",n),i instanceof TE){const r=Gn.fromString(n,...e);return PV(r),new wr(i,null,new vt(r))}{if(!(i instanceof wr||i instanceof du))throw new ze(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Gn.fromString(n,...e));return PV(r),new wr(i.firestore,i instanceof du?i.converter:null,new vt(r))}}function UV(i,n){return i=(0,j.m9)(i),n=(0,j.m9)(n),(i instanceof wr||i instanceof du)&&(n instanceof wr||n instanceof du)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function eF(i,n){return i=(0,j.m9)(i),n=(0,j.m9)(n),i instanceof gs&&n instanceof gs&&i.firestore===n.firestore&&Gb(i._query,n._query)&&i.converter===n.converter}class _8{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new WP(this,"async_queue_retry"),this.Xc=()=>{const e=aM();e&&Ke("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const n=aM();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Zc(),this.ta(n)}enterRestrictedMode(n){if(!this.jc){this.jc=!0,this.Jc=n||!1;const e=aM();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(n){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Yr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(n().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Qc.push(n),this.ea()))}ea(){var n=this;return(0,Ee.Z)(function*(){if(0!==n.Qc.length){try{yield n.Qc[0](),n.Qc.shift(),n.qo.reset()}catch(e){if(!zh(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}n.Qc.length>0&&n.qo.No(()=>n.ea())}})()}ta(n){const e=this.Gc.then(()=>(this.Hc=!0,n().catch(r=>{throw this.Wc=r,this.Hc=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=e,e}enqueueAfterDelay(n,e,r){this.Zc(),this.Yc.indexOf(n)>-1&&(e=0);const o=hN.createAndSchedule(this,n,e,r,a=>this.na(a));return this.zc.push(o),o}Zc(){this.Wc&&St()}verifyOperationInProgress(){}sa(){var n=this;return(0,Ee.Z)(function*(){let e;do{e=n.Gc,yield e}while(e!==n.Gc)})()}ia(n){for(const e of this.zc)if(e.timerId===n)return!0;return!1}ra(n){return this.sa().then(()=>{this.zc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==n&&e.timerId===n)break;return this.sa()})}oa(n){this.Yc.push(n)}na(n){const e=this.zc.indexOf(n);this.zc.splice(e,1)}}function tF(i){return function(n,e){if("object"!=typeof n||null===n)return!1;const r=n;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class v8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,e,r){this._progressObserver={next:n,error:e,complete:r}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,e){return this._taskCompletionResolver.promise.then(n,e)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class xr extends TE{constructor(n,e,r,o){super(n,e,r,o),this.type="firestore",this._queue=new _8,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HV(this),this._firestoreClient.terminate()}}function b8(i,n){const e="object"==typeof i?i:(0,wi.getApp)(),r="string"==typeof i?i:n||"(default)",o=(0,wi._getProvider)(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=(0,j.P0)("firestore");a&&BV(o,...a)}return o}function so(i){return i._firestoreClient||HV(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function HV(i){var n,e,r;const o=i._freezeSettings(),a=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new IS(i._databaseId,h,i._persistenceKey,(g=o).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,AV(g.experimentalLongPollingOptions),g.useFetchStreams));var h,g;i._firestoreClient=new a8(i._authCredentials,i._appCheckCredentials,i._queue,a),null!==(e=o.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function zV(i,n,e){const r=new Yr;return i.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield uM(i,e),yield qN(i,n),r.resolve()}catch(o){const a=o;if(!kV(a))throw a;Ls("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function jV(i){if(i._initialized||i._terminated)throw new ze(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new uu(ro.fromBase64String(n))}catch(e){throw new ze(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(n){return new uu(ro.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ef{constructor(...n){for(let e=0;e<n.length;++e)if(0===n[e].length)throw new ze(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class G_{constructor(n){this._methodName=n}}class gM{constructor(n,e){if(!isFinite(n)||n<-90||n>90)throw new ze(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(e)||e<-180||e>180)throw new ze(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=n,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return mn(this._lat,n._lat)||mn(this._long,n._long)}}const M8=/^__.*__$/;class A8{constructor(n,e,r){this.data=n,this.fieldMask=e,this.fieldTransforms=r}toMutation(n,e){return null!==this.fieldMask?new Qh(n,this.data,this.fieldMask,e,this.fieldTransforms):new Zb(n,this.data,e,this.fieldTransforms)}}class $V{constructor(n,e,r){this.data=n,this.fieldMask=e,this.fieldTransforms=r}toMutation(n,e){return new Qh(n,this.data,this.fieldMask,e,this.fieldTransforms)}}function GV(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class _M{constructor(n,e,r,o,a,l){this.settings=n,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(n){return new _M(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(n){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(n),o=this.aa({path:r,la:!1});return o.fa(n),o}da(n){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(n),o=this.aa({path:r,la:!1});return o.ua(),o}wa(n){return this.aa({path:void 0,la:!0})}_a(n){return bM(n,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(n){return void 0!==this.fieldMask.find(e=>n.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>n.isPrefixOf(e.field))}ua(){if(this.path)for(let n=0;n<this.path.length;n++)this.fa(this.path.get(n))}fa(n){if(0===n.length)throw this._a("Document fields must not be empty");if(GV(this.ca)&&M8.test(n))throw this._a('Document fields cannot begin and end with "__"')}}class R8{constructor(n,e,r){this.databaseId=n,this.ignoreUndefinedProperties=e,this.serializer=r||xE(n)}ya(n,e,r,o=!1){return new _M({ca:n,methodName:e,ga:r,path:Vr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q_(i){const n=i._freezeSettings(),e=xE(i._databaseId);return new R8(i._databaseId,!!n.ignoreUndefinedProperties,e)}function vM(i,n,e,r,o,a={}){const l=i.ya(a.merge||a.mergeFields?2:0,n,e,o);oF("Data must be an object, but it was:",l,r);const h=ZV(r,l);let m,g;if(a.merge)m=new ps(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const b=[];for(const E of a.mergeFields){const S=SE(n,E,e);if(!l.contains(S))throw new ze(ye.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);KV(b,S)||b.push(S)}m=new ps(b),g=l.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=l.fieldTransforms;return new A8(new Jo(h),m,g)}class DE extends G_{_toFieldTransform(n){if(2!==n.ca)throw n._a(1===n.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof DE}}function qV(i,n,e){return new _M({ca:3,ga:n.settings.ga,methodName:i._methodName,la:e},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class nF extends G_{_toFieldTransform(n){return new L_(n.path,new mt)}isEqual(n){return n instanceof nF}}class O8 extends G_{constructor(n,e){super(n),this.pa=e}_toFieldTransform(n){const e=qV(this,n,!0),r=this.pa.map(a=>W_(a,e)),o=new Rt(r);return new L_(n.path,o)}isEqual(n){return this===n}}class P8 extends G_{constructor(n,e){super(n),this.pa=e}_toFieldTransform(n){const e=qV(this,n,!0),r=this.pa.map(a=>W_(a,e)),o=new Xt(r);return new L_(n.path,o)}isEqual(n){return this===n}}class N8 extends G_{constructor(n,e){super(n),this.Ia=e}_toFieldTransform(n){const e=new Sn(n.serializer,W(n.serializer,this.Ia));return new L_(n.path,e)}isEqual(n){return this===n}}function iF(i,n,e,r){const o=i.ya(1,n,e);oF("Data must be an object, but it was:",o,r);const a=[],l=Jo.empty();el(r,(m,g)=>{const b=yM(n,m,e);g=(0,j.m9)(g);const E=o.da(b);if(g instanceof DE)a.push(b);else{const S=W_(g,E);null!=S&&(a.push(b),l.set(b,S))}});const h=new ps(a);return new $V(l,h,o.fieldTransforms)}function rF(i,n,e,r,o,a){const l=i.ya(1,n,e),h=[SE(n,r,e)],m=[o];if(a.length%2!=0)throw new ze(ye.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)h.push(SE(n,a[S])),m.push(a[S+1]);const g=[],b=Jo.empty();for(let S=h.length-1;S>=0;--S)if(!KV(g,h[S])){const R=h[S];let F=m[S];F=(0,j.m9)(F);const G=l.da(R);if(F instanceof DE)g.push(R);else{const Y=W_(F,G);null!=Y&&(g.push(R),b.set(R,Y))}}const E=new ps(g);return new $V(b,E,l.fieldTransforms)}function WV(i,n,e,r=!1){return W_(e,i.ya(r?4:3,n))}function W_(i,n){if(YV(i=(0,j.m9)(i)))return oF("Unsupported field value:",n,i),ZV(i,n);if(i instanceof G_)return function(e,r){if(!GV(r.ca))throw r._a(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.la&&4!==n.ca)throw n._a("Nested arrays are not supported");return function(e,r){const o=[];let a=0;for(const l of e){let h=W_(l,r.wa(a));null==h&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(i,n)}return function(e,r){if(null===(e=(0,j.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return W(r.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=Yi.fromDate(e);return{timestampValue:Kb(r.serializer,o)}}if(e instanceof Yi){const o=new Yi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kb(r.serializer,o)}}if(e instanceof gM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uu)return{bytesValue:s3(r.serializer,e._byteString)};if(e instanceof wr){const o=r.databaseId,a=e.firestore._databaseId;if(!a.isEqual(o))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wP(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r._a(`Unsupported field value: ${mM(e)}`)}(i,n)}function ZV(i,n){const e={};return qC(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):el(i,(r,o)=>{const a=W_(o,n.ha(r));null!=a&&(e[r]=a)}),{mapValue:{fields:e}}}function YV(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Yi||i instanceof gM||i instanceof uu||i instanceof wr||i instanceof G_)}function oF(i,n,e){if(!YV(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mM(e);throw n._a("an object"===r?i+" a custom object":i+" "+r)}var r}function SE(i,n,e){if((n=(0,j.m9)(n))instanceof ef)return n._internalPath;if("string"==typeof n)return yM(i,n);throw bM("Field path arguments must be of type string or ",i,!1,void 0,e)}const F8=new RegExp("[~\\*/\\[\\]]");function yM(i,n,e){if(n.search(F8)>=0)throw bM(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new ef(...n.split("."))._internalPath}catch{throw bM(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function bM(i,n,e,r,o){const a=r&&!r.isEmpty(),l=void 0!==o;let h=`Function ${n}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${o}`),m+=")"),new ze(ye.INVALID_ARGUMENT,h+i+m)}function KV(i,n){return i.some(e=>e.isEqual(n))}class ME{constructor(n,e,r,o,a){this._firestore=n,this._userDataWriter=e,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new L8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const e=this._document.data.field(wM("DocumentSnapshot.get",n));if(null!==e)return this._userDataWriter.convertValue(e)}}}class L8 extends ME{data(){return super.data()}}function wM(i,n){return"string"==typeof n?yM(i,n):n instanceof ef?n._internalPath:n._delegate._internalPath}function QV(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ze(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sF{}class AE extends sF{}function mp(i,n,...e){let r=[];n instanceof sF&&r.push(n),r=r.concat(e),function(o){const a=o.filter(h=>h instanceof h0).length,l=o.filter(h=>h instanceof RE).length;if(a>1||a>0&&l>0)throw new ze(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class RE extends AE{constructor(n,e,r){super(),this._field=n,this._op=e,this._value=r,this.type="where"}static _create(n,e,r){return new RE(n,e,r)}_apply(n){const e=this._parse(n);return tU(n._query,e),new gs(n.firestore,n.converter,oE(n._query,e))}_parse(n){const e=q_(n.firestore);return function(o,a,l,h,m,g,b){let E;if(m.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new ze(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){eU(b,g);const S=[];for(const R of b)S.push(XV(h,o,R));E={arrayValue:{values:S}}}else E=XV(h,o,b)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||eU(b,g),E=WV(l,"where",b,"in"===g||"not-in"===g);return Bn.create(m,g,E)}(n._query,0,e,n.firestore._databaseId,this._field,this._op,this._value)}}class h0 extends sF{constructor(n,e){super(),this.type=n,this._queryConstraints=e}static _create(n,e){return new h0(n,e)}_parse(n){const e=this._queryConstraints.map(r=>r._parse(n)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:mi.create(e,this._getOperator())}_apply(n){const e=this._parse(n);return 0===e.getFilters().length?n:(function(r,o){let a=r;const l=o.getFlattenedFilters();for(const h of l)tU(a,h),a=oE(a,h)}(n._query,e),new gs(n.firestore,n.converter,oE(n._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aF extends AE{constructor(n,e){super(),this._field=n,this._direction=e,this.type="orderBy"}static _create(n,e){return new aF(n,e)}_apply(n){const e=function(r,o,a){if(null!==r.startAt)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Yh(o,a);return function(h,m){if(null===sp(h)){const g=iE(h);null!==g&&nU(0,g,m.field)}}(r,l),l}(n._query,this._field,this._direction);return new gs(n.firestore,n.converter,function(r,o){const a=r.explicitOrderBy.concat([o]);return new tl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(n._query,e))}}class xM extends AE{constructor(n,e,r){super(),this.type=n,this._limit=e,this._limitType=r}static _create(n,e,r){return new xM(n,e,r)}_apply(n){return new gs(n.firestore,n.converter,sE(n._query,this._limit,this._limitType))}}class CM extends AE{constructor(n,e,r){super(),this.type=n,this._docOrFields=e,this._inclusive=r}static _create(n,e,r){return new CM(n,e,r)}_apply(n){const e=JV(n,this.type,this._docOrFields,this._inclusive);return new gs(n.firestore,n.converter,(o=e,new tl((r=n._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class EM extends AE{constructor(n,e,r){super(),this.type=n,this._docOrFields=e,this._inclusive=r}static _create(n,e,r){return new EM(n,e,r)}_apply(n){const e=JV(n,this.type,this._docOrFields,this._inclusive);return new gs(n.firestore,n.converter,(o=e,new tl((r=n._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function JV(i,n,e,r){if(e[0]=(0,j.m9)(e[0]),e[0]instanceof ME)return function(o,a,l,h,m){if(!h)throw new ze(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const g=[];for(const b of ap(o))if(b.field.isKeyField())g.push(Zh(a,h.key));else{const E=h.data.field(b.field);if(ZC(E))throw new ze(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const S=b.field.canonicalString();throw new ze(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(E)}return new su(g,m)}(i._query,i.firestore._databaseId,n,e[0]._document,r);{const o=q_(i.firestore);return function(a,l,h,m,g,b){const E=a.explicitOrderBy;if(g.length>E.length)throw new ze(ye.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let R=0;R<g.length;R++){const F=g[R];if(E[R].field.isKeyField()){if("string"!=typeof F)throw new ze(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof F}`);if(!rE(a)&&-1!==F.indexOf("/"))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${F}' contains a slash.`);const G=a.path.child(Gn.fromString(F));if(!vt.isDocumentKey(G))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${G}' is not because it contains an odd number of segments.`);const Y=new vt(G);S.push(Zh(l,Y))}else{const G=WV(h,m,F);S.push(G)}}return new su(S,b)}(i._query,i.firestore._databaseId,o,n,e,r)}}function XV(i,n,e){if("string"==typeof(e=(0,j.m9)(e))){if(""===e)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(n)&&-1!==e.indexOf("/"))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=n.path.child(Gn.fromString(e));if(!vt.isDocumentKey(r))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zh(i,new vt(r))}if(e instanceof wr)return Zh(i,e._key);throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mM(e)}.`)}function eU(i,n){if(!Array.isArray(i)||0===i.length)throw new ze(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function tU(i,n){if(n.isInequality()){const r=iE(i),o=n.field;if(null!==r&&!r.isEqual(o))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const a=sp(i);null!==a&&nU(0,o,a)}const e=function(r,o){for(const a of r)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(i.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==e)throw new ze(ye.INVALID_ARGUMENT,e===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${e.toString()}' filters.`)}function nU(i,n,e){if(!e.isEqual(n))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class cF{convertValue(n,e="none"){switch(qh(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Mr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,e);case 5:return n.stringValue;case 6:return this.convertBytes(ql(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,e);case 10:return this.convertObject(n.mapValue,e);default:throw St()}}convertObject(n,e){return this.convertObjectMap(n.fields,e)}convertObjectMap(n,e="none"){const r={};return el(n,(o,a)=>{r[o]=this.convertValue(a,e)}),r}convertGeoPoint(n){return new gM(Mr(n.latitude),Mr(n.longitude))}convertArray(n,e){return(n.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(n,e){switch(e){case"previous":const r=YC(n);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Fb(n));default:return null}}convertTimestamp(n){const e=Gl(n);return new Yi(e.seconds,e.nanos)}convertDocumentKey(n,e){const r=Gn.fromString(n);Ht(g3(r));const o=new ru(r.get(1),r.get(3)),a=new vt(r.popFirst(5));return o.isEqual(e)||Sr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function kM(i,n,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(n,e):i.toFirestore(n):n,r}class q8 extends cF{constructor(n){super(),this.firestore=n}convertBytes(n){return new uu(n)}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return new wr(this.firestore,null,e)}}class Z_{constructor(n,e){this.hasPendingWrites=n,this.fromCache=e}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class tf extends ME{constructor(n,e,r,o,a,l){super(n,e,r,o,l),this._firestore=n,this._firestoreImpl=n,this.metadata=a}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const e=new OE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,e={}){if(this._document){const r=this._document.data.field(wM("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class OE extends tf{data(n={}){return super.data(n)}}class pp{constructor(n,e,r,o){this._firestore=n,this._userDataWriter=e,this._snapshot=o,this.metadata=new Z_(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const n=[];return this.forEach(e=>n.push(e)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,e){this._snapshot.docs.forEach(r=>{n.call(e,new OE(this._firestore,this._userDataWriter,r.key,r,new Z_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const e=!!n.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new OE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Z_(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const h=new OE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Z_(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,g=-1;return 0!==l.type&&(m=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:Z8(l.type),doc:h,oldIndex:m,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Z8(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function rU(i,n){return i instanceof tf&&n instanceof tf?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof pp&&n instanceof pp&&i._firestore===n._firestore&&eF(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}class gp extends cF{constructor(n){super(),this.firestore=n}convertBytes(n){return new uu(n)}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return new wr(this.firestore,null,e)}}function oU(i,n,e){i=Hn(i,wr);const r=Hn(i.firestore,xr),o=kM(i.converter,n,e);return f0(r,[vM(q_(r),"setDoc",i._key,o,null!==i.converter,e).toMutation(i._key,Ar.none())])}function sU(i,n,e,...r){i=Hn(i,wr);const o=Hn(i.firestore,xr),a=q_(o);let l;return l="string"==typeof(n=(0,j.m9)(n))||n instanceof ef?rF(a,"updateDoc",i._key,n,e,r):iF(a,"updateDoc",i._key,n),f0(o,[l.toMutation(i._key,Ar.exists(!0))])}function aU(i,...n){var e,r,o;i=(0,j.m9)(i);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||tF(n[l])||(a=n[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(tF(n[l])){const E=n[l];n[l]=null===(e=E.next)||void 0===e?void 0:e.bind(E),n[l+1]=null===(r=E.error)||void 0===r?void 0:r.bind(E),n[l+2]=null===(o=E.complete)||void 0===o?void 0:o.bind(E)}let m,g,b;if(i instanceof wr)g=Hn(i.firestore,xr),b=N_(i._key.path),m={next:E=>{n[l]&&n[l](lF(g,i,E))},error:n[l+1],complete:n[l+2]};else{const E=Hn(i,gs);g=Hn(E.firestore,xr),b=E._query;const S=new gp(g);m={next:R=>{n[l]&&n[l](new pp(g,S,E,R))},error:n[l+1],complete:n[l+2]},QV(i._query)}return function(E,S,R,F){const G=new dM(F),Y=new vN(S,G,R);return E.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return fN(yield u0(E),Y)})),()=>{G.Dc(),E.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return pN(yield u0(E),Y)}))}}(so(g),b,h,m)}function f0(i,n){return function(e,r){const o=new Yr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function HG(i,n,e){return CN.apply(this,arguments)}(yield QN(e),r,o)})),o.promise}(so(i),n)}function lF(i,n,e){const r=e.docs.get(n._key),o=new gp(i);return new tf(i,o,n._key,r,new Z_(e.hasPendingWrites,e.fromCache),n.converter)}const hq={maxAttempts:5};class cU{constructor(n,e){this._firestore=n,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=q_(n)}set(n,e,r){this._verifyNotCommitted();const o=_p(n,this._firestore),a=kM(o.converter,e,r),l=vM(this._dataReader,"WriteBatch.set",o._key,a,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,Ar.none())),this}update(n,e,r,...o){this._verifyNotCommitted();const a=_p(n,this._firestore);let l;return l="string"==typeof(e=(0,j.m9)(e))||e instanceof ef?rF(this._dataReader,"WriteBatch.update",a._key,e,r,o):iF(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(l.toMutation(a._key,Ar.exists(!0))),this}delete(n){this._verifyNotCommitted();const e=_p(n,this._firestore);return this._mutations=this._mutations.concat(new Yb(e._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _p(i,n){if((i=(0,j.m9)(i)).firestore!==n)throw new ze(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class fq extends class{constructor(n,e){this._firestore=n,this._transaction=e,this._dataReader=q_(n)}get(n){const e=_p(n,this._firestore),r=new q8(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return St();const a=o[0];if(a.isFoundDocument())return new ME(this._firestore,r,a.key,a,e.converter);if(a.isNoDocument())return new ME(this._firestore,r,e._key,null,e.converter);throw St()})}set(n,e,r){const o=_p(n,this._firestore),a=kM(o.converter,e,r),l=vM(this._dataReader,"Transaction.set",o._key,a,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(n,e,r,...o){const a=_p(n,this._firestore);let l;return l="string"==typeof(e=(0,j.m9)(e))||e instanceof ef?rF(this._dataReader,"Transaction.update",a._key,e,r,o):iF(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,l),this}delete(n){const e=_p(n,this._firestore);return this._transaction.delete(e._key),this}}{constructor(n,e){super(n,e),this._firestore=n}get(n){const e=_p(n,this._firestore),r=new gp(this._firestore);return super.get(n).then(o=>new tf(this._firestore,r,e._key,o._document,new Z_(!1,!1),e.converter))}}function dF(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new ze("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function dU(){if(typeof Uint8Array>"u")throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function uU(){if(!function nP(){return typeof atob<"u"}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,n=!0){Hh=wi.SDK_VERSION,(0,wi._registerComponent)(new or.wA("firestore",(e,{instanceIdentifier:r,options:o})=>{const a=e.getProvider("app").getImmediate(),l=new xr(new zO(e.getProvider("auth-internal")),new dS(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ze(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(h.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,wi.registerVersion)(Mb,"3.13.0",i),(0,wi.registerVersion)(Mb,"3.13.0","esm2017")}();class PE{constructor(n){this._delegate=n}static fromBase64String(n){return uU(),new PE(uu.fromBase64String(n))}static fromUint8Array(n){return dU(),new PE(uu.fromUint8Array(n))}toBase64(){return uU(),this._delegate.toBase64()}toUint8Array(){return dU(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uF(i){return function xq(i,n){if("object"!=typeof i||null===i)return!1;const e=i;for(const r of n)if(r in e&&"function"==typeof e[r])return!0;return!1}(i,["next","error","complete"])}class Cq{enableIndexedDbPersistence(n,e){return function w8(i,n){jV(i=Hn(i,xr));const e=so(i);if(e._uninitializedComponentsProvider)throw new ze(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),o=new d0;return zV(e,o,new $N(o,r.cacheSizeBytes,n?.forceOwnership))}(n._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(n){return function x8(i){jV(i=Hn(i,xr));const n=so(i);if(n._uninitializedComponentsProvider)throw new ze(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings(),r=new d0;return zV(n,r,new CV(r,e.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function C8(i){if(i._initialized&&!i._terminated)throw new ze(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Yr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(r){if(!sc.D())return Promise.resolve();const o=r+"main";yield sc.delete(o)}),function(r){return e.apply(this,arguments)})(FP(i._databaseId,i._persistenceKey)),n.resolve()}catch(e){n.reject(e)}var e})),n.promise}(n._delegate)}}class hU{constructor(n,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},n instanceof ru||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const e=this._delegate._getSettings();!n.merge&&e.host!==n.host&&Ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},e),n)).merge,this._delegate._setSettings(n)}useEmulator(n,e,r={}){BV(this._delegate,n,e,r)}enableNetwork(){return function k8(i){return function c8(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield TV(i),e=yield IV(i);return n.setNetworkEnabled(!0),function(r){const o=bt(r);return o.vu.delete(0),CE(o)}(e)}))}(so(i=Hn(i,xr)))}(this._delegate)}disableNetwork(){return function T8(i){return function l8(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield TV(i),e=yield IV(i);return n.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(o){const a=bt(o);a.vu.add(0),yield n0(a),a.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(so(i=Hn(i,xr)))}(this._delegate)}enablePersistence(n){let e=!1,r=!1;return n&&(e=!!n.synchronizeTabs,r=!!n.experimentalForceOwningTab,OV("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function E8(i){return function(n){const e=new Yr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function GG(i,n){return DN.apply(this,arguments)}(yield QN(n),e)})),e.promise}(so(i=Hn(i,xr)))}(this._delegate)}onSnapshotsInSync(n){return function iq(i,n){return function h8(i,n){const e=new dM(n);return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield u0(i),o=e,bt(r).ku.add(o),void o.next();var r,o})),()=>{e.Dc(),i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield u0(i),o=e,void bt(r).ku.delete(o);var r,o}))}}(so(i=Hn(i,xr)),tF(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new m0(this,VV(this._delegate,n))}catch(e){throw ea(e,"collection()","Firestore.collection()")}}doc(n){try{return new nl(this,pM(this._delegate,n))}catch(e){throw ea(e,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ta(this,function g8(i,n){if(i=Hn(i,TE),XN("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new ze(ye.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gs(i,null,(e=n,new tl(Gn.emptyPath(),e)));var e}(this._delegate,n))}catch(e){throw ea(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function mq(i,n,e){i=Hn(i,xr);const r=Object.assign(Object.assign({},hq),e);return function(o){if(o.maxAttempts<1)throw new ze(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,a,l){const h=new Yr;return o.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const m=yield function DV(i){return hM(i).then(n=>n.datastore)}(o);new s8(o.asyncQueue,m,l,a,h).run()})),h.promise}(so(i),o=>n(new fq(i,o)),r)}(this._delegate,e=>n(new fU(this,e)))}batch(){return so(this._delegate),new mU(new cU(this._delegate,n=>f0(this._delegate,n)))}loadBundle(n){return function I8(i,n){const e=so(i=Hn(i,xr)),r=new v8;return function f8(i,n,e,r){const o=function(a,l){let h;return h="string"==typeof a?QB().encode(a):a,m=function(m,g){if(m instanceof Uint8Array)return EV(m,g);if(m instanceof ArrayBuffer)return EV(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new r8(m,l);var m}(e,xE(n));i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function n8(i,n,e){const r=bt(i);var o;(o=(0,Ee.Z)(function*(a,l,h){try{const m=yield l.getMetadata();if(yield function(S,R){const F=bt(S),G=oo(R.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",Y=>F.qs.getBundleMetadata(Y,R.id)).then(Y=>!!Y&&Y.createTime.compareTo(G)>=0)}(a.localStore,m))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(S=m).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);h._updateProgress(mV(m));const g=new NG(m,a.localStore,l.serializer);let b=yield l.bc();for(;b;){const S=yield g.zu(b);S&&h._updateProgress(S),b=yield l.bc()}const E=yield g.complete();return yield Xh(a,E.Ju,void 0),yield function(S,R){const F=bt(S);return F.persistence.runTransaction("Save bundle","readwrite",G=>F.qs.saveBundleMetadata(G,R))}(a.localStore,m),h._completeWith(E.progress),Promise.resolve(E.Hu)}catch(m){return Ls("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var S}),function(a,l,h){return o.apply(this,arguments)})(r,n,e).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield QN(i),o,r)}))}(e,i._databaseId,n,r),r}(this._delegate,n)}namedQuery(n){return function D8(i,n){return function m8(i,n){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,r){const o=bt(e);return o.persistence.runTransaction("Get named query","readonly",a=>o.qs.getNamedQuery(a,r))}(yield fM(i),n)}))}(so(i=Hn(i,xr)),n).then(e=>e?new gs(i,null,e.query):null)}(this._delegate,n).then(e=>e?new ta(this,e):null)}}class TM extends cF{constructor(n){super(),this.firestore=n}convertBytes(n){return new PE(new uu(n))}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return nl.forKey(e,this.firestore,null)}}class fU{constructor(n,e){this._firestore=n,this._delegate=e,this._userDataWriter=new TM(n)}get(n){const e=K_(n);return this._delegate.get(e).then(r=>new NE(this._firestore,new tf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(n,e,r){const o=K_(n);return r?(dF("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(n,e,r,...o){const a=K_(n);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...o),this}delete(n){const e=K_(n);return this._delegate.delete(e),this}}class mU{constructor(n){this._delegate=n}set(n,e,r){const o=K_(n);return r?(dF("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(n,e,r,...o){const a=K_(n);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...o),this}delete(n){const e=K_(n);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Y_{constructor(n,e,r){this._firestore=n,this._userDataWriter=e,this._delegate=r}fromFirestore(n,e){const r=new OE(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new FE(this._firestore,r),e??{})}toFirestore(n,e){return e?this._delegate.toFirestore(n,e):this._delegate.toFirestore(n)}static getInstance(n,e){const r=Y_.INSTANCES;let o=r.get(n);o||(o=new WeakMap,r.set(n,o));let a=o.get(e);return a||(a=new Y_(n,new TM(n),e),o.set(e,a)),a}}Y_.INSTANCES=new WeakMap;class nl{constructor(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new TM(n)}static forPath(n,e,r){if(n.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new nl(e,new wr(e._delegate,r,new vt(n)))}static forKey(n,e,r){return new nl(e,new wr(e._delegate,r,n))}get id(){return this._delegate.id}get parent(){return new m0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new m0(this.firestore,VV(this._delegate,n))}catch(e){throw ea(e,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,j.m9)(n))instanceof wr&&UV(this._delegate,n)}set(n,e){e=dF("DocumentReference.set",e);try{return e?oU(this._delegate,n,e):oU(this._delegate,n)}catch(r){throw ea(r,"setDoc()","DocumentReference.set()")}}update(n,e,...r){try{return 1===arguments.length?sU(this._delegate,n):sU(this._delegate,n,e,...r)}catch(o){throw ea(o,"updateDoc()","DocumentReference.update()")}}delete(){return function tq(i){return f0(Hn(i.firestore,xr),[new Yb(i._key,Ar.none())])}(this._delegate)}onSnapshot(...n){const e=pU(n),r=gU(n,o=>new NE(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return aU(this._delegate,e,r)}get(n){let e;return e="cache"===n?.source?function K8(i){i=Hn(i,wr);const n=Hn(i.firestore,xr),e=so(n),r=new gp(n);return function d8(i,n){const e=new Yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(o,a,l){try{const h=yield function(m,g){const b=bt(m);return b.persistence.runTransaction("read document","readonly",E=>b.localDocuments.getDocument(E,g))}(o,a);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new ze(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=s0(h,`Failed to get document '${a} from cache`);l.reject(m)}}),function(o,a,l){return r.apply(this,arguments)})(yield fM(i),n,e);var r})),e.promise}(e,i._key).then(o=>new tf(n,r,i._key,o,new Z_(null!==o&&o.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===n?.source?function Q8(i){i=Hn(i,wr);const n=Hn(i.firestore,xr);return SV(so(n),i._key,{source:"server"}).then(e=>lF(n,i,e))}(this._delegate):function Y8(i){i=Hn(i,wr);const n=Hn(i.firestore,xr);return SV(so(n),i._key).then(e=>lF(n,i,e))}(this._delegate),e.then(r=>new NE(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(n){return new nl(this.firestore,this._delegate.withConverter(n?Y_.getInstance(this.firestore,n):null))}}function ea(i,n,e){return i.message=i.message.replace(n,e),i}function pU(i){for(const n of i)if("object"==typeof n&&!uF(n))return n;return{}}function gU(i,n){var e,r;let o;return o=uF(i[0])?i[0]:uF(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:a=>{o.next&&o.next(n(a))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class NE{constructor(n,e){this._firestore=n,this._delegate=e}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,e){return this._delegate.get(n,e)}isEqual(n){return rU(this._delegate,n._delegate)}}class FE extends NE{data(n){const e=this._delegate.data(n);return function HO(i,n){i||St()}(void 0!==e),e}}class ta{constructor(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new TM(n)}where(n,e,r){try{return new ta(this.firestore,mp(this._delegate,function B8(i,n,e){const r=n,o=wM("where",i);return RE._create(o,r,e)}(n,e,r)))}catch(o){throw ea(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,e){try{return new ta(this.firestore,mp(this._delegate,function V8(i,n="asc"){const e=n,r=wM("orderBy",i);return aF._create(r,e)}(n,e)))}catch(r){throw ea(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ta(this.firestore,mp(this._delegate,function U8(i){return FV("limit",i),xM._create("limit",i,"F")}(n)))}catch(e){throw ea(e,"limit()","Query.limit()")}}limitToLast(n){try{return new ta(this.firestore,mp(this._delegate,function H8(i){return FV("limitToLast",i),xM._create("limitToLast",i,"L")}(n)))}catch(e){throw ea(e,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ta(this.firestore,mp(this._delegate,function z8(...i){return CM._create("startAt",i,!0)}(...n)))}catch(e){throw ea(e,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ta(this.firestore,mp(this._delegate,function j8(...i){return CM._create("startAfter",i,!1)}(...n)))}catch(e){throw ea(e,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ta(this.firestore,mp(this._delegate,function $8(...i){return EM._create("endBefore",i,!1)}(...n)))}catch(e){throw ea(e,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ta(this.firestore,mp(this._delegate,function G8(...i){return EM._create("endAt",i,!0)}(...n)))}catch(e){throw ea(e,"endAt()","Query.endAt()")}}isEqual(n){return eF(this._delegate,n._delegate)}get(n){let e;return e="cache"===n?.source?function X8(i){i=Hn(i,gs);const n=Hn(i.firestore,xr),e=so(n),r=new gp(n);return function u8(i,n){const e=new Yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(o,a,l){try{const h=yield iM(o,a,!0),m=new _V(a,h.ir),g=m.sc(h.documents),b=m.applyChanges(g,!1);l.resolve(b.snapshot)}catch(h){const m=s0(h,`Failed to execute query '${a} against cache`);l.reject(m)}}),function(o,a,l){return r.apply(this,arguments)})(yield fM(i),n,e);var r})),e.promise}(e,i._query).then(o=>new pp(n,r,i,o))}(this._delegate):"server"===n?.source?function eq(i){i=Hn(i,gs);const n=Hn(i.firestore,xr),e=so(n),r=new gp(n);return MV(e,i._query,{source:"server"}).then(o=>new pp(n,r,i,o))}(this._delegate):function J8(i){i=Hn(i,gs);const n=Hn(i.firestore,xr),e=so(n),r=new gp(n);return QV(i._query),MV(e,i._query).then(o=>new pp(n,r,i,o))}(this._delegate),e.then(r=>new hF(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...n){const e=pU(n),r=gU(n,o=>new hF(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return aU(this._delegate,e,r)}withConverter(n){return new ta(this.firestore,this._delegate.withConverter(n?Y_.getInstance(this.firestore,n):null))}}class kq{constructor(n,e){this._firestore=n,this._delegate=e}get type(){return this._delegate.type}get doc(){return new FE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hF{constructor(n,e){this._firestore=n,this._delegate=e}get query(){return new ta(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new FE(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(e=>new kq(this._firestore,e))}forEach(n,e){this._delegate.forEach(r=>{n.call(e,new FE(this._firestore,r))})}isEqual(n){return rU(this._delegate,n._delegate)}}class m0 extends ta{constructor(n,e){super(n,e),this.firestore=n,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new nl(this.firestore,n):null}doc(n){try{return new nl(this.firestore,void 0===n?pM(this._delegate):pM(this._delegate,n))}catch(e){throw ea(e,"doc()","CollectionReference.doc()")}}add(n){return function nq(i,n){const e=Hn(i.firestore,xr),r=pM(i),o=kM(i.converter,n);return f0(e,[vM(q_(i.firestore),"addDoc",r._key,o,null!==i.converter,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}(this._delegate,n).then(e=>new nl(this.firestore,e))}isEqual(n){return UV(this._delegate,n._delegate)}withConverter(n){return new m0(this.firestore,this._delegate.withConverter(n?Y_.getInstance(this.firestore,n):null))}}function K_(i){return Hn(i,wr)}class fF{constructor(...n){this._delegate=new ef(...n)}static documentId(){return new fF(Vr.keyField().canonicalString())}isEqual(n){return(n=(0,j.m9)(n))instanceof ef&&this._delegate._internalPath.isEqual(n._internalPath)}}class Q_{constructor(n){this._delegate=n}static serverTimestamp(){const n=function gq(){return new nF("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Q_(n)}static delete(){const n=function pq(){return new DE("deleteField")}();return n._methodName="FieldValue.delete",new Q_(n)}static arrayUnion(...n){const e=function _q(...i){return new O8("arrayUnion",i)}(...n);return e._methodName="FieldValue.arrayUnion",new Q_(e)}static arrayRemove(...n){const e=function vq(...i){return new P8("arrayRemove",i)}(...n);return e._methodName="FieldValue.arrayRemove",new Q_(e)}static increment(n){const e=function yq(i){return new N8("increment",i)}(n);return e._methodName="FieldValue.increment",new Q_(e)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Tq={Firestore:hU,GeoPoint:gM,Timestamp:Yi,Blob:PE,Transaction:fU,WriteBatch:mU,DocumentReference:nl,DocumentSnapshot:NE,Query:ta,QueryDocumentSnapshot:FE,QuerySnapshot:hF,CollectionReference:m0,FieldPath:fF,FieldValue:Q_,setLogLevel:function Eq(i){!function Km(i){tu.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function _U(i,n){return function Sq(i,n=Jf.z){return new Ln.y(e=>{let r;return null!=n?n.schedule(()=>{r=i.onSnapshot({includeMetadataChanges:!0},e)}):r=i.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(i,n)}function mF(i,n){return _U(i,n).pipe((0,Je.U)(e=>({payload:e,type:"query"})))}function IM(i,n){return mF(i,n).pipe(go(void 0),zx(),(0,Je.U)(([e,r])=>{const o=r.payload.docChanges(),a=o.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const m=o.find(b=>b.doc.ref.isEqual(l.ref)),g=e?.payload.docs.find(b=>b.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&g&&JSON.stringify(g.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),a}))}function vU(i,n,e){return IM(i,e).pipe(Ya((r,o)=>function Aq(i,n,e){return n.forEach(r=>{e.indexOf(r.type)>-1&&(i=function Rq(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return pF(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const e=i.slice();return e.splice(n.oldIndex,1),e.splice(n.newIndex,0,n),e}return pF(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return pF(i,n.oldIndex,1)}return i}(i,r))}),i}(r,o.map(a=>a.payload),n),[]),(0,Oc.x)(),(0,Je.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function pF(i,n,e,...r){const o=i.slice();return o.splice(n,e,...r),o}function yU(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function Dq(i){(function Iq(i,n){i.INTERNAL.registerComponent(new or.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return n(r,o)},"PUBLIC").setServiceProps(Object.assign({},Tq)))})(i,(n,e)=>new hU(n,e,new Cq)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(mw.Z);class bU{constructor(n,e,r){this.ref=n,this.query=e,this.afs=r}stateChanges(n){let e=IM(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(e=e.pipe((0,Je.U)(r=>r.filter(o=>n.indexOf(o.type)>-1)))),e.pipe(go(void 0),zx(),cn(([r,o])=>o.length>0||!r),(0,Je.U)(([r,o])=>o),an.iC)}auditTrail(n){return this.stateChanges(n).pipe(Ya((e,r)=>[...e,...r],[]))}snapshotChanges(n){const e=yU(n);return vU(this.query,e,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(n={}){return mF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.payload.docs.map(r=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data())),an.iC)}get(n){return(0,Cn.D)(this.query.get(n)).pipe(an.iC)}add(n){return this.ref.add(n)}doc(n){return new wU(this.ref.doc(n),this.afs)}}class wU{constructor(n,e){this.ref=n,this.afs=e}set(n,e){return this.ref.set(n,e)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,e){const r=this.ref.collection(n),{ref:o,query:a}=EU(r,e);return new bU(o,a,this.afs)}snapshotChanges(){return function Mq(i,n){return _U(i,n).pipe(go(void 0),zx(),(0,Je.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:e})=>n.idField?Object.assign(Object.assign({},e.data()),{[n.idField]:e.id}):e.data()))}get(n){return(0,Cn.D)(this.ref.get(n)).pipe(an.iC)}}class Oq{constructor(n,e){this.query=n,this.afs=e}stateChanges(n){return n&&0!==n.length?IM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.filter(r=>n.indexOf(r.type)>-1)),cn(e=>e.length>0),an.iC):IM(this.query,this.afs.schedulers.outsideAngular).pipe(an.iC)}auditTrail(n){return this.stateChanges(n).pipe(Ya((e,r)=>[...e,...r],[]))}snapshotChanges(n){const e=yU(n);return vU(this.query,e,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(n={}){return mF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(r=>r.payload.docs.map(o=>n.idField?Object.assign({[n.idField]:o.id},o.data()):o.data())),an.iC)}get(n){return(0,Cn.D)(this.query.get(n)).pipe(an.iC)}}const xU=new s.OlP("angularfire2.enableFirestorePersistence"),CU=new s.OlP("angularfire2.firestore.persistenceSettings"),Pq=new s.OlP("angularfire2.firestore.settings"),Nq=new s.OlP("angularfire2.firestore.use-emulator");function EU(i,n=(e=>e)){return{query:n(i),ref:i}}let p0=(()=>{class i{constructor(e,r,o,a,l,h,m,g,b,E,S,R,F,G,Y,ve,Me){this.schedulers=m;const Oe=(0,jn.on)(e,h,r),De=b;E&&fw(Oe,h,S,F,G,Y,R,ve),[this.firestore,this.persistenceEnabled$]=(0,jn.cc)(`${Oe.name}.firestore`,"AngularFirestore",Oe.name,()=>{const Pe=h.runOutsideAngular(()=>Oe.firestore());if(a&&Pe.settings(a),De&&Pe.useEmulator(...De),o&&!ls(l)){const et=()=>{try{return(0,Cn.D)(Pe.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),(0,Dt.of)(!1)}};return[Pe,h.runOutsideAngular(et)]}return[Pe,(0,Dt.of)(!1)]},[a,De,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:l}=EU(o,r),h=this.schedulers.ngZone.run(()=>a);return new bU(h,l,this)}collectionGroup(e,r){const o=r||(l=>l),a=this.firestore.collectionGroup(e);return new Oq(o(a),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new wU(o,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(jn.Dh),s.LFG(jn.xv,8),s.LFG(xU,8),s.LFG(Pq,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(an.HU),s.LFG(CU,8),s.LFG(Nq,8),s.LFG(ag,8),s.LFG(dw,8),s.LFG(uw,8),s.LFG(og,8),s.LFG(sg,8),s.LFG(hw,8),s.LFG(ch,8),s.LFG(Qf,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Fq=(()=>{class i{constructor(){Vv.Z.registerVersion("angularfire",an.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:xU,useValue:!0},{provide:CU,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[p0]}),i})();function LE(i,n=Jf.z){return(0,gr.e)((e,r)=>{let o=null,a=null,l=null;const h=()=>{if(o){o.unsubscribe(),o=null;const g=a;a=null,r.next(g)}};function m(){const g=l+i,b=n.now();if(b<g)return o=this.schedule(void 0,g-b),void r.add(o);h()}e.subscribe((0,li.x)(r,g=>{a=g,l=n.now(),o||(o=n.schedule(m,i),r.add(o))},()=>{h(),r.complete()},void 0,()=>{a=o=null}))})}const kU="firebasestorage.googleapis.com",TU="storageBucket";class Ur extends j.ZR{constructor(n,e,r=0){super(gF(n),`Firebase Storage: ${e} (${gF(n)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ur.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return gF(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ln=(()=>((ln=ln||{}).UNKNOWN="unknown",ln.OBJECT_NOT_FOUND="object-not-found",ln.BUCKET_NOT_FOUND="bucket-not-found",ln.PROJECT_NOT_FOUND="project-not-found",ln.QUOTA_EXCEEDED="quota-exceeded",ln.UNAUTHENTICATED="unauthenticated",ln.UNAUTHORIZED="unauthorized",ln.UNAUTHORIZED_APP="unauthorized-app",ln.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ln.INVALID_CHECKSUM="invalid-checksum",ln.CANCELED="canceled",ln.INVALID_EVENT_NAME="invalid-event-name",ln.INVALID_URL="invalid-url",ln.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ln.NO_DEFAULT_BUCKET="no-default-bucket",ln.CANNOT_SLICE_BLOB="cannot-slice-blob",ln.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ln.NO_DOWNLOAD_URL="no-download-url",ln.INVALID_ARGUMENT="invalid-argument",ln.INVALID_ARGUMENT_COUNT="invalid-argument-count",ln.APP_DELETED="app-deleted",ln.INVALID_ROOT_OPERATION="invalid-root-operation",ln.INVALID_FORMAT="invalid-format",ln.INTERNAL_ERROR="internal-error",ln.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ln))();function gF(i){return"storage/"+i}function _F(){return new Ur(ln.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function IU(){return new Ur(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DU(){return new Ur(ln.CANCELED,"User canceled the upload/download.")}function SU(){return new Ur(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g0(i){return new Ur(ln.INVALID_ARGUMENT,i)}function MU(){return new Ur(ln.APP_DELETED,"The Firebase app was deleted.")}function AU(i){return new Ur(ln.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function BE(i,n){return new Ur(ln.INVALID_FORMAT,"String does not match format '"+i+"': "+n)}function VE(i){throw new Ur(ln.INTERNAL_ERROR,"Internal error: "+i)}class Hs{constructor(n,e){this.bucket=n,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,e){let r;try{r=Hs.makeFromUrl(n,e)}catch{return new Hs(n,"")}if(""===r.path)return r;throw function qq(i){return new Ur(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,e){let r=null;const o="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+o+"(/(.*))?$","i");function g(De){De.path_=decodeURIComponent(De.path)}const E=e.replace(/[.]/g,"\\."),Oe=[{regex:h,indices:{bucket:1,path:3},postModify:function a(De){"/"===De.path.charAt(De.path.length-1)&&(De.path_=De.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${e===kU?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let De=0;De<Oe.length;De++){const Pe=Oe[De],et=Pe.regex.exec(n);if(et){let Bt=et[Pe.indices.path];Bt||(Bt=""),r=new Hs(et[Pe.indices.bucket],Bt),Pe.postModify(r);break}}if(null==r)throw function Gq(i){return new Ur(ln.INVALID_URL,"Invalid URL '"+i+"'.")}(n);return r}}class Qq{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function DM(i){return"string"==typeof i||i instanceof String}function RU(i){return vF()&&i instanceof Blob}function vF(){return typeof Blob<"u"&&!(0,j.UG)()}function yF(i,n,e,r){if(r<n)throw g0(`Invalid value for '${i}'. Expected ${n} or greater.`);if(r>e)throw g0(`Invalid value for '${i}'. Expected ${e} or less.`)}function nf(i,n,e){let r=n;return null==e&&(r=`https://${n}`),`${e}://${r}/v0${i}`}function OU(i){const n=encodeURIComponent;let e="?";for(const r in i)i.hasOwnProperty(r)&&(e=e+(n(r)+"=")+n(i[r])+"&");return e=e.slice(0,-1),e}var Ia=(()=>((Ia=Ia||{})[Ia.NO_ERROR=0]="NO_ERROR",Ia[Ia.NETWORK_ERROR=1]="NETWORK_ERROR",Ia[Ia.ABORT=2]="ABORT",Ia))();function PU(i,n){const e=i>=500&&i<600,o=-1!==[408,429].indexOf(i),a=-1!==n.indexOf(i);return e||o||a}class iW{constructor(n,e,r,o,a,l,h,m,g,b,E,S=!0){this.url_=n,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=E,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,F)=>{this.resolve_=R,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{const a=this.resolve_,l=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function eW(i){return void 0!==i}(m)?a():a(m)}catch(m){l(m)}else if(null!==h){const m=_F();m.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,m):m)}else l(o.canceled?this.appDelete_?MU():DU():IU())};this.canceled_?e(0,new SM(!1,null,!0)):this.backoffId_=function Jq(i,n,e){let r=1,o=null,a=null,l=!1,h=0;function m(){return 2===h}let g=!1;function b(...Y){g||(g=!0,n.apply(null,Y))}function E(Y){o=setTimeout(()=>{o=null,i(R,m())},Y)}function S(){a&&clearTimeout(a)}function R(Y,...ve){if(g)return void S();if(Y)return S(),void b.call(null,Y,...ve);if(m()||l)return S(),void b.call(null,Y,...ve);let Oe;r<64&&(r*=2),1===h?(h=2,Oe=0):Oe=1e3*(r+Math.random()),E(Oe)}let F=!1;function G(Y){F||(F=!0,S(),!g&&(null!==o?(Y||(h=2),clearTimeout(o),E(0)):Y||(h=1)))}return E(0),a=setTimeout(()=>{l=!0,G(!0)},e),G}((r,o)=>{if(o)return void r(!1,new SM(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===Ia.NO_ERROR,m=a.getStatus();if(!h||PU(m,this.additionalRetryCodes_)&&this.retry){const b=a.getErrorCode()===Ia.ABORT;return void r(!1,new SM(!1,null,b))}const g=-1!==this.successCodes_.indexOf(m);r(!0,new SM(g,a))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function Xq(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class SM{constructor(n,e,r){this.wasSuccessCode=n,this.connection=e,this.canceled=!!r}}function dW(...i){const n=function lW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const e=new n;for(let r=0;r<i.length;r++)e.append(i[r]);return e.getBlob()}if(vF())return new Blob(i);throw new Ur(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const dc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bF{constructor(n,e){this.data=n,this.contentType=e||null}}function wF(i,n){switch(i){case dc.RAW:return new bF(NU(n));case dc.BASE64:case dc.BASE64URL:return new bF(FU(i,n));case dc.DATA_URL:return new bF(function mW(i){const n=new LU(i);return n.base64?FU(dc.BASE64,n.rest):function fW(i){let n;try{n=decodeURIComponent(i)}catch{throw BE(dc.DATA_URL,"Malformed data URL.")}return NU(n)}(n.rest)}(n),function pW(i){return new LU(i).contentType}(n))}throw _F()}function NU(i){const n=[];for(let e=0;e<i.length;e++){let r=i.charCodeAt(e);r<=127?n.push(r):r<=2047?n.push(192|r>>6,128|63&r):55296==(64512&r)?e<i.length-1&&56320==(64512&i.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&i.charCodeAt(++e),n.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):n.push(239,191,189):56320==(64512&r)?n.push(239,191,189):n.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(n)}function FU(i,n){switch(i){case dc.BASE64:{const o=-1!==n.indexOf("-"),a=-1!==n.indexOf("_");if(o||a)throw BE(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case dc.BASE64URL:{const o=-1!==n.indexOf("+"),a=-1!==n.indexOf("/");if(o||a)throw BE(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function hW(i){if(typeof atob>"u")throw function Kq(i){return new Ur(ln.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(i)}(n)}catch(o){throw o.message.includes("polyfill")?o:BE(i,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class LU{constructor(n){this.base64=!1,this.contentType=null;const e=n.match(/^data:([^,]+)?,/);if(null===e)throw BE(dc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function gW(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=n.substring(n.indexOf(",")+1)}}class hu{constructor(n,e){let r=0,o="";RU(n)?(this.data_=n,r=n.size,o=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),r=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),r=n.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(n,e){if(RU(this.data_)){const o=function uW(i,n,e){return i.webkitSlice?i.webkitSlice(n,e):i.mozSlice?i.mozSlice(n,e):i.slice?i.slice(n,e):null}(this.data_,n,e);return null===o?null:new hu(o)}{const r=new Uint8Array(this.data_.buffer,n,e-n);return new hu(r,!0)}}static getBlob(...n){if(vF()){const e=n.map(r=>r instanceof hu?r.data_:r);return new hu(dW.apply(null,e))}{const e=n.map(l=>DM(l)?wF(dc.RAW,l).data:l.data_);let r=0;e.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let a=0;return e.forEach(l=>{for(let h=0;h<l.length;h++)o[a++]=l[h]}),new hu(o,!0)}}uploadData(){return this.data_}}function xF(i){let n;try{n=JSON.parse(i)}catch{return null}return function nW(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function BU(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function yW(i,n){return n}class na{constructor(n,e,r,o){this.server=n,this.local=e||n,this.writable=!!r,this.xform=o||yW}}let MM=null;function UE(){if(MM)return MM;const i=[];i.push(new na("bucket")),i.push(new na("generation")),i.push(new na("metageneration")),i.push(new na("name","fullPath",!0));const e=new na("name");e.xform=function n(a,l){return function bW(i){return!DM(i)||i.length<2?i:BU(i)}(l)},i.push(e);const o=new na("size");return o.xform=function r(a,l){return void 0!==l?Number(l):l},i.push(o),i.push(new na("timeCreated")),i.push(new na("updated")),i.push(new na("md5Hash",null,!0)),i.push(new na("cacheControl",null,!0)),i.push(new na("contentDisposition",null,!0)),i.push(new na("contentEncoding",null,!0)),i.push(new na("contentLanguage",null,!0)),i.push(new na("contentType",null,!0)),i.push(new na("metadata","customMetadata",!0)),MM=i,MM}function VU(i,n,e){const r=xF(n);return null===r?null:function xW(i,n,e){const r={type:"file"},o=e.length;for(let a=0;a<o;a++){const l=e[a];r[l.local]=l.xform(r,n[l.server])}return function wW(i,n){Object.defineProperty(i,"ref",{get:function e(){const a=new Hs(i.bucket,i.fullPath);return n._makeStorageReference(a)}})}(r,i),r}(i,r,e)}function CF(i,n){const e={},r=n.length;for(let o=0;o<r;o++){const a=n[o];a.writable&&(e[a.server]=i[a.local])}return JSON.stringify(e)}const UU="prefixes",HU="items";class fu{constructor(n,e,r,o){this.url=n,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mu(i){if(!i)throw _F()}function AM(i,n){return function e(r,o){const a=VU(i,o,n);return mu(null!==a),a}}function _0(i){return function n(e,r){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function jq(){return new Ur(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zq(){return new Ur(ln.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Hq(i){return new Ur(ln.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===e.getStatus()?function $q(i){return new Ur(ln.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}(i.path):r,o.status=e.getStatus(),o.serverResponse=r.serverResponse,o}}function HE(i){const n=_0(i);return function e(r,o){let a=n(r,o);return 404===r.getStatus()&&(a=function Uq(i){return new Ur(ln.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}(i.path)),a.serverResponse=o.serverResponse,a}}function zU(i,n,e){const o=nf(n.fullServerUrl(),i.host,i._protocol),l=i.maxOperationRetryTime,h=new fu(o,"GET",AM(i,e),l);return h.errorHandler=HE(n),h}function DW(i,n,e,r,o){const a={};a.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(a.delimiter=e),r&&(a.pageToken=r),o&&(a.maxResults=o);const h=nf(n.bucketOnlyServerUrl(),i.host,i._protocol),g=i.maxOperationRetryTime,b=new fu(h,"GET",function TW(i,n){return function e(r,o){const a=function kW(i,n,e){const r=xF(e);return null===r?null:function EW(i,n,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[UU])for(const o of e[UU]){const a=o.replace(/\/$/,""),l=i._makeStorageReference(new Hs(n,a));r.prefixes.push(l)}if(e[HU])for(const o of e[HU]){const a=i._makeStorageReference(new Hs(n,o.name));r.items.push(a)}return r}(i,n,r)}(i,n,o);return mu(null!==a),a}}(i,n.bucket),g);return b.urlParams=a,b.errorHandler=_0(n),b}function $U(i,n,e){const r=Object.assign({},e);return r.fullPath=i.path,r.size=n.size(),r.contentType||(r.contentType=function RW(i,n){return i&&i.contentType||n&&n.type()||"application/octet-stream"}(null,n)),r}class RM{constructor(n,e,r,o){this.current=n,this.total=e,this.finalized=!!r,this.metadata=o||null}}function EF(i,n){let e=null;try{e=i.getResponseHeader("X-Goog-Upload-Status")}catch{mu(!1)}return mu(!!e&&-1!==(n||["active"]).indexOf(e)),e}const FW={STATE_CHANGED:"state_changed"},ia={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kF(i){switch(i){case"running":case"pausing":case"canceling":return ia.RUNNING;case"paused":return ia.PAUSED;case"success":return ia.SUCCESS;case"canceled":return ia.CANCELED;default:return ia.ERROR}}class LW{constructor(n,e,r){if(function tW(i){return"function"==typeof i}(n)||null!=e||null!=r)this.next=n,this.error=e??void 0,this.complete=r??void 0;else{const a=n;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function v0(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}let WU=null;class BW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,e,r,o){if(this.sent_)throw VE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==o)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw VE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw VE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw VE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw VE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class VW extends BW{initXhr(){this.xhr_.responseType="text"}}function Zl(){return WU?WU():new VW}class ZU{constructor(n,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=r,this._mappings=UE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(PU(o.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=IU()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return e=>this._updateProgress(n+e)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":n(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,e)=>{const r=function OW(i,n,e,r,o){const a=n.bucketOnlyServerUrl(),l=$U(n,r,o),h={name:l.fullPath},m=nf(a,i.host,i._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},E=CF(l,e),F=new fu(m,"POST",function R(G){let Y;EF(G);try{Y=G.getResponseHeader("X-Goog-Upload-URL")}catch{mu(!1)}return mu(DM(Y)),Y},i.maxUploadRetryTime);return F.urlParams=h,F.headers=b,F.body=E,F.errorHandler=_0(n),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Zl,n,e);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((e,r)=>{const o=function PW(i,n,e,r){const m=new fu(e,"POST",function a(g){const b=EF(g,["active","final"]);let E=null;try{E=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mu(!1)}E||mu(!1);const S=Number(E);return mu(!isNaN(S)),new RM(S,r.size(),"final"===b)},i.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=_0(n),m}(this._ref.storage,this._ref._location,n,this._blob),a=this._ref.storage._makeRequest(o,Zl,e,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,e=new RM(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let l;try{l=function NW(i,n,e,r,o,a,l,h){const m=new RM(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function Zq(){return new Ur(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const g=m.total-m.current;let b=g;o>0&&(b=Math.min(b,o));const E=m.current;let R="";R=0===b?"finalize":g===b?"upload, finalize":"upload";const F={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${m.current}`},G=r.slice(E,E+b);if(null===G)throw SU();const Oe=new fu(e,"POST",function Y(De,Pe){const et=EF(De,["active","final"]),ht=m.current+b,Bt=r.size();let vn;return vn="final"===et?AM(n,a)(De,Pe):null,new RM(ht,Bt,"final"===et,vn)},n.maxUploadRetryTime);return Oe.headers=F,Oe.body=G.uploadData(),Oe.progressCallback=h||null,Oe.errorHandler=_0(i),Oe}(this._ref._location,this._ref.storage,r,this._blob,n,this._mappings,e,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(l,Zl,o,a,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,e)=>{const r=zU(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Zl,n,e);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,e)=>{const r=function GU(i,n,e,r,o){const a=n.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let Oe="";for(let De=0;De<2;De++)Oe+=Math.random().toString().slice(2);return Oe}();l["Content-Type"]="multipart/related; boundary="+m;const g=$U(n,r,o),b=CF(g,e),R=hu.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+m+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===R)throw SU();const F={name:g.fullPath},G=nf(a,i.host,i._protocol),ve=i.maxUploadRetryTime,Me=new fu(G,"POST",AM(i,e),ve);return Me.urlParams=F,Me.headers=l,Me.body=R.uploadData(),Me.errorHandler=_0(n),Me}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Zl,n,e);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=DU(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=kF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,e,r,o){const a=new LW(e||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(n,e){return this._promise.then(n,e)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(kF(this._state)){case ia.SUCCESS:v0(this._resolve.bind(null,this.snapshot))();break;case ia.CANCELED:case ia.ERROR:v0(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(kF(this._state)){case ia.RUNNING:case ia.PAUSED:n.next&&v0(n.next.bind(n,this.snapshot))();break;case ia.SUCCESS:n.complete&&v0(n.complete.bind(n))();break;default:n.error&&v0(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class J_{constructor(n,e){this._service=n,this._location=e instanceof Hs?e:Hs.makeFromUrl(e,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,e){return new J_(n,e)}get root(){const n=new Hs(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BU(this._location.path)}get storage(){return this._service}get parent(){const n=function _W(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const e=new Hs(this._location.bucket,n);return new J_(this._service,e)}_throwIfRoot(n){if(""===this._location.path)throw AU(n)}}function KU(i,n,e){return TF.apply(this,arguments)}function TF(){return TF=(0,Ee.Z)(function*(i,n,e){const o=yield QU(i,{pageToken:e});n.prefixes.push(...o.prefixes),n.items.push(...o.items),null!=o.nextPageToken&&(yield KU(i,n,o.nextPageToken))}),TF.apply(this,arguments)}function QU(i,n){null!=n&&"number"==typeof n.maxResults&&yF("options.maxResults",1,1e3,n.maxResults);const e=n||{},r=DW(i.storage,i._location,"/",e.pageToken,e.maxResults);return i.storage.makeRequestWithTokens(r,Zl)}function QW(i){i._throwIfRoot("getDownloadURL");const n=function SW(i,n,e){const o=nf(n.fullServerUrl(),i.host,i._protocol),l=i.maxOperationRetryTime,h=new fu(o,"GET",function IW(i,n){return function e(r,o){const a=VU(i,o,n);return mu(null!==a),function CW(i,n,e,r){const o=xF(n);if(null===o||!DM(o.downloadTokens))return null;const a=o.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(g=>{const E=i.fullPath;return nf("/b/"+l(i.bucket)+"/o/"+l(E),e,r)+OU({alt:"media",token:g})})[0]}(a,o,i.host,i._protocol)}}(i,e),l);return h.errorHandler=HE(n),h}(i.storage,i._location,UE());return i.storage.makeRequestWithTokens(n,Zl).then(e=>{if(null===e)throw function Yq(){return new Ur(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function JU(i,n){const e=function vW(i,n){const e=n.split("/").filter(r=>r.length>0).join("/");return 0===i.length?e:i+"/"+e}(i._location.path,n),r=new Hs(i._location.bucket,e);return new J_(i.storage,r)}function XU(i,n){if(i instanceof IF){const e=i;if(null==e._bucket)throw function Wq(){return new Ur(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TU+"' property when initializing the app?")}();const r=new J_(e,e._bucket);return null!=n?XU(r,n):r}return void 0!==n?JU(i,n):i}function tZ(i,n){if(n&&function XW(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof IF)return function eZ(i,n){return new J_(i,n)}(i,n);throw g0("To use ref(service, url), the first argument must be a Storage instance.")}return XU(i,n)}function e4(i,n){const e=n?.[TU];return null==e?null:Hs.makeFromBucketSpec(e,i)}class IF{constructor(n,e,r,o,a){this.app=n,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=kU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Hs.makeFromBucketSpec(o,this._host):e4(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Hs.makeFromBucketSpec(this._url,n):e4(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){yF("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){yF("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,Ee.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const e=n._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,Ee.Z)(function*(){const e=n._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new J_(this,n)}_makeRequest(n,e,r,o,a=!0){if(this._deleted)return new Qq(MU());{const l=function cW(i,n,e,r,o,a,l=!0){const h=OU(i.urlParams),m=i.url+h,g=Object.assign({},i.headers);return function sW(i,n){n&&(i["X-Firebase-GMPID"]=n)}(g,n),function rW(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(g,e),function oW(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(g,a),function aW(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(g,r),new iW(m,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,l)}(n,this._appId,r,o,e,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(n,e){var r=this;return(0,Ee.Z)(function*(){const[o,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,e,o,a).getPromise()})()}}const t4="@firebase/storage";function o4(i,n){return tZ(i=(0,j.m9)(i),n)}function uZ(i,{instanceIdentifier:n}){const e=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new IF(e,r,o,n,wi.SDK_VERSION)}!function hZ(){(0,wi._registerComponent)(new or.wA("storage",uZ,"PUBLIC").setMultipleInstances(!0)),(0,wi.registerVersion)(t4,"0.11.2",""),(0,wi.registerVersion)(t4,"0.11.2","esm2017")}();class OM{constructor(n,e,r){this._delegate=n,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class a4{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new OM(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(r=>{if(n)return n(new OM(r,this,this._ref))},e)}on(n,e,r,o){let a;return e&&(a="function"==typeof e?l=>e(new OM(l,this,this._ref)):{next:e.next?l=>e.next(new OM(l,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,a,r||void 0,o||void 0)}}class c4{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new rf(n,this._service))}get items(){return this._delegate.items.map(n=>new rf(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rf{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=function dZ(i,n){return JU(i,n)}(this._delegate,n);return new rf(e,this.storage)}get root(){return new rf(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new rf(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new a4(function iZ(i,n,e){return function qW(i,n,e){return i._throwIfRoot("uploadBytesResumable"),new ZU(i,new hu(n),e)}(i=(0,j.m9)(i),n,e)}(this._delegate,n,e),this)}putString(n,e=dc.RAW,r){this._throwIfRoot("putString");const o=wF(e,n),a=Object.assign({},r);return null==a.contentType&&null!=o.contentType&&(a.contentType=o.contentType),new a4(new ZU(this._delegate,new hu(o.data,!0),a),this)}listAll(){return function aZ(i){return function ZW(i){const n={prefixes:[],items:[]};return KU(i,n).then(()=>n)}(i=(0,j.m9)(i))}(this._delegate).then(n=>new c4(n,this.storage))}list(n){return function sZ(i,n){return QU(i=(0,j.m9)(i),n)}(this._delegate,n||void 0).then(e=>new c4(e,this.storage))}getMetadata(){return function rZ(i){return function YW(i){i._throwIfRoot("getMetadata");const n=zU(i.storage,i._location,UE());return i.storage.makeRequestWithTokens(n,Zl)}(i=(0,j.m9)(i))}(this._delegate)}updateMetadata(n){return function oZ(i,n){return function KW(i,n){i._throwIfRoot("updateMetadata");const e=function MW(i,n,e,r){const a=nf(n.fullServerUrl(),i.host,i._protocol),h=CF(e,r),g=i.maxOperationRetryTime,b=new fu(a,"PATCH",AM(i,r),g);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=h,b.errorHandler=HE(n),b}(i.storage,i._location,n,UE());return i.storage.makeRequestWithTokens(e,Zl)}(i=(0,j.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function cZ(i){return QW(i=(0,j.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function lZ(i){return function JW(i){i._throwIfRoot("deleteObject");const n=function AW(i,n){const r=nf(n.fullServerUrl(),i.host,i._protocol),h=new fu(r,"DELETE",function l(m,g){},i.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=HE(n),h}(i.storage,i._location);return i.storage.makeRequestWithTokens(n,Zl)}(i=(0,j.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw AU(n)}}class l4{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(d4(n))throw g0("ref() expected a child path but got a URL, use refFromURL instead.");return new rf(o4(this._delegate,n),this)}refFromURL(n){if(!d4(n))throw g0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Hs.makeFromUrl(n,this._delegate.host)}catch{throw g0("refFromUrl() expected a valid full URL but got an invalid one.")}return new rf(o4(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,r={}){!function s4(i,n,e,r={}){!function nZ(i,n,e,r={}){i.host=`${n}:${e}`,i._protocol="http";const{mockUserToken:o}=r;o&&(i._overrideAuthToken="string"==typeof o?o:(0,j.Sg)(o,i.app.options.projectId))}(i,n,e,r)}(this._delegate,n,e,r)}}function d4(i){return/^[A-Za-z]+:\/\//.test(i)}function gZ(i,{instanceIdentifier:n}){const e=i.getProvider("app-compat").getImmediate(),r=i.getProvider("storage").getImmediate({identifier:n});return new l4(e,r)}function u4(i){const n=function vZ(i){return new Ln.y(n=>{const e=l=>n.next(l);e(i.snapshot);const a=i.on("state_changed",e);return i.then(l=>{e(l),n.complete()},l=>{e(i.snapshot),(l=>{n.error(l)})(l)}),function(){a()}}).pipe(LE(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,Je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function PM(i){return{getDownloadURL:()=>(0,Dt.of)(void 0).pipe(an.fc,(0,fi.w)(()=>i.getDownloadURL()),an.iC),getMetadata:()=>(0,Dt.of)(void 0).pipe(an.fc,(0,fi.w)(()=>i.getMetadata()),an.iC),delete:()=>(0,Cn.D)(i.delete()),child:n=>PM(i.child(n)),updateMetadata:n=>(0,Cn.D)(i.updateMetadata(n)),put:(n,e)=>u4(i.put(n,e)),putString:(n,e,r)=>u4(i.putString(n,e,r)),list:n=>(0,Cn.D)(i.list(n)),listAll:()=>(0,Cn.D)(i.listAll())}}!function _Z(i){const n={TaskState:ia,TaskEvent:FW,StringFormat:dc,Storage:l4,Reference:rf};i.INTERNAL.registerComponent(new or.wA("storage-compat",gZ,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.3.2")}(mw.Z);const yZ=new s.OlP("angularfire2.storageBucket"),bZ=new s.OlP("angularfire2.storage.maxUploadRetryTime"),wZ=new s.OlP("angularfire2.storage.maxOperationRetryTime"),xZ=new s.OlP("angularfire2.storage.use-emulator");let h4=(()=>{class i{constructor(e,r,o,a,l,h,m,g,b,E){const S=(0,jn.on)(e,l,r);this.storage=(0,jn.cc)(`${S.name}.storage.${o}`,"AngularFireStorage",S.name,()=>{const R=l.runOutsideAngular(()=>S.storage(o||void 0)),F=b;return F&&R.useEmulator(...F),m&&R.setMaxUploadRetryTime(m),g&&R.setMaxOperationRetryTime(g),R},[m,g])}ref(e){return PM(this.storage.ref(e))}refFromURL(e){return PM(this.storage.refFromURL(e))}upload(e,r,o){return PM(this.storage.ref(e)).put(r,o)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(jn.Dh),s.LFG(jn.xv,8),s.LFG(yZ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(an.HU),s.LFG(bZ,8),s.LFG(wZ,8),s.LFG(xZ,8),s.LFG(Qf,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),CZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),EZ=(()=>{class i{constructor(){Vv.Z.registerVersion("angularfire",an.q4.full,"gcs-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[h4],imports:[CZ]}),i})();var kZ=z(6878);class m4{constructor(){return(0,an.vb)("auth")}}class MF{constructor(n){return n}}const p4="firestore",AF=new s.OlP("angularfire2.firestore-instances");function AZ(i){return(n,e)=>{const r=n.runOutsideAngular(()=>i(e));return new MF(r)}}const RZ={provide:class SZ{constructor(){return(0,an.vb)(p4)}},deps:[[new s.FiY,AF]]},OZ={provide:MF,useFactory:function MZ(i,n){const e=(0,an.JM)(p4,i,n);return e&&new MF(e)},deps:[[new s.FiY,AF],To]};let PZ=(()=>{class i{constructor(){(0,Ds.KN)("angularfire",an.q4.full,"fst")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[OZ,RZ]}),i})();function NZ(i,...n){return{ngModule:PZ,providers:[{provide:AF,useFactory:AZ(i),multi:!0,deps:[s.R0b,s.zs3,an.HU,ma,[new s.FiY,m4],[new s.FiY,Qf],...n]}]}}const FZ=(0,an.u3)(b8,!0),{isArray:LZ}=Array,{getPrototypeOf:BZ,prototype:VZ,keys:UZ}=Object;function g4(i){if(1===i.length){const n=i[0];if(LZ(n))return{args:n,keys:null};if(function HZ(i){return i&&"object"==typeof i&&BZ(i)===VZ}(n)){const e=UZ(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:i,keys:null}}const{isArray:zZ}=Array;function RF(i){return(0,Je.U)(n=>function jZ(i,n){return zZ(n)?i(...n):i(n)}(i,n))}function _4(i,n){return i.reduce((e,r,o)=>(e[r]=n[o],e),{})}function v4(...i){const n=(0,Al.jO)(i),{args:e,keys:r}=g4(i),o=new Ln.y(a=>{const{length:l}=e;if(!l)return void a.complete();const h=new Array(l);let m=l,g=l;for(let b=0;b<l;b++){let E=!1;(0,Ml.Xf)(e[b]).subscribe((0,li.x)(a,S=>{E||(E=!0,g--),h[b]=S},()=>m--,void 0,()=>{(!m||!E)&&(g||a.next(r?_4(r,h):h),a.complete())}))}});return n?o.pipe(RF(n)):o}let y4=(()=>{class i{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Qsj),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i}),i})(),X_=(()=>{class i extends y4{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),i})();const Da=new s.OlP("NgValueAccessor"),GZ={provide:Da,useExisting:(0,s.Gpc)(()=>vp),multi:!0},WZ=new s.OlP("CompositionEventMode");let vp=(()=>{class i extends y4{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qZ(){const i=B()?B().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(WZ,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[s._Bn([GZ]),s.qOj]}),i})();function yp(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function w4(i){return null!=i&&"number"==typeof i.length}const _s=new s.OlP("NgValidators"),bp=new s.OlP("NgAsyncValidators"),ZZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class OF{static min(n){return x4(n)}static max(n){return function C4(i){return n=>{if(yp(n.value)||yp(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function E4(i){return yp(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function k4(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function T4(i){return yp(i.value)||ZZ.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function I4(i){return n=>yp(n.value)||!w4(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function D4(i){return n=>w4(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function S4(i){if(!i)return NM;let n,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),r=>{if(yp(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return N4(n)}static composeAsync(n){return F4(n)}}function x4(i){return n=>{if(yp(n.value)||yp(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function NM(i){return null}function M4(i){return null!=i}function A4(i){return(0,s.QGY)(i)?(0,Cn.D)(i):i}function R4(i){let n={};return i.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function O4(i,n){return n.map(e=>e(i))}function P4(i){return i.map(n=>function YZ(i){return!i.validate}(n)?n:e=>n.validate(e))}function N4(i){if(!i)return null;const n=i.filter(M4);return 0==n.length?null:function(e){return R4(O4(e,n))}}function PF(i){return null!=i?N4(P4(i)):null}function F4(i){if(!i)return null;const n=i.filter(M4);return 0==n.length?null:function(e){return v4(O4(e,n).map(A4)).pipe((0,Je.U)(R4))}}function NF(i){return null!=i?F4(P4(i)):null}function L4(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function B4(i){return i._rawValidators}function V4(i){return i._rawAsyncValidators}function FF(i){return i?Array.isArray(i)?i:[i]:[]}function FM(i,n){return Array.isArray(i)?i.includes(n):i===n}function U4(i,n){const e=FF(n);return FF(i).forEach(o=>{FM(e,o)||e.push(o)}),e}function H4(i,n){return FF(n).filter(e=>!FM(i,e))}class z4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=PF(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=NF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class ra extends z4{get formDirective(){return null}get path(){return null}}class Yl extends z4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class j4{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ev=(()=>{class i extends j4{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Yl,2))},i.\u0275dir=s.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),i})();const zE="VALID",BM="INVALID",y0="PENDING",jE="DISABLED";function VF(i){return(VM(i)?i.validators:i)||null}function UF(i,n){return(VM(n)?n.asyncValidators:i)||null}function VM(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class W4{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===zE}get invalid(){return this.status===BM}get pending(){return this.status==y0}get disabled(){return this.status===jE}get enabled(){return this.status!==jE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(U4(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(U4(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(H4(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(H4(n,this._rawAsyncValidators))}hasValidator(n){return FM(this._rawValidators,n)}hasAsyncValidator(n){return FM(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=y0,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=jE,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=zE,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zE||this.status===y0)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jE:zE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=y0,this._hasOwnPendingAsyncValidator=!0;const e=A4(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?jE:this.errors?BM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(y0)?y0:this._anyControlsHaveStatus(BM)?BM:zE}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){VM(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function e9(i){return Array.isArray(i)?PF(i):i||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function t9(i){return Array.isArray(i)?NF(i):i||null}(this._rawAsyncValidators)}}class HF extends W4{constructor(n,e,r){super(VF(e),UF(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function q4(i,n,e){i._forEachChild((r,o)=>{if(void 0===e[o])throw new s.vHH(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function G4(i,n,e){const r=i.controls;if(!(n?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[e])throw new s.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,a)=>{r=e(r,o,a)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const b0=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>UM}),UM="always";function $E(i,n,e=UM){zF(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(i.disabled),function r9(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Z4(i,n)})}(i,n),function s9(i,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function o9(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Z4(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function i9(i,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function zM(i,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),$M(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function jM(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function zF(i,n){const e=B4(i);null!==n.validator?i.setValidators(L4(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const r=V4(i);null!==n.asyncValidator?i.setAsyncValidators(L4(r,n.asyncValidator)):"function"==typeof r&&i.setAsyncValidators([r]);const o=()=>i.updateValueAndValidity();jM(n._rawValidators,o),jM(n._rawAsyncValidators,o)}function $M(i,n){let e=!1;if(null!==i){if(null!==n.validator){const o=B4(i);if(Array.isArray(o)&&o.length>0){const a=o.filter(l=>l!==n.validator);a.length!==o.length&&(e=!0,i.setValidators(a))}}if(null!==n.asyncValidator){const o=V4(i);if(Array.isArray(o)&&o.length>0){const a=o.filter(l=>l!==n.asyncValidator);a.length!==o.length&&(e=!0,i.setAsyncValidators(a))}}}const r=()=>{};return jM(n._rawValidators,r),jM(n._rawAsyncValidators,r),e}function Z4(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Y4(i,n){zF(i,n)}function K4(i,n){i._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const u9={provide:ra,useExisting:(0,s.Gpc)(()=>w0)},GE=(()=>Promise.resolve())();let w0=(()=>{class i extends ra{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new HF({},PF(e),NF(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){GE.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),$E(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){GE.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){GE.then(()=>{const r=this._findContainer(e.path),o=new HF({});Y4(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){GE.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){GE.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,K4(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(_s,10),s.Y36(bp,10),s.Y36(b0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([u9]),s.qOj]}),i})();function Q4(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}function J4(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const X4=class extends W4{constructor(n=null,e,r){super(VF(e),UF(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),VM(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=J4(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Q4(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Q4(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){J4(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},m9={provide:Yl,useExisting:(0,s.Gpc)(()=>wp)},n6=(()=>Promise.resolve())();let wp=(()=>{class i extends Yl{constructor(e,r,o,a,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new X4,this._registered=!1,this.name="",this.update=new s.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function GF(i,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(a=>{a.constructor===vp?e=a:function l9(i){return Object.getPrototypeOf(i.constructor)===X_}(a)?r=a:o=a}),o||r||e||null}(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function $F(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$E(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){n6.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,s.VuI)(r);n6.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function HM(i,n){return[...n.path,i]}(e,this._parent):[e]}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(ra,9),s.Y36(_s,10),s.Y36(bp,10),s.Y36(Da,10),s.Y36(s.sBO,8),s.Y36(b0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([m9]),s.qOj,s.TTD]}),i})();const g9={provide:Da,useExisting:(0,s.Gpc)(()=>qF),multi:!0};let qF=(()=>{class i extends X_{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[s._Bn([g9]),s.qOj]}),i})(),i6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const w9={provide:ra,useExisting:(0,s.Gpc)(()=>x0)};let x0=(()=>{class i extends ra{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($M(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return $E(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){zM(e.control||null,e,!1),function d9(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,K4(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(zM(r||null,e),(i=>i instanceof X4)(o)&&($E(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);Y4(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function a9(i,n){return $M(i,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zF(this.form,this),this._oldForm&&$M(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(_s,10),s.Y36(bp,10),s.Y36(b0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([w9]),s.qOj,s.TTD]}),i})();let tv=(()=>{class i{constructor(){this._validator=NM}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):NM,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,features:[s.TTD]}),i})();const R9={provide:_s,useExisting:(0,s.Gpc)(()=>QF),multi:!0};let eL,QF=(()=>{class i extends tv{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function f6(i){return"number"==typeof i?i:parseFloat(i)}(e),this.createValidator=e=>x4(e)}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&s.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[s._Bn([R9]),s.qOj]}),i})(),V9=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[i6]}),i})(),H9=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:b0,useValue:e.callSetDisabledState??UM}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[V9]}),i})();try{eL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{eL=!1}let C0,Gi=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function id(i){return i===wc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!eL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.Lbi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const y6=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b6(){if(C0)return C0;if("object"!=typeof document||!document)return C0=new Set(y6),C0;let i=document.createElement("input");return C0=new Set(y6.filter(n=>(i.setAttribute("type",n),i.type===n))),C0}let qE,GM,nv,tL;function E0(i){return function z9(){if(null==qE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qE=!0}))}finally{qE=qE||!1}return qE}()?i:!!i.capture}function w6(){if(null==nv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nv=!1,nv;if("scrollBehavior"in document.documentElement.style)nv=!0;else{const i=Element.prototype.scrollTo;nv=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return nv}function WE(){if("object"!=typeof document||!document)return 0;if(null==GM){const i=document.createElement("div"),n=i.style;i.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",i.appendChild(e),document.body.appendChild(i),GM=0,0===i.scrollLeft&&(i.scrollLeft=1,GM=0===i.scrollLeft?1:2),i.remove()}return GM}function xp(i){return i.composedPath?i.composedPath()[0]:i.target}function nL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var yo=z(7394),Sa=z(5619);function Kl(i,...n){return n.length?n.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var Lo=z(9397);function cL(i){return cn((n,e)=>i<=e)}function _n(i){return(0,gr.e)((n,e)=>{(0,Ml.Xf)(i).subscribe((0,li.x)(e,()=>e.complete(),cg.Z)),!e.closed&&n.subscribe(e)})}function Tt(i){return null!=i&&"false"!=`${i}`}function iv(i,n=0){return function o7(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function qM(i){return Array.isArray(i)?i:[i]}function bo(i){return null==i?"":"string"==typeof i?i:`${i}px`}function sf(i){return i instanceof s.SBq?i.nativeElement:i}let k6=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),s7=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=sf(e);return new Ln.y(o=>{const l=this._observeElement(r).subscribe(o);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new Et.x,o=this._mutationObserverFactory.create(a=>r.next(a));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(k6))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T6=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=Tt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=iv(e),this._subscribe()}constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(LE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s7),s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),WM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[k6]}),i})();var a7=z(7103);function ZM(...i){const n=(0,Al.yG)(i),e=(0,Al.jO)(i),{args:r,keys:o}=g4(i);if(0===r.length)return(0,Cn.D)([],n);const a=new Ln.y(function c7(i,n,e=va.y){return r=>{I6(n,()=>{const{length:o}=i,a=new Array(o);let l=o,h=o;for(let m=0;m<o;m++)I6(n,()=>{const g=(0,Cn.D)(i[m],n);let b=!1;g.subscribe((0,li.x)(r,E=>{a[m]=E,b||(b=!0,h--),h||r.next(e(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,n,o?l=>_4(o,l):va.y));return e?a.pipe(RF(e)):a}function I6(i,n,e){i?(0,a7.f)(e,i,n):n()}const D6=new Set;let rv,l7=(()=>{class i{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):u7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function d7(i,n){if(!D6.has(i))try{rv||(rv=document.createElement("style"),n&&(rv.nonce=n),rv.setAttribute("type","text/css"),document.head.appendChild(rv)),rv.sheet&&(rv.sheet.insertRule(`@media ${i} {body{ }}`,0),D6.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gi),s.LFG(s.Ojb,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function u7(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let lL=(()=>{class i{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Et.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return S6(qM(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let a=ZM(S6(qM(e)).map(l=>this._registerQuery(l).observable));return a=Ky(a.pipe(Hi(1)),a.pipe(cL(1),LE(0))),a.pipe((0,Je.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:g})=>{h.matches=h.matches||m,h.breakpoints[g]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),a={observable:new Ln.y(l=>{const h=m=>this._zone.run(()=>l.next(m));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(go(r),(0,Je.U)(({matches:l})=>({query:e,matches:l})),_n(this._destroySubject)),mql:r};return this._queries.set(e,a),a}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(l7),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function S6(i){return i.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function A6(i,n,e){const o=R6(i,n).filter(a=>a!=e.trim());o.length?i.setAttribute(n,o.join(" ")):i.removeAttribute(n)}function R6(i,n){return(i.getAttribute(n)||"").match(/\S+/g)||[]}class O6{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Et.x,this._typeaheadSubscription=yo.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Et.x,this.change=new Et.x,n instanceof s.n_E&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Lo.b)(e=>this._pressedLetters.push(e)),LE(n),cn(()=>this._pressedLetters.length>0),(0,Je.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let o=1;o<r.length+1;o++){const a=(this._activeItemIndex+o)%r.length,l=r[a];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!n[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const a=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(a<l?a:l-1,-1);break}return;default:return void((o||Kl(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const o=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class g7 extends O6{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class YM extends O6{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let P6=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function v7(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function _7(i){try{return i.frameElement}catch{return null}}(function T7(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(r&&(-1===F6(r)||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),a=F6(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function E7(i){let n=i.nodeName.toLowerCase(),e="input"===n&&i.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==a:"video"===o?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function k7(i){return!function b7(i){return function x7(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function y7(i){let n=i.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(i)||function w7(i){return function C7(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||N6(i))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function N6(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let n=i.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function F6(i){if(!N6(i))return null;const n=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class I7{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,r,o,a=!1){this._element=n,this._checker=e,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(n),!!r}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=0;r<e.length;r++){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(o)return o}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=e.length-1;r>=0;r--){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(o)return o}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Hi(1)).subscribe(n)}}let D7=(()=>{class i{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new I7(e,this._checker,this._ngZone,this._document,r)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(P6),s.LFG(s.R0b),s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function L6(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function B6(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const S7=new s.OlP("cdk-input-modality-detector-options"),M7={ignoreKeys:[18,17,224,91,16]},k0=E0({passive:!0,capture:!0});let A7=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,r,o,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Sa.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xp(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(L6(l)?"keyboard":"mouse"),this._mostRecentTarget=xp(l))},this._onTouchstart=l=>{B6(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xp(l))},this._options={...M7,...a},this.modalityDetected=this._modality.pipe(cL(1)),this.modalityChanged=this.modalityDetected.pipe((0,Oc.x)()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,k0),o.addEventListener("mousedown",this._onMousedown,k0),o.addEventListener("touchstart",this._onTouchstart,k0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,k0),document.removeEventListener("mousedown",this._onMousedown,k0),document.removeEventListener("touchstart",this._onTouchstart,k0))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gi),s.LFG(s.R0b),s.LFG(ue),s.LFG(S7,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const R7=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function O7(){return null}}),P7=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let N7=0,dL=(()=>{class i{constructor(e,r,o,a){this._ngZone=r,this._defaultOptions=a,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){const o=this._defaultOptions;let a,l;return 1===r.length&&"number"==typeof r[0]?l=r[0]:[a,l]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=o&&o.politeness?o.politeness:"polite"),null==l&&o&&(l=o.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id="cdk-live-announcer-"+N7++,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){const a=r[o],l=a.getAttribute("aria-owns");l?-1===l.indexOf(e)&&a.setAttribute("aria-owns",l+" "+e):a.setAttribute("aria-owns",e)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(R7,8),s.LFG(s.R0b),s.LFG(ue),s.LFG(P7,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const F7=new s.OlP("cdk-focus-monitor-default-options"),KM=E0({passive:!0,capture:!0});let ov=(()=>{class i{constructor(e,r,o,a,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Et.x,this._rootNodeFocusAndBlurListener=h=>{for(let g=xp(h);g;g=g.parentElement)"focus"===h.type?this._onFocus(h,g):this._onBlur(h,g)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const o=sf(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Dt.of)(null);const a=function $9(i){if(function j9(){if(null==tL){const i=typeof document<"u"?document.head:null;tL=!(!i||!i.createShadowRoot&&!i.attachShadow)}return tL}()){const n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(o)||this._getDocument(),l=this._elementInfo.get(o);if(l)return r&&(l.checkChildren=!0),l.subject;const h={checkChildren:r,subject:new Et.x,rootNode:a};return this._elementInfo.set(o,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const r=sf(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const a=sf(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,m])=>this._originChanged(h,r,m)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),a=xp(e);!o||!o.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,KM),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,KM)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_n(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,KM),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,KM),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,a)=>{(a===e||o.checkChildren&&a.contains(e))&&r.push([a,o])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(r))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b),s.LFG(Gi),s.LFG(A7),s.LFG(ue,8),s.LFG(F7,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),L7=(()=>{class i{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new s.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(ov))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),i})();const U6="cdk-high-contrast-black-on-white",H6="cdk-high-contrast-white-on-black",uL="cdk-high-contrast-active";let z6=(()=>{class i{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,s.f3M)(lL).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(uL,U6,H6),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(uL,U6):2===r&&e.add(uL,H6)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gi),s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),B7=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(z6))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[WM]}),i})();const V7=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function U7(){return(0,s.f3M)(ue)}}),H7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ma=(()=>{class i{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function z7(i){const n=i?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?H7.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(V7,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ZE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const j7=["text"];function $7(i,n){if(1&i&&s._UZ(0,"mat-pseudo-checkbox",6),2&i){const e=s.oxw();s.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function G7(i,n){if(1&i&&s._UZ(0,"mat-pseudo-checkbox",7),2&i){const e=s.oxw();s.Q6J("disabled",e.disabled)}}function q7(i,n){if(1&i&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const W7=[[["mat-icon"]],"*"],Z7=["mat-icon","*"],K7=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Y7(){return!0}});let Qn=(()=>{class i{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!nL()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(z6),s.LFG(K7,8),s.LFG(ue))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[ZE,ZE]}),i})();function T0(i){return class extends i{get disabled(){return this._disabled}set disabled(n){this._disabled=Tt(n)}constructor(...n){super(...n),this._disabled=!1}}}function I0(i,n){return class extends i{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function D0(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Tt(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function S0(i,n=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?iv(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}function hL(i){return class extends i{updateErrorState(){const n=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==n&&(this.errorState=a,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}let QM=(()=>{class i{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class J7{constructor(n,e,r,o=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const G6=E0({passive:!0,capture:!0});class X7{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=xp(n);e&&this._events.get(n.type)?.forEach((r,o)=>{(o===e||o.contains(e))&&r.forEach(a=>a.handleEvent(n))})}}addHandler(n,e,r,o){const a=this._events.get(e);if(a){const l=a.get(r);l?l.add(o):a.set(r,new Set([o]))}else this._events.set(e,new Map([[r,new Set([o])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,G6)})}removeHandler(n,e,r){const o=this._events.get(n);if(!o)return;const a=o.get(e);a&&(a.delete(r),0===a.size&&o.delete(e),0===o.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,G6)))}}const q6={enterDuration:225,exitDuration:150},W6=E0({passive:!0,capture:!0}),Z6=["mousedown","touchstart"],Y6=["mouseup","mouseleave","touchend","touchcancel"];class sv{constructor(n,e,r,o){this._target=n,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=sf(r))}fadeInRipple(n,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...q6,...r.animation};r.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const l=r.radius||function tY(i,n,e){const r=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+o*o)}(n,e,o),h=n-o.left,m=e-o.top,g=a.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=h-l+"px",b.style.top=m-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=r.color&&(b.style.backgroundColor=r.color),b.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(b);const E=window.getComputedStyle(b),R=E.transitionDuration,F="none"===E.transitionProperty||"0s"===R||"0s, 0s"===R||0===o.width&&0===o.height,G=new J7(this,b,r,F);b.style.transform="scale3d(1, 1, 1)",G.state=0,r.persistent||(this._mostRecentTransientRipple=G);let Y=null;return!F&&(g||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ve=()=>this._finishRippleTransition(G),Me=()=>this._destroyRipple(G);b.addEventListener("transitionend",ve),b.addEventListener("transitioncancel",Me),Y={onTransitionEnd:ve,onTransitionCancel:Me}}),this._activeRipples.set(G,Y),(F||!g)&&this._finishRippleTransition(G),G}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...q6,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=sf(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Z6.forEach(r=>{sv._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Y6.forEach(e=>{this._triggerElement.addEventListener(e,this,W6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=L6(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!B6(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(Z6.forEach(e=>sv._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&Y6.forEach(e=>n.removeEventListener(e,this,W6)))}}sv._eventManager=new X7;const M0=new s.OlP("mat-ripple-global-options");let Ql=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,o,a,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new sv(this,r,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Gi),s.Y36(M0,8),s.Y36(s.QbO,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),av=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,Qn]}),i})(),nY=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,r){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),i})(),K6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn]}),i})();const Q6=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),J6=new s.OlP("MatOptgroup");let iY=0;class rY{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let oY=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Tt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,o,a){this._element=e,this._changeDetectorRef=r,this._parent=o,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+iY++,this.onSelectionChange=new s.vpe,this._stateChanges=new Et.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,r){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Kl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new rY(this,e))}}return i.\u0275fac=function(e){s.$Z()},i.\u0275dir=s.lG2({type:i,viewQuery:function(e,r){if(1&e&&s.Gf(j7,7),2&e){let o;s.iGM(o=s.CRH())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),fL=(()=>{class i extends oY{constructor(e,r,o,a){super(e,r,o,a)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Q6,8),s.Y36(J6,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,r){1&e&&s.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&e&&(s.Ikx("id",r.id),s.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),s.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:Z7,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,r){1&e&&(s.F$t(W7),s.YNc(0,$7,1,2,"mat-pseudo-checkbox",0),s.Hsn(1),s.TgZ(2,"span",1,2),s.Hsn(4,1),s.qZA(),s.YNc(5,G7,1,1,"mat-pseudo-checkbox",3),s.YNc(6,q7,2,1,"span",4),s._UZ(7,"div",5)),2&e&&(s.Q6J("ngIf",r.multiple),s.xp6(5),s.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),s.xp6(1),s.Q6J("ngIf",r.group&&r.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Ql,Rn,nY],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),X6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[av,fr,Qn,K6]}),i})();const eH=["mat-button",""],mL=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],pL=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],tH=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",lY=["mat-fab",""],dY=["mat-icon-button",""],uY=["*"],nH={capture:!0},iH=["focus","click","mouseenter","touchstart"],KE="mat-button-ripple-uninitialized";let hY=(()=>{class i{constructor(){this._document=(0,s.f3M)(ue,{optional:!0}),this._animationMode=(0,s.f3M)(s.QbO,{optional:!0}),this._globalRippleOptions=(0,s.f3M)(M0,{optional:!0}),this._platform=(0,s.f3M)(Gi),this._ngZone=(0,s.f3M)(s.R0b),this._onInteraction=e=>{if(e.target===this._document)return;const o=e.target.closest(`[${KE}]`);o&&(o.removeAttribute(KE),this._appendRipple(o))},this._ngZone.runOutsideAngular(()=>{for(const e of iH)this._document?.addEventListener(e,this._onInteraction,nH)})}ngOnDestroy(){for(const e of iH)this._document?.removeEventListener(e,this._onInteraction,nH)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const o=new fY(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);o.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new sv(o,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(KE);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const o=new Ql(new s.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,e.append(r),o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class fY{constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const mY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],pY=I0(T0(D0(class{constructor(i){this._elementRef=i}})));let JM=(()=>{class i extends pY{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,o,a){super(e),this._platform=r,this._ngZone=o,this._animationMode=a,this._focusMonitor=(0,s.f3M)(ov),this._rippleLoader=(0,s.f3M)(hY),this._isFab=!1;const l=e.nativeElement.classList;for(const h of mY)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return i.\u0275fac=function(e){s.$Z()},i.\u0275dir=s.lG2({type:i,features:[s.qOj,s.TTD]}),i})(),_Y=(()=>{class i extends JM{constructor(e,r,o,a){super(e,r,o,a),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return i.\u0275fac=function(e){s.$Z()},i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),i})(),cv=(()=>{class i extends JM{constructor(e,r,o,a){super(e,r,o,a)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Gi),s.Y36(s.R0b),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:eH,ngContentSelectors:pL,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(s.F$t(mL),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)),2&e&&s.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),vY=(()=>{class i extends _Y{constructor(e,r,o,a){super(e,r,o,a)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Gi),s.Y36(s.R0b),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(e,r){2&e&&(s.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:eH,ngContentSelectors:pL,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(s.F$t(mL),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)),2&e&&s.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',tH],encapsulation:2,changeDetection:0}),i})();const yY=new s.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:rH});function rH(){return{color:"accent"}}const oH=rH();let bY=(()=>{class i extends JM{get extended(){return this._extended}set extended(e){this._extended=Tt(e)}constructor(e,r,o,a,l){super(e,r,o,a),this._options=l,this._isFab=!0,this._options=this._options||oH,this.color=this.defaultColor=this._options.color||oH.color}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Gi),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(yY,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(e,r){2&e&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[s.qOj],attrs:lY,ngContentSelectors:pL,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(s.F$t(mL),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)),2&e&&s.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),i})(),sH=(()=>{class i extends JM{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,o,a){super(e,r,o,a)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Gi),s.Y36(s.R0b),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:dY,ngContentSelectors:uY,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(s.F$t(),s._UZ(0,"span",0),s.Hsn(1),s._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',tH],encapsulation:2,changeDetection:0}),i})(),aH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,av,Qn]}),i})();function gL(){return(0,gr.e)((i,n)=>{let e=null;i._refCount++;const r=(0,li.x)(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const o=i._connection,a=e;e=null,o&&(!a||o===a)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(r),r.closed||(e=i.connect())})}class _L extends Ln.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,gr.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new yo.w0;const e=this.getSubject();n.add(this.source.subscribe((0,li.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=yo.w0.EMPTY)}return n}refCount(){return gL()(this)}}function vL(i){return i&&"function"==typeof i.connect&&!(i instanceof _L)}class cH{applyChanges(n,e,r,o,a){n.forEachOperation((l,h,m)=>{let g,b;if(null==l.previousIndex){const E=r(l,h,m);g=e.createEmbeddedView(E.templateRef,E.context,E.index),b=1}else null==m?(e.remove(h),b=3):(g=e.get(h),e.move(g,m),b=2);a&&a({context:g?.context,operation:b,record:l})})}detach(){}}class XM{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,o){this._multiple=n,this._emitChanges=r,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Et.x,e&&e.length&&(n?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(a=>this._markSelected(a)),e.filter(a=>!r.has(a)).forEach(a=>this._unmarkSelected(a));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}let dH=(()=>{class i{constructor(){this._listeners=[]}notify(e,r){for(let o of this._listeners)o(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const QE=new s.OlP("_ViewRepeater"),wY=["button"],xY=["*"],uH=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),hH=new s.OlP("MatButtonToggleGroup"),CY={provide:Da,useExisting:(0,s.Gpc)(()=>eA),multi:!0};let fH=0;class mH{constructor(n,e){this.source=n,this.value=e}}let eA=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=Tt(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(r=>r.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Tt(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=Tt(e),this._markButtonsForCheck()}constructor(e,r){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+fH++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=r&&r.appearance?r.appearance:"standard"}ngOnInit(){this._selectionModel=new XM(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const r=new mH(e,this.value);this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(e,r,o=!1,a=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(e):this._selectionModel.deselect(e):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(e,o)):this._updateModelValue(e,o)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>null!=e.value&&r===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const r=this._buttonToggles.find(o=>null!=o.value&&o.value===e);r&&(r.checked=!0,this._selectionModel.select(r))}_updateModelValue(e,r){r&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO),s.Y36(uH,8))},i.\u0275dir=s.lG2({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,tA,5),2&e){let a;s.iGM(a=s.CRH())&&(r._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,r){2&e&&(s.uIk("aria-disabled",r.disabled),s.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([CY,{provide:hH,useExisting:i}])]}),i})();const EY=D0(class{});let tA=(()=>{class i extends EY{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const r=Tt(e);r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Tt(e)}constructor(e,r,o,a,l,h){super(),this._changeDetectorRef=r,this._elementRef=o,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.vpe;const m=Number(l);this.tabIndex=m||0===m?m:null,this.buttonToggleGroup=e,this.appearance=h&&h.appearance?h.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+fH++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new mH(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(hH,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(ov),s.$8M("tabindex"),s.Y36(uH,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(e,r){if(1&e&&s.Gf(wY,5),2&e){let o;s.iGM(o=s.CRH())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(){return r.focus()}),2&e&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),s.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:xY,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,r){if(1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return r._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA()(),s._UZ(4,"span",3)(5,"span",4)),2&e){const o=s.MAs(1);s.Q6J("id",r.buttonId)("disabled",r.disabled||null),s.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[Ql],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),i})(),kY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,av,Qn]}),i})();const TY=["input"],IY=["label"],DY=["*"],SY=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:pH});function pH(){return{color:"accent",clickAction:"check-indeterminate"}}const MY={provide:Da,useExisting:(0,s.Gpc)(()=>yL),multi:!0};class AY{}let RY=0;const gH=pH(),OY=S0(I0(D0(T0(class{constructor(i){this._elementRef=i}}))));let PY=(()=>{class i extends OY{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Tt(e)}constructor(e,r,o,a,l,h,m){super(r),this._changeDetectorRef=o,this._ngZone=a,this._animationMode=h,this._options=m,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||gH,this.color=this.defaultColor=this._options.color||gH.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++RY}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const r=Tt(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=Tt(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=Tt(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(r!==e&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return i.\u0275fac=function(e){s.$Z()},i.\u0275dir=s.lG2({type:i,viewQuery:function(e,r){if(1&e&&(s.Gf(TY,5),s.Gf(IY,5),s.Gf(Ql,5)),2&e){let o;s.iGM(o=s.CRH())&&(r._inputElement=o.first),s.iGM(o=s.CRH())&&(r._labelElement=o.first),s.iGM(o=s.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[s.qOj]}),i})(),yL=(()=>{class i extends PY{constructor(e,r,o,a,l,h){super("mat-mdc-checkbox-",e,r,o,a,l,h),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const r=new AY;return r.source=this,r.checked=e,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(s.QbO,8),s.Y36(SY,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,r){2&e&&(s.Ikx("id",r.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[s._Bn([MY]),s.qOj],ngContentSelectors:DY,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(e,r){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("click",function(a){return r._preventBubblingFromLabel(a)}),s.TgZ(1,"div",1,2)(3,"div",3),s.NdJ("click",function(){return r._onTouchTargetClick()}),s.qZA(),s.TgZ(4,"input",4,5),s.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(a){return r._onInteractionEvent(a)}),s.qZA(),s._UZ(6,"div",6),s.TgZ(7,"div",7),s.O4$(),s.TgZ(8,"svg",8),s._UZ(9,"path",9),s.qZA(),s.kcU(),s._UZ(10,"div",10),s.qZA(),s._UZ(11,"div",11),s.qZA(),s.TgZ(12,"label",12,13),s.Hsn(14),s.qZA()()),2&e){const o=s.MAs(2);s.ekj("mdc-form-field--align-end","before"==r.labelPosition),s.xp6(4),s.ekj("mdc-checkbox--selected",r.checked),s.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),s.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),s.xp6(7),s.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),s.xp6(1),s.Q6J("for",r.inputId)}},dependencies:[Ql],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),_H=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),LY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,av,_H,Qn,_H]}),i})();class BY{constructor(n){this._box=n,this._destroyed=new Et.x,this._resizeSubject=new Et.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Ln.y(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),r.unsubscribe(),this._elementObservables.delete(n)}}).pipe(cn(e=>e.some(r=>r.target===n)),kl({bufferSize:1,refCount:!0}),_n(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let VY=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=(0,s.f3M)(s.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new BY(o)),this._observers.get(o).observe(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class vH{}class UY{}const af="*";function Ep(i,n){return{type:7,name:i,definitions:n,options:{}}}function il(i,n=null){return{type:4,styles:n,timings:i}}function yH(i,n=null){return{type:2,steps:i,options:n}}function ao(i){return{type:6,styles:i,offset:null}}function uc(i,n,e){return{type:0,name:i,styles:n,options:e}}function hc(i,n,e=null){return{type:1,expr:i,animation:n,options:e}}function HY(i=null){return{type:9,options:i}}function zY(i,n,e=null){return{type:11,selector:i,animation:n,options:e}}function bH(i){Promise.resolve().then(i)}class JE{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class wH{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,o=0;const a=this.players.length;0==a?bH(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const jY=["notch"],$Y=["matFormFieldNotchedOutline",""],GY=["*"],qY=["textField"],WY=["iconPrefixContainer"],ZY=["textPrefixContainer"];function YY(i,n){1&i&&s._UZ(0,"span",19)}function KY(i,n){if(1&i&&(s.TgZ(0,"label",17),s.Hsn(1,1),s.YNc(2,YY,1,0,"span",18),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function QY(i,n){if(1&i&&s.YNc(0,KY,3,6,"label",16),2&i){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function JY(i,n){1&i&&s._UZ(0,"div",20)}function XY(i,n){}function eK(i,n){if(1&i&&s.YNc(0,XY,0,0,"ng-template",22),2&i){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function tK(i,n){if(1&i&&(s.TgZ(0,"div",21),s.YNc(1,eK,1,1,"ng-template",9),s.qZA()),2&i){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function nK(i,n){1&i&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function iK(i,n){1&i&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function rK(i,n){}function oK(i,n){if(1&i&&s.YNc(0,rK,0,0,"ng-template",22),2&i){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function sK(i,n){1&i&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function aK(i,n){1&i&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function cK(i,n){1&i&&s._UZ(0,"div",29)}function lK(i,n){if(1&i&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&i){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function dK(i,n){if(1&i&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function uK(i,n){if(1&i&&(s.TgZ(0,"div",31),s.YNc(1,dK,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&i){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const hK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let lv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-label"]]}),i})();const mK=new s.OlP("MatError");let pK=0,nA=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+pK++}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(s.Ikx("id",r.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),i})();const gK=new s.OlP("MatPrefix"),xH=new s.OlP("MatSuffix");let CH=(()=>{class i{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[s._Bn([{provide:xH,useExisting:i}])]}),i})();const EH=new s.OlP("FloatingLabelParent");let kH=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,s.f3M)(VY),this._ngZone=(0,s.f3M)(s.R0b),this._parent=(0,s.f3M)(EH),this._resizeSubscription=new yo.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function _K(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),i})();const TH="mdc-line-ripple--active",iA="mdc-line-ripple--deactivating";let IH=(()=>{class i{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=o=>{const a=this._elementRef.nativeElement.classList,l=a.contains(iA);"opacity"===o.propertyName&&l&&a.remove(TH,iA)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(iA),e.add(TH)}deactivate(){this._elementRef.nativeElement.classList.add(iA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275dir=s.lG2({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),i})(),DH=(()=>{class i{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,r){if(1&e&&s.Gf(jY,5),2&e){let o;s.iGM(o=s.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:$Y,ngContentSelectors:GY,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1,2),s.Hsn(3),s.qZA(),s._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),i})();const vK={transitionMessages:Ep("transitionMessages",[uc("enter",ao({opacity:1,transform:"translateY(0%)"})),hc("void => enter",[ao({opacity:0,transform:"translateY(-5px)"}),il("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i}),i})();const oA=new s.OlP("MatFormField"),yK=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let SH=0,XE=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Tt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,o,a,l,h,m,g){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=o,this._dir=a,this._platform=l,this._defaults=h,this._animationMode=m,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+SH++,this._hintLabelId="mat-mdc-hint-"+SH++,this._subscriptAnimationState="",this._destroyed=new Et.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(_n(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Wi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_n(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(_n(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,o=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Ma),s.Y36(Gi),s.Y36(yK,8),s.Y36(s.QbO,8),s.Y36(ue))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,lv,5),s.Suo(o,lv,7),s.Suo(o,rA,5),s.Suo(o,gK,5),s.Suo(o,xH,5),s.Suo(o,mK,5),s.Suo(o,nA,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(r._formFieldControl=a.first),s.iGM(a=s.CRH())&&(r._prefixChildren=a),s.iGM(a=s.CRH())&&(r._suffixChildren=a),s.iGM(a=s.CRH())&&(r._errorChildren=a),s.iGM(a=s.CRH())&&(r._hintChildren=a)}},viewQuery:function(e,r){if(1&e&&(s.Gf(qY,5),s.Gf(WY,5),s.Gf(ZY,5),s.Gf(kH,5),s.Gf(DH,5),s.Gf(IH,5)),2&e){let o;s.iGM(o=s.CRH())&&(r._textField=o.first),s.iGM(o=s.CRH())&&(r._iconPrefixContainer=o.first),s.iGM(o=s.CRH())&&(r._textPrefixContainer=o.first),s.iGM(o=s.CRH())&&(r._floatingLabel=o.first),s.iGM(o=s.CRH())&&(r._notchedOutline=o.first),s.iGM(o=s.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&s.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:oA,useExisting:i},{provide:EH,useExisting:i}])],ngContentSelectors:fK,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(s.F$t(hK),s.YNc(0,QY,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(a){return r._control.onContainerClick(a)}),s.YNc(4,JY,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,tK,2,2,"div",5),s.YNc(7,nK,3,0,"div",6),s.YNc(8,iK,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,oK,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,sK,2,0,"div",10),s.YNc(13,aK,2,0,"div",11),s.qZA(),s.YNc(14,cK,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,lK,2,1,"div",14),s.YNc(17,uK,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),s.xp6(2),s.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),s.xp6(2),s.Q6J("ngIf",r._hasOutline()),s.xp6(1),s.Q6J("ngIf",r._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",r._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",r._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",r._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!r._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),s.Q6J("ngSwitch",r._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Rn,ws,xo,bs,nA,kH,DH,IH],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[vK.transitionMessages]},changeDetection:0}),i})(),sA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,fr,WM,Qn]}),i})();function xK(i,n){1&i&&(s.TgZ(0,"span",8),s.Hsn(1,1),s.qZA())}function CK(i,n){1&i&&(s.TgZ(0,"span",9),s.Hsn(1,2),s.qZA())}const RH=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],OH=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function EK(i,n){1&i&&(s.TgZ(0,"span",9),s.Hsn(1,1),s.TgZ(2,"span",10),s.O4$(),s.TgZ(3,"svg",11),s._UZ(4,"path",12),s.qZA()()())}function kK(i,n){1&i&&(s.TgZ(0,"span",13),s.Hsn(1,2),s.qZA())}const PH='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}';function TK(i,n){if(1&i&&(s.ynx(0),s._UZ(1,"span",9)(2,"span",10),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e._isRippleCentered)("matRippleTrigger",e._elementRef.nativeElement)}}function IK(i,n){1&i&&(s.TgZ(0,"span",11),s.Hsn(1),s.qZA())}function DK(i,n){1&i&&(s.ynx(0),s.Hsn(1,1),s.BQk())}function SK(i,n){1&i&&s.Hsn(0,2,["*ngIf","contentEditInput; else defaultMatChipEditInput"])}function MK(i,n){1&i&&s._UZ(0,"span",14)}function AK(i,n){if(1&i&&(s.ynx(0),s.YNc(1,SK,1,0,"ng-content",12),s.YNc(2,MK,1,0,"ng-template",null,13,s.W1O),s.BQk()),2&i){const e=s.MAs(3),r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.contentEditInput)("ngIfElse",e)}}function RK(i,n){1&i&&(s.TgZ(0,"span",15),s.Hsn(1,3),s.qZA())}const OK=[[["mat-chip-avatar"],["","matChipAvatar",""]],"*",[["","matChipEditInput",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],PK=["mat-chip-avatar, [matChipAvatar]","*","[matChipEditInput]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],wL=["*"],NH=".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",aA=new s.OlP("mat-chips-default-options"),xL=new s.OlP("MatChipAvatar"),CL=new s.OlP("MatChipTrailingIcon"),EL=new s.OlP("MatChipRemove"),cA=new s.OlP("MatChip");class NK{}const FK=S0(NK,-1);let A0=(()=>{class i extends FK{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=Tt(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,r){super(),this._elementRef=e,this._parentChip=r,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(cA))},i.\u0275dir=s.lG2({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,r){1&e&&s.NdJ("click",function(a){return r._handleClick(a)})("keydown",function(a){return r._handleKeydown(a)}),2&e&&(s.uIk("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),s.ekj("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[s.qOj]}),i})(),FH=(()=>{class i extends A0{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(e,r){2&e&&s.uIk("aria-hidden",null)},features:[s._Bn([{provide:EL,useExisting:i}]),s.qOj]}),i})(),VK=0;const UK=S0(I0(D0(T0(class{constructor(i){this._elementRef=i}})),"primary"),-1);let dv=(()=>{class i extends UK{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=Tt(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=Tt(e)}constructor(e,r,o,a,l,h,m,g){super(r),this._changeDetectorRef=e,this._ngZone=o,this._focusMonitor=a,this._globalRippleOptions=m,this._isRippleCentered=!1,this._onFocus=new Et.x,this._onBlur=new Et.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+VK++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new s.vpe,this.destroyed=new s.vpe,this.basicChipAttrName="mat-basic-chip",this._document=l,this._animationsDisabled="NoopAnimations"===h,null!=g&&(this.tabIndex=parseInt(g)??this.defaultTabIndex),this._monitorFocus()}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Wi.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{const o=r._elementRef.nativeElement;return o===e||o.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const r=null!==e;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Hi(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ov),s.Y36(ue),s.Y36(s.QbO,8),s.Y36(M0,8),s.$8M("tabindex"))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,xL,5),s.Suo(o,CL,5),s.Suo(o,EL,5),s.Suo(o,xL,5),s.Suo(o,CL,5),s.Suo(o,EL,5)),2&e){let a;s.iGM(a=s.CRH())&&(r.leadingIcon=a.first),s.iGM(a=s.CRH())&&(r.trailingIcon=a.first),s.iGM(a=s.CRH())&&(r.removeIcon=a.first),s.iGM(a=s.CRH())&&(r._allLeadingIcons=a),s.iGM(a=s.CRH())&&(r._allTrailingIcons=a),s.iGM(a=s.CRH())&&(r._allRemoveIcons=a)}},viewQuery:function(e,r){if(1&e&&(s.Gf(Ql,5),s.Gf(A0,5)),2&e){let o;s.iGM(o=s.CRH())&&(r.ripple=o.first),s.iGM(o=s.CRH())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(e,r){1&e&&s.NdJ("keydown",function(a){return r._handleKeydown(a)}),2&e&&(s.Ikx("id",r.id),s.uIk("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),s.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[s._Bn([{provide:cA,useExisting:i}]),s.qOj],ngContentSelectors:OH,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,r){1&e&&(s.F$t(RH),s._UZ(0,"span",0)(1,"span",1),s.TgZ(2,"span",2)(3,"span",3),s.YNc(4,xK,2,0,"span",4),s.TgZ(5,"span",5),s.Hsn(6),s._UZ(7,"span",6),s.qZA()()(),s.YNc(8,CK,2,0,"span",7)),2&e&&(s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r._isRippleCentered)("matRippleTrigger",r._elementRef.nativeElement),s.xp6(3),s.Q6J("isInteractive",!1),s.xp6(1),s.Q6J("ngIf",r.leadingIcon),s.xp6(4),s.Q6J("ngIf",r._hasTrailingIcon()))},dependencies:[Rn,Ql,A0],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),kL=(()=>{class i extends dv{constructor(){super(...arguments),this._defaultOptions=(0,s.f3M)(aA,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new s.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=Tt(e),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(Tt(e),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.selectable&&!this.disabled&&this.toggleSelected(!0)}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,r,o){e!==this.selected&&(this._selected=e,o&&this.selectionChange.emit({source:this,isUserInput:r,selected:this.selected}),this._changeDetectorRef.markForCheck())}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(e,r){2&e&&(s.Ikx("id",r.id),s.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),s.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[s._Bn([{provide:dv,useExisting:i},{provide:cA,useExisting:i}]),s.qOj],ngContentSelectors:OH,decls:11,vars:12,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,r){1&e&&(s.F$t(RH),s._UZ(0,"span",0)(1,"span",1),s.TgZ(2,"span",2)(3,"button",3),s.YNc(4,EK,5,0,"span",4),s.TgZ(5,"span",5),s.Hsn(6),s._UZ(7,"span",6),s.qZA()()(),s.YNc(8,kK,2,0,"span",7),s.TgZ(9,"span",8),s._uU(10),s.qZA()),2&e&&(s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r._isRippleCentered)("matRippleTrigger",r._elementRef.nativeElement),s.xp6(3),s.Q6J("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),s.uIk("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),s.xp6(1),s.Q6J("ngIf",r._hasLeadingGraphic()),s.xp6(4),s.Q6J("ngIf",r._hasTrailingIcon()),s.xp6(1),s.Q6J("id",r._ariaDescriptionId),s.xp6(1),s.Oqu(r.ariaDescription))},dependencies:[Rn,Ql,A0],styles:[PH],encapsulation:2,changeDetection:0}),i})(),lA=(()=>{class i{constructor(e,r){this._elementRef=e,this._document=r}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);const r=window.getSelection();r.removeAllRanges(),r.addRange(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(ue))},i.\u0275dir=s.lG2({type:i,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]}),i})(),TL=(()=>{class i extends dv{constructor(e,r,o,a,l,h,m,g){super(e,r,o,a,l,h,m,g),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new s.vpe,this._isEditing=!1,this.role="row",this._onBlur.pipe(_n(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){13!==e.keyCode||this.disabled?this._isEditing?e.stopPropagation():super._handleKeydown(e):this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;const r=this.value;this._isEditing=!0,this._editStartPending=!0,setTimeout(()=>{this._getEditInput().initialize(r),this._editStartPending=!1})}_onEditFinish(){this._isEditing=!1,this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_getEditInput(){return this.contentEditInput||this.defaultEditInput}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ov),s.Y36(ue),s.Y36(s.QbO,8),s.Y36(M0,8),s.$8M("tabindex"))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,lA,5),2&e){let a;s.iGM(a=s.CRH())&&(r.contentEditInput=a.first)}},viewQuery:function(e,r){if(1&e&&s.Gf(lA,5),2&e){let o;s.iGM(o=s.CRH())&&(r.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(a){return r._handleFocus(a)})("dblclick",function(a){return r._handleDoubleclick(a)}),2&e&&(s.Ikx("id",r.id),s.uIk("tabindex",r.disabled?null:-1)("aria-label",null)("aria-description",null)("role",r.role),s.ekj("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-editing",r._isEditing)("mat-mdc-chip-editable",r.editable)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",editable:"editable"},outputs:{edited:"edited"},features:[s._Bn([{provide:dv,useExisting:i},{provide:cA,useExisting:i}]),s.qOj],ngContentSelectors:PK,decls:11,vars:13,consts:[[4,"ngIf"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"tabIndex","disabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing","role","gridcell",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[4,"ngIf","ngIfElse"],["defaultMatChipEditInput",""],["matChipEditInput",""],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,r){1&e&&(s.F$t(OK),s.YNc(0,TK,3,3,"ng-container",0),s.TgZ(1,"span",1)(2,"span",2),s.YNc(3,IK,2,0,"span",3),s.TgZ(4,"span",4),s.YNc(5,DK,2,0,"ng-container",5),s.YNc(6,AK,4,2,"ng-container",5),s._UZ(7,"span",6),s.qZA()()(),s.YNc(8,RK,2,0,"span",7),s.TgZ(9,"span",8),s._uU(10),s.qZA()),2&e&&(s.Q6J("ngIf",!r._isEditing),s.xp6(2),s.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),s.uIk("role",r.editable?"button":null)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),s.xp6(1),s.Q6J("ngIf",r.leadingIcon),s.xp6(1),s.Q6J("ngSwitch",r._isEditing),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(2),s.Q6J("ngIf",r._hasTrailingIcon()),s.xp6(1),s.Q6J("id",r._ariaDescriptionId),s.xp6(1),s.Oqu(r.ariaDescription))},dependencies:[Rn,xo,bs,Ql,A0,lA],styles:[PH],encapsulation:2,changeDetection:0}),i})();class HK{constructor(n){}}const zK=S0(HK);let dA=(()=>{class i extends zK{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=Tt(e),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,r,o){super(e),this._elementRef=e,this._changeDetectorRef=r,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Et.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new s.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(go(null),(0,fi.w)(()=>(0,Wi.T)(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(go(this._chips)).subscribe(e=>{const r=[];e.forEach(o=>o._getActions().forEach(a=>r.push(a))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new YM(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(_n(this._destroyed)).subscribe(({chip:e})=>{const r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(_n(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(go(null),_n(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(_n(this._destroyed)).subscribe(e=>{const o=this._chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ma,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-chip-set"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,dv,5),2&e){let a;s.iGM(a=s.CRH())&&(r._chips=a)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,r){1&e&&s.NdJ("keydown",function(a){return r._handleKeydown(a)}),2&e&&s.uIk("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[s.qOj],ngContentSelectors:wL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),i})();class jK{constructor(n,e){this.source=n,this.value=e}}const $K={provide:Da,useExisting:(0,s.Gpc)(()=>IL),multi:!0};let IL=(()=>{class i extends dA{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=(0,s.f3M)(aA,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,r)=>e===r,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new s.vpe,this._chips=void 0}get multiple(){return this._multiple}set multiple(e){this._multiple=Tt(e),this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(r=>r.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=Tt(e),this._syncListboxProperties()}get required(){return this._required}set required(e){this._required=Tt(e)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Tt(e),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(go(null),_n(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(_n(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(_n(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(r=>{r!==e.source&&r._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,r=!0){this._clearSelection(),Array.isArray(e)?e.forEach(o=>this._selectValue(o,r)):this._selectValue(e,r)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(r=>r.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new jK(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(r=>{r!==e&&r.deselect()})}_selectValue(e,r){const o=this._chips.find(a=>null!=a.value&&this.compareWith(a.value,e));return o&&(r?o.selectViaInteraction():o.select()),o}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-chip-listbox"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,kL,5),2&e){let a;s.iGM(a=s.CRH())&&(r._chips=a)}},hostAttrs:["ngSkipHydration","",1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(a){return r._keydown(a)}),2&e&&(s.Ikx("tabIndex",r.empty?-1:r.tabIndex),s.uIk("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),s.ekj("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[s._Bn([$K]),s.qOj],ngContentSelectors:wL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[NH],encapsulation:2,changeDetection:0}),i})();class GK{constructor(n,e){this.source=n,this.value=e}}class qK extends dA{constructor(n,e,r,o,a,l,h){super(n,e,r),this._defaultErrorStateMatcher=o,this._parentForm=a,this._parentFormGroup=l,this.ngControl=h,this.stateChanges=new Et.x}}const WK=hL(qK);let LH=(()=>{class i extends WK{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Tt(e),this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(OF.required)??!1}set required(e){this._required=Tt(e),this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}constructor(e,r,o,a,l,h,m){super(e,r,o,h,a,l,m),this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new s.vpe,this.valueChange=new s.vpe,this._chips=void 0,this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterContentInit(){this.chipBlurChanges.pipe(_n(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,Wi.T)(this.chipFocusChanges,this._chips.changes).pipe(_n(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?.setDescribedByIds(e)}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(e){9===e.keyCode?this._chipInput.focused&&Kl(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),this._keyManager.activeItem?this._keyManager.setActiveItem(this._keyManager.activeItem):this._focusLastChip()):super._allowFocusEscape():this._chipInput.focused||super._handleKeydown(e),this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const e=this._chips.length?this._chips.toArray().map(r=>r.value):[];this._value=e,this.change.emit(new GK(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ma,8),s.Y36(w0,8),s.Y36(x0,8),s.Y36(QM),s.Y36(Yl,10))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-chip-grid"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,TL,5),2&e){let a;s.iGM(a=s.CRH())&&(r._chips=a)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(s.Ikx("tabIndex",r._chips&&0===r._chips.length?-1:r.tabIndex),s.uIk("role",r.role)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState),s.ekj("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-invalid",r.errorState)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",disabled:"disabled",placeholder:"placeholder",required:"required",value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[s._Bn([{provide:rA,useExisting:i}]),s.qOj],ngContentSelectors:wL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[NH],encapsulation:2,changeDetection:0}),i})(),ZK=0,BH=(()=>{class i{set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=Tt(e)}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=Tt(e)}get empty(){return!this.inputElement.value}constructor(e,r,o){this._elementRef=e,this.focused=!1,this._addOnBlur=!1,this.chipEnd=new s.vpe,this.placeholder="",this.id="mat-mdc-chip-list-input-"+ZK++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=r.separatorKeyCodes,o&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipGrid._focusLastChip(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}setDescribedByIds(e){const r=this._elementRef.nativeElement;e.length?r.setAttribute("aria-describedby",e.join(" ")):r.removeAttribute("aria-describedby")}_isSeparatorKey(e){return!Kl(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(aA),s.Y36(oA,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(e,r){1&e&&s.NdJ("keydown",function(a){return r._keydown(a)})("keyup",function(a){return r._keyup(a)})("blur",function(){return r._blur()})("focus",function(){return r._focus()})("input",function(){return r._onInput()}),2&e&&(s.Ikx("id",r.id),s.uIk("disabled",r.disabled||null)("placeholder",r.placeholder||null)("aria-invalid",r._chipGrid&&r._chipGrid.ngControl?r._chipGrid.ngControl.invalid:null)("aria-required",r._chipGrid&&r._chipGrid.required||null)("required",r._chipGrid&&r._chipGrid.required||null))},inputs:{chipGrid:["matChipInputFor","chipGrid"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.TTD]}),i})(),YK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[QM,{provide:aA,useValue:{separatorKeyCodes:[13]}}],imports:[Qn,fr,av,Qn]}),i})(),KK=0;const DL=new s.OlP("CdkAccordion");let QK=(()=>{class i{constructor(){this._stateChanges=new Et.x,this._openCloseAllActions=new Et.x,this.id="cdk-accordion-"+KK++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Tt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:DL,useExisting:i}]),s.TTD]}),i})(),JK=0,XK=(()=>{class i{get expanded(){return this._expanded}set expanded(e){e=Tt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Tt(e)}constructor(e,r,o){this.accordion=e,this._changeDetectorRef=r,this._expansionDispatcher=o,this._openCloseAllSubscription=yo.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+JK++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((a,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(DL,12),s.Y36(s.sBO),s.Y36(dH))},i.\u0275dir=s.lG2({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:DL,useValue:void 0}])]}),i})(),eQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();class SL{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class ML extends SL{constructor(n,e,r,o,a){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=o,this.projectableNodes=a}}class R0 extends SL{constructor(n,e,r,o){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class tQ extends SL{constructor(n){super(),this.element=n instanceof s.SBq?n.nativeElement:n}}class AL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof ML?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof R0?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof tQ?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nQ extends AL{constructor(n,e,r,o,a){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=a}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let o;return n.viewContainerRef?(o=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=r.create(n.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=n,o}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(r);-1!==o&&e.remove(o)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let iQ=(()=>{class i extends R0{constructor(e,r){super(e,r)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(s.s_b))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[s.qOj]}),i})(),O0=(()=>{class i extends AL{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=a=>{const l=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),l.parentNode.insertBefore(h,l),this._getRootNode().appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=r.createComponent(a,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ue))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),i})(),uA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const rQ=["body"];function oQ(i,n){}const sQ=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],aQ=["mat-expansion-panel-header","*","mat-action-row"];function cQ(i,n){if(1&i&&s._UZ(0,"span",2),2&i){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const lQ=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],dQ=["mat-panel-title","mat-panel-description","*"],RL=new s.OlP("MAT_ACCORDION"),VH="225ms cubic-bezier(0.4,0.0,0.2,1)",UH={indicatorRotate:Ep("indicatorRotate",[uc("collapsed, void",ao({transform:"rotate(0deg)"})),uc("expanded",ao({transform:"rotate(180deg)"})),hc("expanded <=> collapsed, void => collapsed",il(VH))]),bodyExpansion:Ep("bodyExpansion",[uc("collapsed, void",ao({height:"0px",visibility:"hidden"})),uc("expanded",ao({height:"*",visibility:"visible"})),hc("expanded <=> collapsed, void => collapsed",il(VH))])},HH=new s.OlP("MAT_EXPANSION_PANEL");let uQ=(()=>{class i{constructor(e,r){this._template=e,this._expansionPanel=r}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(HH,8))},i.\u0275dir=s.lG2({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),hQ=0;const zH=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let jH=(()=>{class i extends XK{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Tt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,r,o,a,l,h,m){super(e,r,o),this._viewContainerRef=a,this._animationMode=h,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new Et.x,this._headerId="mat-expansion-panel-header-"+hQ++,this._bodyAnimationDone=new Et.x,this.accordion=e,this._document=l,this._bodyAnimationDone.pipe((0,Oc.x)((g,b)=>g.fromState===b.fromState&&g.toState===b.toState)).subscribe(g=>{"void"!==g.fromState&&("expanded"===g.toState?this.afterExpand.emit():"collapsed"===g.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(go(null),cn(()=>this.expanded&&!this._portal),Hi(1)).subscribe(()=>{this._portal=new R0(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,r=this._body.nativeElement;return e===r||r.contains(e)}return!1}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(RL,12),s.Y36(s.sBO),s.Y36(dH),s.Y36(s.s_b),s.Y36(ue),s.Y36(s.QbO,8),s.Y36(zH,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,uQ,5),2&e){let a;s.iGM(a=s.CRH())&&(r._lazyContent=a.first)}},viewQuery:function(e,r){if(1&e&&s.Gf(rQ,5),2&e){let o;s.iGM(o=s.CRH())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,r){2&e&&s.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:RL,useValue:void 0},{provide:HH,useExisting:i}]),s.qOj,s.TTD],ngContentSelectors:aQ,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,r){1&e&&(s.F$t(sQ),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(a){return r._bodyAnimationDone.next(a)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,oQ,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),s.uIk("aria-labelledby",r._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",r._portal))},dependencies:[O0],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[UH.bodyExpansion]},changeDetection:0}),i})();class fQ{}const mQ=S0(fQ);let $H=(()=>{class i extends mQ{constructor(e,r,o,a,l,h,m){super(),this.panel=e,this._element=r,this._focusMonitor=o,this._changeDetectorRef=a,this._animationMode=h,this._parentChangeSubscription=yo.w0.EMPTY;const g=e.accordion?e.accordion._stateChanges.pipe(cn(b=>!(!b.hideToggle&&!b.togglePosition))):Go.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Wi.T)(e.opened,e.closed,g,e._inputChanges.pipe(cn(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(cn(()=>e._containsFocus())).subscribe(()=>o.focusVia(r,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Kl(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,r){e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(jH,1),s.Y36(s.SBq),s.Y36(ov),s.Y36(s.sBO),s.Y36(zH,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,r){1&e&&s.NdJ("click",function(){return r._toggle()})("keydown",function(a){return r._keydown(a)}),2&e&&(s.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),s.Udp("height",r._getHeaderHeight()),s.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:dQ,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,r){1&e&&(s.F$t(lQ),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,cQ,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!r._showToggle()),s.xp6(4),s.Q6J("ngIf",r._showToggle()))},dependencies:[Rn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[UH.indicatorRotate]},changeDetection:0}),i})(),pQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),i})(),gQ=(()=>{class i extends QK{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Tt(e)}ngAfterContentInit(){this._headers.changes.pipe(go(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new YM(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["mat-accordion"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,$H,5),2&e){let a;s.iGM(a=s.CRH())&&(r._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:RL,useExisting:i}]),s.qOj]}),i})(),_Q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[fr,Qn,eQ,uA]}),i})();function P0(i,n){const e=(0,qo.m)(i)?i:()=>i,r=o=>o.error(e());return new Ln.y(n?o=>n.schedule(r,0,o):r)}function kp(i){return(0,gr.e)((n,e)=>{let a,r=null,o=!1;r=n.subscribe((0,li.x)(e,void 0,void 0,l=>{a=(0,Ml.Xf)(i(l,kp(i)(n))),r?(r.unsubscribe(),r=null,a.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,a.subscribe(e))})}function hA(i){return(0,gr.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}var Cr=z(1631);function N0(i,n){return(0,qo.m)(n)?(0,Cr.z)(i,n,1):(0,Cr.z)(i,1)}class OL{}class cf{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),a=o.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof cf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new cf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const a=n.value;if(a){let l=this.headers.get(e);if(!l)return;l=l.filter(h=>-1===a.indexOf(h)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(a=>a.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class vQ{encodeKey(n){return GH(n)}encodeValue(n){return GH(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const bQ=/%(\d[a-f0-9])/gi,wQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GH(i){return encodeURIComponent(i).replace(bQ,(n,e)=>wQ[e]??n)}function fA(i){return`${i}`}class Tp{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new vQ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yQ(i,n){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[l,h]=-1==a?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,a)),n.decodeValue(o.slice(a+1))],m=e.get(l)||[];m.push(h),e.set(l,m)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(fA):[fA(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(a=>{e.push({param:r,value:a,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Tp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(fA(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(fA(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class xQ{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function qH(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function WH(i){return typeof Blob<"u"&&i instanceof Blob}function ZH(i){return typeof FormData<"u"&&i instanceof FormData}class ek{constructor(n,e,r,o){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function CQ(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,a=o):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new cf),this.context||(this.context=new xQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+l}}else this.params=new Tp,this.urlWithParams=e}serializeBody(){return null===this.body?null:qH(this.body)||WH(this.body)||ZH(this.body)||function EQ(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZH(this.body)?null:WH(this.body)?this.body.type||null:qH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,l=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,h=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let m=n.headers||this.headers,g=n.params||this.params;const b=n.context??this.context;return void 0!==n.setHeaders&&(m=Object.keys(n.setHeaders).reduce((E,S)=>E.set(S,n.setHeaders[S]),m)),n.setParams&&(g=Object.keys(n.setParams).reduce((E,S)=>E.set(S,n.setParams[S]),g)),new ek(e,r,a,{params:g,headers:m,context:b,reportProgress:h,responseType:o,withCredentials:l})}}var vs=(()=>((vs=vs||{})[vs.Sent=0]="Sent",vs[vs.UploadProgress=1]="UploadProgress",vs[vs.ResponseHeader=2]="ResponseHeader",vs[vs.DownloadProgress=3]="DownloadProgress",vs[vs.Response=4]="Response",vs[vs.User=5]="User",vs))();class kQ{constructor(n,e=200,r="OK"){this.headers=n.headers||new cf,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class tk extends kQ{constructor(n={}){super(n),this.type=vs.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new tk({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function NL(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let FL=(()=>{class i{constructor(e){this.handler=e}request(e,r,o={}){let a;if(e instanceof ek)a=e;else{let m,g;m=o.headers instanceof cf?o.headers:new cf(o.headers),o.params&&(g=o.params instanceof Tp?o.params:new Tp({fromObject:o.params})),a=new ek(e,r,void 0!==o.body?o.body:null,{headers:m,context:o.context,params:g,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,Dt.of)(a).pipe(N0(m=>this.handler.handle(m)));if(e instanceof ek||"events"===o.observe)return l;const h=l.pipe(cn(m=>m instanceof tk));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,Je.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,Je.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,Je.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,Je.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Tp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,NL(o,r))}post(e,r,o={}){return this.request("POST",e,NL(o,r))}put(e,r,o={}){return this.request("PUT",e,NL(o,r))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(OL))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const GQ=["*"];let gA;function nk(i){return function qQ(){if(void 0===gA&&(gA=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(gA=i.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return gA}()?.createHTML(i)||i}function rz(i){return Error(`Unable to find icon with the name "${i}"`)}function oz(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function sz(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class fv{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let _A=(()=>{class i{constructor(e,r,o,a){this._httpClient=e,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,a){return this._addSvgIconConfig(e,r,new fv(o,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,a){const l=this._sanitizer.sanitize(s.q3G.HTML,o);if(!l)throw sz(o);const h=nk(l);return this._addSvgIconConfig(e,r,new fv("",h,a))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new fv(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw sz(r);const l=nk(a);return this._addSvgIconSetConfig(e,new fv("",l,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!r)throw oz(e);const o=this._cachedIconsByUrl.get(r);return o?(0,Dt.of)(vA(o)):this._loadSvgIconFromConfig(new fv(e,null)).pipe((0,Lo.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,Je.U)(a=>vA(a)))}getNamedSvgIcon(e,r=""){const o=az(r,e);let a=this._svgIconConfigs.get(o);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,e),a)return this._svgIconConfigs.set(o,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):P0(rz(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Dt.of)(vA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Je.U)(r=>vA(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);return o?(0,Dt.of)(o):v4(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(kp(h=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(g)),(0,Dt.of)(null)})))).pipe((0,Je.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw rz(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const a=r[o];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(l,e,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Lo.b)(r=>e.svgText=r),(0,Je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Dt.of)(null):this._fetchIcon(e).pipe((0,Lo.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const a=e.querySelector(`[id="${r}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,o);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),o);const h=this._svgElementFromString(nk("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(nk("<svg></svg>")),o=e.attributes;for(let a=0;a<o.length;a++){const{name:l,value:h}=o[a];"id"!==l&&r.setAttribute(l,h)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:o}=e,a=o?.withCredentials??!1;if(!this._httpClient)throw function WQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!l)throw oz(r);const h=this._inProgressUrlFetches.get(l);if(h)return h;const m=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,Je.U)(g=>nk(g)),hA(()=>this._inProgressUrlFetches.delete(l)),(0,_a.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(az(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const a=this._resolvers[o](r,e);if(a)return YQ(a)?new fv(a.url,null,a.options):new fv(a,null)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(FL,8),s.LFG(Mc),s.LFG(ue,8),s.LFG(s.qLn))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function vA(i){return i.cloneNode(!0)}function az(i,n){return i+":"+n}function YQ(i){return!(!i.url||!i.options)}const KQ=I0(class{constructor(i){this._elementRef=i}}),QQ=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),JQ=new s.OlP("mat-icon-location",{providedIn:"root",factory:function XQ(){const i=(0,s.f3M)(ue),n=i?i.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),cz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eJ=cz.map(i=>`[${i}]`).join(", "),tJ=/^url\(['"]?#(.*?)['"]?\)$/;let lf=(()=>{class i extends KQ{get inline(){return this._inline}set inline(e){this._inline=Tt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,o,a,l,h){super(e),this._iconRegistry=r,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=yo.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,a)=>{o.forEach(l=>{a.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(eJ),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)cz.forEach(l=>{const h=r[a],m=h.getAttribute(l),g=m?m.match(tJ):null;if(g){let b=o.get(h);b||(b=[],o.set(h,b)),b.push({name:l,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Hi(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${a.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(_A),s.$8M("aria-hidden"),s.Y36(JQ),s.Y36(s.qLn),s.Y36(QQ,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(s.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),s.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:GQ,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),nJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,Qn]}),i})();const lz=E0({passive:!0});let iJ=(()=>{class i{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Go.E;const r=sf(e),o=this._monitoredElements.get(r);if(o)return o.subject;const a=new Et.x,l="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,lz),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",h,lz)}}),a}stopMonitoring(e){const r=sf(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gi),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const oJ=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),sJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aJ=0;const cJ=hL(class{constructor(i,n,e,r){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new Et.x}});let ik=(()=>{class i extends cJ{get disabled(){return this._disabled}set disabled(e){this._disabled=Tt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(OF.required)??!1}set required(e){this._required=Tt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&b6().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Tt(e)}constructor(e,r,o,a,l,h,m,g,b,E){super(h,a,l,o),this._elementRef=e,this._platform=r,this._autofillMonitor=g,this._formField=E,this._uid="mat-input-"+aJ++,this.focused=!1,this.stateChanges=new Et.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>b6().has(F)),this._iOSKeyupListener=F=>{const G=F.target;!G.value&&0===G.selectionStart&&0===G.selectionEnd&&(G.setSelectionRange(1,1),G.setSelectionRange(0,0))};const S=this._elementRef.nativeElement,R=S.nodeName.toLowerCase();this._inputValueAccessor=m||S,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){sJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Gi),s.Y36(Yl,10),s.Y36(w0,8),s.Y36(x0,8),s.Y36(QM),s.Y36(oJ,10),s.Y36(iJ),s.Y36(s.R0b),s.Y36(oA,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&s.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(s.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),s.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),s.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:rA,useExisting:i}]),s.qOj,s.TTD]}),i})(),lJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,sA,sA,rJ,Qn]}),i})(),dJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,Qn]}),i})(),UJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[WM,fr,Qn,av,K6,dJ]}),i})();var HJ=z(4266);const zJ=["addListener","removeListener"],jJ=["addEventListener","removeEventListener"],$J=["on","off"];function Ip(i,n,e,r){if((0,qo.m)(e)&&(r=e,e=void 0),r)return Ip(i,n,e).pipe(RF(r));const[o,a]=function WJ(i){return(0,qo.m)(i.addEventListener)&&(0,qo.m)(i.removeEventListener)}(i)?jJ.map(l=>h=>i[l](n,h,e)):function GJ(i){return(0,qo.m)(i.addListener)&&(0,qo.m)(i.removeListener)}(i)?zJ.map(mz(i,n)):function qJ(i){return(0,qo.m)(i.on)&&(0,qo.m)(i.off)}(i)?$J.map(mz(i,n)):[];if(!o&&(0,HJ.z)(i))return(0,Cr.z)(l=>Ip(l,n,e))((0,Ml.Xf)(i));if(!o)throw new TypeError("Invalid event target");return new Ln.y(l=>{const h=(...m)=>l.next(1<m.length?m:m[0]);return o(h),()=>a(h)})}function mz(i,n){return e=>r=>i[e](n,r)}var pz=z(1954);const rk={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=rk;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=n(a=>{e=void 0,i(a)});return new yo.w0(()=>e?.(o))},requestAnimationFrame(...i){const{delegate:n}=rk;return(n?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=rk;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var gz=z(2631);new class YJ extends gz.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;n=n||r.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,o){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw o}}}(class ZJ extends pz.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=rk.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:a}=n;null!=e&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==e&&(rk.cancelAnimationFrame(e),n._scheduled=void 0)}});let VL,QJ=1;const yA={};function _z(i){return i in yA&&(delete yA[i],!0)}const JJ={setImmediate(i){const n=QJ++;return yA[n]=!0,VL||(VL=Promise.resolve()),VL.then(()=>_z(n)&&i()),n},clearImmediate(i){_z(i)}},{setImmediate:XJ,clearImmediate:eX}=JJ,bA={setImmediate(...i){const{delegate:n}=bA;return(n?.setImmediate||XJ)(...i)},clearImmediate(i){const{delegate:n}=bA;return(n?.clearImmediate||eX)(i)},delegate:void 0};new class nX extends gz.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;n=n||r.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,o){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw o}}}(class tX extends pz.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=bA.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:a}=n;null!=e&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==e&&(bA.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});var oX=z(671);function UL(i=0,n,e=Jf.P){let r=-1;return null!=n&&((0,oX.K)(n)?e=n:r=n),new Ln.y(o=>{let a=function sX(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;a<0&&(a=0);let l=0;return e.schedule(function(){o.closed||(o.next(l++),0<=r?this.schedule(void 0,r):o.complete())},a)})}function vz(i,n=Jf.z){return function rX(i){return(0,gr.e)((n,e)=>{let r=!1,o=null,a=null,l=!1;const h=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const g=o;o=null,e.next(g)}l&&e.complete()},m=()=>{a=null,l&&e.complete()};n.subscribe((0,li.x)(e,g=>{r=!0,o=g,a||(0,Ml.Xf)(i(g)).subscribe(a=(0,li.x)(e,h,m))},()=>{l=!0,(!r||!a||a.closed)&&e.complete()}))})}(()=>UL(i,n))}let HL=(()=>{class i{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new Et.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ln.y(r=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(vz(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Dt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(cn(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=sf(r),a=e.getElementRef().nativeElement;do{if(o==a)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ip(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b),s.LFG(Gi),s.LFG(ue,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),zL=(()=>{class i{constructor(e,r,o,a){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=o,this.dir=a,this._destroyed=new Et.x,this._elementScrolled=new Ln.y(l=>this.ngZone.runOutsideAngular(()=>Ip(this.elementRef.nativeElement,"scroll").pipe(_n(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),o&&0!=WE()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==WE()?e.left=e.right:1==WE()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;w6()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",o="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?o:r:"end"==e&&(e=l?r:o),l&&2==WE()?e==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&1==WE()?e==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(HL),s.Y36(s.R0b),s.Y36(Ma,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),i})(),Dp=(()=>{class i{constructor(e,r,o){this._platform=e,this._change=new Et.x,this._changeListener=a=>{this._change.next(a)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,a=o.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-a.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(vz(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gi),s.LFG(s.R0b),s.LFG(ue,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ok=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),jL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[ZE,ok,ZE,ok]}),i})();const yz=w6();class dX{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=bo(-this._previousScrollPosition.left),n.style.top=bo(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,o=this._document.body.style,a=r.scrollBehavior||"",l=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),yz&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yz&&(r.scrollBehavior=a,o.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class uX{constructor(n,e,r,o){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(cn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bz{enable(){}disable(){}attach(){}}function $L(i,n){return n.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function wz(i,n){return n.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class hX{constructor(n,e,r,o){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();$L(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fX=(()=>{class i{constructor(e,r,o,a){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new bz,this.close=l=>new uX(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new dX(this._viewportRuler,this._document),this.reposition=l=>new hX(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(HL),s.LFG(Dp),s.LFG(s.R0b),s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class GL{constructor(n){if(this.scrollStrategy=new bz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class mX{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let xz=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pX=(()=>{class i extends xz{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=o=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){const h=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue),s.LFG(s.R0b,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gX=(()=>{class i extends xz{constructor(e,r,o){super(e),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=xp(a)},this._clickListener=a=>{const l=xp(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let g=m.length-1;g>-1;g--){const b=m[g];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(h))break;const E=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(a)):E.next(a)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue),s.LFG(Gi),s.LFG(s.R0b,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cz=(()=>{class i{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||nL()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}const r=this._document.createElement("div");r.classList.add(e),nL()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue),s.LFG(Gi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class _X{constructor(n,e,r,o,a,l,h,m,g,b=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=o,this._ngZone=a,this._keyboardDispatcher=l,this._document=h,this._location=m,this._outsideClickDispatcher=g,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new Et.x,this._attachments=new Et.x,this._detachments=new Et.x,this._locationChanges=yo.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new Et.x,this._outsidePointerEvents=new Et.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Hi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=bo(this._config.width),n.height=bo(this._config.height),n.minWidth=bo(this._config.minWidth),n.minHeight=bo(this._config.minHeight),n.maxWidth=bo(this._config.maxWidth),n.maxHeight=bo(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const o=qM(e||[]).filter(a=>!!a);o.length&&(r?n.classList.add(...o):n.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(_n((0,Wi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ez="cdk-overlay-connected-position-bounding-box",vX=/([A-Za-z%]+)$/;class yX{get positions(){return this._preferredPositions}constructor(n,e,r,o,a){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Et.x,this._resizeSubscription=yo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(Ez),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,o=this._containerRect,a=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(n,o,h),g=this._getOverlayPoint(m,e,h),b=this._getOverlayFit(g,e,r,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(b,g,r)?a.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:g,originPoint:m,position:h,overlayRect:e})}if(a.length){let h=null,m=-1;for(const g of a){const b=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);b>m&&(m=b,h=g)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ez),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let o,a;if("center"==r.originX)o=n.left+n.width/2;else{const l=this._isRtl()?n.right:n.left,h=this._isRtl()?n.left:n.right;o="start"==r.originX?l:h}return e.left<0&&(o-=e.left),a="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(a-=e.top),{x:o,y:a}}_getOverlayPoint(n,e,r){let o,a;return o="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+o,y:n.y+a}}_getOverlayFit(n,e,r,o){const a=Tz(e);let{x:l,y:h}=n,m=this._getOffset(o,"x"),g=this._getOffset(o,"y");m&&(l+=m),g&&(h+=g);let S=0-h,R=h+a.height-r.height,F=this._subtractOverflows(a.width,0-l,l+a.width-r.width),G=this._subtractOverflows(a.height,S,R),Y=F*G;return{visibleArea:Y,isCompletelyWithinViewport:a.width*a.height===Y,fitsInViewportVertically:G===a.height,fitsInViewportHorizontally:F==a.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const o=r.bottom-e.y,a=r.right-e.x,l=kz(this._overlayRef.getConfig().minHeight),h=kz(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=l&&l<=o)&&(n.fitsInViewportHorizontally||null!=h&&h<=a)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const o=Tz(e),a=this._viewportRect,l=Math.max(n.x+o.width-a.width,0),h=Math.max(n.y+o.height-a.height,0),m=Math.max(a.top-r.top-n.y,0),g=Math.max(a.left-r.left-n.x,0);let b=0,E=0;return b=o.width<=a.width?g||-l:n.x<this._viewportMargin?a.left-r.left-n.x:0,E=o.height<=a.height?m||-h:n.y<this._viewportMargin?a.top-r.top-n.y:0,this._previousPushAmount={x:b,y:E},{x:n.x+b,y:n.y+E}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new mX(n,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,o=this._isRtl();let a,l,h,b,E,S;if("top"===e.overlayY)l=n.y,a=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)h=r.height-n.y+2*this._viewportMargin,a=r.height-h+this._viewportMargin;else{const R=Math.min(r.bottom-n.y+r.top,n.y),F=this._lastBoundingBoxSize.height;a=2*R,l=n.y-R,a>F&&!this._isInitialRender&&!this._growAfterOpen&&(l=n.y-F/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)S=r.width-n.x+this._viewportMargin,b=n.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)E=n.x,b=r.right-n.x;else{const R=Math.min(r.right-n.x+r.left,n.x),F=this._lastBoundingBoxSize.width;b=2*R,E=n.x-R,b>F&&!this._isInitialRender&&!this._growAfterOpen&&(E=n.x-F/2)}return{top:l,left:E,bottom:h,right:S,width:b,height:a}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;o.height=bo(r.height),o.top=bo(r.top),o.bottom=bo(r.bottom),o.width=bo(r.width),o.left=bo(r.left),o.right=bo(r.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(o.maxHeight=bo(a)),l&&(o.maxWidth=bo(l))}this._lastBoundingBoxSize=r,mv(this._boundingBox.style,o)}_resetBoundingBoxStyles(){mv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},o=this._hasExactPosition(),a=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(o){const b=this._viewportRuler.getViewportScrollPosition();mv(r,this._getExactOverlayY(e,n,b)),mv(r,this._getExactOverlayX(e,n,b))}else r.position="static";let h="",m=this._getOffset(e,"x"),g=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),g&&(h+=`translateY(${g}px)`),r.transform=h.trim(),l.maxHeight&&(o?r.maxHeight=bo(l.maxHeight):a&&(r.maxHeight="")),l.maxWidth&&(o?r.maxWidth=bo(l.maxWidth):a&&(r.maxWidth="")),mv(this._pane.style,r)}_getExactOverlayY(n,e,r){let o={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===n.overlayY?o.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":o.top=bo(a.y),o}_getExactOverlayX(n,e,r){let l,o={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),l=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===l?o.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":o.left=bo(a.x),o}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wz(n,r),isOriginOutsideView:$L(n,r),isOverlayClipped:wz(e,r),isOverlayOutsideView:$L(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,o)=>r-Math.max(o,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&qM(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof s.SBq)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function mv(i,n){for(let e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i}function kz(i){if("number"!=typeof i&&null!=i){const[n,e]=i.split(vX);return e&&"px"!==e?null:parseFloat(n)}return i||null}function Tz(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const Iz="cdk-global-overlay-wrapper";class bX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(Iz),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:a,maxWidth:l,maxHeight:h}=r,m=!("100%"!==o&&"100vw"!==o||l&&"100%"!==l&&"100vw"!==l),g=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),b=this._xPosition,E=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let R="",F="",G="";m?G="flex-start":"center"===b?(G="center",S?F=E:R=E):S?"left"===b||"end"===b?(G="flex-end",R=E):("right"===b||"start"===b)&&(G="flex-start",F=E):"left"===b||"start"===b?(G="flex-start",R=E):("right"===b||"end"===b)&&(G="flex-end",F=E),n.position=this._cssPosition,n.marginLeft=m?"0":R,n.marginTop=g?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=m?"0":F,e.justifyContent=G,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(Iz),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let wX=(()=>{class i{constructor(e,r,o,a){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=a}global(){return new bX}flexibleConnectedTo(e){return new yX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Dp),s.LFG(ue),s.LFG(Gi),s.LFG(Cz))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xX=0,F0=(()=>{class i{constructor(e,r,o,a,l,h,m,g,b,E,S,R){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=h,this._ngZone=m,this._document=g,this._directionality=b,this._location=E,this._outsideClickDispatcher=S,this._animationsModuleType=R}create(e){const r=this._createHostElement(),o=this._createPaneElement(r),a=this._createPortalOutlet(o),l=new GL(e);return l.direction=l.direction||this._directionality.value,new _X(a,r,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+xX++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new nQ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(fX),s.LFG(Cz),s.LFG(s._Vd),s.LFG(wX),s.LFG(pX),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ue),s.LFG(Ma),s.LFG(it),s.LFG(gX),s.LFG(s.QbO,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const CX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Dz=new s.OlP("cdk-connected-overlay-scroll-strategy");let qL=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),i})(),Sz=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Tt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Tt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Tt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Tt(e)}get push(){return this._push}set push(e){this._push=Tt(e)}constructor(e,r,o,a,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=yo.w0.EMPTY,this._attachSubscription=yo.w0.EMPTY,this._detachSubscription=yo.w0.EMPTY,this._positionSubscription=yo.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new R0(r,o),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=CX);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Kl(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new GL({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof qL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function lX(i,n=!1){return(0,gr.e)((e,r)=>{let o=0;e.subscribe((0,li.x)(r,a=>{const l=i(a,o++);(l||n)&&r.next(a),!l&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(F0),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(Dz),s.Y36(Ma,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[s.TTD]}),i})();const kX={provide:Dz,deps:[F0],useFactory:function EX(i){return()=>i.scrollStrategies.reposition()}};let Mz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[F0,kX],imports:[ZE,uA,jL,jL]}),i})();function WL(i){return new Ln.y(n=>{(0,Ml.Xf)(i()).subscribe(n)})}const TX=["trigger"],IX=["panel"];function DX(i,n){if(1&i&&(s.TgZ(0,"span",10),s._uU(1),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function SX(i,n){if(1&i&&(s.TgZ(0,"span",14),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function MX(i,n){1&i&&s.Hsn(0,0,["*ngSwitchCase","true"])}function AX(i,n){if(1&i&&(s.TgZ(0,"span",11),s.YNc(1,SX,2,1,"span",12),s.YNc(2,MX,1,0,"ng-content",13),s.qZA()),2&i){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function RX(i,n){if(1&i){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"div",15,16),s.NdJ("@transformPanel.done",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a._handleKeydown(o))}),s.Hsn(2,1),s.qZA()}if(2&i){const e=s.oxw();s.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),s.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const OX=[[["mat-select-trigger"]],"*"],PX=["mat-select-trigger","*"],NX={transformPanelWrap:Ep("transformPanelWrap",[hc("* => void",zY("@transformPanel",[HY()],{optional:!0}))]),transformPanel:Ep("transformPanel",[uc("void",ao({opacity:0,transform:"scale(1, 0.8)"})),hc("void => showing",il("120ms cubic-bezier(0, 0, 0.2, 1)",ao({opacity:1,transform:"scale(1, 1)"}))),hc("* => void",il("100ms linear",ao({opacity:0})))])};let Az=0;const Rz=new s.OlP("mat-select-scroll-strategy"),LX=new s.OlP("MAT_SELECT_CONFIG"),BX={provide:Rz,deps:[F0],useFactory:function FX(i){return()=>i.scrollStrategies.reposition()}},VX=new s.OlP("MatSelectTrigger");class UX{constructor(n,e){this.source=n,this.value=e}}const HX=D0(S0(T0(hL(class{constructor(i,n,e,r,o){this._elementRef=i,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=r,this.ngControl=o,this.stateChanges=new Et.x}}))));let zX=(()=>{class i extends HX{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(OF.required)??!1}set required(e){this._required=Tt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Tt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Tt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=iv(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,r,o,a,l,h,m,g,b,E,S,R,F,G){super(l,a,m,g,E),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=o,this._dir=h,this._parentFormField=b,this._liveAnnouncer=F,this._defaultOptions=G,this._panelOpen=!1,this._compareWith=(Y,ve)=>Y===ve,this._uid="mat-select-"+Az++,this._triggerAriaLabelledBy=null,this._destroy=new Et.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Az++,this._panelDoneAnimatingStream=new Et.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=WL(()=>{const Y=this.options;return Y?Y.changes.pipe(go(Y),(0,fi.w)(()=>(0,Wi.T)(...Y.map(ve=>ve.onSelectionChange)))):this._ngZone.onStable.pipe(Hi(1),(0,fi.w)(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(cn(Y=>Y),(0,Je.U)(()=>{})),this._closedStream=this.openedChange.pipe(cn(Y=>!Y),(0,Je.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=G?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=G.typeaheadDebounceInterval),this._scrollStrategyFactory=R,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(S)||0,this.id=this.id}ngOnInit(){this._selectionModel=new XM(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Oc.x)(),_n(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(_n(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(go(null),_n(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const r=`${this.id}-panel`;this._trackedModal&&A6(this._trackedModal,"aria-owns",r),function f7(i,n,e){const r=R6(i,n);r.some(o=>o.trim()==e.trim())||(r.push(e.trim()),i.setAttribute(n,r.join(" ")))}(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(A6(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,o=40===r||38===r||37===r||39===r,a=13===r||32===r,l=this._keyManager;if(!l.isTyping()&&a&&!Kl(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;l.onKeydown(e);const m=this.selected;m&&h!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,o=e.keyCode,a=40===o||38===o,l=r.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(l||13!==o&&32!==o||!r.activeItem||Kl(e))if(!l&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const h=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(h?m.select():m.deselect())})}else{const h=r.activeItemIndex;r.onKeydown(e),this._multiple&&a&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==h&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Hi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new g7(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Wi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(_n(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Wi.T)(...this.options.map(r=>r._stateChanges)).pipe(_n(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,e):e.indexOf(r)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Dp),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(QM),s.Y36(s.SBq),s.Y36(Ma,8),s.Y36(w0,8),s.Y36(x0,8),s.Y36(oA,8),s.Y36(Yl,10),s.$8M("tabindex"),s.Y36(Rz),s.Y36(dL),s.Y36(LX,8))},i.\u0275dir=s.lG2({type:i,viewQuery:function(e,r){if(1&e&&(s.Gf(TX,5),s.Gf(IX,5),s.Gf(Sz,5)),2&e){let o;s.iGM(o=s.CRH())&&(r.trigger=o.first),s.iGM(o=s.CRH())&&(r.panel=o.first),s.iGM(o=s.CRH())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),i})(),Oz=(()=>{class i extends zX{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(_n(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const o=this.panel.nativeElement,a=function sY(i,n,e){if(e.length){let r=n.toArray(),o=e.toArray(),a=0;for(let l=0;l<i+1;l++)r[l].group&&r[l].group===o[a]&&a++;return a}return 0}(e,this.options,this.optionGroups),l=r._getHostElement();o.scrollTop=0===e&&1===a?0:function aY(i,n,e,r){return i<e?i:i+n>e+r?Math.max(0,i-r+n):e}(l.offsetTop,l.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new UX(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof qL?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Tt(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,VX,5),s.Suo(o,fL,5),s.Suo(o,J6,5)),2&e){let a;s.iGM(a=s.CRH())&&(r.customTrigger=a.first),s.iGM(a=s.CRH())&&(r.options=a),s.iGM(a=s.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,r){1&e&&s.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(s.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),s.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[s._Bn([{provide:rA,useExisting:i},{provide:Q6,useExisting:i}]),s.qOj],ngContentSelectors:PX,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(s.F$t(OX),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return r.toggle()}),s.TgZ(3,"div",2),s.YNc(4,DX,2,1,"span",3),s.YNc(5,AX,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5)(7,"div",6),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()()()(),s.YNc(10,RX,3,9,"ng-template",9),s.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const o=s.MAs(1);s.xp6(3),s.Q6J("ngSwitch",r.empty),s.uIk("id",r._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(5),s.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[zn,xo,bs,Ra,Sz,qL],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[NX.transformPanel]},changeDetection:0}),i})(),jX=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[BX],imports:[fr,Mz,X6,Qn,ok,sA,X6,Qn]}),i})();function ZL(i){return(0,Je.U)(()=>i)}const Pz=["*"],$X=["content"];function GX(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o._onBackdropClicked())}),s.qZA()}if(2&i){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function qX(i,n){1&i&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const WX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ZX=["mat-drawer","mat-drawer-content","*"],YX={transformDrawer:Ep("transform",[uc("open, open-instant",ao({transform:"none",visibility:"visible"})),uc("void",ao({"box-shadow":"none",visibility:"hidden"})),hc("void => open-instant",il("0ms")),hc("void <=> open, open-instant => void",il("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},KX=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function QX(){return!1}}),Nz=new s.OlP("MAT_DRAWER_CONTAINER");let wA=(()=>{class i extends zL{constructor(e,r,o,a,l){super(o,a,l),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>Lz)),s.Y36(s.SBq),s.Y36(HL),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&s.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[s._Bn([{provide:zL,useExisting:i}]),s.qOj],ngContentSelectors:Pz,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Fz=(()=>{class i{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Tt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Tt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Tt(e))}constructor(e,r,o,a,l,h,m,g){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=a,this._ngZone=l,this._interactivityChecker=h,this._doc=m,this._container=g,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Et.x,this._animationEnd=new Et.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(cn(b=>b),(0,Je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(cn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),ZL(void 0)),this._closedStream=this.openedChange.pipe(cn(b=>!b),(0,Je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(cn(b=>b.fromState!==b.toState&&"void"===b.toState),ZL(void 0)),this._destroyed=new Et.x,this.onPositionChanged=new s.vpe,this._modeChanged=new Et.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ip(this._elementRef.nativeElement,"keydown").pipe(cn(b=>27===b.keyCode&&!this.disableClose&&!Kl(b)),_n(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe((0,Oc.x)((b,E)=>b.fromState===E.fromState&&b.toState===E.toState)).subscribe(b=>{const{fromState:E,toState:S}=b;(0===S.indexOf("open")&&"void"===E||"void"===S&&0===E.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,r,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(Hi(1)).subscribe(l=>a(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,o=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(D7),s.Y36(ov),s.Y36(Gi),s.Y36(s.R0b),s.Y36(P6),s.Y36(ue,8),s.Y36(Nz,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&s.Gf($X,5),2&e){let o;s.iGM(o=s.CRH())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&s.WFA("@transform.start",function(a){return r._animationStarted.next(a)})("@transform.done",function(a){return r._animationEnd.next(a)}),2&e&&(s.uIk("align",null),s.d8E("@transform",r._animationState),s.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Pz,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[zL],encapsulation:2,data:{animation:[YX.transformDrawer]},changeDetection:0}),i})(),Lz=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Tt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Tt(e)}get scrollable(){return this._userContent||this._content}constructor(e,r,o,a,l,h=!1,m){this._dir=e,this._element=r,this._ngZone=o,this._changeDetectorRef=a,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new Et.x,this._doCheckSubject=new Et.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Et.x,e&&e.change.pipe(_n(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(_n(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(go(this._allDrawers),_n(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(go(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(LE(10),_n(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,r-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();r+=o,e-=o}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(cn(r=>r.fromState!==r.toState),_n(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(_n(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(_n(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Hi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(_n((0,Wi.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Ma,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Dp),s.Y36(KX),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,wA,5),s.Suo(o,Fz,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._content=a.first),s.iGM(a=s.CRH())&&(r._allDrawers=a)}},viewQuery:function(e,r){if(1&e&&s.Gf(wA,5),2&e){let o;s.iGM(o=s.CRH())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:Nz,useExisting:i}])],ngContentSelectors:ZX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(s.F$t(WX),s.YNc(0,GX,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,qX,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",r.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!r._content))},dependencies:[Rn,wA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),JX=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[fr,Qn,ok,ok,Qn]}),i})();function XX(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.action())}),s._uU(2),s.qZA()()}if(2&i){const e=s.oxw();s.xp6(2),s.hij(" ",e.data.action," ")}}const eee=["label"];function tee(i,n){}const nee=Math.pow(2,31)-1;class YL{constructor(n,e){this._overlayRef=e,this._afterDismissed=new Et.x,this._afterOpened=new Et.x,this._onAction=new Et.x,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,nee))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Bz=new s.OlP("MatSnackBarData");class xA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let iee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),i})(),ree=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),i})(),oee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),i})(),see=(()=>{class i{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(YL),s.Y36(Bz))},i.\u0275cmp=s.Xpm({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s._uU(1),s.qZA(),s.YNc(2,XX,3,1,"div",1)),2&e&&(s.xp6(1),s.hij(" ",r.data.message,"\n"),s.xp6(1),s.Q6J("ngIf",r.hasAction))},dependencies:[Rn,cv,iee,ree,oee],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),i})();const aee={snackBarState:Ep("state",[uc("void, hidden",ao({transform:"scale(0.8)",opacity:0})),uc("visible",ao({transform:"scale(1)",opacity:1})),hc("* => visible",il("150ms cubic-bezier(0, 0, 0.2, 1)")),hc("* => void, * => hidden",il("75ms cubic-bezier(0.4, 0.0, 1, 1)",ao({opacity:0})))])};let cee=0,lee=(()=>{class i extends AL{constructor(e,r,o,a,l){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=l,this._document=(0,s.f3M)(ue),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Et.x,this._onExit=new Et.x,this._onEnter=new Et.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+cee++,this.attachDomPortal=h=>{this._assertNotAttached();const m=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),m},this._live="assertive"!==l.politeness||l.announcementMessage?"off"===l.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:o}=e;if(("void"===o&&"void"!==r||"hidden"===o)&&this._completeExit(),"visible"===o){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Hi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(o=>e.classList.add(o)):e.classList.add(r)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){const a=r[o],l=a.getAttribute("aria-owns");this._trackedModals.add(a),l?-1===l.indexOf(e)&&a.setAttribute("aria-owns",l+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const r=e.getAttribute("aria-owns");if(r){const o=r.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Gi),s.Y36(xA))},i.\u0275dir=s.lG2({type:i,viewQuery:function(e,r){if(1&e&&s.Gf(O0,7),2&e){let o;s.iGM(o=s.CRH())&&(r._portalOutlet=o.first)}},features:[s.qOj]}),i})(),dee=(()=>{class i extends lee{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,r="mdc-snackbar__label";e.classList.toggle(r,!e.querySelector(`.${r}`))}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,r){if(1&e&&s.Gf(eee,7),2&e){let o;s.iGM(o=s.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,r){1&e&&s.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&e&&s.d8E("@state",r._animationState)},features:[s.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),s.YNc(4,tee,0,0,"ng-template",4),s.qZA(),s._UZ(5,"div"),s.qZA()()),2&e&&(s.xp6(5),s.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[O0],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[aee.snackBarState]}}),i})(),Vz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Mz,uA,fr,aH,Qn,Qn]}),i})();const Uz=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function uee(){return new xA}});let hee=(()=>{class i{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,o,a,l,h){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=l,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){const a={...this._defaultConfig,...o};return a.data={message:e,action:r},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const a=s.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:xA,useValue:r}]}),l=new ML(this.snackBarContainerComponent,r.viewContainerRef,a),h=e.attach(l);return h.instance.snackBarConfig=r,h.instance}_attach(e,r){const o={...new xA,...this._defaultConfig,...r},a=this._createOverlay(o),l=this._attachSnackBarContainer(a,o),h=new YL(l,a);if(e instanceof s.Rgc){const m=new R0(e,null,{$implicit:o.data,snackBarRef:h});h.instance=l.attachTemplatePortal(m)}else{const m=this._createInjector(o,h),g=new ML(e,void 0,m),b=l.attachComponentPortal(g);h.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(_n(a.detachments())).subscribe(m=>{a.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(h,o),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new GL;r.direction=e.direction;let o=this._overlay.position().global();const a="rtl"===e.direction,l="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!a||"end"===e.horizontalPosition&&a,h=!l&&"center"!==e.horizontalPosition;return l?o.left("0"):h?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:YL,useValue:r},{provide:Bz,useValue:e.data}]})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(F0),s.LFG(dL),s.LFG(s.zs3),s.LFG(lL),s.LFG(i,12),s.LFG(Uz))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),fee=(()=>{class i extends hee{constructor(e,r,o,a,l,h){super(e,r,o,a,l,h),this.simpleSnackBarComponent=see,this.snackBarContainerComponent=dee,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(F0),s.LFG(dL),s.LFG(s.zs3),s.LFG(lL),s.LFG(i,12),s.LFG(Uz))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:Vz}),i})();function Hz(i){return!!i&&(i instanceof Ln.y||(0,qo.m)(i.lift)&&(0,qo.m)(i.subscribe))}const mee=[[["caption"]],[["colgroup"],["col"]]],pee=["caption","colgroup, col"];function KL(i){return class extends i{get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=Tt(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const L0=new s.OlP("CDK_TABLE");let B0=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),V0=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),CA=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class yee{}const bee=KL(yee);let df=(()=>{class i extends bee{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=Tt(e),this._hasStickyChanged=r!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(L0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,B0,5),s.Suo(o,V0,5),s.Suo(o,CA,5)),2&e){let a;s.iGM(a=s.CRH())&&(r.cell=a.first),s.iGM(a=s.CRH())&&(r.headerCell=a.first),s.iGM(a=s.CRH())&&(r.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),s.qOj]}),i})();class QL{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let JL=(()=>{class i extends QL{constructor(e,r){super(e,r)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(df),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),i})(),XL=(()=>{class i extends QL{constructor(e,r){if(super(e,r),1===e._table?._elementRef.nativeElement.nodeType){const o=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(df),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),i})();class jz{constructor(){this.tasks=[],this.endTasks=[]}}const e2=new s.OlP("_COALESCED_STYLE_SCHEDULER");let $z=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Et.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new jz,this._getScheduleObservable().pipe(_n(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new jz;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Cn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Hi(1))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),t2=(()=>{class i{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof sk?e.headerCell.template:this instanceof ak?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},i.\u0275dir=s.lG2({type:i,features:[s.TTD]}),i})();class wee extends t2{}const xee=KL(wee);let sk=(()=>{class i extends xee{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(L0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),i})();class Cee extends t2{}const Eee=KL(Cee);let ak=(()=>{class i extends Eee{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(L0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),i})(),EA=(()=>{class i extends t2{constructor(e,r,o){super(e,r),this._table=o}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(L0,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),i})(),uf=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),n2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&s.GkF(0,0)},dependencies:[uf],encapsulation:2}),i})(),o2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&s.GkF(0,0)},dependencies:[uf],encapsulation:2}),i})(),kA=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const Gz=["top","bottom","left","right"];class kee{constructor(n,e,r,o,a=!0,l=!0,h){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=a,this._needsPositionStickyOnElement=l,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const r=[];for(const o of n)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let a=0;a<o.children.length;a++)r.push(o.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const o of r)this._removeStickyStyle(o,e)})}updateStickyColumns(n,e,r,o=!0){if(!n.length||!this._isBrowser||!e.some(S=>S)&&!r.some(S=>S))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=n[0],l=a.children.length,h=this._getCellWidths(a,o),m=this._getStickyStartColumnPositions(h,e),g=this._getStickyEndColumnPositions(h,r),b=e.lastIndexOf(!0),E=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const S="rtl"===this.direction,R=S?"right":"left",F=S?"left":"right";for(const G of n)for(let Y=0;Y<l;Y++){const ve=G.children[Y];e[Y]&&this._addStickyStyle(ve,R,m[Y],Y===b),r[Y]&&this._addStickyStyle(ve,F,g[Y],Y===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:h.slice(0,b+1).map((G,Y)=>e[Y]?G:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:h.slice(E).map((G,Y)=>r[Y+E]?G:null).reverse()}))})}stickRows(n,e,r){if(!this._isBrowser)return;const o="bottom"===r?n.slice().reverse():n,a="bottom"===r?e.slice().reverse():e,l=[],h=[],m=[];for(let b=0,E=0;b<o.length;b++){if(!a[b])continue;l[b]=E;const S=o[b];m[b]=this._isNativeHtmlTable?Array.from(S.children):[S];const R=S.getBoundingClientRect().height;E+=R,h[b]=R}const g=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<o.length;b++){if(!a[b])continue;const E=l[b],S=b===g;for(const R of m[b])this._addStickyStyle(R,r,E,S)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:l,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:l,elements:m})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const r=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const o of e)n.style[o]="",n.classList.remove(this._borderCellCss[o]);Gz.some(o=>-1===e.indexOf(o)&&n.style[o])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,r,o){n.classList.add(this._stickCellCss),o&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${r}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const o of Gz)n.style[o]&&(r+=e[o]);return r?`${r}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],o=n.children;for(let a=0;a<o.length;a++)r.push(o[a].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(n,e){const r=[];let o=0;for(let a=0;a<n.length;a++)e[a]&&(r[a]=o,o+=n[a]);return r}_getStickyEndColumnPositions(n,e){const r=[];let o=0;for(let a=n.length;a>0;a--)e[a]&&(r[a]=o,o+=n[a]);return r}}const s2=new s.OlP("CDK_SPL");let TA=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),IA=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),DA=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),SA=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),MA=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Tt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Tt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,r,o,a,l,h,m,g,b,E,S,R){this._differs=e,this._changeDetectorRef=r,this._elementRef=o,this._dir=l,this._platform=m,this._viewRepeater=g,this._coalescedStyleScheduler=b,this._viewportRuler=E,this._stickyPositioningListener=S,this._ngZone=R,this._onDestroy=new Et.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new Sa.X({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(_n(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),vL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(o,a,l)=>this._getEmbeddedViewArgs(o.item,l),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{r.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Hi(1),_n(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const a=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,a,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const a=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,l)=>{this._addStickyColumnStyles([a],this._headerRowDefs[l])}),this._rowDefs.forEach(a=>{const l=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===a&&l.push(r[h]);this._addStickyColumnStyles(l,a)}),o.forEach((a,l)=>{this._addStickyColumnStyles([a],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let a=this._data[o];const l=this._getRenderRowsForData(a,o,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let h=0;h<l.length;h++){let m=l[h];const g=this._cachedRenderRowsMap.get(m.data);g.has(m.rowDef)?g.get(m.rowDef).push(m):g.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,r,o){return this._getRowDefs(e,r).map(l=>{const h=o&&o.has(l)?o.get(l):[];if(h.length){const m=h.shift();return m.dataIndex=r,m}return{data:e,rowDef:l,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),AA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=AA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=AA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=AA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,h)=>l||!!h.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),r||o||a}_switchDataSource(e){this._data=[],vL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;vL(this.dataSource)?e=this.dataSource.connect(this):Hz(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Dt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(_n(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const o=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),a=o.map(h=>h.sticky),l=o.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let o=0;o<e.viewContainer.length;o++){const a=e.viewContainer.get(o);r.push(a.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(a=>!a.when||a.when(r,e));else{let a=this._rowDefs.find(l=>l.when&&l.when(r,e))||this._defaultRowDef;a&&o.push(a)}return o}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,o,a={}){const l=e.viewContainer.createEmbeddedView(r.template,a,o);return this._renderCellTemplateForItem(r,a),l}_renderCellTemplateForItem(e,r){for(let o of this._getCellTemplates(e))uf.mostRecentCellOutlet&&uf.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,o=e.length;r<o;r++){const l=e.get(r).context;l.count=o,l.first=0===r,l.last=r===o-1,l.even=r%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[r].dataIndex,l.renderIndex=r):l.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const o=this._columnDefsByName.get(r);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of r){const a=this._document.createElement(o.tag);a.setAttribute("role","rowgroup");for(const l of o.outlets)a.appendChild(l.elementRef.nativeElement);e.appendChild(a)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,o)=>r||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new kee(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Dt.of)()).pipe(_n(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(r){const a=o.createEmbeddedView(e.templateRef),l=a.rootNodes[0];1===a.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=r}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(Ma,8),s.Y36(ue),s.Y36(Gi),s.Y36(QE),s.Y36(e2),s.Y36(Dp),s.Y36(s2,12),s.Y36(s.R0b,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,kA,5),s.Suo(o,df,5),s.Suo(o,EA,5),s.Suo(o,sk,5),s.Suo(o,ak,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._noDataRow=a.first),s.iGM(a=s.CRH())&&(r._contentColumnDefs=a),s.iGM(a=s.CRH())&&(r._contentRowDefs=a),s.iGM(a=s.CRH())&&(r._contentHeaderRowDefs=a),s.iGM(a=s.CRH())&&(r._contentFooterRowDefs=a)}},viewQuery:function(e,r){if(1&e&&(s.Gf(TA,7),s.Gf(IA,7),s.Gf(DA,7),s.Gf(SA,7)),2&e){let o;s.iGM(o=s.CRH())&&(r._rowOutlet=o.first),s.iGM(o=s.CRH())&&(r._headerRowOutlet=o.first),s.iGM(o=s.CRH())&&(r._footerRowOutlet=o.first),s.iGM(o=s.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:L0,useExisting:i},{provide:QE,useClass:cH},{provide:e2,useClass:$z},{provide:s2,useValue:null}])],ngContentSelectors:pee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(s.F$t(mee),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[TA,IA,DA,SA],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),i})();function AA(i,n){return i.concat(Array.from(n))}let Iee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[jL]}),i})();const Dee=[[["caption"]],[["colgroup"],["col"]]],See=["caption","colgroup, col"];let a2=(()=>{class i extends MA{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,r){2&e&&s.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:MA,useExisting:i},{provide:L0,useExisting:i},{provide:e2,useClass:$z},{provide:QE,useClass:cH},{provide:s2,useValue:null}]),s.qOj],ngContentSelectors:See,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(s.F$t(Dee),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[TA,IA,DA,SA],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),i})(),RA=(()=>{class i extends B0{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:B0,useExisting:i}]),s.qOj]}),i})(),OA=(()=>{class i extends V0{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:V0,useExisting:i}]),s.qOj]}),i})(),PA=(()=>{class i extends df{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:df,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),s.qOj]}),i})(),NA=(()=>{class i extends JL{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[s.qOj]}),i})(),FA=(()=>{class i extends XL{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[s.qOj]}),i})(),c2=(()=>{class i extends sk{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:sk,useExisting:i}]),s.qOj]}),i})(),l2=(()=>{class i extends EA{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:EA,useExisting:i}]),s.qOj]}),i})(),d2=(()=>{class i extends n2{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:n2,useExisting:i}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&s.GkF(0,0)},dependencies:[uf],encapsulation:2}),i})(),u2=(()=>{class i extends o2{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[s._Bn([{provide:o2,useExisting:i}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&s.GkF(0,0)},dependencies:[uf],encapsulation:2}),i})(),Lee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,Iee,Qn]}),i})();function Vee(i,n){}const Uee=function(i){return{animationDuration:i}},Hee=function(i,n){return{value:i,params:n}};function zee(i,n){1&i&&s.Hsn(0)}const Wz=["*"],jee=["tabListContainer"],$ee=["tabList"],Gee=["tabListInner"],qee=["nextPaginator"],Wee=["previousPaginator"],Zee=["tabBodyWrapper"],Yee=["tabHeader"];function Kee(i,n){}function Qee(i,n){if(1&i&&s.YNc(0,Kee,0,0,"ng-template",14),2&i){const e=s.oxw().$implicit;s.Q6J("cdkPortalOutlet",e.templateLabel)}}function Jee(i,n){if(1&i&&s._uU(0),2&i){const e=s.oxw().$implicit;s.Oqu(e.textLabel)}}function Xee(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",6,7),s.NdJ("click",function(){const o=s.CHM(e),a=o.$implicit,l=o.index,h=s.oxw(),m=s.MAs(1);return s.KtG(h._handleClick(a,m,l))})("cdkFocusChange",function(o){const l=s.CHM(e).index,h=s.oxw();return s.KtG(h._tabFocusChanged(o,l))}),s._UZ(2,"span",8)(3,"div",9),s.TgZ(4,"span",10)(5,"span",11),s.YNc(6,Qee,1,1,"ng-template",12),s.YNc(7,Jee,1,1,"ng-template",null,13,s.W1O),s.qZA()()()}if(2&i){const e=n.$implicit,r=n.index,o=s.MAs(1),a=s.MAs(8),l=s.oxw();s.ekj("mdc-tab--active",l.selectedIndex===r),s.Q6J("id",l._getTabLabelId(r))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",l.fitInkBarToContent),s.uIk("tabIndex",l._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",l._tabs.length)("aria-controls",l._getTabContentId(r))("aria-selected",l.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),s.xp6(3),s.Q6J("matRippleTrigger",o)("matRippleDisabled",e.disabled||l.disableRipple),s.xp6(3),s.Q6J("ngIf",e.templateLabel)("ngIfElse",a)}}function ete(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"mat-tab-body",15),s.NdJ("_onCentered",function(){s.CHM(e);const o=s.oxw();return s.KtG(o._removeTabBodyWrapperHeight())})("_onCentering",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a._setTabBodyWrapperHeight(o))}),s.qZA()}if(2&i){const e=n.$implicit,r=n.index,o=s.oxw();s.ekj("mat-mdc-tab-body-active",o.selectedIndex===r),s.Q6J("id",o._getTabContentId(r))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),s.uIk("tabindex",null!=o.contentTabIndex&&o.selectedIndex===r?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(r))}}const tte={translateTab:Ep("translateTab",[uc("center, void, left-origin-center, right-origin-center",ao({transform:"none"})),uc("left",ao({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),uc("right",ao({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),hc("* => left, * => right, left => center, right => center",il("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),hc("void => left-origin-center",[ao({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),il("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),hc("void => right-origin-center",[ao({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),il("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let nte=(()=>{class i extends O0{constructor(e,r,o,a){super(e,r,a),this._host=o,this._centeringSub=yo.w0.EMPTY,this._leavingSub=yo.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(go(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36((0,s.Gpc)(()=>Zz)),s.Y36(ue))},i.\u0275dir=s.lG2({type:i,selectors:[["","matTabBodyHost",""]],features:[s.qOj]}),i})(),ite=(()=>{class i{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,o){this._elementRef=e,this._dir=r,this._dirChangeSubscription=yo.w0.EMPTY,this._translateTabComplete=new Et.x,this._onCentering=new s.vpe,this._beforeCentering=new s.vpe,this._afterLeavingCenter=new s.vpe,this._onCentered=new s.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(a=>{this._computePositionAnimationState(a),o.markForCheck()})),this._translateTabComplete.pipe((0,Oc.x)((a,l)=>a.fromState===l.fromState&&a.toState===l.toState)).subscribe(a=>{this._isCenterPosition(a.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(a.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Ma,8),s.Y36(s.sBO))},i.\u0275dir=s.lG2({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),Zz=(()=>{class i extends ite{constructor(e,r,o){super(e,r,o)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Ma,8),s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&s.Gf(O0,5),2&e){let o;s.iGM(o=s.CRH())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[s.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("@translateTab.start",function(a){return r._onTranslateTabStarted(a)})("@translateTab.done",function(a){return r._translateTabComplete.next(a)}),s.YNc(2,Vee,0,0,"ng-template",2),s.qZA()),2&e&&s.Q6J("@translateTab",s.WLB(3,Hee,r._position,s.VKq(1,Uee,r.animationDuration)))},dependencies:[nte],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[tte.translateTab]}}),i})();const rte=new s.OlP("MatTabContent");let ote=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","matTabContent",""]],features:[s._Bn([{provide:rte,useExisting:i}])]}),i})();const ste=new s.OlP("MatTabLabel"),Yz=new s.OlP("MAT_TAB");let ate=(()=>{class i extends iQ{constructor(e,r,o){super(e,r),this._closestTab=o}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(Yz,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[s._Bn([{provide:ste,useExisting:i}]),s.qOj]}),i})();const h2="mdc-tab-indicator--active",Kz="mdc-tab-indicator--no-transition";class cte{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(o=>o.elementRef.nativeElement===n),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){const o=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(o),this._currentItem=e}}}function lte(i){return class extends i{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=Tt(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(h2);const r=e.getBoundingClientRect(),o=n.width/r.width,a=n.left-r.left;e.classList.add(Kz),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${o})`),e.getBoundingClientRect(),e.classList.remove(Kz),e.classList.add(h2),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(h2)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const ute=T0(class{}),hte=lte((()=>{class i extends ute{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),i})());let Qz=(()=>{class i extends hte{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(s.uIk("aria-disabled",!!r.disabled),s.ekj("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[s.qOj]}),i})();const fte=T0(class{}),Jz=new s.OlP("MAT_TAB_GROUP");let mte=(()=>{class i extends fte{get content(){return this._contentPortal}constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new Et.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new R0(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(Jz,8))},i.\u0275dir=s.lG2({type:i,viewQuery:function(e,r){if(1&e&&s.Gf(s.Rgc,7),2&e){let o;s.iGM(o=s.CRH())&&(r._implicitContent=o.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[s.qOj,s.TTD]}),i})(),Xz=(()=>{class i extends mte{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-tab"]],contentQueries:function(e,r,o){if(1&e&&(s.Suo(o,ote,7,s.Rgc),s.Suo(o,ate,5)),2&e){let a;s.iGM(a=s.CRH())&&(r._explicitContent=a.first),s.iGM(a=s.CRH())&&(r.templateLabel=a.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[s._Bn([{provide:Yz,useExisting:i}]),s.qOj],ngContentSelectors:Wz,decls:1,vars:0,template:function(e,r){1&e&&(s.F$t(),s.YNc(0,zee,1,0,"ng-template"))},encapsulation:2}),i})();const ej=E0({passive:!0});let _te=(()=>{class i{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Tt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=iv(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,r,o,a,l,h,m){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=o,this._dir=a,this._ngZone=l,this._platform=h,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Et.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Et.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new s.vpe,this.indexFocused=new s.vpe,l.runOutsideAngular(()=>{Ip(e.nativeElement,"mouseleave").pipe(_n(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ip(this._previousPaginator.nativeElement,"touchstart",ej).pipe(_n(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ip(this._nextPaginator.nativeElement,"touchstart",ej).pipe(_n(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,Dt.of)("ltr"),r=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new YM(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Hi(1)).subscribe(o),(0,Wi.T)(e,r,this._items.changes,this._itemsResized()).pipe(_n(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return"function"!=typeof ResizeObserver?Go.E:this._items.changes.pipe(go(this._items),(0,fi.w)(e=>new Ln.y(r=>this._ngZone.runOutsideAngular(()=>{const o=new ResizeObserver(a=>r.next(a));return e.forEach(a=>o.observe(a.elementRef.nativeElement)),()=>{o.disconnect()}}))),cL(1),cn(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Kl(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:l}=r.elementRef.nativeElement;let h,m;"ltr"==this._getLayoutDirection()?(h=a,m=h+l):(m=this._tabListInner.nativeElement.offsetWidth-a,h=m-l);const g=this.scrollDistance,b=this.scrollDistance+o;h<g?this.scrollDistance-=g-h:m>b&&(this.scrollDistance+=Math.min(m-b,h-g))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),UL(650,100).pipe(_n((0,Wi.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:o,distance:a}=this._scrollHeader(e);(0===a||a>=o)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Dp),s.Y36(Ma,8),s.Y36(s.R0b),s.Y36(Gi),s.Y36(s.QbO,8))},i.\u0275dir=s.lG2({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),vte=(()=>{class i extends _te{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Tt(e)}constructor(e,r,o,a,l,h,m){super(e,r,o,a,l,h,m),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Dp),s.Y36(Ma,8),s.Y36(s.R0b),s.Y36(Gi),s.Y36(s.QbO,8))},i.\u0275dir=s.lG2({type:i,inputs:{disableRipple:"disableRipple"},features:[s.qOj]}),i})(),yte=(()=>{class i extends vte{constructor(e,r,o,a,l,h,m){super(e,r,o,a,l,h,m)}ngAfterContentInit(){this._inkBar=new cte(this._items),super.ngAfterContentInit()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Dp),s.Y36(Ma,8),s.Y36(s.R0b),s.Y36(Gi),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-tab-header"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,Qz,4),2&e){let a;s.iGM(a=s.CRH())&&(r._items=a)}},viewQuery:function(e,r){if(1&e&&(s.Gf(jee,7),s.Gf($ee,7),s.Gf(Gee,7),s.Gf(qee,5),s.Gf(Wee,5)),2&e){let o;s.iGM(o=s.CRH())&&(r._tabListContainer=o.first),s.iGM(o=s.CRH())&&(r._tabList=o.first),s.iGM(o=s.CRH())&&(r._tabListInner=o.first),s.iGM(o=s.CRH())&&(r._nextPaginator=o.first),s.iGM(o=s.CRH())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&s.ekj("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[s.qOj],ngContentSelectors:Wz,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(a){return r._handlePaginatorPress("before",a)})("touchend",function(){return r._stopInterval()}),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.NdJ("keydown",function(a){return r._handleKeydown(a)}),s.TgZ(5,"div",5,6),s.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),s.TgZ(7,"div",7,8),s.Hsn(9),s.qZA()()(),s.TgZ(10,"button",9,10),s.NdJ("mousedown",function(a){return r._handlePaginatorPress("after",a)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),s._UZ(12,"div",2),s.qZA()),2&e&&(s.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),s.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),s.xp6(3),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),s.xp6(7),s.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),s.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[Ql,T6],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),i})();const tj=new s.OlP("MAT_TABS_CONFIG");let bte=0;const wte=I0(D0(class{constructor(i){this._elementRef=i}}),"primary");let xte=(()=>{class i extends wte{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Tt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=iv(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=iv(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Tt(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=Tt(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,o,a){super(e),this._changeDetectorRef=r,this._animationMode=a,this._tabs=new s.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=yo.w0.EMPTY,this._tabLabelSubscription=yo.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new s.vpe,this.focusChange=new s.vpe,this.animationDone=new s.vpe,this.selectedTabChange=new s.vpe(!0),this._groupId=bte++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=!(!o||null==o.disablePagination)&&o.disablePagination,this.dynamicHeight=!(!o||null==o.dynamicHeight)&&o.dynamicHeight,this.contentTabIndex=o?.contentTabIndex??null,this.preserveContent=!!o?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,a)=>o.isActive=a===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,o)=>{r.position=o-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const r=this._tabs.toArray();let o;for(let a=0;a<r.length;a++)if(r[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,o=r[a];break}!o&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(go(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new Ete;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Wi.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,o){r.focusIndex=o,e.disabled||(this.selectedIndex=o)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(tj,8),s.Y36(s.QbO,8))},i.\u0275dir=s.lG2({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[s.qOj]}),i})(),Cte=(()=>{class i extends xte{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=Tt(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=Tt(e)}constructor(e,r,o,a){super(e,r,o,a),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!o||null==o.fitInkBarToContent)&&o.fitInkBarToContent,this.stretchTabs=!o||null==o.stretchTabs||o.stretchTabs}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(tj,8),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-tab-group"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,Xz,5),2&e){let a;s.iGM(a=s.CRH())&&(r._allTabs=a)}},viewQuery:function(e,r){if(1&e&&(s.Gf(Zee,5),s.Gf(Yee,5)),2&e){let o;s.iGM(o=s.CRH())&&(r._tabBodyWrapper=o.first),s.iGM(o=s.CRH())&&(r._tabHeader=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,r){2&e&&(s.Udp("--mat-tab-animation-duration",r.animationDuration),s.ekj("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[s._Bn([{provide:Jz,useExisting:i}]),s.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,r){1&e&&(s.TgZ(0,"mat-tab-header",0,1),s.NdJ("indexFocused",function(a){return r._focusChanged(a)})("selectFocusedIndex",function(a){return r.selectedIndex=a}),s.YNc(2,Xee,9,17,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.YNc(5,ete,1,11,"mat-tab-body",5),s.qZA()),2&e&&(s.Q6J("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),s.xp6(2),s.Q6J("ngForOf",r._tabs),s.xp6(1),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),s.xp6(2),s.Q6J("ngForOf",r._tabs))},dependencies:[zn,zr,Rn,O0,Ql,L7,Zz,Qz,yte],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),i})();class Ete{}let kte=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[fr,Qn,uA,av,WM,B7,Qn]}),i})();const Tte=["*",[["mat-toolbar-row"]]],Ite=["*","mat-toolbar-row"],Dte=I0(class{constructor(i){this._elementRef=i}});let nj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),Ste=(()=>{class i extends Dte{constructor(e,r,o){super(e),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Gi),s.Y36(ue))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,r,o){if(1&e&&s.Suo(o,nj,5),2&e){let a;s.iGM(a=s.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&s.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:Ite,decls:2,vars:0,template:function(e,r){1&e&&(s.F$t(Tte),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),i})(),Mte=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Qn,Qn]}),i})();function ij(i){return new s.vHH(3e3,!1)}function Sp(i){switch(i.length){case 0:return new JE;case 1:return i[0];default:return new wH(i)}}function rj(i,n,e=new Map,r=new Map){const o=[],a=[];let l=-1,h=null;if(n.forEach(m=>{const g=m.get("offset"),b=g==l,E=b&&h||new Map;m.forEach((S,R)=>{let F=R,G=S;if("offset"!==R)switch(F=i.normalizePropertyName(F,o),G){case"!":G=e.get(R);break;case af:G=r.get(R);break;default:G=i.normalizeStyleValue(R,F,G,o)}E.set(F,G)}),b||a.push(E),h=E,l=g}),o.length)throw function Xte(i){return new s.vHH(3502,!1)}();return a}function f2(i,n,e,r){switch(n){case"start":i.onStart(()=>r(e&&m2(e,"start",i)));break;case"done":i.onDone(()=>r(e&&m2(e,"done",i)));break;case"destroy":i.onDestroy(()=>r(e&&m2(e,"destroy",i)))}}function m2(i,n,e){const a=p2(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),l=i._data;return null!=l&&(a._data=l),a}function p2(i,n,e,r,o="",a=0,l){return{element:i,triggerName:n,fromState:e,toState:r,phaseName:o,totalTime:a,disabled:!!l}}function fc(i,n,e){let r=i.get(n);return r||i.set(n,r=e),r}function oj(i){const n=i.indexOf(":");return[i.substring(1,n),i.slice(n+1)]}const une=(()=>typeof document>"u"?null:document.documentElement)();function g2(i){const n=i.parentNode||i.host||null;return n===une?null:n}let pv=null,sj=!1;function aj(i,n){for(;n;){if(n===i)return!0;n=g2(n)}return!1}function cj(i,n,e){if(e)return Array.from(i.querySelectorAll(n));const r=i.querySelector(n);return r?[r]:[]}let lj=(()=>{class i{validateStyleProperty(e){return function fne(i){pv||(pv=function mne(){return typeof document<"u"?document.body:null}()||{},sj=!!pv.style&&"WebkitAppearance"in pv.style);let n=!0;return pv.style&&!function hne(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in pv.style,!n&&sj&&(n="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in pv.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return aj(e,r)}getParentElement(e){return g2(e)}query(e,r,o){return cj(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,a,l,h=[],m){return new JE(o,a)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),_2=(()=>{class i{}return i.NOOP=new lj,i})();const pne=1e3,v2="ng-enter",LA="ng-leave",BA="ng-trigger",VA=".ng-trigger",uj="ng-animating",y2=".ng-animating";function hf(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:b2(parseFloat(n[1]),n[2])}function b2(i,n){return"s"===n?i*pne:i}function UA(i,n,e){return i.hasOwnProperty("duration")?i:function _ne(i,n,e){let o,a=0,l="";if("string"==typeof i){const h=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return n.push(ij()),{duration:0,delay:0,easing:""};o=b2(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(a=b2(parseFloat(m),h[4]));const g=h[5];g&&(l=g)}else o=i;if(!e){let h=!1,m=n.length;o<0&&(n.push(function Ate(){return new s.vHH(3100,!1)}()),h=!0),a<0&&(n.push(function Rte(){return new s.vHH(3101,!1)}()),h=!0),h&&n.splice(m,0,ij())}return{duration:o,delay:a,easing:l}}(i,n,e)}function ck(i,n={}){return Object.keys(i).forEach(e=>{n[e]=i[e]}),n}function hj(i){const n=new Map;return Object.keys(i).forEach(e=>{n.set(e,i[e])}),n}function Mp(i,n=new Map,e){if(e)for(let[r,o]of e)n.set(r,o);for(let[r,o]of i)n.set(r,o);return n}function gu(i,n,e){n.forEach((r,o)=>{const a=x2(o);e&&!e.has(o)&&e.set(o,i.style[a]),i.style[a]=r})}function gv(i,n){n.forEach((e,r)=>{const o=x2(r);i.style[o]=""})}function lk(i){return Array.isArray(i)?1==i.length?i[0]:yH(i):i}const w2=new RegExp("{{\\s*(.+?)\\s*}}","g");function mj(i){let n=[];if("string"==typeof i){let e;for(;e=w2.exec(i);)n.push(e[1]);w2.lastIndex=0}return n}function dk(i,n,e){const r=i.toString(),o=r.replace(w2,(a,l)=>{let h=n[l];return null==h&&(e.push(function Pte(i){return new s.vHH(3003,!1)}()),h=""),h.toString()});return o==r?i:o}function HA(i){const n=[];let e=i.next();for(;!e.done;)n.push(e.value),e=i.next();return n}const bne=/-+([a-z0-9])/g;function x2(i){return i.replace(bne,(...n)=>n[1].toUpperCase())}function mc(i,n,e){switch(n.type){case 7:return i.visitTrigger(n,e);case 0:return i.visitState(n,e);case 1:return i.visitTransition(n,e);case 2:return i.visitSequence(n,e);case 3:return i.visitGroup(n,e);case 4:return i.visitAnimate(n,e);case 5:return i.visitKeyframes(n,e);case 6:return i.visitStyle(n,e);case 8:return i.visitReference(n,e);case 9:return i.visitAnimateChild(n,e);case 10:return i.visitAnimateRef(n,e);case 11:return i.visitQuery(n,e);case 12:return i.visitStagger(n,e);default:throw function Nte(i){return new s.vHH(3004,!1)}()}}function pj(i,n){return window.getComputedStyle(i)[n]}const zA="*";function Cne(i,n){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(r=>function Ene(i,n,e){if(":"==i[0]){const m=function kne(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function Yte(i){return new s.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof m)return void n.push(m);i=m}const r=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function Zte(i){return new s.vHH(3015,!1)}()),n;const o=r[1],a=r[2],l=r[3];n.push(gj(o,l));"<"==a[0]&&!(o==zA&&l==zA)&&n.push(gj(l,o))}(r,e,n)):e.push(i),e}const jA=new Set(["true","1"]),$A=new Set(["false","0"]);function gj(i,n){const e=jA.has(i)||$A.has(i),r=jA.has(n)||$A.has(n);return(o,a)=>{let l=i==zA||i==o,h=n==zA||n==a;return!l&&e&&"boolean"==typeof o&&(l=o?jA.has(i):$A.has(i)),!h&&r&&"boolean"==typeof a&&(h=a?jA.has(n):$A.has(n)),l&&h}}const Tne=new RegExp("s*:selfs*,?","g");function C2(i,n,e,r){return new Ine(i).build(n,e,r)}class Ine{constructor(n){this._driver=n}build(n,e,r){const o=new Mne(e);return this._resetContextStyleTimingState(o),mc(this,lk(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,o=e.depCount=0;const a=[],l=[];return"@"==n.name.charAt(0)&&e.errors.push(function Lte(){return new s.vHH(3006,!1)}()),n.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,g=m.name;g.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,a.push(this.visitState(m,e))}),m.name=g}else if(1==h.type){const m=this.visitTransition(h,e);r+=m.queryCount,o+=m.depCount,l.push(m)}else e.errors.push(function Bte(){return new s.vHH(3007,!1)}())}),{type:7,name:n.name,states:a,transitions:l,queryCount:r,depCount:o,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=o||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{mj(m).forEach(g=>{l.hasOwnProperty(g)||a.add(g)})})}),a.size&&(HA(a.values()),e.errors.push(function Vte(i,n){return new s.vHH(3008,!1)}()))}return{type:0,name:n.name,style:r,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=mc(this,lk(n.animation),e);return{type:1,matchers:Cne(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:_v(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>mc(this,r,e)),options:_v(n.options)}}visitGroup(n,e){const r=e.currentTime;let o=0;const a=n.steps.map(l=>{e.currentTime=r;const h=mc(this,l,e);return o=Math.max(o,e.currentTime),h});return e.currentTime=o,{type:3,steps:a,options:_v(n.options)}}visitAnimate(n,e){const r=function Rne(i,n){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return E2(UA(i,n).duration,0,"");const e=i;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=E2(0,0,"");return a.dynamic=!0,a.strValue=e,a}const o=UA(e,n);return E2(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let o,a=n.styles?n.styles:ao({});if(5==a.type)o=this.visitKeyframes(a,e);else{let l=n.styles,h=!1;if(!l){h=!0;const g={};r.easing&&(g.easing=r.easing),l=ao(g)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,e);m.isEmptyStep=h,o=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let h of o)"string"==typeof h?h===af?r.push(h):e.errors.push(new s.vHH(3002,!1)):r.push(hj(h));let a=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!a))for(let m of h.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let o=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,m)=>{const g=e.collectedStyles.get(e.currentQuerySelector),b=g.get(m);let E=!0;b&&(a!=o&&a>=b.startTime&&o<=b.endTime&&(e.errors.push(function Hte(i,n,e,r,o){return new s.vHH(3010,!1)}()),E=!1),a=b.startTime),E&&g.set(m,{startTime:a,endTime:o}),e.options&&function yne(i,n,e){const r=n.params||{},o=mj(i);o.length&&o.forEach(a=>{r.hasOwnProperty(a)||e.push(function Ote(i){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function zte(){return new s.vHH(3011,!1)}()),r;let a=0;const l=[];let h=!1,m=!1,g=0;const b=n.steps.map(ve=>{const Me=this._makeStyleAst(ve,e);let Oe=null!=Me.offset?Me.offset:function Ane(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Me.styles),De=0;return null!=Oe&&(a++,De=Me.offset=Oe),m=m||De<0||De>1,h=h||De<g,g=De,l.push(De),Me});m&&e.errors.push(function jte(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function $te(){return new s.vHH(3200,!1)}());const E=n.steps.length;let S=0;a>0&&a<E?e.errors.push(function Gte(){return new s.vHH(3202,!1)}()):0==a&&(S=1/(E-1));const R=E-1,F=e.currentTime,G=e.currentAnimateTimings,Y=G.duration;return b.forEach((ve,Me)=>{const Oe=S>0?Me==R?1:S*Me:l[Me],De=Oe*Y;e.currentTime=F+G.delay+De,G.duration=De,this._validateStyleAst(ve,e),ve.offset=Oe,r.styles.push(ve)}),r}visitReference(n,e){return{type:8,animation:mc(this,lk(n.animation),e),options:_v(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:_v(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:_v(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[a,l]=function Dne(i){const n=!!i.split(/\s*,\s*/).find(e=>":self"==e);return n&&(i=i.replace(Tne,"")),i=i.replace(/@\*/g,VA).replace(/@\w+/g,e=>VA+"-"+e.slice(1)).replace(/:animating/g,y2),[i,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+a:a,fc(e.collectedStyles,e.currentQuerySelector,new Map);const h=mc(this,lk(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:h,originalSelector:n.selector,options:_v(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function qte(){return new s.vHH(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:UA(n.timings,e.errors,!0);return{type:12,animation:mc(this,lk(n.animation),e),timings:r,options:null}}}class Mne{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _v(i){return i?(i=ck(i)).params&&(i.params=function Sne(i){return i?ck(i):null}(i.params)):i={},i}function E2(i,n,e){return{duration:i,delay:n,easing:e}}function k2(i,n,e,r,o,a,l=null,h=!1){return{type:1,element:i,keyframes:n,preStyleProps:e,postStyleProps:r,duration:o,delay:a,totalTime:o+a,easing:l,subTimeline:h}}class GA{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Nne=new RegExp(":enter","g"),Lne=new RegExp(":leave","g");function T2(i,n,e,r,o,a=new Map,l=new Map,h,m,g=[]){return(new Bne).buildKeyframes(i,n,e,r,o,a,l,h,m,g)}class Bne{buildKeyframes(n,e,r,o,a,l,h,m,g,b=[]){g=g||new GA;const E=new I2(n,e,g,o,a,b,[]);E.options=m;const S=m.delay?hf(m.delay):0;E.currentTimeline.delayNextStep(S),E.currentTimeline.setStyles([l],null,E.errors,m),mc(this,r,E);const R=E.timelines.filter(F=>F.containsAnimation());if(R.length&&h.size){let F;for(let G=R.length-1;G>=0;G--){const Y=R[G];if(Y.element===e){F=Y;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,E.errors,m)}return R.length?R.map(F=>F.buildKeyframes()):[k2(e,[],[],[],0,S,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(n.options),a=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);a!=l&&e.transformIntoNewTimeline(l)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const o of n){const a=o?.delay;if(a){const l="number"==typeof a?a:hf(dk(a,o?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(n,e,r){let a=e.currentTimeline.currentTime;const l=null!=r.duration?hf(r.duration):null,h=null!=r.delay?hf(r.delay):null;return 0!==l&&n.forEach(m=>{const g=e.appendInstructionToTimeline(m,l,h);a=Math.max(a,g.duration+g.delay)}),a}visitReference(n,e){e.updateOptions(n.options,!0),mc(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let o=e;const a=n.options;if(a&&(a.params||a.delay)&&(o=e.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=qA);const l=hf(a.delay);o.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>mc(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let o=e.currentTimeline.currentTime;const a=n.options&&n.options.delay?hf(n.options.delay):0;n.steps.forEach(l=>{const h=e.createSubContext(n.options);a&&h.delayNextStep(a),mc(this,l,h),o=Math.max(o,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return UA(e.params?dk(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const a=n.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=o&&o.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(a):r.setStyles(n.styles,a,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,a=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,n.styles.forEach(m=>{h.forwardTime((m.offset||0)*a),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(o+a),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,o=n.options||{},a=o.delay?hf(o.delay):0;a&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qA);let l=r;const h=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((g,b)=>{e.currentQueryIndex=b;const E=e.createSubContext(n.options,g);a&&E.delayNextStep(a),g===e.element&&(m=E.currentTimeline),mc(this,n.animation,E),E.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,o=e.currentTimeline,a=n.timings,l=Math.abs(a.duration),h=l*(e.currentQueryTotal-1);let m=l*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const b=e.currentTimeline;m&&b.delayNextStep(m);const E=b.currentTime;mc(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=o.currentTime-E+(o.startTime-r.currentTimeline.startTime)}}const qA={};class I2{constructor(n,e,r,o,a,l,h,m){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=a,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new WA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let o=this.options;null!=r.duration&&(o.duration=hf(r.duration)),null!=r.delay&&(o.delay=hf(r.delay));const a=r.params;if(a){let l=o.params;l||(l=this.options.params={}),Object.keys(a).forEach(h=>{(!e||!l.hasOwnProperty(h))&&(l[h]=dk(a[h],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return n}createSubContext(n=null,e,r){const o=e||this.element,a=new I2(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(n),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(n){return this.previousNode=qA,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},a=new Vne(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,o,a,l){let h=[];if(o&&h.push(this.element),n.length>0){n=(n=n.replace(Nne,"."+this._enterClassName)).replace(Lne,"."+this._leaveClassName);let g=this._driver.query(this.element,n,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),h.push(...g)}return!a&&0==h.length&&l.push(function Wte(i){return new s.vHH(3014,!1)}()),h}}class WA{constructor(n,e,r,o){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new WA(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||af),this._currentKeyframe.set(e,af);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,o){e&&this._previousKeyframe.set("easing",e);const a=o&&o.params||{},l=function Une(i,n){const e=new Map;let r;return i.forEach(o=>{if("*"===o){r=r||n.keys();for(let a of r)e.set(a,af)}else Mp(o,e)}),e}(n,this._globalTimelineStyles);for(let[h,m]of l){const g=dk(m,a,r);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??af),this._updateStyle(h,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((h,m)=>{const g=Mp(h,new Map,this._backFill);g.forEach((b,E)=>{"!"===b?n.add(E):b===af&&e.add(E)}),r||g.set("offset",m/this.duration),o.push(g)});const a=n.size?HA(n.values()):[],l=e.size?HA(e.values()):[];if(r){const h=o[0],m=new Map(h);h.set("offset",0),m.set("offset",1),o=[h,m]}return k2(this.element,o,a,l,this.duration,this.startTime,this.easing,!1)}}class Vne extends WA{constructor(n,e,r,o,a,l,h=!1){super(n,e,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],l=r+e,h=e/l,m=Mp(n[0]);m.set("offset",0),a.push(m);const g=Mp(n[0]);g.set("offset",yj(h)),a.push(g);const b=n.length-1;for(let E=1;E<=b;E++){let S=Mp(n[E]);const R=S.get("offset");S.set("offset",yj((e+R*r)/l)),a.push(S)}r=l,e=0,o="",n=a}return k2(this.element,n,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function yj(i,n=3){const e=Math.pow(10,n-1);return Math.round(i*e)/e}class D2{}const Hne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zne extends D2{normalizePropertyName(n,e){return x2(n)}normalizeStyleValue(n,e,r,o){let a="";const l=r.toString().trim();if(Hne.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&o.push(function Fte(i,n){return new s.vHH(3005,!1)}())}return l+a}}function bj(i,n,e,r,o,a,l,h,m,g,b,E,S){return{type:0,element:i,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:a,toState:r,toStyles:l,timelines:h,queriedElements:m,preStyleProps:g,postStyleProps:b,totalTime:E,errors:S}}const S2={};class wj{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,o){return function jne(i,n,e,r,o){return i.some(a=>a(n,e,r,o))}(this.ast.matchers,n,e,r,o)}buildStyles(n,e,r){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,r):new Map}build(n,e,r,o,a,l,h,m,g,b){const E=[],S=this.ast.options&&this.ast.options.params||S2,F=this.buildStyles(r,h&&h.params||S2,E),G=m&&m.params||S2,Y=this.buildStyles(o,G,E),ve=new Set,Me=new Map,Oe=new Map,De="void"===o,Pe={params:$ne(G,S),delay:this.ast.options?.delay},et=b?[]:T2(n,e,this.ast.animation,a,l,F,Y,Pe,g,E);let ht=0;if(et.forEach(vn=>{ht=Math.max(vn.duration+vn.delay,ht)}),E.length)return bj(e,this._triggerName,r,o,De,F,Y,[],[],Me,Oe,ht,E);et.forEach(vn=>{const Ni=vn.element,_c=fc(Me,Ni,new Set);vn.preStyleProps.forEach(zs=>_c.add(zs));const is=fc(Oe,Ni,new Set);vn.postStyleProps.forEach(zs=>is.add(zs)),Ni!==e&&ve.add(Ni)});const Bt=HA(ve.values());return bj(e,this._triggerName,r,o,De,F,Y,et,Bt,Me,Oe,ht)}}function $ne(i,n){const e=ck(n);for(const r in i)i.hasOwnProperty(r)&&null!=i[r]&&(e[r]=i[r]);return e}class Gne{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,o=ck(this.defaultParams);return Object.keys(n).forEach(a=>{const l=n[a];null!==l&&(o[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{l&&(l=dk(l,o,e));const m=this.normalizer.normalizePropertyName(h,e);l=this.normalizer.normalizeStyleValue(h,m,l,e),r.set(h,l)})}),r}}class Wne{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new Gne(o.style,o.options&&o.options.params||{},r))}),xj(this.states,"true","1"),xj(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new wj(n,o,this.states))}),this.fallbackTransition=function Zne(i,n,e){return new wj(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,o){return this.transitionFactories.find(l=>l.match(n,e,r,o))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function xj(i,n,e){i.has(n)?i.has(e)||i.set(e,i.get(n)):i.has(e)&&i.set(n,i.get(e))}const Yne=new GA;class Kne{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],a=C2(this._driver,e,r,[]);if(r.length)throw function ene(i){return new s.vHH(3503,!1)}();this._animations.set(n,a)}_buildPlayer(n,e,r){const o=n.element,a=rj(this._normalizer,n.keyframes,e,r);return this._driver.animate(o,a,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const o=[],a=this._animations.get(n);let l;const h=new Map;if(a?(l=T2(this._driver,e,a,v2,LA,new Map,new Map,r,Yne,o),l.forEach(b=>{const E=fc(h,b.element,new Map);b.postStyleProps.forEach(S=>E.set(S,null))})):(o.push(function tne(){return new s.vHH(3300,!1)}()),l=[]),o.length)throw function nne(i){return new s.vHH(3504,!1)}();h.forEach((b,E)=>{b.forEach((S,R)=>{b.set(R,this._driver.computeStyle(E,R,af))})});const g=Sp(l.map(b=>{const E=h.get(b.element);return this._buildPlayer(b,new Map,E)}));return this._playersById.set(n,g),g.onDestroy(()=>this.destroy(n)),this.players.push(g),g}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function ine(i){return new s.vHH(3301,!1)}();return e}listen(n,e,r,o){const a=p2(e,"","","");return f2(this._getPlayer(n),r,a,o),()=>{}}command(n,e,r,o){if("register"==r)return void this.register(n,o[0]);if("create"==r)return void this.create(n,e,o[0]||{});const a=this._getPlayer(n);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const Cj="ng-animate-queued",M2="ng-animate-disabled",tie=[],Ej={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rl="__ng_removed";class A2{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function sie(i){return i??null}(r?n.value:n),r){const a=ck(n);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const uk="void",R2=new A2(uk);class iie{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ol(e,this._hostClassName)}listen(n,e,r,o){if(!this._triggers.has(e))throw function rne(i,n){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function one(i){return new s.vHH(3303,!1)}();if(!function aie(i){return"start"==i||"done"==i}(r))throw function sne(i,n){return new s.vHH(3400,!1)}();const a=fc(this._elementListeners,n,[]),l={name:e,phase:r,callback:o};a.push(l);const h=fc(this._engine.statesByElement,n,new Map);return h.has(e)||(ol(n,BA),ol(n,BA+"-"+e),h.set(e,R2)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(l);m>=0&&a.splice(m,1),this._triggers.has(e)||h.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function ane(i){return new s.vHH(3401,!1)}();return e}trigger(n,e,r,o=!0){const a=this._getTrigger(e),l=new O2(this.id,e,n);let h=this._engine.statesByElement.get(n);h||(ol(n,BA),ol(n,BA+"-"+e),this._engine.statesByElement.set(n,h=new Map));let m=h.get(e);const g=new A2(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&g.absorbOptions(m.options),h.set(e,g),m||(m=R2),g.value!==uk&&m.value===g.value){if(!function die(i,n){const e=Object.keys(i),r=Object.keys(n);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const a=e[o];if(!n.hasOwnProperty(a)||i[a]!==n[a])return!1}return!0}(m.params,g.params)){const G=[],Y=a.matchStyles(m.value,m.params,G),ve=a.matchStyles(g.value,g.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{gv(n,Y),gu(n,ve)})}return}const S=fc(this._engine.playersByElement,n,[]);S.forEach(G=>{G.namespaceId==this.id&&G.triggerName==e&&G.queued&&G.destroy()});let R=a.matchTransition(m.value,g.value,n,g.params),F=!1;if(!R){if(!o)return;R=a.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:R,fromState:m,toState:g,player:l,isFallbackTransition:F}),F||(ol(n,Cj),l.onStart(()=>{U0(n,Cj)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const Y=this._engine.playersByElement.get(n);if(Y){let ve=Y.indexOf(l);ve>=0&&Y.splice(ve,1)}}),this.players.push(l),S.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,VA,!0);r.forEach(o=>{if(o[rl])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,r,o){const a=this._engine.statesByElement.get(n),l=new Map;if(a){const h=[];if(a.forEach((m,g)=>{if(l.set(g,m.value),this._triggers.has(g)){const b=this.trigger(n,g,uk,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,l),r&&Sp(h).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const o=new Set;e.forEach(a=>{const l=a.name;if(o.has(l))return;o.add(l);const m=this._triggers.get(l).fallbackTransition,g=r.get(l)||R2,b=new A2(uk),E=new O2(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:m,fromState:g,toState:b,player:E,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(n):[];if(a&&a.length)o=!0;else{let l=n;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)r.markElementAsRemoved(this.id,n,!1,e);else{const a=n[rl];(!a||a===Ej)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){ol(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(h=>{if(h.name==r.triggerName){const m=p2(a,r.triggerName,r.fromState.value,r.toState.value);m._data=n,f2(r.player,h.phase,m,h.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const a=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class rie{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new iie(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(e);for(;h;){const m=o.get(h);if(m){const g=r.indexOf(m);r.splice(g+1,0,n),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(n)}else r.push(n);return o.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let o=this._namespaceLookup[n];o&&o.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let o of r.values())if(o.namespaceId){const a=this._fetchNamespace(o.namespaceId);a&&e.add(a)}return e}trigger(n,e,r,o){if(ZA(e)){const a=this._fetchNamespace(n);if(a)return a.trigger(e,r,o),!0}return!1}insertNode(n,e,r,o){if(!ZA(e))return;const a=e[rl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ol(n,M2)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),U0(n,M2))}removeNode(n,e,r){if(ZA(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const a=this.namespacesByHostElement.get(e);a&&a.id!==n&&a.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,o,a){this.collectedLeaveElements.push(e),e[rl]={namespaceId:n,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(n,e,r,o,a){return ZA(e)?this._fetchNamespace(n).listen(e,r,o,a):()=>{}}_buildInstruction(n,e,r,o,a){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,o,n.fromState.options,n.toState.options,e,a)}destroyInnerAnimations(n){let e=this.driver.query(n,VA,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,y2,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Sp(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[rl];if(e&&e.setForRemoval){if(n[rl]=Ej,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(M2)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ol(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Sp(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(n){throw function cne(i){return new s.vHH(3402,!1)}()}_flushAnimations(n,e){const r=new GA,o=[],a=new Map,l=[],h=new Map,m=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(Ut=>{b.add(Ut);const rn=this.driver.query(Ut,".ng-animate-queued",!0);for(let hn=0;hn<rn.length;hn++)b.add(rn[hn])});const E=this.bodyNode,S=Array.from(this.statesByElement.keys()),R=Ij(S,this.collectedEnterElements),F=new Map;let G=0;R.forEach((Ut,rn)=>{const hn=v2+G++;F.set(rn,hn),Ut.forEach(oi=>ol(oi,hn))});const Y=[],ve=new Set,Me=new Set;for(let Ut=0;Ut<this.collectedLeaveElements.length;Ut++){const rn=this.collectedLeaveElements[Ut],hn=rn[rl];hn&&hn.setForRemoval&&(Y.push(rn),ve.add(rn),hn.hasAnimation?this.driver.query(rn,".ng-star-inserted",!0).forEach(oi=>ve.add(oi)):Me.add(rn))}const Oe=new Map,De=Ij(S,Array.from(ve));De.forEach((Ut,rn)=>{const hn=LA+G++;Oe.set(rn,hn),Ut.forEach(oi=>ol(oi,hn))}),n.push(()=>{R.forEach((Ut,rn)=>{const hn=F.get(rn);Ut.forEach(oi=>U0(oi,hn))}),De.forEach((Ut,rn)=>{const hn=Oe.get(rn);Ut.forEach(oi=>U0(oi,hn))}),Y.forEach(Ut=>{this.processLeaveNode(Ut)})});const Pe=[],et=[];for(let Ut=this._namespaceList.length-1;Ut>=0;Ut--)this._namespaceList[Ut].drainQueuedTransitions(e).forEach(hn=>{const oi=hn.player,rs=hn.element;if(Pe.push(oi),this.collectedEnterElements.length){const js=rs[rl];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(hn.triggerName)){const xv=js.previousTriggersValues.get(hn.triggerName),al=this.statesByElement.get(hn.element);if(al&&al.has(hn.triggerName)){const x1=al.get(hn.triggerName);x1.value=xv,al.set(hn.triggerName,x1)}}return void oi.destroy()}}const bu=!E||!this.driver.containsElement(E,rs),vc=Oe.get(rs),Np=F.get(rs),Hr=this._buildInstruction(hn,r,Np,vc,bu);if(Hr.errors&&Hr.errors.length)return void et.push(Hr);if(bu)return oi.onStart(()=>gv(rs,Hr.fromStyles)),oi.onDestroy(()=>gu(rs,Hr.toStyles)),void o.push(oi);if(hn.isFallbackTransition)return oi.onStart(()=>gv(rs,Hr.fromStyles)),oi.onDestroy(()=>gu(rs,Hr.toStyles)),void o.push(oi);const f$=[];Hr.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||f$.push(js)}),Hr.timelines=f$,r.append(rs,Hr.timelines),l.push({instruction:Hr,player:oi,element:rs}),Hr.queriedElements.forEach(js=>fc(h,js,[]).push(oi)),Hr.preStyleProps.forEach((js,xv)=>{if(js.size){let al=m.get(xv);al||m.set(xv,al=new Set),js.forEach((x1,uB)=>al.add(uB))}}),Hr.postStyleProps.forEach((js,xv)=>{let al=g.get(xv);al||g.set(xv,al=new Set),js.forEach((x1,uB)=>al.add(uB))})});if(et.length){const Ut=[];et.forEach(rn=>{Ut.push(function lne(i,n){return new s.vHH(3505,!1)}())}),Pe.forEach(rn=>rn.destroy()),this.reportError(Ut)}const ht=new Map,Bt=new Map;l.forEach(Ut=>{const rn=Ut.element;r.has(rn)&&(Bt.set(rn,rn),this._beforeAnimationBuild(Ut.player.namespaceId,Ut.instruction,ht))}),o.forEach(Ut=>{const rn=Ut.element;this._getPreviousPlayers(rn,!1,Ut.namespaceId,Ut.triggerName,null).forEach(oi=>{fc(ht,rn,[]).push(oi),oi.destroy()})});const vn=Y.filter(Ut=>Sj(Ut,m,g)),Ni=new Map;Tj(Ni,this.driver,Me,g,af).forEach(Ut=>{Sj(Ut,m,g)&&vn.push(Ut)});const is=new Map;R.forEach((Ut,rn)=>{Tj(is,this.driver,new Set(Ut),m,"!")}),vn.forEach(Ut=>{const rn=Ni.get(Ut),hn=is.get(Ut);Ni.set(Ut,new Map([...rn?.entries()??[],...hn?.entries()??[]]))});const zs=[],yu=[],w1={};l.forEach(Ut=>{const{element:rn,player:hn,instruction:oi}=Ut;if(r.has(rn)){if(b.has(rn))return hn.onDestroy(()=>gu(rn,oi.toStyles)),hn.disabled=!0,hn.overrideTotalTime(oi.totalTime),void o.push(hn);let rs=w1;if(Bt.size>1){let vc=rn;const Np=[];for(;vc=vc.parentNode;){const Hr=Bt.get(vc);if(Hr){rs=Hr;break}Np.push(vc)}Np.forEach(Hr=>Bt.set(Hr,rs))}const bu=this._buildAnimation(hn.namespaceId,oi,ht,a,is,Ni);if(hn.setRealPlayer(bu),rs===w1)zs.push(hn);else{const vc=this.playersByElement.get(rs);vc&&vc.length&&(hn.parentPlayer=Sp(vc)),o.push(hn)}}else gv(rn,oi.fromStyles),hn.onDestroy(()=>gu(rn,oi.toStyles)),yu.push(hn),b.has(rn)&&o.push(hn)}),yu.forEach(Ut=>{const rn=a.get(Ut.element);if(rn&&rn.length){const hn=Sp(rn);Ut.setRealPlayer(hn)}}),o.forEach(Ut=>{Ut.parentPlayer?Ut.syncPlayerEvents(Ut.parentPlayer):Ut.destroy()});for(let Ut=0;Ut<Y.length;Ut++){const rn=Y[Ut],hn=rn[rl];if(U0(rn,LA),hn&&hn.hasAnimation)continue;let oi=[];if(h.size){let bu=h.get(rn);bu&&bu.length&&oi.push(...bu);let vc=this.driver.query(rn,y2,!0);for(let Np=0;Np<vc.length;Np++){let Hr=h.get(vc[Np]);Hr&&Hr.length&&oi.push(...Hr)}}const rs=oi.filter(bu=>!bu.destroyed);rs.length?cie(this,rn,rs):this.processLeaveNode(rn)}return Y.length=0,zs.forEach(Ut=>{this.players.push(Ut),Ut.onDone(()=>{Ut.destroy();const rn=this.players.indexOf(Ut);this.players.splice(rn,1)}),Ut.play()}),zs}elementContainsData(n,e){let r=!1;const o=e[rl];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,o,a){let l=[];if(e){const h=this.playersByQueriedElement.get(n);h&&(l=h)}else{const h=this.playersByElement.get(n);if(h){const m=!a||a==uk;h.forEach(g=>{g.queued||!m&&g.triggerName!=o||l.push(g)})}}return(r||o)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||o&&o!=h.triggerName))),l}_beforeAnimationBuild(n,e,r){const a=e.element,l=e.isRemovalTransition?void 0:n,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const g=m.element,b=g!==a,E=fc(r,g,[]);this._getPreviousPlayers(g,b,l,h,e.toState).forEach(R=>{const F=R.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),R.destroy(),E.push(R)})}gv(a,e.fromStyles)}_buildAnimation(n,e,r,o,a,l){const h=e.triggerName,m=e.element,g=[],b=new Set,E=new Set,S=e.timelines.map(F=>{const G=F.element;b.add(G);const Y=G[rl];if(Y&&Y.removedBeforeQueried)return new JE(F.duration,F.delay);const ve=G!==m,Me=function lie(i){const n=[];return Dj(i,n),n}((r.get(G)||tie).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===G),Oe=a.get(G),De=l.get(G),Pe=rj(this._normalizer,F.keyframes,Oe,De),et=this._buildPlayer(F,Pe,Me);if(F.subTimeline&&o&&E.add(G),ve){const ht=new O2(n,h,G);ht.setRealPlayer(et),g.push(ht)}return et});g.forEach(F=>{fc(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function oie(i,n,e){let r=i.get(n);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&i.delete(n)}return r}(this.playersByQueriedElement,F.element,F))}),b.forEach(F=>ol(F,uj));const R=Sp(S);return R.onDestroy(()=>{b.forEach(F=>U0(F,uj)),gu(m,e.toStyles)}),E.forEach(F=>{fc(o,F,[]).push(R)}),R}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new JE(n.duration,n.delay)}}class O2{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new JE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>f2(n,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){fc(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function ZA(i){return i&&1===i.nodeType}function kj(i,n){const e=i.style.display;return i.style.display=n??"none",e}function Tj(i,n,e,r,o){const a=[];e.forEach(m=>a.push(kj(m)));const l=[];r.forEach((m,g)=>{const b=new Map;m.forEach(E=>{const S=n.computeStyle(g,E,o);b.set(E,S),(!S||0==S.length)&&(g[rl]=nie,l.push(g))}),i.set(g,b)});let h=0;return e.forEach(m=>kj(m,a[h++])),l}function Ij(i,n){const e=new Map;if(i.forEach(h=>e.set(h,[])),0==n.length)return e;const o=new Set(n),a=new Map;function l(h){if(!h)return 1;let m=a.get(h);if(m)return m;const g=h.parentNode;return m=e.has(g)?g:o.has(g)?1:l(g),a.set(h,m),m}return n.forEach(h=>{const m=l(h);1!==m&&e.get(m).push(h)}),e}function ol(i,n){i.classList?.add(n)}function U0(i,n){i.classList?.remove(n)}function cie(i,n,e){Sp(e).onDone(()=>i.processLeaveNode(n))}function Dj(i,n){for(let e=0;e<i.length;e++){const r=i[e];r instanceof wH?Dj(r.players,n):n.push(r)}}function Sj(i,n,e){const r=e.get(i);if(!r)return!1;let o=n.get(i);return o?r.forEach(a=>o.add(a)):n.set(i,r),e.delete(i),!0}class YA{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new rie(n,e,r),this._timelineEngine=new Kne(n,e,r),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(n,e,r,o,a){const l=n+"-"+o;let h=this._triggerCache[l];if(!h){const m=[],b=C2(this._driver,a,m,[]);if(m.length)throw function Jte(i,n){return new s.vHH(3404,!1)}();h=function qne(i,n,e){return new Wne(i,n,e)}(o,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(e,o,h)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,o){this._transitionEngine.insertNode(n,e,r,o)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,o){if("@"==r.charAt(0)){const[a,l]=oj(r);this._timelineEngine.command(a,e,l,o)}else this._transitionEngine.trigger(n,e,r,o)}listen(n,e,r,o,a){if("@"==r.charAt(0)){const[l,h]=oj(r);return this._timelineEngine.listen(l,e,h,a)}return this._transitionEngine.listen(n,e,r,o,a)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hie=(()=>{class i{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let a=i.initialStylesByElement.get(e);a||i.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gu(this._element,this._initialStyles),this._endStyles&&(gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(gv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gv(this._element,this._endStyles),this._endStyles=null),gu(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function P2(i){let n=null;return i.forEach((e,r)=>{(function fie(i){return"display"===i||"position"===i})(r)&&(n=n||new Map,n.set(r,e))}),n}class Mj{constructor(n,e,r,o){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&n.set(o,this._finished?r:pj(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class mie{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return aj(n,e)}getParentElement(n){return g2(n)}query(n,e,r){return cj(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,o,a,l=[]){const m={duration:r,delay:o,fill:0==o?"both":"forwards"};a&&(m.easing=a);const g=new Map,b=l.filter(R=>R instanceof Mj);(function wne(i,n){return 0===i||0===n})(r,o)&&b.forEach(R=>{R.currentSnapshot.forEach((F,G)=>g.set(G,F))});let E=function vne(i){return i.length?i[0]instanceof Map?i:i.map(n=>hj(n)):[]}(e).map(R=>Mp(R));E=function xne(i,n,e){if(e.size&&n.length){let r=n[0],o=[];if(e.forEach((a,l)=>{r.has(l)||o.push(l),r.set(l,a)}),o.length)for(let a=1;a<n.length;a++){let l=n[a];o.forEach(h=>l.set(h,pj(i,h)))}}return n}(n,E,g);const S=function uie(i,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=P2(n[0]),n.length>1&&(r=P2(n[n.length-1]))):n instanceof Map&&(e=P2(n)),e||r?new hie(i,e,r):null}(n,E);return new Mj(n,E,m,S)}}let pie=(()=>{class i extends vH{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?yH(e):e;return Aj(this._renderer,null,r,"register",[o]),new gie(r,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.FYo),s.LFG(ue))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class gie extends UY{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new _ie(this._id,n,e||{},this._renderer)}}class _ie{constructor(n,e,r,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Aj(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Aj(i,n,e,r,o){return i.setProperty(n,`@@${e}:${r}`,o)}const Rj="@.disabled";let vie=(()=>{class i{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const h=l?.parentNode(a);h&&l.removeChild(h,a)}}createRenderer(e,r){const a=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(a);return b||(b=new Oj("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,b)),b}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(l,h,e,b.name,b)};return r.data.animation.forEach(m),new yie(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,h]=a;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.FYo),s.LFG(YA),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class Oj{constructor(n,e,r,o){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,o=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,o){this.delegate.setAttribute(n,e,r,o)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,o){this.delegate.setStyle(n,e,r,o)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==Rj?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class yie extends Oj{constructor(n,e,r,o,a){super(e,r,o,a),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Rj?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const o=function bie(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let a=e.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function wie(i){const n=i.indexOf(".");return[i.substring(0,n),i.slice(n+1)]}(a)),this.engine.listen(this.namespaceId,o,a,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(n,e,r)}}let xie=(()=>{class i extends YA{constructor(e,r,o,a){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ue),s.LFG(_2),s.LFG(D2),s.LFG(s.z2F))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Pj=[{provide:vH,useClass:pie},{provide:D2,useFactory:function Cie(){return new zne}},{provide:YA,useClass:xie},{provide:s.FYo,useFactory:function Eie(i,n,e){return new vie(i,n,e)},deps:[jo,YA,s.R0b]}],N2=[{provide:_2,useFactory:()=>new mie},{provide:s.QbO,useValue:"BrowserAnimations"},...Pj],Nj=[{provide:_2,useClass:lj},{provide:s.QbO,useValue:"NoopAnimations"},...Pj];let kie=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?Nj:N2}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:N2,imports:[vd]}),i})();function pc(i){return typeof i>"u"}function ff(i,n){const e=n.split("."),r=e.shift();return e.reduce((o,a)=>pc(o)||function Mie(i){return null===i}(o)||pc(o[a])?void 0:o[a],i[r||""])}let jj=(()=>{class i{transform(e,r){return Array.isArray(e)?e.map(o=>ff(o,r)):function es(i){return null!==i&&"object"==typeof i}(e)?ff(e,r):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"pluck",type:i,pure:!1}),i})(),jie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),F2=(()=>{class i{transform(e,r,o){return function Oi(i){return"string"==typeof i}(e)?e.match(new RegExp(r,o)):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"match",type:i,pure:!0}),i})(),ore=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),Wj=(()=>{class i{transform(e){return Array.isArray(e)?Math.max(...e):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"max",type:i,pure:!0}),i})(),sre=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const Yj_firebase={apiKey:"AIzaSyC8Ps7XSWdjAhMLS5XylEVpNfkDJqyz4_A",authDomain:"knossos-dungeon-blocks.firebaseapp.com",projectId:"knossos-dungeon-blocks",storageBucket:"knossos-dungeon-blocks.appspot.com",messagingSenderId:"454936440721",appId:"1:454936440721:web:3717720b189ed9678cf430"};var _re=z(8407);function L2(i){return i<=0?()=>Go.E:(0,gr.e)((n,e)=>{let r=[];n.subscribe((0,li.x)(e,o=>{r.push(o),i<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}const Mn="primary",hk=Symbol("RouteTitle");class yre{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function H0(i){return new yre(i)}function bre(i,n,e){const r=e.path.split("/");if(r.length>i.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<i.length))return null;const o={};for(let a=0;a<r.length;a++){const l=r[a],h=i[a];if(l.startsWith(":"))o[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:i.slice(0,r.length),posParams:o}}function _u(i,n){const e=i?Object.keys(i):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let a=0;a<e.length;a++)if(o=e[a],!Kj(i[o],n[o]))return!1;return!0}function Kj(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const e=[...i].sort(),r=[...n].sort();return e.every((o,a)=>r[a]===o)}return i===n}function Qj(i){return i.length>0?i[i.length-1]:null}function Ap(i){return Hz(i)?i:(0,s.QGY)(i)?(0,Cn.D)(Promise.resolve(i)):(0,Dt.of)(i)}const xre={exact:function e5(i,n,e){if(!vv(i.segments,n.segments)||!JA(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!i.children[r]||!e5(i.children[r],n.children[r],e))return!1;return!0},subset:t5},Jj={exact:function Cre(i,n){return _u(i,n)},subset:function Ere(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>Kj(i[e],n[e]))},ignored:()=>!0};function Xj(i,n,e){return xre[e.paths](i.root,n.root,e.matrixParams)&&Jj[e.queryParams](i.queryParams,n.queryParams)&&!("exact"===e.fragment&&i.fragment!==n.fragment)}function t5(i,n,e){return n5(i,n,n.segments,e)}function n5(i,n,e,r){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!vv(o,e)||n.hasChildren()||!JA(o,e,r))}if(i.segments.length===e.length){if(!vv(i.segments,e)||!JA(i.segments,e,r))return!1;for(const o in n.children)if(!i.children[o]||!t5(i.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,i.segments.length),a=e.slice(i.segments.length);return!!(vv(i.segments,o)&&JA(i.segments,o,r)&&i.children[Mn])&&n5(i.children[Mn],n,a,r)}}function JA(i,n,e){return n.every((r,o)=>Jj[e](i[o].parameters,r.parameters))}class z0{constructor(n=new Pi([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=H0(this.queryParams)),this._queryParamMap}toString(){return Ire.serialize(this)}}class Pi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return XA(this)}}class fk{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=H0(this.parameters)),this._parameterMap}toString(){return s5(this)}}function vv(i,n){return i.length===n.length&&i.every((e,r)=>e.path===n[r].path)}let mk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return new B2},providedIn:"root"}),i})();class B2{parse(n){const e=new Bre(n);return new z0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${pk(n.root,!0)}`,r=function Mre(i){const n=Object.keys(i).map(e=>{const r=i[e];return Array.isArray(r)?r.map(o=>`${e1(e)}=${e1(o)}`).join("&"):`${e1(e)}=${e1(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams),o="string"==typeof n.fragment?`#${function Dre(i){return encodeURI(i)}(n.fragment)}`:"";return`${e}${r}${o}`}}const Ire=new B2;function XA(i){return i.segments.map(n=>s5(n)).join("/")}function pk(i,n){if(!i.hasChildren())return XA(i);if(n){const e=i.children[Mn]?pk(i.children[Mn],!1):"",r=[];return Object.entries(i.children).forEach(([o,a])=>{o!==Mn&&r.push(`${o}:${pk(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Tre(i,n){let e=[];return Object.entries(i.children).forEach(([r,o])=>{r===Mn&&(e=e.concat(n(o,r)))}),Object.entries(i.children).forEach(([r,o])=>{r!==Mn&&(e=e.concat(n(o,r)))}),e}(i,(r,o)=>o===Mn?[pk(i.children[Mn],!1)]:[`${o}:${pk(r,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Mn]?`${XA(i)}/${e[0]}`:`${XA(i)}/(${e.join("//")})`}}function r5(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function e1(i){return r5(i).replace(/%3B/gi,";")}function V2(i){return r5(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function t1(i){return decodeURIComponent(i)}function o5(i){return t1(i.replace(/\+/g,"%20"))}function s5(i){return`${V2(i.path)}${function Sre(i){return Object.keys(i).map(n=>`;${V2(n)}=${V2(i[n])}`).join("")}(i.parameters)}`}const Are=/^[^\/()?;#]+/;function U2(i){const n=i.match(Are);return n?n[0]:""}const Rre=/^[^\/()?;=#]+/,Pre=/^[^=?&#]+/,Fre=/^[^&#]+/;class Bre{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pi([],{}):new Pi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Mn]=new Pi(n,e)),r}parseSegment(){const n=U2(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(n),new fk(t1(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function Ore(i){const n=i.match(Rre);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=U2(this.remaining);o&&(r=o,this.capture(r))}n[t1(e)]=t1(r)}parseQueryParam(n){const e=function Nre(i){const n=i.match(Pre);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function Lre(i){const n=i.match(Fre);return n?n[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=o5(e),a=o5(r);if(n.hasOwnProperty(o)){let l=n[o];Array.isArray(l)||(l=[l],n[o]=l),l.push(a)}else n[o]=a}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=U2(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new s.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=Mn);const l=this.parseChildren();e[a]=1===Object.keys(l).length?l[Mn]:new Pi([],l),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new s.vHH(4011,!1)}}function a5(i){return i.segments.length>0?new Pi([],{[Mn]:i}):i}function c5(i){const n={};for(const r of Object.keys(i.children)){const a=c5(i.children[r]);if(r===Mn&&0===a.segments.length&&a.hasChildren())for(const[l,h]of Object.entries(a.children))n[l]=h;else(a.segments.length>0||a.hasChildren())&&(n[r]=a)}return function Vre(i){if(1===i.numberOfChildren&&i.children[Mn]){const n=i.children[Mn];return new Pi(i.segments.concat(n.segments),n.children)}return i}(new Pi(i.segments,n))}function yv(i){return i instanceof z0}function l5(i){let n;const o=a5(function e(a){const l={};for(const m of a.children){const g=e(m);l[m.outlet]=g}const h=new Pi(a.url,l);return a===i&&(n=h),h}(i.root));return n??o}function d5(i,n,e,r){let o=i;for(;o.parent;)o=o.parent;if(0===n.length)return H2(o,o,o,e,r);const a=function Hre(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new h5(!0,0,i);let n=0,e=!1;const r=i.reduce((o,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Object.entries(a.outlets).forEach(([m,g])=>{h[m]="string"==typeof g?g.split("/"):g}),[...o,{outlets:h}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===l?(a.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?n++:""!=h&&o.push(h))}),o):[...o,a]},[]);return new h5(e,n,r)}(n);if(a.toRoot())return H2(o,o,new Pi([],{}),e,r);const l=function zre(i,n,e){if(i.isAbsolute)return new r1(n,!0,0);if(!e)return new r1(n,!1,NaN);if(null===e.parent)return new r1(e,!0,0);const r=n1(i.commands[0])?0:1;return function jre(i,n,e){let r=i,o=n,a=e;for(;a>o;){if(a-=o,r=r.parent,!r)throw new s.vHH(4005,!1);o=r.segments.length}return new r1(r,!1,o-a)}(e,e.segments.length-1+r,i.numberOfDoubleDots)}(a,o,i),h=l.processChildren?_k(l.segmentGroup,l.index,a.commands):f5(l.segmentGroup,l.index,a.commands);return H2(o,l.segmentGroup,h,e,r)}function n1(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function gk(i){return"object"==typeof i&&null!=i&&i.outlets}function H2(i,n,e,r,o){let l,a={};r&&Object.entries(r).forEach(([m,g])=>{a[m]=Array.isArray(g)?g.map(b=>`${b}`):`${g}`}),l=i===n?e:u5(i,n,e);const h=a5(c5(l));return new z0(h,a,o)}function u5(i,n,e){const r={};return Object.entries(i.children).forEach(([o,a])=>{r[o]=a===n?e:u5(a,n,e)}),new Pi(i.segments,r)}class h5{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&n1(r[0]))throw new s.vHH(4003,!1);const o=r.find(gk);if(o&&o!==Qj(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r1{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function f5(i,n,e){if(i||(i=new Pi([],{})),0===i.segments.length&&i.hasChildren())return _k(i,n,e);const r=function Gre(i,n,e){let r=0,o=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(r>=e.length)return a;const l=i.segments[o],h=e[r];if(gk(h))break;const m=`${h}`,g=r<e.length-1?e[r+1]:null;if(o>0&&void 0===m)break;if(m&&g&&"object"==typeof g&&void 0===g.outlets){if(!p5(m,g,l))return a;r+=2}else{if(!p5(m,{},l))return a;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(i,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){const a=new Pi(i.segments.slice(0,r.pathIndex),{});return a.children[Mn]=new Pi(i.segments.slice(r.pathIndex),i.children),_k(a,0,o)}return r.match&&0===o.length?new Pi(i.segments,{}):r.match&&!i.hasChildren()?z2(i,n,e):r.match?_k(i,0,o):z2(i,n,e)}function _k(i,n,e){if(0===e.length)return new Pi(i.segments,{});{const r=function $re(i){return gk(i[0])?i[0].outlets:{[Mn]:i}}(e),o={};if(!r[Mn]&&i.children[Mn]&&1===i.numberOfChildren&&0===i.children[Mn].segments.length){const a=_k(i.children[Mn],n,e);return new Pi(i.segments,a.children)}return Object.entries(r).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[a]=f5(i.children[a],n,l))}),Object.entries(i.children).forEach(([a,l])=>{void 0===r[a]&&(o[a]=l)}),new Pi(i.segments,o)}}function z2(i,n,e){const r=i.segments.slice(0,n);let o=0;for(;o<e.length;){const a=e[o];if(gk(a)){const m=qre(a.outlets);return new Pi(r,m)}if(0===o&&n1(e[0])){r.push(new fk(i.segments[n].path,m5(e[0]))),o++;continue}const l=gk(a)?a.outlets[Mn]:`${a}`,h=o<e.length-1?e[o+1]:null;l&&h&&n1(h)?(r.push(new fk(l,m5(h))),o+=2):(r.push(new fk(l,{})),o++)}return new Pi(r,{})}function qre(i){const n={};return Object.entries(i).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=z2(new Pi([],{}),0,r))}),n}function m5(i){const n={};return Object.entries(i).forEach(([e,r])=>n[e]=`${r}`),n}function p5(i,n,e){return i==e.path&&_u(n,e.parameters)}const vk="imperative";class vu{constructor(n,e){this.id=n,this.url=e}}class j2 extends vu{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bv extends vu{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class o1 extends vu{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yk extends vu{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=16}}class $2 extends vu{constructor(n,e,r,o){super(n,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wre extends vu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zre extends vu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yre extends vu{constructor(n,e,r,o,a){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kre extends vu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qre extends vu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jre{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xre{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eoe{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class toe{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class noe{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ioe{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g5{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class roe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bk,this.attachRef=null}}let bk=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new roe,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class _5{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=G2(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=G2(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=q2(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return q2(n,this._root).map(e=>e.value)}}function G2(i,n){if(i===n.value)return n;for(const e of n.children){const r=G2(i,e);if(r)return r}return null}function q2(i,n){if(i===n.value)return[n];for(const e of n.children){const r=q2(i,e);if(r.length)return r.unshift(n),r}return[]}class mf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function j0(i){const n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}class v5 extends _5{constructor(n,e){super(n),this.snapshot=e,W2(this,n)}toString(){return this.snapshot.toString()}}function y5(i,n){const e=function ooe(i,n){const l=new s1([],{},{},"",{},Mn,n,null,{});return new w5("",new mf(l,[]))}(0,n),r=new Sa.X([new fk("",{})]),o=new Sa.X({}),a=new Sa.X({}),l=new Sa.X({}),h=new Sa.X(""),m=new pf(r,o,l,h,a,Mn,n,e.root);return m.snapshot=e.root,new v5(new mf(m,[]),e)}class pf{constructor(n,e,r,o,a,l,h,m){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=a,this.outlet=l,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,Je.U)(g=>g[hk]))??(0,Dt.of)(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(n=>H0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(n=>H0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b5(i,n="emptyOnly"){const e=i.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],a=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function soe(i){return i.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class s1{get title(){return this.data?.[hk]}constructor(n,e,r,o,a,l,h,m,g){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=l,this.component=h,this.routeConfig=m,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=H0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=H0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w5 extends _5{constructor(n,e){super(e),this.url=n,W2(this,e)}toString(){return x5(this._root)}}function W2(i,n){n.value._routerState=i,n.children.forEach(e=>W2(i,e))}function x5(i){const n=i.children.length>0?` { ${i.children.map(x5).join(", ")} } `:"";return`${i.value}${n}`}function Z2(i){if(i.snapshot){const n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,_u(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),_u(n.params,e.params)||i.paramsSubject.next(e.params),function wre(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!_u(i[e],n[e]))return!1;return!0}(n.url,e.url)||i.urlSubject.next(e.url),_u(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Y2(i,n){const e=_u(i.params,n.params)&&function kre(i,n){return vv(i,n)&&i.every((e,r)=>_u(e.parameters,n[r].parameters))}(i.url,n.url);return e&&!(!i.parent!=!n.parent)&&(!i.parent||Y2(i.parent,n.parent))}let K2=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mn,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(bk),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb),this.inputBinder=(0,s.f3M)(a1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new s.vHH(4013,!1);this._activatedRoute=e;const o=this.location,l=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new aoe(e,h,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),i})();class aoe{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===pf?this.route:n===bk?this.childContexts:this.parent.get(n,e)}}const a1=new s.OlP("");let C5=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=ZM([r.queryParams,r.params,r.data]).pipe((0,fi.w)(([a,l,h],m)=>(h={...a,...l,...h},0===m?(0,Dt.of)(h):Promise.resolve(h)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const l=(0,s.qFp)(r.component);if(l)for(const{templateName:h}of l.inputs)e.activatedComponentRef.setInput(h,a[h]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function wk(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function loe(i,n,e){return n.children.map(r=>{for(const o of e.children)if(i.shouldReuseRoute(r.value,o.value.snapshot))return wk(i,r,o);return wk(i,r)})}(i,n,e);return new mf(r,o)}{if(i.shouldAttach(n.value)){const a=i.retrieve(n.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(h=>wk(i,h)),l}}const r=function doe(i){return new pf(new Sa.X(i.url),new Sa.X(i.params),new Sa.X(i.queryParams),new Sa.X(i.fragment),new Sa.X(i.data),i.outlet,i.component,i)}(n.value),o=n.children.map(a=>wk(i,a));return new mf(r,o)}}const Q2="ngNavigationCancelingError";function E5(i,n){const{redirectTo:e,navigationBehaviorOptions:r}=yv(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=k5(!1,0,n);return o.url=e,o.navigationBehaviorOptions=r,o}function k5(i,n,e){const r=new Error("NavigationCancelingError: "+(i||""));return r[Q2]=!0,r.cancellationCode=n,e&&(r.url=e),r}function T5(i){return I5(i)&&yv(i.url)}function I5(i){return i&&i[Q2]}let D5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,r){1&e&&s._UZ(0,"router-outlet")},dependencies:[K2],encapsulation:2}),i})();function J2(i){const n=i.children&&i.children.map(J2),e=n?{...i,children:n}:{...i};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Mn&&(e.component=D5),e}function Jl(i){return i.outlet||Mn}function xk(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class _oe{constructor(n,e,r,o,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=a}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Z2(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=j0(e);n.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,o[l],r),delete o[l]}),Object.values(o).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(n,e,r){const o=n.value,a=e?e.value:null;if(o===a)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(n,e,l.children)}else this.deactivateChildRoutes(n,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,a=j0(n);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,a=j0(n);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const o=j0(e);n.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],r),this.forwardEvent(new ioe(a.value.snapshot))}),n.children.length&&this.forwardEvent(new toe(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,a=e?e.value:null;if(Z2(o),o===a)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,l.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),Z2(h.route.value),this.activateChildRoutes(n,null,l.children)}else{const h=xk(o.snapshot);l.attachRef=null,l.route=o,l.injector=h,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,r)}}class S5{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class c1{constructor(n,e){this.component=n,this.route=e}}function voe(i,n,e){const r=i._root;return Ck(r,n?n._root:null,e,[r.value])}function $0(i,n){const e=Symbol(),r=n.get(i,e);return r===e?"function"!=typeof i||(0,s.Z0I)(i)?n.get(i):i:r}function Ck(i,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=j0(n);return i.children.forEach(l=>{(function boe(i,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=i.value,l=n?n.value:null,h=e?e.getContext(i.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const m=function woe(i,n,e){if("function"==typeof e)return e(i,n);switch(e){case"pathParamsChange":return!vv(i.url,n.url);case"pathParamsOrQueryParamsChange":return!vv(i.url,n.url)||!_u(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y2(i,n)||!_u(i.queryParams,n.queryParams);default:return!Y2(i,n)}}(l,a,a.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new S5(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Ck(i,n,a.component?h?h.children:null:e,r,o),m&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new c1(h.outlet.component,l))}else l&&Ek(n,h,o),o.canActivateChecks.push(new S5(r)),Ck(i,null,a.component?h?h.children:null:e,r,o)})(l,a[l.value.outlet],e,r.concat([l.value]),o),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,h])=>Ek(h,e.getContext(l),o)),o}function Ek(i,n,e){const r=j0(i),o=i.value;Object.entries(r).forEach(([a,l])=>{Ek(l,o.component?n?n.children.getContext(a):null:n,e)}),e.canDeactivateChecks.push(new c1(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function kk(i){return"function"==typeof i}function M5(i){return i instanceof Id||"EmptyError"===i?.name}const l1=Symbol("INITIAL_VALUE");function G0(){return(0,fi.w)(i=>ZM(i.map(n=>n.pipe(Hi(1),go(l1)))).pipe((0,Je.U)(n=>{for(const e of n)if(!0!==e){if(e===l1)return l1;if(!1===e||e instanceof z0)return e}return!0}),cn(n=>n!==l1),Hi(1)))}function A5(i){return(0,_re.z)((0,Lo.b)(n=>{if(yv(n))throw E5(0,n)}),(0,Je.U)(n=>!0===n))}class d1{constructor(n){this.segmentGroup=n||null}}class R5{constructor(n){this.urlTree=n}}function q0(i){return P0(new d1(i))}function O5(i){return P0(new R5(i))}class Hoe{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new s.vHH(4002,!1)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Dt.of)(r);if(o.numberOfChildren>1||!o.children[Mn])return P0(new s.vHH(4e3,!1));o=o.children[Mn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,o){const a=this.createSegmentGroup(n,e.root,r,o);return new z0(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([o,a])=>{if("string"==typeof a&&a.startsWith(":")){const h=a.substring(1);r[o]=e[h]}else r[o]=a}),r}createSegmentGroup(n,e,r,o){const a=this.createSegments(n,e.segments,r,o);let l={};return Object.entries(e.children).forEach(([h,m])=>{l[h]=this.createSegmentGroup(n,m,r,o)}),new Pi(a,l)}createSegments(n,e,r,o){return e.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,o):this.findOrReturn(a,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new s.vHH(4001,!1);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}const X2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zoe(i,n,e,r,o){const a=eB(i,n,e);return a.matched?(r=function uoe(i,n){return i.providers&&!i._injector&&(i._injector=(0,s.MMx)(i.providers,n,`Route: ${i.path}`)),i._injector??n}(n,r),function Boe(i,n,e,r){const o=n.canMatch;if(!o||0===o.length)return(0,Dt.of)(!0);const a=o.map(l=>{const h=$0(l,i);return Ap(function Ioe(i){return i&&kk(i.canMatch)}(h)?h.canMatch(n,e):i.runInContext(()=>h(n,e)))});return(0,Dt.of)(a).pipe(G0(),A5())}(r,n,e).pipe((0,Je.U)(l=>!0===l?a:{...X2}))):(0,Dt.of)(a)}function eB(i,n,e){if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||e.length>0)?{...X2}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||bre)(e,i,n);if(!o)return{...X2};const a={};Object.entries(o.posParams??{}).forEach(([h,m])=>{a[h]=m.path});const l=o.consumed.length>0?{...a,...o.consumed[o.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function P5(i,n,e,r){return e.length>0&&function Goe(i,n,e){return e.some(r=>u1(i,n,r)&&Jl(r)!==Mn)}(i,e,r)?{segmentGroup:new Pi(n,$oe(r,new Pi(e,i.children))),slicedSegments:[]}:0===e.length&&function qoe(i,n,e){return e.some(r=>u1(i,n,r))}(i,e,r)?{segmentGroup:new Pi(i.segments,joe(i,0,e,r,i.children)),slicedSegments:e}:{segmentGroup:new Pi(i.segments,i.children),slicedSegments:e}}function joe(i,n,e,r,o){const a={};for(const l of r)if(u1(i,e,l)&&!o[Jl(l)]){const h=new Pi([],{});a[Jl(l)]=h}return{...o,...a}}function $oe(i,n){const e={};e[Mn]=n;for(const r of i)if(""===r.path&&Jl(r)!==Mn){const o=new Pi([],{});e[Jl(r)]=o}return e}function u1(i,n,e){return(!(i.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class Koe{constructor(n,e,r,o,a,l,h){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new Hoe(this.urlSerializer,this.urlTree)}noMatchError(n){return new s.vHH(4002,!1)}recognize(){const n=P5(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Mn).pipe(kp(e=>{if(e instanceof R5)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof d1?this.noMatchError(e):e}),(0,Je.U)(e=>{const r=new s1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mn,this.rootComponentType,null,{}),o=new mf(r,e),a=new w5("",o),l=function Ure(i,n,e=null,r=null){return d5(l5(i),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Mn).pipe(kp(r=>{throw r instanceof d1?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=b5(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,o,!0)}processChildren(n,e,r){const o=[];for(const a of Object.keys(r.children))"primary"===a?o.unshift(a):o.push(a);return(0,Cn.D)(o).pipe(N0(a=>{const l=r.children[a],h=function poe(i,n){const e=i.filter(r=>Jl(r)===n);return e.push(...i.filter(r=>Jl(r)!==n)),e}(e,a);return this.processSegmentGroup(n,h,l,a)}),Ya((a,l)=>(a.push(...l),a)),ja(null),function vre(i,n){const e=arguments.length>=2;return r=>r.pipe(i?cn((o,a)=>i(o,a,r)):va.y,L2(1),e?ja(n):$a(()=>new Id))}(),(0,Cr.z)(a=>{if(null===a)return q0(r);const l=N5(a);return function Qoe(i){i.sort((n,e)=>n.value.outlet===Mn?-1:e.value.outlet===Mn?1:n.value.outlet.localeCompare(e.value.outlet))}(l),(0,Dt.of)(l)}))}processSegment(n,e,r,o,a,l){return(0,Cn.D)(e).pipe(N0(h=>this.processSegmentAgainstRoute(h._injector??n,e,h,r,o,a,l).pipe(kp(m=>{if(m instanceof d1)return(0,Dt.of)(null);throw m}))),Ss(h=>!!h),kp(h=>{if(M5(h))return function Zoe(i,n,e){return 0===n.length&&!i.children[e]}(r,o,a)?(0,Dt.of)([]):q0(r);throw h}))}processSegmentAgainstRoute(n,e,r,o,a,l,h){return function Woe(i,n,e,r){return!!(Jl(i)===r||r!==Mn&&u1(n,e,i))&&("**"===i.path||eB(n,i,e).matched)}(r,o,a,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,a,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,r,a,l):q0(o):q0(o)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,a,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?O5(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,Cr.z)(l=>{const h=new Pi(l,{});return this.processSegment(n,e,h,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,a,l){const{matched:h,consumedSegments:m,remainingSegments:g,positionalParamSegments:b}=eB(e,o,a);if(!h)return q0(e);const E=this.applyRedirects.applyRedirectCommands(m,o.redirectTo,b);return o.redirectTo.startsWith("/")?O5(E):this.applyRedirects.lineralizeSegments(o,E).pipe((0,Cr.z)(S=>this.processSegment(n,r,e,S.concat(g),l,!1)))}matchSegmentAgainstRoute(n,e,r,o,a,l){let h;if("**"===r.path){const m=o.length>0?Qj(o).parameters:{},g=new s1(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F5(r),Jl(r),r.component??r._loadedComponent??null,r,L5(r));h=(0,Dt.of)({snapshot:g,consumedSegments:[],remainingSegments:[]}),e.children={}}else h=zoe(e,r,o,n).pipe((0,Je.U)(({matched:m,consumedSegments:g,remainingSegments:b,parameters:E})=>m?{snapshot:new s1(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F5(r),Jl(r),r.component??r._loadedComponent??null,r,L5(r)),consumedSegments:g,remainingSegments:b}:null));return h.pipe((0,fi.w)(m=>null===m?q0(e):this.getChildConfig(n=r._injector??n,r,o).pipe((0,fi.w)(({routes:g})=>{const b=r._loadedInjector??n,{snapshot:E,consumedSegments:S,remainingSegments:R}=m,{segmentGroup:F,slicedSegments:G}=P5(e,S,R,g);if(0===G.length&&F.hasChildren())return this.processChildren(b,g,F).pipe((0,Je.U)(ve=>null===ve?null:[new mf(E,ve)]));if(0===g.length&&0===G.length)return(0,Dt.of)([new mf(E,[])]);const Y=Jl(r)===a;return this.processSegment(b,g,F,G,Y?Mn:a,!0).pipe((0,Je.U)(ve=>[new mf(E,ve)]))}))))}getChildConfig(n,e,r){return e.children?(0,Dt.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,Dt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Loe(i,n,e,r){const o=n.canLoad;if(void 0===o||0===o.length)return(0,Dt.of)(!0);const a=o.map(l=>{const h=$0(l,i);return Ap(function Coe(i){return i&&kk(i.canLoad)}(h)?h.canLoad(n,e):i.runInContext(()=>h(n,e)))});return(0,Dt.of)(a).pipe(G0(),A5())}(n,e,r).pipe((0,Cr.z)(o=>o?this.configLoader.loadChildren(n,e).pipe((0,Lo.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function Uoe(i){return P0(k5(!1,3))}())):(0,Dt.of)({routes:[],injector:n})}}function Joe(i){const n=i.value.routeConfig;return n&&""===n.path}function N5(i){const n=[],e=new Set;for(const r of i){if(!Joe(r)){n.push(r);continue}const o=n.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=N5(r.children);n.push(new mf(r.value,o))}return n.filter(r=>!e.has(r))}function F5(i){return i.data||{}}function L5(i){return i.resolve||{}}function B5(i){return"string"==typeof i.title||null===i.title}function tB(i){return(0,fi.w)(n=>{const e=i(n);return e?(0,Cn.D)(e).pipe((0,Je.U)(()=>n)):(0,Dt.of)(n)})}const W0=new s.OlP("ROUTES");let nB=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Dt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ap(e.loadComponent()).pipe((0,Je.U)(V5),(0,Lo.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),hA(()=>{this.componentLoaders.delete(e)})),o=new _L(r,()=>new Et.x).pipe(gL());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Dt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Je.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,g;return Array.isArray(h)?g=h:(m=h.create(e).injector,g=m.get(W0,[],s.XFs.Self|s.XFs.Optional).flat()),{routes:g.map(J2),injector:m}}),hA(()=>{this.childrenLoaders.delete(r)})),l=new _L(a,()=>new Et.x).pipe(gL());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return Ap(e()).pipe((0,Je.U)(V5),(0,Cr.z)(r=>r instanceof s.YKP||Array.isArray(r)?(0,Dt.of)(r):(0,Cn.D)(this.compiler.compileModuleAsync(r))))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function V5(i){return function ose(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let h1=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Et.x,this.configLoader=(0,s.f3M)(nB),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(mk),this.rootContexts=(0,s.f3M)(bk),this.inputBindingEnabled=null!==(0,s.f3M)(a1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Xre(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Jre(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new Sa.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vk,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cn(r=>0!==r.id),(0,Je.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),(0,fi.w)(r=>{let o=!1,a=!1;return(0,Dt.of)(r).pipe((0,Lo.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fi.w)(l=>{const h=e.browserUrlTree.toString(),m=!e.navigated||l.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new yk(l.id,e.serializeUrl(r.rawUrl),b,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),Go.E}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return U5(l.source)&&(e.browserUrlTree=l.extractedUrl),(0,Dt.of)(l).pipe((0,fi.w)(b=>{const E=this.transitions?.getValue();return this.events.next(new j2(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),E!==this.transitions?.getValue()?Go.E:Promise.resolve(b)}),function Xoe(i,n,e,r,o,a){return(0,Cr.z)(l=>function Yoe(i,n,e,r,o,a,l="emptyOnly"){return new Koe(i,n,e,r,o,l,a).recognize()}(i,n,e,r,l.extractedUrl,o,a).pipe((0,Je.U)(({state:h,tree:m})=>({...l,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Lo.b)(b=>{if(r.targetSnapshot=b.targetSnapshot,r.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!b.extras.skipLocationChange){const S=e.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);e.setBrowserUrl(S,b)}e.browserUrlTree=b.urlAfterRedirects}const E=new Wre(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(E)}));if(m&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:E,source:S,restoredState:R,extras:F}=l,G=new j2(b,this.urlSerializer.serialize(E),S,R);this.events.next(G);const Y=y5(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:Y,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}},(0,Dt.of)(r)}{const b="";return this.events.next(new yk(l.id,e.serializeUrl(r.extractedUrl),b,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),Go.E}}),(0,Lo.b)(l=>{const h=new Zre(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,Je.U)(l=>r={...l,guards:voe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Soe(i,n){return(0,Cr.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:l}}=e;return 0===l.length&&0===a.length?(0,Dt.of)({...e,guardsResult:!0}):function Moe(i,n,e,r){return(0,Cn.D)(i).pipe((0,Cr.z)(o=>function Foe(i,n,e,r,o){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Dt.of)(!0);const l=a.map(h=>{const m=xk(n)??o,g=$0(h,m);return Ap(function Toe(i){return i&&kk(i.canDeactivate)}(g)?g.canDeactivate(i,n,e,r):m.runInContext(()=>g(i,n,e,r))).pipe(Ss())});return(0,Dt.of)(l).pipe(G0())}(o.component,o.route,e,n,r)),Ss(o=>!0!==o,!0))}(l,r,o,i).pipe((0,Cr.z)(h=>h&&function xoe(i){return"boolean"==typeof i}(h)?function Aoe(i,n,e,r){return(0,Cn.D)(n).pipe(N0(o=>Ky(function Ooe(i,n){return null!==i&&n&&n(new eoe(i)),(0,Dt.of)(!0)}(o.route.parent,r),function Roe(i,n){return null!==i&&n&&n(new noe(i)),(0,Dt.of)(!0)}(o.route,r),function Noe(i,n,e){const r=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(l=>function yoe(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(l)).filter(l=>null!==l).map(l=>WL(()=>{const h=l.guards.map(m=>{const g=xk(l.node)??e,b=$0(m,g);return Ap(function koe(i){return i&&kk(i.canActivateChild)}(b)?b.canActivateChild(r,i):g.runInContext(()=>b(r,i))).pipe(Ss())});return(0,Dt.of)(h).pipe(G0())}));return(0,Dt.of)(a).pipe(G0())}(i,o.path,e),function Poe(i,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const o=r.map(a=>WL(()=>{const l=xk(n)??e,h=$0(a,l);return Ap(function Eoe(i){return i&&kk(i.canActivate)}(h)?h.canActivate(n,i):l.runInContext(()=>h(n,i))).pipe(Ss())}));return(0,Dt.of)(o).pipe(G0())}(i,o.route,e))),Ss(o=>!0!==o,!0))}(r,a,i,n):(0,Dt.of)(h)),(0,Je.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Lo.b)(l=>{if(r.guardsResult=l.guardsResult,yv(l.guardsResult))throw E5(0,l.guardsResult);const h=new Yre(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),cn(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),tB(l=>{if(l.guards.canActivateChecks.length)return(0,Dt.of)(l).pipe((0,Lo.b)(h=>{const m=new Kre(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),(0,fi.w)(h=>{let m=!1;return(0,Dt.of)(h).pipe(function ese(i,n){return(0,Cr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Dt.of)(e);let a=0;return(0,Cn.D)(o).pipe(N0(l=>function tse(i,n,e,r){const o=i.routeConfig,a=i._resolve;return void 0!==o?.title&&!B5(o)&&(a[hk]=o.title),function nse(i,n,e,r){const o=function ise(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===o.length)return(0,Dt.of)({});const a={};return(0,Cn.D)(o).pipe((0,Cr.z)(l=>function rse(i,n,e,r){const o=xk(n)??r,a=$0(i,o);return Ap(a.resolve?a.resolve(n,e):o.runInContext(()=>a(n,e)))}(i[l],n,e,r).pipe(Ss(),(0,Lo.b)(h=>{a[l]=h}))),L2(1),ZL(a),kp(l=>M5(l)?Go.E:P0(l)))}(a,i,n,r).pipe((0,Je.U)(l=>(i._resolvedData=l,i.data=b5(i,e).resolve,o&&B5(o)&&(i.data[hk]=o.title),null)))}(l.route,r,i,n)),(0,Lo.b)(()=>a++),L2(1),(0,Cr.z)(l=>a===o.length?(0,Dt.of)(e):Go.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Lo.b)({next:()=>m=!0,complete:()=>{m||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Lo.b)(h=>{const m=new Qre(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),tB(l=>{const h=m=>{const g=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Lo.b)(b=>{m.component=b}),(0,Je.U)(()=>{})));for(const b of m.children)g.push(...h(b));return g};return ZM(h(l.targetSnapshot.root)).pipe(ja(),Hi(1))}),tB(()=>this.afterPreactivation()),(0,Je.U)(l=>{const h=function coe(i,n,e){const r=wk(i,n._root,e?e._root:void 0);return new v5(r,n)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),(0,Lo.b)(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((i,n,e,r)=>(0,Je.U)(o=>(new _oe(n,o.targetRouterState,o.currentRouterState,e,r).activate(i),o)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Hi(1),(0,Lo.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new bv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),hA(()=>{o||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),kp(l=>{if(a=!0,I5(l)){T5(l)||(e.navigated=!0,e.restoreHistory(r,!0));const h=new o1(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),T5(l)){const m=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||U5(r.source)};e.scheduleNavigation(m,vk,null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const h=new $2(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(e.errorHandler(l))}catch(m){r.reject(m)}}return Go.E}))}))}cancelNavigationTransition(e,r,o){const a=new o1(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(a),e.resolve(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function U5(i){return i!==vk}let H5=(()=>{class i{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Mn);return r}getResolvedTitleForRoute(e){return e.data[hk]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(sse)},providedIn:"root"}),i})(),sse=(()=>{class i extends H5{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(bd))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ase=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(lse)},providedIn:"root"}),i})();class cse{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let lse=(()=>{class i extends cse{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const f1=new s.OlP("",{providedIn:"root",factory:()=>({})});let dse=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(use)},providedIn:"root"}),i})(),use=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var gc=(()=>((gc=gc||{})[gc.COMPLETE=0]="COMPLETE",gc[gc.FAILED=1]="FAILED",gc[gc.REDIRECTING=2]="REDIRECTING",gc))();function z5(i,n){i.events.pipe(cn(e=>e instanceof bv||e instanceof o1||e instanceof $2||e instanceof yk),(0,Je.U)(e=>e instanceof bv||e instanceof yk?gc.COMPLETE:e instanceof o1&&(0===e.code||1===e.code)?gc.REDIRECTING:gc.FAILED),cn(e=>e!==gc.REDIRECTING),Hi(1)).subscribe(()=>{n()})}function hse(i){throw i}function fse(i,n,e){return n.parse("/")}const mse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(f1,{optional:!0})||{},this.pendingTasks=(0,s.f3M)(s.HDt),this.errorHandler=this.options.errorHandler||hse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(dse),this.routeReuseStrategy=(0,s.f3M)(ase),this.titleStrategy=(0,s.f3M)(H5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.f3M)(W0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.f3M)(h1),this.urlSerializer=(0,s.f3M)(mk),this.location=(0,s.f3M)(it),this.componentInputBindingEnabled=!!(0,s.f3M)(a1,{optional:!0}),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new z0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=y5(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vk,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,o){const a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const m={...o};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const h=this.parseUrl(e);this.scheduleNavigation(h,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(J2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:h,preserveFragment:m}=r,g=m?this.currentUrlTree.fragment:l;let E,b=null;switch(h){case"merge":b={...this.currentUrlTree.queryParams,...a};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}null!==b&&(b=this.removeEmptyProps(b));try{E=l5(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),E=this.currentUrlTree.root}return d5(E,e,b,g??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=yv(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,vk,null,r)}navigate(e,r={skipLocationChange:!1}){return function gse(i){for(let n=0;n<i.length;n++)if(null==i[n])throw new s.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...mse}:!1===r?{...pse}:r,yv(e))return Xj(this.currentUrlTree,e,o);const a=this.parseUrl(e);return Xj(this.currentUrlTree,a,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const a=e[o];return null!=a&&(r[o]=a),r},{})}scheduleNavigation(e,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let h,m,g;l?(h=l.resolve,m=l.reject,g=l.promise):g=new Promise((E,S)=>{h=E,m=S});const b=this.pendingTasks.add();return z5(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:h,reject:m,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(E=>Promise.reject(E))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",a)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wv=(()=>{class i{constructor(e,r,o,a,l,h){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Et.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof bv&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,o,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||o||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const o=this.renderer,a=this.el.nativeElement;null!==r?o.setAttribute(a,e,r):o.removeAttribute(a,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(ts),s.Y36(pf),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36($e))},i.\u0275dir=s.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&s.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&s.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",s.VuI],replaceUrl:["replaceUrl","replaceUrl",s.VuI],routerLink:"routerLink"},standalone:!0,features:[s.Xq5,s.TTD]}),i})();class j5{}let yse=(()=>{class i{constructor(e,r,o,a,l){this.router=e,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(cn(e=>e instanceof bv),N0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,e,`Route: ${a.path}`));const l=a._injector??e,h=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,Cn.D)(o).pipe((0,Yg.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):(0,Dt.of)(null);const a=o.pipe((0,Cr.z)(l=>null===l?(0,Dt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Cn.D)([a,l]).pipe((0,Yg.J)())}return a})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ts),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(j5),s.LFG(nB))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iB=new s.OlP("");let $5=(()=>{class i{constructor(e,r,o,a,l={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof j2?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bv?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof yk&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof g5&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new g5(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return i.\u0275fac=function(e){s.$Z()},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function gf(i,n){return{\u0275kind:i,\u0275providers:n}}function q5(){const i=(0,s.f3M)(s.zs3);return n=>{const e=i.get(s.z2F);if(n!==e.components[0])return;const r=i.get(ts),o=i.get(W5);1===i.get(rB)&&r.initialNavigation(),i.get(Z5,null,s.XFs.Optional)?.setUpPreloading(),i.get(iB,null,s.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const W5=new s.OlP("",{factory:()=>new Et.x}),rB=new s.OlP("",{providedIn:"root",factory:()=>1}),Z5=new s.OlP("");function Cse(i){return gf(0,[{provide:Z5,useExisting:yse},{provide:j5,useExisting:i}])}const Y5=new s.OlP("ROUTER_FORROOT_GUARD"),kse=[it,{provide:mk,useClass:B2},ts,bk,{provide:pf,useFactory:function G5(i){return i.routerState.root},deps:[ts]},nB,[]];function Tse(){return new s.PXZ("Router",ts)}let K5=(()=>{class i{constructor(e){}static forRoot(e,r){return{ngModule:i,providers:[kse,[],{provide:W0,multi:!0,useValue:e},{provide:Y5,useFactory:Mse,deps:[[ts,new s.FiY,new s.tp0]]},{provide:f1,useValue:r||{}},r?.useHash?{provide:$e,useClass:Fe}:{provide:$e,useClass:ot},{provide:iB,useFactory:()=>{const i=(0,s.f3M)(Fa),n=(0,s.f3M)(s.R0b),e=(0,s.f3M)(f1),r=(0,s.f3M)(h1),o=(0,s.f3M)(mk);return e.scrollOffset&&i.setOffset(e.scrollOffset),new $5(o,r,i,n,e)}},r?.preloadingStrategy?Cse(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Tse},r?.initialNavigation?Ase(r):[],r?.bindToComponentInputs?gf(8,[C5,{provide:a1,useExisting:C5}]).\u0275providers:[],[{provide:Q5,useFactory:q5},{provide:s.tb,multi:!0,useExisting:Q5}]]}}static forChild(e){return{ngModule:i,providers:[{provide:W0,multi:!0,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Y5,8))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();function Mse(i){return"guarded"}function Ase(i){return["disabled"===i.initialNavigation?gf(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(ts);return()=>{n.setUpLocationChangeListener()}}},{provide:rB,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?gf(2,[{provide:rB,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const e=n.get(Ve,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=n.get(ts),a=n.get(W5);z5(o,()=>{r(!0)}),n.get(h1).afterPreactivation=()=>(r(!0),a.closed?(0,Dt.of)(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const Q5=new s.OlP("");var ns=(()=>((ns=ns||{}).Tile="Tile",ns.FlatGrid="FlatGrid",ns.Key="Key",ns))(),lr=(()=>((lr=lr||{}).LargeKey="LargeKey",lr.LargeSlot="LargeSlot",lr.SmallKey="SmallKey",lr.SmallSlot="SmallSlot",lr.Other="Other",lr))();const Aa=[{code:"isometric",name:"Isometric",color:"#ce196d",tileUnitWidth:218,tileUnitHeight:121,tileUnitDepth:29},{code:"classic",name:"Classic",color:"#1998ce",tileUnitWidth:218,tileUnitHeight:186,tileUnitDepth:18}],J5={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let m1;const Ose=new Uint8Array(16);function Pse(){if(!m1&&(m1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m1(Ose)}const ys=[];for(let i=0;i<256;++i)ys.push((i+256).toString(16).slice(1));const p1=function Nse(i,n,e){if(J5.randomUUID&&!n&&!i)return J5.randomUUID();const r=(i=i||{}).random||(i.rng||Pse)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function X5(i,n=0){return(ys[i[n+0]]+ys[i[n+1]]+ys[i[n+2]]+ys[i[n+3]]+"-"+ys[i[n+4]]+ys[i[n+5]]+"-"+ys[i[n+6]]+ys[i[n+7]]+"-"+ys[i[n+8]]+ys[i[n+9]]+"-"+ys[i[n+10]]+ys[i[n+11]]+ys[i[n+12]]+ys[i[n+13]]+ys[i[n+14]]+ys[i[n+15]]).toLowerCase()}(r)};let Tk=(()=>{class i{constructor(e,r,o){this.angularFireAuth=e,this.firestore=r,this.router=o,this.currentUserSubject=new Sa.X(void 0),this.angularFireAuth.authState.subscribe(a=>this.setCurrentUserData(a))}getSignedInObservable(){return this.currentUserSubject.asObservable().pipe((0,Je.U)(e=>!!e))}getCurrentUserObservable(){return this.currentUserSubject.asObservable()}signIn(){return this.authLogin(new kZ.V).then(e=>{})}authLogin(e){return this.angularFireAuth.signInWithPopup(e).then(r=>{this.setCurrentUserData(r.user)}).catch(r=>{window.alert(r)})}setCurrentUserData(e){if(!e)return localStorage.removeItem("user"),void this.currentUserSubject.next(void 0);this.firestore.collection("users").doc(e.uid).get().subscribe(r=>{const o={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,administrator:r?.data()?.administrator||!1};localStorage.setItem("user",JSON.stringify(o)),this.currentUserSubject.next(o)})}signOut(){return this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this.currentUserSubject.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ag),s.LFG(p0),s.LFG(ts))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const e$="collections";let t$=(()=>{class i{constructor(e,r){this.authenticationService=e,this.firestore=r}create(e){return this.authenticationService.getCurrentUserObservable().pipe(cn(r=>!!r),(0,Cr.z)(r=>{const o={id:p1(),ownerId:r.uid,title:e,entries:[]};return(0,Cn.D)(this.doc(o).set(o)).pipe((0,Je.U)(()=>o))}))}delete(e){return(0,Cn.D)(this.doc(e).delete())}getCollections(){return this.authenticationService.getCurrentUserObservable().pipe(cn(e=>!!e),(0,Cr.z)(e=>this.firestore.collection(e$,r=>r.where("ownerId","==",e.uid)).valueChanges().pipe((0,Je.U)(r=>r),(0,Je.U)(r=>r.map(o=>({...o,entries:o.entries.sort((a,l)=>a.code.localeCompare(l.code))}))),(0,Je.U)(r=>r.sort((o,a)=>o.title.localeCompare(a.title))))))}save(e){return(0,Cn.D)(this.doc(e).set(e)).pipe((0,Je.U)(()=>e))}doc(e){return this.firestore.collection(e$).doc(e.id)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Tk),s.LFG(p0))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oB="elements";let Rp=(()=>{class i{constructor(e,r,o){this.authenticationService=e,this.firestore=r,this.storage=o}create(e,r){return this.authenticationService.getCurrentUserObservable().pipe(cn(o=>!!o),(0,Cr.z)(o=>{const a={id:p1(),code:e,name:r,type:ns.Tile,top:lr.Other,bottom:lr.LargeKey,orientable:!0,height:1,footprint:[1,1],tags:[]};return(0,Cn.D)(this.doc(a).set(a)).pipe((0,Je.U)(()=>a))}))}delete(e){return(0,Cn.D)(this.doc(e).delete())}getElementById(e){return this.queryById(e)}getElements(){return this.authenticationService.getCurrentUserObservable().pipe(cn(e=>!!e),(0,Cr.z)(e=>this.firestore.collection(oB).valueChanges().pipe((0,Je.U)(r=>r),(0,Je.U)(r=>r.sort((o,a)=>o.code.localeCompare(a.code))))))}getModelFileInfo(e){return this.storage.ref(`FBX/${e.code}-${e.name}.fbx`).getMetadata().pipe((0,Je.U)(r=>r))}save(e){const r=e;return r.type||(r.type=ns.Tile),delete r.flat,(0,Cn.D)(this.doc(e).set(e)).pipe((0,Je.U)(()=>e))}doc(e){return this.firestore.collection(oB).doc(e.id)}queryById(e){return this.firestore.collection(oB).doc(e).get().pipe((0,Je.U)(r=>r.data()))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Tk),s.LFG(p0),s.LFG(h4))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const{cos:n$,sin:i$,round:r$,PI:Fse}=Math;let Z0=(()=>{class i{bounds({x:e,y:r},[o,a],l){switch(l%4){case 0:return{x1:e,y1:r,x2:e+o,y2:r+a};case 1:return{x1:e-a+1,y1:r,x2:e+1,y2:r+o};case 2:return{x1:e-o+1,y1:r-a+1,x2:e+1,y2:r+1};case 3:return{x1:e,y1:r-o+1,x2:e+a,y2:r+1};default:throw new Error}}clamp(e,r,o){return e<r?r:e>o?o:e}getElementFilterPredicate(e){const r=e.toLowerCase().split(" ").filter(o=>!!o.length);return o=>!r.length||!!r.find(a=>o.code.toLowerCase().includes(a)||o.name.toLowerCase().includes(a)||o.tags.find(l=>l.toLowerCase().includes(a)))}overlap2D(e,r){return e.x1<r.x2&&e.y1<r.y2&&r.x1<e.x2&&r.y1<e.y2}overlap3D(e,r){return e.x1<r.x2&&e.y1<r.y2&&e.z1<r.z2&&r.x1<e.x2&&r.y1<e.y2&&r.z1<e.z2}rotate({x:e,y:r},o){if(0===o)return{x:e,y:r};const a=o*Fse/2;return{x:r$(e*n$(a)-r*i$(a)),y:r$(e*i$(a)+r*n$(a))}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ik=(()=>{class i{transform(e,r,o){return`assets/sprites/${r.code}/${e}_${o}.png`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"assetUrl",type:i,pure:!0}),i})(),_f=(()=>{class i{transform(e){return e||(e="warning"),e=e.toLowerCase(),i.TABLE[e]||e}}return i.TABLE={action:"settings",clear:"close",collection:"apps",create:"add",decrease:"remove",delete:"delete",design:"castle",download:"download",element:"view_in_ar",grid:"grid_on",increase:"add",materials:"inventory",menu:"menu",pack:"workspaces",painted:"brush",planned:"assignment_returned",printed:"coffee_maker",properties:"description",remove:"cancel",render:"camera",save:"save",search:"search","tile-add":"brush","tile-copy":"colorize","tile-move":"control_camera","tile-remove":"clear","tile-rotate-left":"rotate_90_degrees_ccw","tile-rotate-right":"rotate_90_degrees_cw","tile-view":"visibility",view:"visibility","zoom-in":"zoom_in","zoom-out":"zoom_out"},i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"symbol",type:i,pure:!0}),i})();function Lse(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return o.filter="",s.KtG(o.onFilterElements())}),s.TgZ(1,"mat-icon"),s._uU(2),s.ALo(3,"symbol"),s.qZA()()}2&i&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"clear")))}function Bse(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-chip-option",9),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(2),s.Oqu(e)}}function Vse(i,n){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-chip-listbox",8),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return a.filterTags=o,s.KtG(a.onFilterElements())}),s.YNc(2,Bse,3,1,"ng-container",6),s.qZA(),s.BQk()}if(2&i){const e=s.oxw();s.xp6(1),s.Q6J("multiple",!1)("ngModel",e.filterTags),s.xp6(1),s.Q6J("ngForOf",e.tags)}}const Use=function(i){return{selected:i}};function Hse(i,n){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",10),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw();return s.KtG(l.onSelectElement(a))})("mousemove",function(o){const l=s.CHM(e).$implicit,h=s.oxw();return s.KtG(h.onMouseMove(o,l))}),s.TgZ(2,"div",11),s._UZ(3,"img",12),s.ALo(4,"assetUrl"),s.qZA(),s.TgZ(5,"span",12),s._uU(6),s.qZA()(),s.BQk()}if(2&i){const e=n.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(7,Use,r.selected===e)),s.xp6(2),s.uIk("src",s.Dn7(4,3,e.code,r.spriteSet,"thumbnail"),s.LSH),s.xp6(3),s.Oqu(e.name)}}const zse=function(i){return{dragging:i}};let o$=(()=>{class i{constructor(e,r){this.elementService=e,this.utilService=r,this.spriteSet=Aa[0],this.grabbingEnabled=!0,this.filterTypes=[],this.tagFilterVisible=!0,this.exclude=[],this.selectedChange=new s.vpe,this.grabbing=new s.vpe,this.elements=[],this.tags=[],this.filter="",this.filteredElements=[],this.acceptingDrag=!0}ngOnInit(){this.elementService.getElements().subscribe(e=>{this.elements=e,this.onFilterElements()})}onFilterElements(){const{filter:e,filterTags:r,exclude:o}=this,{elements:a,filterTypes:l,utilService:h}=this,m=a.filter(b=>!o.includes(b.code)).filter(b=>l.includes(b.type)),g=[];m.forEach(b=>b.tags.forEach(E=>{g.includes(E)||g.push(E)})),g.sort(),this.tags=g,this.filteredElements=m.filter(b=>void 0===r||b.tags.includes(r)).filter(h.getElementFilterPredicate(e))}onMouseMove(e,r){1!==e.buttons&&(this.acceptingDrag=!0),1===e.buttons&&this.acceptingDrag&&this.selected!==r&&(this.acceptingDrag=!1,this.selected=r,this.selectedChange.emit(this.selected),this.grabbing.emit(!0))}onSelectElement(e){this.selected!==e&&(this.selected=e,this.selectedChange.emit(this.selected),this.grabbing.emit(!1))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rp),s.Y36(Z0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-element-finder"]],inputs:{spriteSet:"spriteSet",selected:"selected",grabbingEnabled:"grabbingEnabled",filterTypes:"filterTypes",tagFilterVisible:"tagFilterVisible",exclude:"exclude"},outputs:{selectedChange:"selectedChange",grabbing:"grabbing"},decls:9,vars:7,consts:[[1,"element-finder",3,"ngClass"],["subscriptSizing","dynamic",1,"wide"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[4,"ngIf"],[1,"element-finder-items"],[4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",3,"click"],[3,"multiple","ngModel","ngModelChange"],["color","accent"],["draggable","false",1,"element-finder-item",3,"ngClass","click","mousemove"],["draggable","false",1,"thumbnail-wrapper"],["draggable","false"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),s._uU(3,"Search for element"),s.qZA(),s.TgZ(4,"input",2),s.NdJ("ngModelChange",function(a){return r.filter=a,r.onFilterElements()}),s.qZA(),s.YNc(5,Lse,4,3,"button",3),s.qZA(),s.YNc(6,Vse,3,3,"ng-container",4),s.TgZ(7,"div",5),s.YNc(8,Hse,7,9,"ng-container",6),s.qZA()()),2&e&&(s.Q6J("ngClass",s.VKq(5,zse,r.selected&&r.grabbingEnabled)),s.xp6(4),s.Q6J("ngModel",r.filter),s.xp6(1),s.Q6J("ngIf",r.filter),s.xp6(1),s.Q6J("ngIf",r.tagFilterVisible),s.xp6(2),s.Q6J("ngForOf",r.filteredElements))},dependencies:[zn,zr,Rn,vp,ev,wp,sH,IL,kL,XE,lv,CH,lf,ik,Ik,_f],styles:[".element-finder[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;height:100%}.element-finder.dragging[_ngcontent-%COMP%]{cursor:grabbing}.element-finder.dragging[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%] > .element-finder-item[_ngcontent-%COMP%]{cursor:grabbing!important}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:row;flex-wrap:wrap;align-items:stretch;overflow-y:auto;padding:0}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]{display:flex;background-color:#4a4a4a;flex-direction:column;justify-content:end;align-items:stretch;gap:4px;-webkit-user-select:none;user-select:none;cursor:pointer;border:1px solid silver;width:165px;height:150px;padding:8px;overflow:clip}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]   .element-finder-item.selected[_ngcontent-%COMP%]{border-color:gold}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #fff6}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(116%) translateY(-2%)}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.element-finder[_ngcontent-%COMP%]   .element-finder-items[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;filter:drop-shadow(0 0 2px black);transition-property:transform;transition-duration:.15s;transition-timing-function:ease-in-out}"]}),i})();function jse(i,n){1&i&&s._UZ(0,"th",25)}function $se(i,n){if(1&i&&(s.TgZ(0,"td",26),s._UZ(1,"img"),s.ALo(2,"assetUrl"),s.qZA()),2&i){const e=n.$implicit,r=s.oxw(2);s.xp6(1),s.uIk("src",s.Dn7(2,1,e.code,r.spriteSet,"thumbnail"),s.LSH)}}function Gse(i,n){1&i&&(s.TgZ(0,"th",27),s._uU(1," Code "),s.qZA())}function qse(i,n){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.hij(" ",e.code," ")}}function Wse(i,n){if(1&i&&(s.TgZ(0,"td",28),s.YNc(1,qse,2,1,"ng-container",29),s.qZA()),2&i){const e=n.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("ngIf",r.elementsByCode[e.code])}}function Zse(i,n){1&i&&(s.TgZ(0,"th",27),s._uU(1," Name "),s.qZA())}function Yse(i,n){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function Kse(i,n){if(1&i&&(s.TgZ(0,"td",28),s.YNc(1,Yse,2,1,"ng-container",29),s.qZA()),2&i){const e=n.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("ngIf",r.elementsByCode[e.code])}}function Qse(i,n){1&i&&(s.TgZ(0,"th",30),s._uU(1," Planned "),s.qZA())}function Jse(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"td",31)(1,"div",32)(2,"span"),s._uU(3),s.qZA(),s.TgZ(4,"div",33)(5,"button",34),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onIncreaseField(l,a,"planned"))}),s.TgZ(6,"mat-icon"),s._uU(7),s.ALo(8,"symbol"),s.qZA()(),s.TgZ(9,"button",35),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onDecreaseField(l,a,"planned"))}),s.TgZ(10,"mat-icon"),s._uU(11),s.ALo(12,"symbol"),s.qZA()()()()()}if(2&i){const e=n.$implicit;s.xp6(3),s.Oqu(e.planned),s.xp6(4),s.Oqu(s.lcZ(8,4,"increase")),s.xp6(2),s.Q6J("disabled",e.planned<=0),s.xp6(2),s.Oqu(s.lcZ(12,6,"decrease"))}}function Xse(i,n){1&i&&(s.TgZ(0,"th",30),s._uU(1," Printed "),s.qZA())}function eae(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"td",31)(1,"div",32)(2,"span"),s._uU(3),s.qZA(),s.TgZ(4,"div",33)(5,"button",34),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onIncreaseField(l,a,"printed"))}),s.TgZ(6,"mat-icon"),s._uU(7),s.ALo(8,"symbol"),s.qZA()(),s.TgZ(9,"button",35),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onDecreaseField(l,a,"printed"))}),s.TgZ(10,"mat-icon"),s._uU(11),s.ALo(12,"symbol"),s.qZA()()()()()}if(2&i){const e=n.$implicit;s.xp6(3),s.Oqu(e.printed),s.xp6(4),s.Oqu(s.lcZ(8,4,"increase")),s.xp6(2),s.Q6J("disabled",e.printed<=0),s.xp6(2),s.Oqu(s.lcZ(12,6,"decrease"))}}function tae(i,n){1&i&&(s.TgZ(0,"th",30),s._uU(1," Painted "),s.qZA())}function nae(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"td",31)(1,"div",32)(2,"span"),s._uU(3),s.qZA(),s.TgZ(4,"div",33)(5,"button",34),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onIncreaseField(l,a,"painted"))}),s.TgZ(6,"mat-icon"),s._uU(7),s.ALo(8,"symbol"),s.qZA()(),s.TgZ(9,"button",35),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onDecreaseField(l,a,"painted"))}),s.TgZ(10,"mat-icon"),s._uU(11),s.ALo(12,"symbol"),s.qZA()()()()()}if(2&i){const e=n.$implicit;s.xp6(3),s.Oqu(e.painted),s.xp6(4),s.Oqu(s.lcZ(8,4,"increase")),s.xp6(2),s.Q6J("disabled",e.painted<=0),s.xp6(2),s.Oqu(s.lcZ(12,6,"decrease"))}}function iae(i,n){1&i&&(s.TgZ(0,"th",36)(1,"mat-icon",37),s._uU(2),s.ALo(3,"symbol"),s.qZA()()),2&i&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"action")))}function rae(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"td",31)(1,"div",38)(2,"button",39),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw().$implicit,h=s.oxw();return s.KtG(h.onDeleteFromCollection(l,a))}),s.TgZ(3,"mat-icon"),s._uU(4),s.ALo(5,"symbol"),s.qZA()()()()}2&i&&(s.xp6(4),s.Oqu(s.lcZ(5,1,"delete")))}function oae(i,n){1&i&&s._UZ(0,"tr",40)}function sae(i,n){1&i&&s._UZ(0,"tr",41)}function aae(i,n){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-tab",2)(2,"div",3)(3,"div",4)(4,"table",5),s.ynx(5,6),s.YNc(6,jse,1,0,"th",7),s.YNc(7,$se,3,5,"td",8),s.BQk(),s.ynx(8,9),s.YNc(9,Gse,2,0,"th",10),s.YNc(10,Wse,2,1,"td",11),s.BQk(),s.ynx(11,12),s.YNc(12,Zse,2,0,"th",10),s.YNc(13,Kse,2,1,"td",11),s.BQk(),s.ynx(14,13),s.YNc(15,Qse,2,0,"th",14),s.YNc(16,Jse,13,8,"td",15),s.BQk(),s.ynx(17,16),s.YNc(18,Xse,2,0,"th",14),s.YNc(19,eae,13,8,"td",15),s.BQk(),s.ynx(20,17),s.YNc(21,tae,2,0,"th",14),s.YNc(22,nae,13,8,"td",15),s.BQk(),s.ynx(23,18),s.YNc(24,iae,4,3,"th",19),s.YNc(25,rae,6,3,"td",15),s.BQk(),s.YNc(26,oae,1,0,"tr",20),s.YNc(27,sae,1,0,"tr",21),s.qZA()(),s.TgZ(28,"div",22)(29,"h2"),s._uU(30,"Adding Elements"),s.qZA(),s.TgZ(31,"button",23),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw();return s.KtG(l.onAddToCollection(a,l.selectedElement))}),s.TgZ(32,"mat-icon"),s._uU(33),s.ALo(34,"symbol"),s.qZA(),s._uU(35," Add To Collection "),s.qZA(),s.TgZ(36,"kn-element-finder",24),s.NdJ("selectedChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.selectedElement=o)}),s.ALo(37,"pluck"),s.qZA()()()(),s.BQk()}if(2&i){const e=n.$implicit,r=s.oxw();s.xp6(1),s.Q6J("label",e.title),s.xp6(3),s.Q6J("dataSource",e.entries),s.xp6(22),s.Q6J("matHeaderRowDef",r.columns)("matHeaderRowDefSticky",!0),s.xp6(1),s.Q6J("matRowDefColumns",r.columns),s.xp6(4),s.Q6J("disabled",!r.selectedElement),s.xp6(2),s.Oqu(s.lcZ(34,13,"create")),s.xp6(3),s.Q6J("selected",r.selectedElement)("exclude",s.xi3(37,15,e.entries,"code"))("filterTypes",r.allElementTypes)("grabbingEnabled",!1)("spriteSet",r.spriteSet)("tagFilterVisible",!0)}}let cae=(()=>{class i{constructor(e,r){this.collectionService=e,this.elementService=r,this.collections=[],this.elements=[],this.elementsByCode={},this.spriteSet=Aa[0],this.columns=["thumbnail","code","name","planned","printed","painted","actions"],this.allElementTypes=[ns.Tile,ns.FlatGrid,ns.Key]}ngOnInit(){this.elementService.getElements().subscribe(r=>{this.elements=r;const o={};r.forEach(a=>o[a.code]=a),this.elementsByCode=o});const e=this.collectionService.getCollections().subscribe(r=>{e.unsubscribe(),this.collections=r,0===r.length&&this.collectionService.create("My Collection").subscribe()})}onAddToCollection(e,r){e.entries.find(o=>o.code===r.code)||(e.entries=[{code:r.code,planned:0,painted:0,printed:0},...e.entries],e.entries.sort((o,a)=>o.code.localeCompare(a.code)),this.collectionService.save(e))}onDecreaseField(e,r,o){r[o]>0&&(r[o]--,this.collectionService.save(e))}onDeleteFromCollection(e,r){e.entries=e.entries.filter(o=>o!==r),this.collectionService.save(e)}onIncreaseField(e,r,o){r[o]++,this.collectionService.save(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(t$),s.Y36(Rp))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-collection-page"]],decls:5,vars:1,consts:[[1,"page-layout","collection-list-page"],[4,"ngFor","ngForOf"],[3,"label"],[1,"collection-tab-content-wrapper"],[1,"collection-table-wrapper"],["mat-table","",1,"narrow",3,"dataSource"],["matColumnDef","thumbnail"],["class","narrow text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-left","mat-cell","",4,"matCellDef"],["matColumnDef","code"],["class","narrow text-nowrap text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-nowrap text-left","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","planned"],["class","narrow text-nowrap text-right","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-nowrap text-right border-left","mat-cell","",4,"matCellDef"],["matColumnDef","printed"],["matColumnDef","painted"],["matColumnDef","actions"],["class","narrow text-nowrap text-center","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"collection-add-entry-wrapper"],["color","primary","mat-raised-button","",2,"margin-bottom","10px",3,"disabled","click"],[3,"selected","exclude","filterTypes","grabbingEnabled","spriteSet","tagFilterVisible","selectedChange"],["mat-header-cell","",1,"narrow","text-left"],["mat-cell","",1,"narrow","text-left"],["mat-header-cell","",1,"narrow","text-nowrap","text-left"],["mat-cell","",1,"narrow","text-nowrap","text-left"],[4,"ngIf"],["mat-header-cell","",1,"narrow","text-nowrap","text-right"],["mat-cell","",1,"narrow","text-nowrap","text-right","border-left"],[1,"count-indicator"],[1,"count-indicator-buttons"],["color","primary","mat-icon-button","",3,"click"],["color","primary","mat-icon-button","",3,"disabled","click"],["mat-header-cell","",1,"narrow","text-nowrap","text-center"],["color","accent"],[1,"button-group-horizontal"],["color","warn","mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Collection"),s.qZA(),s.TgZ(3,"mat-tab-group"),s.YNc(4,aae,38,18,"ng-container",1),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngForOf",r.collections))},dependencies:[zr,Rn,cv,sH,lf,a2,OA,c2,PA,RA,l2,NA,FA,d2,u2,Xz,Cte,o$,jj,Ik,_f],styles:[".collection-list-page[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:nowrap;gap:0;height:calc(100% - 124px);justify-content:flex-start;overflow:clip;white-space:nowrap}.collection-list-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.collection-list-page[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;flex-shrink:0;height:0}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]{display:flex;align-content:flex-start;align-items:flex-start;flex-direction:row;flex-wrap:nowrap;gap:20px;height:100%;justify-content:flex-start}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;justify-content:flex-start;align-items:flex-start;justify-items:flex-start;overflow-y:scroll;flex-basis:auto;flex-grow:0;flex-shrink:0;width:auto;height:100%}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;min-width:0!important}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .border-left[_ngcontent-%COMP%]{border-left:1px solid rgba(255,255,255,.12)}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:75px;object-fit:contain;filter:drop-shadow(0 0 2px black) brightness(130%)}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .count-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;align-items:center;justify-content:stretch;justify-items:center;align-content:space-between;vertical-align:middle}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .count-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle;flex-basis:auto;flex-grow:1;flex-shrink:1}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .count-indicator[_ngcontent-%COMP%]   .count-indicator-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;vertical-align:middle;flex-basis:auto;flex-grow:0;flex-shrink:0}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-add-entry-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;align-content:flex-start;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;overflow-y:auto;flex-grow:1;flex-shrink:1;flex-basis:0;width:auto;height:100%}.collection-list-page[_ngcontent-%COMP%]   .collection-tab-content-wrapper[_ngcontent-%COMP%]   .collection-add-entry-wrapper[_ngcontent-%COMP%]   kn-element-finder[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;flex-shrink:0;height:0}"]}),i})();const sB="designs";let s$=(()=>{class i{constructor(e,r){this.authenticationService=e,this.firestore=r}create(){return this.authenticationService.getCurrentUserObservable().pipe(cn(e=>!!e),(0,Cr.z)(e=>{const r={id:p1(),ownerId:e.uid,title:"New Map",description:"",levels:[]};return(0,Cn.D)(this.doc(r).set(r)).pipe((0,Je.U)(()=>r))}))}getDesignById(e){return this.queryById(e)}getDesigns(){return this.authenticationService.getCurrentUserObservable().pipe(cn(e=>!!e),(0,Cr.z)(e=>this.firestore.collection(sB,r=>r.where("ownerId","==",e.uid)).valueChanges().pipe((0,Je.U)(r=>r),(0,Je.U)(r=>r.sort((o,a)=>o.title.localeCompare(a.title))))))}save(e){return(0,Cn.D)(this.doc(e).set(e)).pipe((0,Je.U)(()=>e))}doc(e){return this.firestore.collection(sB).doc(e.id)}queryById(e){return this.firestore.collection(sB).doc(e).get().pipe((0,Je.U)(r=>r.data()))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Tk),s.LFG(p0))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const{abs:Dk,cos:vf,sin:Y0,acos:lae,atan2:Sk,sqrt:Op,pow:sl}=Math;function Mk(i){return i<0?-sl(-i,1/3):sl(i,1/3)}const a$=Math.PI,g1=2*a$,Pp=a$/2,aB=Number.MAX_SAFE_INTEGER||9007199254740991,cB=Number.MIN_SAFE_INTEGER||-9007199254740991,uae={x:0,y:0,z:0},ct={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(i,n){const e=n(i);let r=e.x*e.x+e.y*e.y;return typeof e.z<"u"&&(r+=e.z*e.z),Op(r)},compute:function(i,n,e){if(0===i)return n[0].t=0,n[0];const r=n.length-1;if(1===i)return n[r].t=1,n[r];const o=1-i;let a=n;if(0===r)return n[0].t=i,n[0];if(1===r){const h={x:o*a[0].x+i*a[1].x,y:o*a[0].y+i*a[1].y,t:i};return e&&(h.z=o*a[0].z+i*a[1].z),h}if(r<4){let g,b,E,h=o*o,m=i*i,S=0;2===r?(a=[a[0],a[1],a[2],uae],g=h,b=o*i*2,E=m):3===r&&(g=h*o,b=h*i*3,E=o*m*3,S=i*m);const R={x:g*a[0].x+b*a[1].x+E*a[2].x+S*a[3].x,y:g*a[0].y+b*a[1].y+E*a[2].y+S*a[3].y,t:i};return e&&(R.z=g*a[0].z+b*a[1].z+E*a[2].z+S*a[3].z),R}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let h=0;h<l.length-1;h++)l[h]={x:l[h].x+(l[h+1].x-l[h].x)*i,y:l[h].y+(l[h+1].y-l[h].y)*i},typeof l[h].z<"u"&&(l[h]=l[h].z+(l[h+1].z-l[h].z)*i);l.splice(l.length-1,1)}return l[0].t=i,l[0]},computeWithRatios:function(i,n,e,r){const o=1-i;let E,h=e[0],m=e[1],g=e[2],b=e[3];return h*=o,m*=i,2===n.length?(E=h+m,{x:(h*n[0].x+m*n[1].x)/E,y:(h*n[0].y+m*n[1].y)/E,z:!!r&&(h*n[0].z+m*n[1].z)/E,t:i}):(h*=o,m*=2*o,g*=i*i,3===n.length?(E=h+m+g,{x:(h*n[0].x+m*n[1].x+g*n[2].x)/E,y:(h*n[0].y+m*n[1].y+g*n[2].y)/E,z:!!r&&(h*n[0].z+m*n[1].z+g*n[2].z)/E,t:i}):(h*=o,m*=1.5*o,g*=3*o,b*=i*i*i,4===n.length?(E=h+m+g+b,{x:(h*n[0].x+m*n[1].x+g*n[2].x+b*n[3].x)/E,y:(h*n[0].y+m*n[1].y+g*n[2].y+b*n[3].y)/E,z:!!r&&(h*n[0].z+m*n[1].z+g*n[2].z+b*n[3].z)/E,t:i}):void 0))},derive:function(i,n){const e=[];for(let r=i,o=r.length,a=o-1;o>1;o--,a--){const l=[];for(let m,h=0;h<a;h++)m={x:a*(r[h+1].x-r[h].x),y:a*(r[h+1].y-r[h].y)},n&&(m.z=a*(r[h+1].z-r[h].z)),l.push(m);e.push(l),r=l}return e},between:function(i,n,e){return n<=i&&i<=e||ct.approximately(i,n)||ct.approximately(i,e)},approximately:function(i,n,e){return Dk(i-n)<=(e||1e-6)},length:function(i){const e=ct.Tvalues.length;let r=0;for(let a,o=0;o<e;o++)a=.5*ct.Tvalues[o]+.5,r+=ct.Cvalues[o]*ct.arcfn(a,i);return.5*r},map:function(i,n,e,r,o){return r+(i-n)/(e-n)*(o-r)},lerp:function(i,n,e){const r={x:n.x+i*(e.x-n.x),y:n.y+i*(e.y-n.y)};return void 0!==n.z&&void 0!==e.z&&(r.z=n.z+i*(e.z-n.z)),r},pointToString:function(i){let n=i.x+"/"+i.y;return typeof i.z<"u"&&(n+="/"+i.z),n},pointsToString:function(i){return"["+i.map(ct.pointToString).join(", ")+"]"},copy:function(i){return JSON.parse(JSON.stringify(i))},angle:function(i,n,e){const r=n.x-i.x,o=n.y-i.y,a=e.x-i.x,l=e.y-i.y;return Sk(r*l-o*a,r*a+o*l)},round:function(i,n){const e=""+i,r=e.indexOf(".");return parseFloat(e.substring(0,r+1+n))},dist:function(i,n){const e=i.x-n.x,r=i.y-n.y;return Op(e*e+r*r)},closest:function(i,n){let r,o,e=sl(2,63);return i.forEach(function(a,l){o=ct.dist(n,a),o<e&&(e=o,r=l)}),{mdist:e,mpos:r}},abcratio:function(i,n){if(2!==n&&3!==n)return!1;if(typeof i>"u")i=.5;else if(0===i||1===i)return i;const e=sl(i,n)+sl(1-i,n);return Dk((e-1)/e)},projectionratio:function(i,n){if(2!==n&&3!==n)return!1;if(typeof i>"u")i=.5;else if(0===i||1===i)return i;const e=sl(1-i,n);return e/(sl(i,n)+e)},lli8:function(i,n,e,r,o,a,l,h){const b=(i-e)*(a-h)-(n-r)*(o-l);return 0!=b&&{x:((i*r-n*e)*(o-l)-(i-e)*(o*h-a*l))/b,y:((i*r-n*e)*(a-h)-(n-r)*(o*h-a*l))/b}},lli4:function(i,n,e,r){return ct.lli8(i.x,i.y,n.x,n.y,e.x,e.y,r.x,r.y)},lli:function(i,n){return ct.lli4(i,i.c,n,n.c)},makeline:function(i,n){return new Rr(i.x,i.y,(i.x+n.x)/2,(i.y+n.y)/2,n.x,n.y)},findbbox:function(i){let n=aB,e=aB,r=cB,o=cB;return i.forEach(function(a){const l=a.bbox();n>l.x.min&&(n=l.x.min),e>l.y.min&&(e=l.y.min),r<l.x.max&&(r=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:n,mid:(n+r)/2,max:r,size:r-n},y:{min:e,mid:(e+o)/2,max:o,size:o-e}}},shapeintersections:function(i,n,e,r,o){if(!ct.bboxoverlap(n,r))return[];const a=[],h=[e.startcap,e.forward,e.back,e.endcap];return[i.startcap,i.forward,i.back,i.endcap].forEach(function(m){m.virtual||h.forEach(function(g){if(g.virtual)return;const b=m.intersects(g,o);b.length>0&&(b.c1=m,b.c2=g,b.s1=i,b.s2=e,a.push(b))})}),a},makeshape:function(i,n,e){const o=i.points.length,a=ct.makeline(n.points[n.points.length-1],i.points[0]),l=ct.makeline(i.points[o-1],n.points[0]),h={startcap:a,forward:i,back:n,endcap:l,bbox:ct.findbbox([a,i,n,l]),intersections:function(m){return ct.shapeintersections(h,h.bbox,m,m.bbox,e)}};return h},getminmax:function(i,n,e){if(!e)return{min:0,max:0};let a,l,r=aB,o=cB;-1===e.indexOf(0)&&(e=[0].concat(e)),-1===e.indexOf(1)&&e.push(1);for(let h=0,m=e.length;h<m;h++)a=e[h],l=i.get(a),l[n]<r&&(r=l[n]),l[n]>o&&(o=l[n]);return{min:r,mid:(r+o)/2,max:o,size:o-r}},align:function(i,n){const e=n.p1.x,r=n.p1.y,o=-Sk(n.p2.y-r,n.p2.x-e);return i.map(function(l){return{x:(l.x-e)*vf(o)-(l.y-r)*Y0(o),y:(l.x-e)*Y0(o)+(l.y-r)*vf(o)}})},roots:function(i,n){const e=i.length-1,r=ct.align(i,n=n||{p1:{x:0,y:0},p2:{x:1,y:0}}),o=function(ht){return 0<=ht&&ht<=1};if(2===e){const ht=r[0].y,Bt=r[1].y,vn=r[2].y,Ni=ht-2*Bt+vn;if(0!==Ni){const _c=-Op(Bt*Bt-ht*vn),is=-ht+Bt;return[-(_c+is)/Ni,-(-_c+is)/Ni].filter(o)}return Bt!==vn&&0===Ni?[(2*Bt-vn)/(2*Bt-2*vn)].filter(o):[]}const a=r[0].y,l=r[1].y,h=r[2].y;let g=3*l-a-3*h+r[3].y,b=3*a-6*l+3*h,E=-3*a+3*l,S=a;if(ct.approximately(g,0)){if(ct.approximately(b,0))return ct.approximately(E,0)?[]:[-S/E].filter(o);const ht=Op(E*E-4*b*S),Bt=2*b;return[(ht-E)/Bt,(-E-ht)/Bt].filter(o)}b/=g,E/=g,S/=g;const R=(3*E-b*b)/3,F=R/3,G=(2*b*b*b-9*b*E+27*S)/27,Y=G/2,ve=Y*Y+F*F*F;let Me,Oe,De,Pe,et;if(ve<0){const ht=-R/3,vn=Op(ht*ht*ht),Ni=-G/(2*vn),is=lae(Ni<-1?-1:Ni>1?1:Ni),yu=2*Mk(vn);return De=yu*vf(is/3)-b/3,Pe=yu*vf((is+g1)/3)-b/3,et=yu*vf((is+2*g1)/3)-b/3,[De,Pe,et].filter(o)}if(0===ve)return Me=Y<0?Mk(-Y):-Mk(Y),De=2*Me-b/3,Pe=-Me-b/3,[De,Pe].filter(o);{const ht=Op(ve);return Me=Mk(-Y+ht),Oe=Mk(Y+ht),[Me-Oe-b/3].filter(o)}},droots:function(i){if(3===i.length){const n=i[0],e=i[1],r=i[2],o=n-2*e+r;if(0!==o){const a=-Op(e*e-n*r),l=-n+e;return[-(a+l)/o,-(-a+l)/o]}return e!==r&&0===o?[(2*e-r)/(2*(e-r))]:[]}if(2===i.length){const n=i[0],e=i[1];return n!==e?[n/(n-e)]:[]}return[]},curvature:function(i,n,e,r,o){let a,l,h,m,g=0,b=0;const E=ct.compute(i,n),S=ct.compute(i,e),R=E.x*E.x+E.y*E.y;if(r?(a=Op(sl(E.y*S.z-S.y*E.z,2)+sl(E.z*S.x-S.z*E.x,2)+sl(E.x*S.y-S.x*E.y,2)),l=sl(R+E.z*E.z,1.5)):(a=E.x*S.y-E.y*S.x,l=sl(R,1.5)),0===a||0===l)return{k:0,r:0};if(g=a/l,b=l/a,!o){const F=ct.curvature(i-.001,n,e,r,!0).k,G=ct.curvature(i+.001,n,e,r,!0).k;m=(G-g+(g-F))/2,h=(Dk(G-g)+Dk(g-F))/2}return{k:g,r:b,dk:m,adk:h}},inflections:function(i){if(i.length<4)return[];const n=ct.align(i,{p1:i[0],p2:i.slice(-1)[0]}),e=n[2].x*n[1].y,r=n[3].x*n[1].y,o=n[1].x*n[2].y,l=18*(-3*e+2*r+3*o-n[3].x*n[2].y),h=18*(3*e-r-3*o),m=18*(o-e);if(ct.approximately(l,0)){if(!ct.approximately(h,0)){let S=-m/h;if(0<=S&&S<=1)return[S]}return[]}const g=2*l;if(ct.approximately(g,0))return[];const b=h*h-4*l*m;if(b<0)return[];const E=Math.sqrt(b);return[(E-h)/g,-(h+E)/g].filter(function(S){return 0<=S&&S<=1})},bboxoverlap:function(i,n){const e=["x","y"],r=e.length;for(let a,l,h,m,o=0;o<r;o++)if(a=e[o],l=i[a].mid,h=n[a].mid,m=(i[a].size+n[a].size)/2,Dk(l-h)>=m)return!1;return!0},expandbox:function(i,n){n.x.min<i.x.min&&(i.x.min=n.x.min),n.y.min<i.y.min&&(i.y.min=n.y.min),n.z&&n.z.min<i.z.min&&(i.z.min=n.z.min),n.x.max>i.x.max&&(i.x.max=n.x.max),n.y.max>i.y.max&&(i.y.max=n.y.max),n.z&&n.z.max>i.z.max&&(i.z.max=n.z.max),i.x.mid=(i.x.min+i.x.max)/2,i.y.mid=(i.y.min+i.y.max)/2,i.z&&(i.z.mid=(i.z.min+i.z.max)/2),i.x.size=i.x.max-i.x.min,i.y.size=i.y.max-i.y.min,i.z&&(i.z.size=i.z.max-i.z.min)},pairiteration:function(i,n,e){const r=i.bbox(),o=n.bbox(),a=1e5,l=e||.5;if(r.x.size+r.y.size<l&&o.x.size+o.y.size<l)return[(a*(i._t1+i._t2)/2|0)/a+"/"+(a*(n._t1+n._t2)/2|0)/a];let h=i.split(.5),m=n.split(.5),g=[{left:h.left,right:m.left},{left:h.left,right:m.right},{left:h.right,right:m.right},{left:h.right,right:m.left}];g=g.filter(function(E){return ct.bboxoverlap(E.left.bbox(),E.right.bbox())});let b=[];return 0===g.length||(g.forEach(function(E){b=b.concat(ct.pairiteration(E.left,E.right,l))}),b=b.filter(function(E,S){return b.indexOf(E)===S})),b},getccenter:function(i,n,e){const r=n.x-i.x,o=n.y-i.y,a=e.x-n.x,l=e.y-n.y,h=r*vf(Pp)-o*Y0(Pp),m=r*Y0(Pp)+o*vf(Pp),g=a*vf(Pp)-l*Y0(Pp),b=a*Y0(Pp)+l*vf(Pp),E=(i.x+n.x)/2,S=(i.y+n.y)/2,R=(n.x+e.x)/2,F=(n.y+e.y)/2,Oe=ct.lli8(E,S,E+h,S+m,R,F,R+g,F+b),De=ct.dist(Oe,i);let Bt,Pe=Sk(i.y-Oe.y,i.x-Oe.x),et=Sk(n.y-Oe.y,n.x-Oe.x),ht=Sk(e.y-Oe.y,e.x-Oe.x);return Pe<ht?((Pe>et||et>ht)&&(Pe+=g1),Pe>ht&&(Bt=ht,ht=Pe,Pe=Bt)):ht<et&&et<Pe?(Bt=ht,ht=Pe,Pe=Bt):ht+=g1,Oe.s=Pe,Oe.e=ht,Oe.r=De,Oe},numberSort:function(i,n){return i-n}};class Ak{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return ct.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,e){return n+e})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var e=n[0].bbox(),r=1;r<n.length;r++)ct.expandbox(e,n[r].bbox());return e}offset(n){const e=[];return this.curves.forEach(function(r){e.push(...r.offset(n))}),new Ak(e)}}const{abs:Rk,min:c$,max:l$,cos:hae,sin:fae,acos:mae,sqrt:Ok}=Math,pae=Math.PI;class Rr{constructor(n){let e=n&&n.forEach?n:Array.from(arguments).slice(),r=!1;if("object"==typeof e[0]){r=e.length;const R=[];e.forEach(function(F){["x","y","z"].forEach(function(G){typeof F[G]<"u"&&R.push(F[G])})}),e=R}let o=!1;const a=e.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(9===a||12===a)||n&&n[0]&&typeof n[0].z<"u",h=this.points=[];for(let R=0,F=l?3:2;R<a;R+=F){var m={x:e[R],y:e[R+1]};l&&(m.z=e[R+2]),h.push(m)}const g=this.order=h.length-1,b=this.dims=["x","y"];l&&b.push("z"),this.dimlen=b.length;const E=ct.align(h,{p1:h[0],p2:h[g]}),S=ct.dist(h[0],h[g]);this._linear=E.reduce((R,F)=>R+Rk(F.y),0)<S/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,e,r,o){if(typeof o>"u"&&(o=.5),0===o)return new Rr(e,e,r);if(1===o)return new Rr(n,e,e);const a=Rr.getABC(2,n,e,r,o);return new Rr(n,a.A,r)}static cubicFromPoints(n,e,r,o,a){typeof o>"u"&&(o=.5);const l=Rr.getABC(3,n,e,r,o);typeof a>"u"&&(a=ct.dist(e,l.C));const h=a*(1-o)/o,m=ct.dist(n,r),g=(r.x-n.x)/m,b=(r.y-n.y)/m,ve=l.A;return new Rr(n,{x:n.x+(ve.x+(e.x-a*g-ve.x)/(1-o)-n.x)/o,y:n.y+(ve.y+(e.y-a*b-ve.y)/(1-o)-n.y)/o},{x:r.x+(ve.x+(e.x+h*g-ve.x)/o-r.x)/(1-o),y:r.y+(ve.y+(e.y+h*b-ve.y)/o-r.y)/(1-o)},r)}static getUtils(){return ct}getUtils(){return Rr.getUtils()}static get PolyBezier(){return Ak}valueOf(){return this.toString()}toString(){return ct.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,o=["M",n[0].x,n[0].y,2===this.order?"Q":"C"];for(let a=1,l=n.length;a<l;a++)o.push(n[a].x),o.push(n[a].y);return o.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,e){return""+e+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=ct.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,e=ct.angle(n[0],n[this.order],n[1]);this.clockwise=e>0}length(){return ct.length(this.derivative.bind(this))}static getABC(n=2,e,r,o,a=.5){const l=ct.projectionratio(a,n),h=1-l,m={x:l*e.x+h*o.x,y:l*e.y+h*o.y},g=ct.abcratio(a,n);return{A:{x:r.x+(r.x-m.x)/g,y:r.y+(r.y-m.y)/g},B:r,C:m,S:e,E:o}}getABC(n,e){return e=e||this.get(n),Rr.getABC(this.order,this.points[0],e,this.points[this.order],n)}getLUT(n){if(this.verify(),this._lut.length===(n=n||100)+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r,o,e=0;e<n;e++)o=e/(n-1),r=this.compute(o),r.t=o,this._lut.push(r);return this._lut}on(n,e){e=e||5;const r=this.getLUT(),o=[];for(let l,a=0,h=0;a<r.length;a++)l=r[a],ct.dist(l,n)<e&&(o.push(l),h+=a/r.length);return!!o.length&&(t/=o.length)}project(n){const e=this.getLUT(),r=e.length-1,o=ct.closest(e,n),a=o.mpos,h=(a+1)/r,m=.1/r;let S,g=o.mdist,b=(a-1)/r,E=b;g+=1;for(let R;b<h+m;b+=m)S=this.compute(b),R=ct.dist(n,S),R<g&&(g=R,E=b);return E=E<0?0:E>1?1:E,S=this.compute(E),S.t=E,S.d=g,S}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?ct.computeWithRatios(n,this.points,this.ratios,this._3d):ct.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,e=[n[0]],r=n.length;for(let a,l,o=1;o<r;o++)a=n[o],l=n[o-1],e[o]={x:(r-o)/r*a.x+o/r*l.x,y:(r-o)/r*a.y+o/r*l.y};return e[r]=n[r-1],new Rr(e)}derivative(n){return ct.compute(n,this.dpoints[0],this._3d)}dderivative(n){return ct.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Rr(ct.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return ct.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ct.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const e=this.derivative(n),r=Ok(e.x*e.x+e.y*e.y);return{t:n,x:-e.y/r,y:e.x/r}}__normal3(n){const e=this.derivative(n),r=this.derivative(n+.01),o=Ok(e.x*e.x+e.y*e.y+e.z*e.z),a=Ok(r.x*r.x+r.y*r.y+r.z*r.z);e.x/=o,e.y/=o,e.z/=o,r.x/=a,r.y/=a,r.z/=a;const l={x:r.y*e.z-r.z*e.y,y:r.z*e.x-r.x*e.z,z:r.x*e.y-r.y*e.x},h=Ok(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=h,l.y/=h,l.z/=h;const m=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:m[0]*e.x+m[1]*e.y+m[2]*e.z,y:m[3]*e.x+m[4]*e.y+m[5]*e.z,z:m[6]*e.x+m[7]*e.y+m[8]*e.z}}hull(n){let e=this.points,r=[],o=[],a=0;for(o[a++]=e[0],o[a++]=e[1],o[a++]=e[2],3===this.order&&(o[a++]=e[3]);e.length>1;){r=[];for(let h,l=0,m=e.length-1;l<m;l++)h=ct.lerp(n,e[l],e[l+1]),o[a++]=h,r.push(h);e=r}return o}split(n,e){if(0===n&&e)return this.split(e).left;if(1===e)return this.split(n).right;const r=this.hull(n),o={left:new Rr(2===this.order?[r[0],r[3],r[5]]:[r[0],r[4],r[7],r[9]]),right:new Rr(2===this.order?[r[5],r[4],r[2]]:[r[9],r[8],r[6],r[3]]),span:r};return o.left._t1=ct.map(0,0,1,this._t1,this._t2),o.left._t2=ct.map(n,0,1,this._t1,this._t2),o.right._t1=ct.map(n,0,1,this._t1,this._t2),o.right._t2=ct.map(1,0,1,this._t1,this._t2),e?(e=ct.map(e,n,1,0,1),o.right.split(e).left):o}extrema(){const n={};let e=[];return this.dims.forEach(function(r){let o=function(l){return l[r]},a=this.dpoints[0].map(o);n[r]=ct.droots(a),3===this.order&&(a=this.dpoints[1].map(o),n[r]=n[r].concat(ct.droots(a))),n[r]=n[r].filter(function(l){return l>=0&&l<=1}),e=e.concat(n[r].sort(ct.numberSort))}.bind(this)),n.values=e.sort(ct.numberSort).filter(function(r,o){return e.indexOf(r)===o}),n}bbox(){const n=this.extrema(),e={};return this.dims.forEach(function(r){e[r]=ct.getminmax(this,r,n[r])}.bind(this)),e}overlaps(n){const e=this.bbox(),r=n.bbox();return ct.bboxoverlap(e,r)}offset(n,e){if(typeof e<"u"){const r=this.get(n),o=this.normal(n),a={c:r,n:o,x:r.x+o.x*e,y:r.y+o.y*e};return this._3d&&(a.z=r.z+o.z*e),a}if(this._linear){const r=this.normal(0),o=this.points.map(function(a){const l={x:a.x+n*r.x,y:a.y+n*r.y};return a.z&&r.z&&(l.z=a.z+n*r.z),l});return[new Rr(o)]}return this.reduce().map(function(r){return r._linear?r.offset(n)[0]:r.scale(n)})}simple(){if(3===this.order){const o=ct.angle(this.points[0],this.points[3],this.points[1]),a=ct.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const n=this.normal(0),e=this.normal(1);let r=n.x*e.x+n.y*e.y;return this._3d&&(r+=n.z*e.z),Rk(mae(r))<pae/3}reduce(){let n,a,e=0,r=0,o=.01,l=[],h=[],m=this.extrema().values;for(-1===m.indexOf(0)&&(m=[0].concat(m)),-1===m.indexOf(1)&&m.push(1),e=m[0],n=1;n<m.length;n++)r=m[n],a=this.split(e,r),a._t1=e,a._t2=r,l.push(a),e=r;return l.forEach(function(g){for(e=0,r=0;r<=1;)for(r=e+o;r<=1+o;r+=o)if(a=g.split(e,r),!a.simple()){if(r-=o,Rk(e-r)<o)return[];a=g.split(e,r),a._t1=ct.map(e,0,1,g._t1,g._t2),a._t2=ct.map(r,0,1,g._t1,g._t2),h.push(a),e=r;break}e<1&&(a=g.split(e,1),a._t1=ct.map(e,0,1,g._t1,g._t2),a._t2=g._t2,h.push(a))}),h}translate(n,e,r){r="number"==typeof r?r:e;const o=this.order;let a=this.points.map((l,h)=>(1-h/o)*e+h/o*r);return new Rr(this.points.map((l,h)=>({x:l.x+n.x*a[h],y:l.y+n.y*a[h]})))}scale(n){const e=this.order;let r=!1;if("function"==typeof n&&(r=n),r&&2===e)return this.raise().scale(r);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):n,r?r(1):n);const l=r?r(0):n,h=r?r(1):n,m=[this.offset(0,10),this.offset(1,10)],g=[],b=ct.lli4(m[0],m[0].c,m[1],m[1].c);if(!b)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(E){const S=g[E*e]=ct.copy(a[E*e]);S.x+=(E?h:l)*m[E].n.x,S.y+=(E?h:l)*m[E].n.y}),r?([0,1].forEach(function(E){if(2!==e||!E){var S=a[E+1],R={x:S.x-b.x,y:S.y-b.y},F=r?r((E+1)/e):n;r&&!o&&(F=-F);var G=Ok(R.x*R.x+R.y*R.y);R.x/=G,R.y/=G,g[E+1]={x:S.x+F*R.x,y:S.y+F*R.y}}}),new Rr(g)):([0,1].forEach(E=>{if(2===e&&E)return;const S=g[E*e],R=this.derivative(E);g[E+1]=ct.lli4(S,{x:S.x+R.x,y:S.y+R.y},b,a[E+1])}),new Rr(g))}outline(n,e,r,o){if(e=void 0===e?n:e,this._linear){const Pe=this.normal(0),et=this.points[0],ht=this.points[this.points.length-1];let Bt,vn,Ni;void 0===r&&(r=n,o=e),Bt={x:et.x+Pe.x*n,y:et.y+Pe.y*n},Ni={x:ht.x+Pe.x*r,y:ht.y+Pe.y*r},vn={x:(Bt.x+Ni.x)/2,y:(Bt.y+Ni.y)/2};const _c=[Bt,vn,Ni];Bt={x:et.x-Pe.x*e,y:et.y-Pe.y*e},Ni={x:ht.x-Pe.x*o,y:ht.y-Pe.y*o},vn={x:(Bt.x+Ni.x)/2,y:(Bt.y+Ni.y)/2};const is=[Ni,vn,Bt],zs=ct.makeline(is[2],_c[0]),yu=ct.makeline(_c[2],is[0]),w1=[zs,new Rr(_c),yu,new Rr(is)];return new Ak(w1)}const a=this.reduce(),l=a.length,h=[];let g,m=[],b=0,E=this.length();const S=typeof r<"u"&&typeof o<"u";function R(Pe,et,ht,Bt,vn){return function(Ni){const zs=et-Pe;return ct.map(Ni,0,1,Pe+Bt/ht*zs,Pe+(Bt+vn)/ht*zs)}}a.forEach(function(Pe){const et=Pe.length();S?(h.push(Pe.scale(R(n,r,E,b,et))),m.push(Pe.scale(R(-e,-o,E,b,et)))):(h.push(Pe.scale(n)),m.push(Pe.scale(-e))),b+=et}),m=m.map(function(Pe){return g=Pe.points,Pe.points=g[3]?[g[3],g[2],g[1],g[0]]:[g[2],g[1],g[0]],Pe}).reverse();const G=h[l-1].points[h[l-1].points.length-1],ve=m[0].points[0],Me=ct.makeline(m[l-1].points[m[l-1].points.length-1],h[0].points[0]),Oe=ct.makeline(G,ve),De=[Me].concat(h).concat([Oe]).concat(m);return new Ak(De)}outlineshapes(n,e,r){const o=this.outline(n,e=e||n).curves,a=[];for(let l=1,h=o.length;l<h/2;l++){const m=ct.makeshape(o[l],o[h-l],r);m.startcap.virtual=l>1,m.endcap.virtual=l<h/2-1,a.push(m)}return a}intersects(n,e){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Rr&&(n=n.reduce()),this.curveintersects(this.reduce(),n,e)):this.selfintersects(e)}lineIntersects(n){const e=c$(n.p1.x,n.p2.x),r=c$(n.p1.y,n.p2.y),o=l$(n.p1.x,n.p2.x),a=l$(n.p1.y,n.p2.y);return ct.roots(this.points,n).filter(l=>{var h=this.get(l);return ct.between(h.x,e,o)&&ct.between(h.y,r,a)})}selfintersects(n){const e=this.reduce(),r=e.length-2,o=[];for(let l,h,m,a=0;a<r;a++)h=e.slice(a,a+1),m=e.slice(a+2),l=this.curveintersects(h,m,n),o.push(...l);return o}curveintersects(n,e,r){const o=[];n.forEach(function(l){e.forEach(function(h){l.overlaps(h)&&o.push({left:l,right:h})})});let a=[];return o.forEach(function(l){const h=ct.pairiteration(l.left,l.right,r);h.length>0&&(a=a.concat(h))}),a}arcs(n){return this._iterate(n=n||.5,[])}_error(n,e,r,o){const a=(o-r)/4,l=this.get(r+a),h=this.get(o-a),m=ct.dist(n,e),g=ct.dist(n,l),b=ct.dist(n,h);return Rk(g-m)+Rk(b-m)}_iterate(n,e){let a,r=0,o=1;do{a=0,o=1;let h,m,g,b,R,l=this.get(r),E=!1,S=!1,F=o,G=1,Y=0;do{if(S=E,b=g,F=(r+o)/2,Y++,h=this.get(F),m=this.get(o),g=ct.getccenter(l,h,m),g.interval={start:r,end:o},E=this._error(g,l,r,o)<=n,R=S&&!E,R||(G=o),E){if(o>=1){if(g.interval.end=G=1,b=g,o>1){let Me={x:g.x+g.r*hae(g.e),y:g.y+g.r*fae(g.e)};g.e+=ct.angle({x:g.x,y:g.y},Me,this.get(1))}break}o+=(o-r)/2}else o=F}while(!R&&a++<100);if(a>=100)break;b=b||g,e.push(b),r=G}while(o<1);return e}}let gae=(()=>{class i{transform(e){return`translate(${e[0]}, ${e[1]})`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"cssTranslate",type:i,pure:!0}),i})();const _ae=["svg"];function vae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s._UZ(1,"rect",16),s.BQk()),2&i){const e=s.oxw(4);s.xp6(1),s.uIk("height",e.cellSize)("width",e.cellSize)("x",0)("y",0)}}const yf=function(i,n){return[i,n]};function yae(i,n){if(1&i&&(s.O4$(),s.TgZ(0,"g"),s.ALo(1,"cssTranslate"),s.TgZ(2,"g",14),s._UZ(3,"image",15),s.qZA(),s.YNc(4,vae,2,4,"ng-container",3),s.qZA()),2&i){const e=n.$implicit,r=s.oxw().$implicit,o=s.oxw(2);s.uIk("transform",s.lcZ(1,8,s.WLB(10,yf,e.x,e.y))),s.xp6(2),s.Q6J("ngClass",r.annotation?"annotation_"+r.annotation.type:void 0),s.xp6(1),s.Udp("filter",o.grayscale?"grayscale("+o.grayscale+")":""),s.uIk("height",o.cellSize)("href","assets/sprites/"+o.spriteSet.code+"/"+r.asset+".png")("width",o.cellSize),s.xp6(1),s.Q6J("ngIf",o.debug)}}function bae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.TgZ(1,"g"),s.ALo(2,"cssTranslate"),s.YNc(3,yae,5,13,"g",3),s.qZA(),s.BQk()),2&i){const e=n.$implicit,r=s.oxw(2);s.xp6(1),s.uIk("transform",s.lcZ(2,2,s.WLB(4,yf,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y))),s.xp6(2),s.Q6J("ngIf",r.getSpriteOffset(r.elementsBycode[e.tile.element],e.tile.orientation+r.orientation))}}function wae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s._UZ(1,"rect",17),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.uIk("height",e.y2-e.y1)("width",e.x2-e.x1)("x",e.x1)("y",e.y1)}}function xae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,wae,2,4,"ng-container",3),s.BQk()),2&i){const e=n.$implicit,r=s.oxw(2).$implicit,o=s.oxw(2);s.xp6(1),s.Q6J("ngIf",o.projectBox(e,r.layer))}}function Cae(i,n){if(1&i&&(s.O4$(),s.TgZ(0,"g"),s.ALo(1,"cssTranslate"),s.YNc(2,xae,2,1,"ng-container",3),s.qZA()),2&i){const e=s.oxw().$implicit,r=s.oxw(2);s.uIk("transform",s.lcZ(1,2,s.WLB(4,yf,r.svgWidth/2-r.zoom*r.focus.x,r.svgHeight/2-r.zoom*r.focus.y))),s.xp6(2),s.Q6J("ngIf",r.utilService.bounds(e.tile,r.elementsBycode[e.tile.element].footprint,e.tile.orientation))}}function Eae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.TgZ(1,"g"),s.ALo(2,"cssTranslate"),s._UZ(3,"circle",18),s.TgZ(4,"text",19),s._uU(5),s.qZA()(),s.BQk()),2&i){const e=s.oxw(),r=e.$implicit,o=e.index,a=s.oxw(2);s.xp6(1),s.uIk("transform",s.lcZ(2,2,s.WLB(4,yf,a.svgWidth/2-a.zoom*a.focus.x+r.x,a.svgHeight/2-a.zoom*a.focus.y+r.y))),s.xp6(4),s.Oqu(o)}}function kae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.TgZ(1,"g"),s.ALo(2,"cssTranslate"),s._UZ(3,"circle",20),s.qZA(),s.BQk()),2&i){const e=s.oxw().$implicit,r=s.oxw(2);s.xp6(1),s.uIk("transform",s.lcZ(2,3,s.WLB(5,yf,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y))),s.xp6(2),s.Udp("fill",r.layerColors[e.layer])}}function Tae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,Cae,3,7,"g",3),s.YNc(2,Eae,6,7,"ng-container",3),s.YNc(3,kae,4,8,"ng-container",3),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!1),s.xp6(1),s.Q6J("ngIf",!1),s.xp6(1),s.Q6J("ngIf",e.debug)}}function Iae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s._UZ(1,"image",21),s.ALo(2,"assetUrl"),s.ALo(3,"cssTranslate"),s.BQk()),2&i){const e=n.$implicit,r=s.oxw().$implicit,o=s.oxw(5);s.xp6(1),s.Udp("opacity",.7+.15*o.sin(4.5*o.time)),s.uIk("height",o.cellSize)("href",s.Dn7(2,6,o.cursor.element.code,o.spriteSet,o.cursor.orientation))("transform",s.lcZ(3,10,s.WLB(12,yf,o.svgWidth/2-o.zoom*o.focus.x+r.x+e.x,o.svgHeight/2-o.zoom*o.focus.y+r.y+e.y)))("width",o.cellSize)}}function Dae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,Iae,4,15,"ng-container",3),s.BQk()),2&i){const e=s.oxw(5);s.xp6(1),s.Q6J("ngIf",e.getSpriteOffset(e.cursor.element,e.cursor.orientation))}}function Sae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,Dae,2,1,"ng-container",3),s.BQk()),2&i){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",e.project(e.cursorHardpoint.original.x,e.cursorHardpoint.original.y,e.cursorHardpoint.original.z))}}function Mae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s._UZ(1,"image",22),s.ALo(2,"assetUrl"),s.ALo(3,"cssTranslate"),s.BQk()),2&i){const e=n.$implicit,r=s.oxw(5);s.xp6(1),s.Udp("opacity",.3),s.uIk("height",r.cellSize)("href",s.Dn7(2,6,r.cursor.element.code,r.spriteSet,r.cursor.orientation))("transform",s.lcZ(3,10,s.WLB(12,yf,r.lastMouseXY.x+e.x,r.lastMouseXY.y+e.y)))("width",r.cellSize)}}function Aae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,Mae,4,15,"ng-container",3),s.BQk()),2&i){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",e.getSpriteOffset(e.cursor.element,e.cursor.orientation))}}function Rae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,Sae,2,1,"ng-container",3),s.YNc(2,Aae,2,1,"ng-container",3),s.BQk()),2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.cursorHardpoint),s.xp6(1),s.Q6J("ngIf",!e.cursorHardpoint)}}function Oae(i,n){if(1&i&&(s.O4$(),s._UZ(0,"circle",25),s.ALo(1,"cssTranslate")),2&i){const e=s.oxw().$implicit,r=s.oxw(3);s.uIk("transform",s.lcZ(1,1,s.WLB(3,yf,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y)))}}function Pae(i,n){if(1&i){const e=s.EpF();s.O4$(),s.ynx(0),s.TgZ(1,"path",23),s.NdJ("mouseleave",function(){const a=s.CHM(e).$implicit,l=s.oxw(3);return s.KtG(l.onMouseOutHardpoint(a))})("mouseover",function(){const a=s.CHM(e).$implicit,l=s.oxw(3);return s.KtG(l.onMouseOverHardpoint(a))})("mouseup",function(){const a=s.CHM(e).$implicit,l=s.oxw(3);return s.KtG(l.onClickCursor(a))}),s.ALo(2,"cssTranslate"),s.qZA(),s.YNc(3,Oae,2,6,"circle",24),s.BQk()}if(2&i){const e=n.$implicit,r=s.oxw(3);s.xp6(1),s.Udp("fill",r.cursor.color)("stroke",r.cursor.color),s.uIk("d",r.shapes[e.original.type])("transform",s.lcZ(2,7,s.WLB(9,yf,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y))),s.xp6(2),s.Q6J("ngIf",r.debug)}}function Nae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s.YNc(1,Rae,3,2,"ng-container",3),s.YNc(2,Pae,4,12,"ng-container",13),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.cursor.element),s.xp6(1),s.Q6J("ngForOf",e.projectedHardpoints)}}function Fae(i,n){if(1&i&&(s.O4$(),s.ynx(0),s._UZ(1,"line",26)(2,"line",26),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.uIk("x1",0)("x2",e.svgWidth)("y1",e.svgHeight/2)("y2",e.svgHeight/2),s.xp6(1),s.uIk("x1",e.svgWidth/2)("x2",e.svgWidth/2)("y1",0)("y2",e.svgHeight)}}function Lae(i,n){if(1&i&&(s.O4$(),s.TgZ(0,"g")(1,"g"),s.YNc(2,bae,4,7,"ng-container",13),s.YNc(3,Tae,4,3,"ng-container",13),s.qZA(),s.TgZ(4,"g"),s.YNc(5,Nae,3,2,"ng-container",3),s.qZA(),s.YNc(6,Fae,3,8,"ng-container",3),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.projectedTiles),s.xp6(1),s.Q6J("ngForOf",e.projectedTiles),s.xp6(2),s.Q6J("ngIf",e.cursor),s.xp6(1),s.Q6J("ngIf",e.debug)}}const Bae=function(i){return{editable:i}},{sin:Vae,min:_1,max:v1}=Math;let y1=(()=>{class i{constructor(e,r,o){this.host=e,this.utilService=r,this.zone=o,this.spriteSet=Aa[0],this.editable=!1,this.elements=[],this.hardpoints=[],this.annotations=[],this.zoom=1,this.grayscale=0,this.focus={x:0,y:0},this.orientation=0,this.orientationChange=new s.vpe,this.grayscaleChange=new s.vpe,this.spriteSetChange=new s.vpe,this.clickCursor=new s.vpe,this.timerId=void 0,this.startTime=0,this.time=0,this.lastMouseXY={x:0,y:0},this.elementsBycode={},this.projectedTiles=[],this.projectedHardpoints=[],this.svgWidth=0,this.svgHeight=0,this.cellSize=0,this.unitX=0,this.unitY=0,this.unitZ=0,this.unitFactor=0,this.shapes={Cell:"",ArrowLeft:"",ArrowRight:""},this.tileWidth=1e3,this.tileHeight=1e3,this.sin=Vae,this.layerColors=["purple","green"],this.debug=!1,this.startTime=(new Date).getTime(),this.timerId=setInterval(()=>this.time=((new Date).getTime()-this.startTime)/1e3,50),this.calculateFactors()}calculateFactors(){const{spriteSet:e,zoom:r,tileWidth:o}=this,a=r*e.tileUnitWidth,l=r*e.tileUnitHeight,h=r*e.tileUnitDepth;this.unitX=a,this.unitY=l,this.unitZ=h,this.unitFactor=e.tileUnitWidth/o,this.cellSize=r*o;const g=.05*a,b=.05*l;function E(F){const G=F[F.length-1],ve=new Rr(F).outline(.02*a),Me=[];return ve.curves.forEach((De,Pe)=>{const et=De.points;if(0===Pe&&Me.push(`M ${et[0].x}, ${et[0].y}`),3===et.length&&Me.push(`Q ${et[1].x}, ${et[1].y} ${et[2].x}, ${et[2].y}`),4===et.length&&Me.push(`C ${et[1].x}, ${et[1].y} ${et[2].x}, ${et[2].y} ${et[3].x}, ${et[3].y}`),4===Pe){const ht=De.normal(1),Bt={x:ht.y,y:-1*ht.x},vn=.06*a;Me.push(`L ${G.x+ht.x*vn}, ${G.y+ht.y*vn}`),Me.push(`L ${G.x+Bt.x*vn}, ${G.y+Bt.y*vn}`),Me.push(`L ${G.x-ht.x*vn}, ${G.y-ht.y*vn}`)}}),Me.join(" ")}this.shapes.Cell=[`M ${a/-2+g},0`,`L 0,${l/-2+b}`,`L ${a/2-g},0`,"L 0,"+(l/2-b),"Z"].join(" ");const R=[{x:.1,y:0},{x:-.3,y:-.1},{x:-.3,y:-.3},{x:0,y:-.45}].map(F=>({x:F.x*a,y:F.y*l}));this.shapes.ArrowLeft=E(R.map(F=>({x:-F.x,y:F.y}))),this.shapes.ArrowRight=E(R)}getSpriteOffset(e,r){r%=4;const{tileWidth:o,tileHeight:a,unitX:l,unitY:h,unitZ:m,zoom:g}=this,b=g*o*-.5;let E=-.5*(g*a+h)-m;const[S,R]=e?.footprint||[1,1],G=[[0,1,1,0,2],[0,1,2,-1,3],[0,1,3,-2,4],[0,2,1,1,3],[0,2,2,0,4],[0,2,3,-1,5],[0,3,1,2,4],[0,3,3,0,6],[0,6,3,3,9],[1,1,1,0,2],[1,1,2,-1,1],[1,2,1,-1,3],[1,2,2,-2,2],[1,2,3,-3,1],[1,3,1,-2,4],[1,3,3,-4,2],[1,6,3,-7,5],[2,1,1,0,2],[2,1,2,1,1],[2,2,1,-1,1],[2,2,2,0,0],[2,2,3,1,-1],[2,3,1,-2,0],[2,3,3,0,-2],[2,6,3,-3,-5],[3,1,1,0,2],[3,1,2,1,3],[3,2,1,1,1],[3,2,2,2,2],[3,2,3,3,3],[3,3,1,2,0],[3,3,3,4,2],[3,6,3,7,-1]].find(Me=>Me[0]===r&&Me[1]===S&&Me[2]===R);let Y=0,ve=0;return G?(Y=G[3]*l/4,ve=G[4]*h/4):console.log("missing",r,S,R),{x:b+Y,y:E+ve}}ngOnChanges(e){if(("zoom"in e||"spriteSet"in e)&&this.calculateFactors(),"elements"in e){const r={};this.elements.forEach(o=>r[o.code]=o),this.elementsBycode=r,this.centerFocus()}"cursor"in e&&(this.cursor||(this.cursorHardpoint=void 0)),"design"in e&&(e.design.previousValue||this.centerFocus()),"hardpoints"in e&&0===this.hardpoints.length&&(this.cursorHardpoint=void 0),this.projectTiles(),this.projectHardpoints()}ngOnDestroy(){clearInterval(this.timerId),this.timerId=void 0}ngOnInit(){const e=new ResizeObserver(o=>{this.zone.run(()=>{const a=o[0].contentRect;this.svgWidth=a.width,this.svgHeight=a.height})}),{svg:r}=this;r&&e.observe(r.nativeElement)}onClickCursor(e){const{cursor:r}=this;r&&(this.clickCursor.emit({cursor:r,hardpoint:e.original}),this.cursorHardpoint=void 0)}onDrag(e){this.lastMouseXY={x:e.offsetX,y:e.offsetY}}onMouseOutHardpoint(e){this.cursorHardpoint=void 0}onMouseOverHardpoint(e){this.cursorHardpoint=e}onPanMove(e){this.moveFocus(8*e.velocityX,8*e.velocityY)}onRotate(){this.orientation=(this.orientation+1)%4,this.orientationChange.emit(this.orientation),this.projectTiles(),this.projectHardpoints()}onToggleGrayscale(){this.grayscale=this.grayscale?0:1,this.grayscaleChange.emit(this.grayscale),this.calculateFactors()}onToggleSpriteSet(){this.spriteSet=Aa[(Aa.indexOf(this.spriteSet)+1)%Aa.length],this.spriteSetChange.emit(this.spriteSet),this.calculateFactors(),this.projectTiles(),this.projectHardpoints()}project(e,r,o){const{orientation:a,unitX:l,unitY:h,unitZ:m}=this;if(a){const E=this.utilService.rotate({x:e,y:r},this.orientation);e=E.x,r=E.y}return{x:(e-r)*l/2,y:(e+r)*h/2-o*m}}projectBox(e,r){const o=[this.project(e.x1-.5,e.y1-.5,r),this.project(e.x1-.5,e.y2+.5,r),this.project(e.x2+.5,e.y1-.5,r),this.project(e.x2+.5,e.y2+.5,r)],a=o.map(h=>h.x),l=o.map(h=>h.y);return{x1:a.reduce((h,m)=>_1(h,m)),y1:l.reduce((h,m)=>_1(h,m)),x2:a.reduce((h,m)=>v1(h,m)),y2:l.reduce((h,m)=>v1(h,m))}}centerFocus(){const{design:e,utilService:a,elementsBycode:l}=this;if(this.focus={x:0,y:0},!e||!e.levels.length)return;let h=!0,m=0,g=0,b=0,E=0;e.levels[0].tiles.forEach(F=>{const G=l[F.element];if(!G)return;const Y=a.bounds(F,G.footprint,F.orientation);h?(m=Y.x1,g=Y.y1,b=Y.x2,E=Y.y2,h=!1):(m=_1(Y.x1,m),g=_1(Y.y1,g),b=v1(Y.x2,b),E=v1(Y.y2,E))}),this.focus=this.project((m+b)/2-.5,(g+E)/2-.5,0)}moveFocus(e,r){const{zoom:o}=this;this.focus.x-=e/o,this.focus.y-=r/o}projectHardpoints(){this.projectedHardpoints=this.hardpoints.map(e=>({...this.project(e.x,e.y,e.z),original:e}))}projectTiles(){const{design:e,annotations:r,orientation:o,utilService:a,elements:l,elementsBycode:h}=this;if(!e||!l.length)return void(this.projectedTiles=[]);const m=[];e.levels.forEach(R=>R.tiles.forEach(F=>{const G=F.x,Y=F.y,ve=R.index,{x:Me,y:Oe}=this.project(G,Y,ve),De=`${F.element}_${(F.orientation+o)%4}`,Pe=r.find(et=>et.x===G&&et.y===Y&&et.z===ve);m.push({x:Me,y:Oe,layer:ve,tile:F,asset:De,annotation:Pe})}));const g=m.map(R=>{const F=h[R.tile.element],G=F?.footprint||[1,1],Y=F?.height||1;return{projected:R,...a.bounds(a.rotate(R.tile,o),G,o+R.tile.orientation),z1:R.layer,z2:R.layer+Y,depth:0,visited:!1,background:[]}}),b=g.length;for(let R=0;R<b;++R){const F=g[R];for(let G=0;G<b;++G)if(R!=G){const Y=g[G];Y.x1<F.x2&&Y.y1<F.y2&&Y.z1<F.z2&&F.background.push(Y)}}let E=0;g.forEach(function S(R){if(!R.visited){R.visited=!0;const F=R.background.length;for(let G=0;G<F&&null!=R.background[G];++G)S(R.background[G]),R.background[G]=void 0;R.depth=E++}}),g.sort((R,F)=>Math.sign(R.depth-F.depth)),this.projectedTiles=g.map(R=>R.projected)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Z0),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-map-editor"]],viewQuery:function(e,r){if(1&e&&s.Gf(_ae,7),2&e){let o;s.iGM(o=s.CRH())&&(r.svg=o.first)}},inputs:{spriteSet:"spriteSet",editable:"editable",design:"design",elements:"elements",hardpoints:"hardpoints",annotations:"annotations",zoom:"zoom",grayscale:"grayscale",focus:"focus",orientation:"orientation",cursor:"cursor"},outputs:{orientationChange:"orientationChange",grayscaleChange:"grayscaleChange",spriteSetChange:"spriteSetChange",clickCursor:"clickCursor"},features:[s.TTD],decls:16,vars:11,consts:[[1,"map-editor-container"],[1,"svg-container",3,"ngClass","mousemove","pan"],["svg",""],[4,"ngIf"],[1,"button-group-vertical",2,"position","absolute","left","10px","top","10px"],[1,"graphical-button","transition-filter",3,"click"],["height","60","width","80",1,"graphical-button","transition-filter",3,"click"],["transform","translate(40, 30)",1,"transition-filter"],["cx","0","cy","-6","r","13",2,"mix-blend-mode","screen","fill-opacity","0.8","stroke","black","stroke-opacity","0.3","fill","#1bbd1b"],["cx","-8","cy","+6","r","13",2,"mix-blend-mode","screen","fill-opacity","0.8","stroke","black","stroke-opacity","0.3","fill","#ff4d00"],["cx","+8","cy","+6","r","13",2,"mix-blend-mode","screen","fill-opacity","0.8","stroke","black","stroke-opacity","0.3","fill","#0080ff"],[2,"position","absolute","right","20px","bottom","20px"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"transition-filter"],[2,"fill","none","stroke","red"],[2,"stroke","fuchsia","fill","none"],["cx","0","cy","0","r","16",2,"fill","white","fill-opacity","0.6","stroke","steelblue"],["x","0","y","0",2,"fill","blue","stroke","none","text-anchor","middle","alignment-baseline","middle"],["cx","0","cy","0","r","8",2,"stroke","cyan"],[1,"transition-filter",2,"filter","drop-shadow(0 0 8px cyan)"],[2,"filter","drop-shadow(0 0 8px cyan)"],[1,"hardpoint",3,"mouseleave","mouseover","mouseup"],["cx","0","cy","0","r","8","style","fill: orange; stroke: cyan;",4,"ngIf"],["cx","0","cy","0","r","8",2,"fill","orange","stroke","cyan"],[2,"stroke","blueviolet","stroke-width","1"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1,2),s.NdJ("mousemove",function(a){return r.onDrag(a)})("pan",function(a){return r.onPanMove(a)}),s.YNc(3,Lae,7,4,"g",3),s.qZA(),s.kcU(),s.ynx(4),s.TgZ(5,"div",4)(6,"img",5),s.NdJ("click",function(a){return r.onToggleSpriteSet(),a.stopPropagation()}),s.ALo(7,"assetUrl"),s.qZA(),s.O4$(),s.TgZ(8,"svg",6),s.NdJ("click",function(a){return r.onToggleGrayscale(),a.stopPropagation()}),s.TgZ(9,"g",7),s._UZ(10,"circle",8)(11,"circle",9)(12,"circle",10),s.qZA()()(),s.kcU(),s.TgZ(13,"div",11)(14,"button",12),s.NdJ("click",function(a){return r.onRotate(),a.stopPropagation()}),s._uU(15," ROTATE "),s.qZA()(),s.BQk(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngClass",s.VKq(9,Bae,r.editable)),s.xp6(2),s.Q6J("ngIf",r.design&&r.elements.length>0),s.xp6(3),s.uIk("src",s.Dn7(7,5,"UD-001",r.spriteSet,"thumbnail"),s.LSH),s.xp6(3),s.Udp("filter","grayscale("+r.grayscale+")"))},dependencies:[zn,zr,Rn,cv,Ik,gae],styles:[".map-editor-container[_ngcontent-%COMP%]{display:block;position:relative;width:100%;height:100%}.map-editor-container[_ngcontent-%COMP%]   svg.svg-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;background-color:silver}.map-editor-container[_ngcontent-%COMP%]   svg.svg-container.editable[_ngcontent-%COMP%]{cursor:move}.hardpoint[_ngcontent-%COMP%]{cursor:pointer;fill-opacity:.25;stroke-width:3;stroke-opacity:.85;transition-property:fill-opacity;transition-duration:.25s;transition-timing-function:ease-in-out}.hardpoint[_ngcontent-%COMP%]:hover{fill-opacity:.5}.transition-filter[_ngcontent-%COMP%]{transition-property:filter;transition-duration:.3s;transition-timing-function:ease-in}.graphical-button[_ngcontent-%COMP%]{width:80px;height:80px;cursor:pointer;object-fit:contain;filter:drop-shadow(0 0 2px black) brightness(120%)}.graphical-button[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 3px #999999) brightness(140%)}.annotation_MissingElement[_ngcontent-%COMP%]{filter:sepia(40%) saturate(300%) brightness(80%) hue-rotate(320deg)}"]}),i})();const Uae=function(){return[]};function Hae(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"div",5)(2,"h2"),s._uU(3),s.qZA(),s._UZ(4,"kn-map-editor",6),s.ALo(5,"async"),s.qZA(),s.BQk()),2&i){const e=n.$implicit,r=s.oxw();s.xp6(1),s.Q6J("routerLink",e.id),s.xp6(2),s.Oqu(e.title),s.xp6(1),s.Q6J("design",e)("elements",s.lcZ(5,5,r.elements$)||s.DdM(7,Uae))("zoom",r.defaultZoom)}}let zae=(()=>{class i{constructor(e,r,o){this.designService=e,this.elementService=r,this.router=o,this.designs$=new Ln.y,this.elements$=new Ln.y,this.defaultZoom=.2,this.designs$=this.designService.getDesigns(),this.elements$=this.elementService.getElements()}onCreateDesign(){this.designService.create().subscribe(e=>this.router.navigate(["designs",e.id]))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s$),s.Y36(Rp),s.Y36(ts))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-design-list-page"]],decls:11,vars:6,consts:[[1,"page-layout"],[1,"design-list-container"],[1,"design-container",2,"align-content","center","align-items","center","justify-content","center"],["color","primary","mat-fab","",3,"click"],[4,"ngFor","ngForOf"],[1,"design-container",3,"routerLink"],[3,"design","elements","zoom"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"My Designs"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"button",3),s.NdJ("click",function(){return r.onCreateDesign()}),s.TgZ(6,"mat-icon"),s._uU(7),s.ALo(8,"symbol"),s.qZA()()(),s.YNc(9,Hae,6,8,"ng-container",4),s.ALo(10,"async"),s.qZA()()),2&e&&(s.xp6(7),s.Oqu(s.lcZ(8,2,"create")),s.xp6(2),s.Q6J("ngForOf",s.lcZ(10,4,r.designs$)))},dependencies:[wv,zr,bY,lf,y1,Ze,_f],styles:[".design-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;width:450px;height:360px;cursor:pointer;border:1px solid darkgray;padding:12px;justify-content:flex-start;align-items:stretch;align-content:stretch}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #e3b2564d}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;margin-top:0;margin-bottom:8px;padding:0;border:none}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]   kn-map-editor[_ngcontent-%COMP%]{display:block;flex-basis:auto;flex-grow:1;flex-shrink:1}"]}),i})();function $ae(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-button-toggle",37),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.hij(" ",90*e,"\xb0 ")}}function Gae(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-button-toggle",38),s._UZ(2,"div",39),s._uU(3),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.Udp("background-color",e.color),s.xp6(1),s.hij(" ",e.name," ")}}function qae(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-option",31),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.Oqu(e.title)}}function Wae(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"mat-form-field",9)(1,"mat-label"),s._uU(2,"Check build list against your collection"),s.qZA(),s.TgZ(3,"mat-select",6),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw(2);return a.selectedCollection=o,s.KtG(a.calculateBuildList())}),s.TgZ(4,"mat-option",31)(5,"i"),s._uU(6,"Don't check my build list"),s.qZA()(),s.YNc(7,qae,3,2,"ng-container",7),s.qZA()()}if(2&i){const e=s.oxw(2);s.xp6(3),s.Q6J("ngModel",e.selectedCollection),s.xp6(1),s.Q6J("value",void 0),s.xp6(3),s.Q6J("ngForOf",e.collections)}}function Zae(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-button-toggle",38)(2,"mat-icon",40),s._uU(3),s.ALo(4,"symbol"),s.qZA(),s._uU(5),s.ALo(6,"titlecase"),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(2),s.Oqu(s.lcZ(4,3,e)),s.xp6(2),s.hij(" ",s.lcZ(6,5,e)," ")}}function Yae(i,n){1&i&&(s.TgZ(0,"th",41),s._uU(1,"Code"),s.qZA())}function Kae(i,n){if(1&i&&(s.TgZ(0,"td",42),s._uU(1),s.qZA()),2&i){const e=n.$implicit;s.xp6(1),s.hij(" ",e.element.code," ")}}function Qae(i,n){1&i&&(s.TgZ(0,"th",43),s._uU(1,"Name"),s.qZA())}function Jae(i,n){if(1&i&&(s.TgZ(0,"td",44),s._uU(1),s.qZA()),2&i){const e=n.$implicit;s.xp6(1),s.hij(" ",e.element.name," ")}}function Xae(i,n){1&i&&(s.TgZ(0,"th",45),s._uU(1,"Required"),s.qZA())}function ece(i,n){if(1&i&&(s.TgZ(0,"td",46),s._uU(1),s.qZA()),2&i){const e=n.$implicit;s.xp6(1),s.hij(" ",e.required," ")}}function tce(i,n){1&i&&(s.TgZ(0,"th",45),s._uU(1,"Available"),s.qZA())}function nce(i,n){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.available," ")}}function ice(i,n){if(1&i&&(s.TgZ(0,"td",46),s.YNc(1,nce,2,1,"ng-container",47),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.selectedCollection)}}function rce(i,n){1&i&&(s.TgZ(0,"th",45),s._uU(1,"Missing"),s.qZA())}const oce=function(i){return[i,0]};function sce(i,n){if(1&i&&(s.ynx(0),s._uU(1),s.ALo(2,"max"),s.BQk()),2&i){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",s.lcZ(2,1,s.VKq(3,oce,e.required-e.available))," ")}}function ace(i,n){if(1&i&&(s.TgZ(0,"td",46),s.YNc(1,sce,3,5,"ng-container",47),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.selectedCollection)}}function cce(i,n){1&i&&s._UZ(0,"tr",48)}const lce=function(i,n){return{"build-list-enough":i,"build-list-missing":n}};function dce(i,n){if(1&i&&s._UZ(0,"tr",49),2&i){const e=n.$implicit,r=s.oxw(2);s.Q6J("ngClass",s.WLB(1,lce,r.selectedCollection&&e.available>=e.required,r.selectedCollection&&e.available<e.required))}}function uce(i,n){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-button-toggle",50),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw(2);return s.KtG(l.onSelectMode(a))}),s.TgZ(2,"mat-icon"),s._uU(3),s.ALo(4,"symbol"),s.qZA()(),s.BQk()}if(2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(2),s.Oqu(s.lcZ(4,2,"tile-"+e))}}function hce(i,n){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-button-toggle",50),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw(2);return s.KtG(l.onSelectMode(a))}),s.TgZ(2,"mat-icon"),s._uU(3),s.ALo(4,"symbol"),s.qZA()(),s.BQk()}if(2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(2),s.Oqu(s.lcZ(4,2,"tile-"+e))}}const fce=function(){return[0,1,2,3]},d$=function(){return["code","name","required","available","missing"]},mce=function(){return["view","add","remove"]},pce=function(i){return[i]},gce=function(){return["view","add","remove","move","copy","rotate-left","rotate-right"]},_ce=function(i,n){return[i,n]},vce=function(i,n,e,r){return{mode:i,color:n,element:e,orientation:r}};function yce(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"mat-drawer-container",1)(1,"mat-drawer",2,3)(3,"mat-accordion",4)(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"mat-icon"),s._uU(8),s.ALo(9,"symbol"),s.qZA(),s._uU(10," View "),s.qZA()(),s.TgZ(11,"div",5)(12,"mat-button-toggle-group",6),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.viewOrientation=o)}),s.YNc(13,$ae,3,2,"ng-container",7),s.qZA(),s.TgZ(14,"mat-button-toggle-group",6),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.viewSpriteSet=o)}),s.YNc(15,Gae,4,4,"ng-container",7),s.qZA()()(),s.TgZ(16,"mat-expansion-panel")(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"mat-icon"),s._uU(20),s.ALo(21,"symbol"),s.qZA(),s._uU(22," Properties "),s.qZA()(),s.TgZ(23,"div",8)(24,"mat-form-field",9)(25,"mat-label"),s._uU(26,"Title"),s.qZA(),s.TgZ(27,"input",10),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return a.design.title=o,s.KtG(a.save())}),s.qZA()(),s.TgZ(28,"mat-form-field",9)(29,"mat-label"),s._uU(30,"Description"),s.qZA(),s.TgZ(31,"textarea",11),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return a.design.description=o,s.KtG(a.save())}),s.qZA()()()(),s.TgZ(32,"mat-expansion-panel",12)(33,"mat-expansion-panel-header")(34,"mat-panel-title")(35,"mat-icon"),s._uU(36),s.ALo(37,"symbol"),s.qZA(),s._uU(38," Build List "),s.qZA()(),s.TgZ(39,"div",13),s.YNc(40,Wae,8,3,"mat-form-field",14),s.TgZ(41,"div",8)(42,"mat-button-toggle-group",15),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return a.selectedCollectionFields=o,s.KtG(a.calculateBuildList())}),s.YNc(43,Zae,7,7,"ng-container",7),s.qZA(),s.TgZ(44,"mat-checkbox",6),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return a.renderBuildList=o,s.KtG(a.calculateBuildList())}),s._uU(45," Indicate missing tiles on map "),s.qZA()(),s.TgZ(46,"div",16)(47,"table",17),s.ynx(48,18),s.YNc(49,Yae,2,0,"th",19),s.YNc(50,Kae,2,1,"td",20),s.BQk(),s.ynx(51,21),s.YNc(52,Qae,2,0,"th",22),s.YNc(53,Jae,2,1,"td",23),s.BQk(),s.ynx(54,24),s.YNc(55,Xae,2,0,"th",25),s.YNc(56,ece,2,1,"td",26),s.BQk(),s.ynx(57,27),s.YNc(58,tce,2,0,"th",25),s.YNc(59,ice,2,1,"td",26),s.BQk(),s.ynx(60,28),s.YNc(61,rce,2,0,"th",25),s.YNc(62,ace,2,1,"td",26),s.BQk(),s.YNc(63,cce,1,0,"tr",29),s.YNc(64,dce,1,4,"tr",30),s.qZA()()()(),s.TgZ(65,"mat-expansion-panel",12)(66,"mat-expansion-panel-header")(67,"mat-panel-title")(68,"mat-icon"),s._uU(69),s.ALo(70,"symbol"),s.qZA(),s._uU(71," Grid "),s.qZA()(),s.TgZ(72,"div",13)(73,"mat-button-toggle-group",31),s.YNc(74,uce,5,4,"ng-container",7),s.qZA(),s.TgZ(75,"kn-element-finder",32),s.NdJ("grabbing",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.selectedGrabbing=o)})("selectedChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.onSelectElement(o))}),s.qZA()()(),s.TgZ(76,"mat-expansion-panel",12)(77,"mat-expansion-panel-header")(78,"mat-panel-title")(79,"mat-icon"),s._uU(80),s.ALo(81,"symbol"),s.qZA(),s._uU(82," Elements "),s.qZA()(),s.TgZ(83,"div",13)(84,"mat-button-toggle-group",31),s.YNc(85,hce,5,4,"ng-container",7),s.qZA(),s.TgZ(86,"kn-element-finder",33),s.NdJ("grabbing",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.selectedGrabbing=o)})("selectedChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.onSelectElement(o))}),s.qZA()()()()(),s.TgZ(87,"mat-drawer-content"),s.ynx(88),s.TgZ(89,"kn-map-editor",34),s.NdJ("clickCursor",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.onClickCursor(o.cursor,o.hardpoint))})("wheel",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.onWheel(o))})("orientationChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.viewOrientation=o)})("spriteSetChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.viewSpriteSet=o)}),s.qZA(),s.BQk(),s.TgZ(90,"div",35)(91,"button",36),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onZoomOut())}),s.TgZ(92,"mat-icon"),s._uU(93),s.ALo(94,"symbol"),s.qZA()(),s.TgZ(95,"button",36),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onZoomIn())}),s.TgZ(96,"mat-icon"),s._uU(97),s.ALo(98,"symbol"),s.qZA()(),s.TgZ(99,"button",36),s.NdJ("click",function(){s.CHM(e);const o=s.MAs(2);return s.KtG(o.toggle())}),s.TgZ(100,"mat-icon"),s._uU(101),s.ALo(102,"symbol"),s.qZA()()()()()}if(2&i){const e=s.oxw();s.xp6(8),s.Oqu(s.lcZ(9,43,"view")),s.xp6(4),s.Q6J("ngModel",e.viewOrientation),s.xp6(1),s.Q6J("ngForOf",s.DdM(59,fce)),s.xp6(1),s.Q6J("ngModel",e.viewSpriteSet),s.xp6(1),s.Q6J("ngForOf",e.SPRITE_SETS),s.xp6(5),s.Oqu(s.lcZ(21,45,"properties")),s.xp6(7),s.Q6J("ngModel",e.design.title),s.xp6(4),s.Q6J("ngModel",e.design.description),s.xp6(5),s.Oqu(s.lcZ(37,47,"materials")),s.xp6(4),s.Q6J("ngIf",e.collections.length>0),s.xp6(2),s.Q6J("disabled",!e.selectedCollection)("ngModel",e.selectedCollectionFields),s.xp6(1),s.Q6J("ngForOf",e.collectionFields),s.xp6(1),s.Q6J("ngModel",e.renderBuildList),s.xp6(3),s.Q6J("dataSource",e.materials),s.xp6(16),s.Q6J("matHeaderRowDef",s.DdM(60,d$))("matHeaderRowDefSticky",!0),s.xp6(1),s.Q6J("matRowDefColumns",s.DdM(61,d$)),s.xp6(5),s.Oqu(s.lcZ(70,49,"grid")),s.xp6(4),s.Q6J("value",e.selectedMode),s.xp6(1),s.Q6J("ngForOf",s.DdM(62,mce)),s.xp6(1),s.Q6J("filterTypes",s.VKq(63,pce,e.ElementType.FlatGrid))("selected",e.selectedElement)("spriteSet",e.viewSpriteSet)("tagFilterVisible",!1),s.xp6(5),s.Oqu(s.lcZ(81,51,"element")),s.xp6(4),s.Q6J("value",e.selectedMode),s.xp6(1),s.Q6J("ngForOf",s.DdM(65,gce)),s.xp6(1),s.Q6J("filterTypes",s.WLB(66,_ce,e.ElementType.Tile,e.ElementType.Key))("selected",e.selectedElement)("spriteSet",e.viewSpriteSet),s.xp6(3),s.Q6J("orientation",e.viewOrientation)("spriteSet",e.viewSpriteSet)("annotations",e.annotations)("cursor",s.l5B(69,vce,e.selectedMode,e.modeColors[e.selectedMode],e.selectedElement,(e.selectedOrientation+e.viewOrientation)%4))("design",e.design)("editable",!0)("elements",e.elements)("hardpoints",e.validHardpoints)("zoom",e.viewZoom),s.xp6(4),s.Oqu(s.lcZ(94,53,"zoom-out")),s.xp6(4),s.Oqu(s.lcZ(98,55,"zoom-in")),s.xp6(4),s.Oqu(s.lcZ(102,57,"menu"))}}const{min:u$,max:Pk}=Math;let bce=(()=>{class i{constructor(e,r,o,a,l){this.collectionService=e,this.designService=r,this.elementService=o,this.route=a,this.utilService=l,this.selectedGrabbing=!1,this.selectedOrientation=0,this.collections=[],this.selectedCollectionFields=["planned","printed","painted"],this.elements=[],this.validHardpoints=[],this.selectedMode="view",this.viewOrientation=0,this.viewSpriteSet=Aa[0],this.viewZoom=.7,this.annotations=[],this.materials=[],this.renderBuildList=!1,this.saveTrigger=new Et.x,this.modeColors={add:"#37b5cb",remove:"#ea5126",move:"#4aea26",copy:"#4aea26","rotate-left":"#e57bf5","rotate-right":"#e57bf5"},this.SPRITE_SETS=Aa,this.ElementType=ns,this.collectionFields=["planned","printed","painted"],this.saveTrigger.pipe(function jae(i){return(0,gr.e)((n,e)=>{let r=!1,o=null,a=null;const l=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const h=o;o=null,e.next(h)}};n.subscribe((0,li.x)(e,h=>{a?.unsubscribe(),r=!0,o=h,a=(0,li.x)(e,l,cg.Z),(0,Ml.Xf)(i(h)).subscribe(a)},()=>{l(),e.complete()},void 0,()=>{o=a=null}))})}(()=>UL(500)),(0,Je.U)(()=>this.design),cn(m=>!!m),(0,Cr.z)(m=>this.designService.save(m))).subscribe()}calculateBuildList(){const{design:e,selectedCollection:r,selectedCollectionFields:o}=this,a=[];if(e){const l=this.getElementsMap();e.levels.forEach(h=>h.tiles.forEach(m=>{const g=l[m.element];if(!g)return;const b=a.find(E=>E.element===g);b?b.required++:a.push({element:g,required:1,available:0})}))}r&&a.forEach(l=>{const h=r.entries.find(m=>m.code===l.element.code);h&&(l.available=o.map(m=>h[m]).reduce((m,g)=>m+g,0))}),a.sort((l,h)=>l.required>h.required?-1:l.required<h.required?1:l.available>h.available?-1:l.available<h.available?1:l.element.code.localeCompare(h.element.code)),this.materials=a,this.generateAnnotations()}handleKeyboardEvent(e){"r"===e.key&&this.rotateSelectedElement(1),"R"===e.key&&this.rotateSelectedElement(-1)}ngOnInit(){this.collectionService.getCollections().subscribe(e=>{this.collections=e,this.selectedCollection=e.length>0?e[0]:void 0}),this.elementService.getElements().subscribe(e=>{this.elements=e,this.calculateHardpoints(),this.calculateBuildList()}),this.route.paramMap.subscribe(e=>{const r=e.get("id");return this.designService.getDesignById(r).subscribe(o=>{this.design=o,this.calculateHardpoints(),this.calculateBuildList()})})}onClickCursor(e,r){const{design:o,viewOrientation:a,elements:l,selectedGrabbing:h}=this;if(o){switch(e.mode){case"add":{const m=e.element,g=m.type===ns.FlatGrid?r.z:Pk(0,r.z);let b=o.levels.find(E=>E.index===g);b||(b={index:g,tiles:[]},o.levels.push(b)),b.tiles=[...b.tiles,{x:r.x,y:r.y,element:m.code,orientation:(e.orientation-a+4)%4}],h&&this.onSelectMode("view");break}case"remove":{const m=o.levels.find(g=>g.index===r.z);m&&(m.tiles=m.tiles.filter(g=>g.x!==r.x||g.y!==r.y));break}case"move":case"copy":{const m=o.levels.find(g=>g.index===r.z);if(m){const g=m.tiles.find(b=>b.x===r.x&&b.y===r.y);g&&("move"===e.mode&&(m.tiles=m.tiles.filter(b=>b!==g)),this.selectedElement=l.find(b=>b.code===g.element),this.selectedOrientation=g.orientation,this.selectedMode="add",this.calculateHardpoints())}break}case"rotate-left":case"rotate-right":{const m="rotate-right"===e.mode?1:-1,g=o.levels.find(b=>b.index===r.z);if(g){const b=g.tiles.find(E=>E.x===r.x&&E.y===r.y);b&&(b.orientation=(b.orientation+4+m)%4)}break}}this.design={...o,levels:o.levels.filter(m=>m.tiles.length>0)},this.save(),this.calculateHardpoints(),this.calculateBuildList()}}onSelectElement(e){this.selectedElement=e,this.onSelectMode("add")}onSelectMode(e){this.selectedMode=e,"add"!==e&&(this.selectedElement=void 0),this.calculateHardpoints()}onWheel(e){const{selectedElement:r}=this;r?this.rotateSelectedElement(-Math.sign(e.deltaY)):this.updateZoom(1-.0015*e.deltaY)}onZoomIn(){this.updateZoom(1.1)}onZoomOut(){this.updateZoom(1/1.1)}save(){this.saveTrigger.next()}calculateHardpoints(){const{elements:e,design:r,selectedMode:o,selectedElement:a,selectedOrientation:l,utilService:h}=this,m=[];if(e.length&&r){const g=this.getElementsMap();switch(o){case"add":if(a)if(a.type==ns.FlatGrid){const E=r.levels.find(S=>-1===S.index);if(E&&E.tiles.length>0){const R=E.tiles.map(De=>{const Pe=[],[et,ht]=g[De.element].footprint;for(let Bt=0;Bt<et;++Bt)for(let vn=0;vn<ht;++vn)Pe.push(h.rotate({x:De.x+Bt,y:De.y+vn},De.orientation));return Pe}).reduce((De,Pe)=>[...De,...Pe]),F=R.map(De=>De.x).reduce((De,Pe)=>u$(De,Pe)),G=R.map(De=>De.y).reduce((De,Pe)=>u$(De,Pe)),Y=R.map(De=>De.x).reduce((De,Pe)=>Pk(De,Pe)),ve=R.map(De=>De.y).reduce((De,Pe)=>Pk(De,Pe));let Me=0,Oe=0;0===l||2===l?[Me,Oe]=a?.footprint:[Oe,Me]=a?.footprint;for(let De=F-Me;De<=Y+Me;++De)for(let Pe=G-Oe;Pe<=ve+Oe;++Pe){if(De%a.footprint[0]||Pe%a.footprint[1])continue;let et=!0;for(let ht=De;ht<De+Me;++ht)for(let Bt=Pe;Bt<Pe+Oe;++Bt)if(R.find(vn=>vn.x===ht&&vn.y===Bt)){et=!1;break}et&&m.push({type:"Cell",x:De,y:Pe,z:-1})}}else m.push({type:"Cell",x:0,y:0,z:-1})}else{const b=[];r.levels.forEach(S=>S.tiles.forEach(R=>{const F=g[R.element];if(F&&this.checkConnector(a.bottom,F.top)){const G=S.index+F.height,Y=h.bounds(R,F.footprint,R.orientation);for(let ve=Y.x1;ve<Y.x2;++ve)for(let Me=Y.y1;Me<Y.y2;++Me)b.push({x:ve,y:Me,z:G})}}));const E=[];r.levels.forEach(S=>S.tiles.forEach(R=>{const F=g[R.element];if(F){if(a.bottom===lr.SmallSlot&&F.top===lr.SmallKey)return;const G=h.bounds(R,F.footprint,R.orientation),Y=Pk(1,F.height);E.push({...G,z1:S.index,z2:S.index+Y})}})),b.forEach(S=>{const R={...h.bounds(S,a.footprint,l),z1:S.z,z2:S.z+Pk(1,a.height)};E.find(F=>h.overlap3D(R,F))||m.push({type:"Cell",...S})})}break;case"remove":case"move":r.levels.forEach(b=>b.tiles.forEach(E=>{const S=g[E.element];if(!S)return;const R=h.bounds(E,S.footprint,E.orientation);S.top!==lr.Other&&r.levels.find(G=>G.index>b.index&&G.tiles.find(Y=>{const ve=g[Y.element];return!ve||h.overlap2D(R,h.bounds(Y,ve.footprint,Y.orientation))}))||m.push({type:"Cell",x:E.x,y:E.y,z:b.index})}));break;case"copy":r.levels.forEach(b=>b.tiles.forEach(E=>{const S=g[E.element];S&&S.type!==ns.FlatGrid&&m.push({type:"Cell",x:E.x,y:E.y,z:b.index})}));break;case"rotate-left":case"rotate-right":{const b="rotate-right"===o?"ArrowRight":"ArrowLeft";r.levels.forEach(E=>E.tiles.forEach(S=>{const R=g[S.element];R&&1===R.footprint[0]&&1===R.footprint[1]&&m.push({type:b,x:S.x,y:S.y,z:E.index})}));break}}}this.validHardpoints=m}checkConnector(e,r){return e===lr.LargeKey&&r===lr.LargeSlot||e===lr.LargeSlot&&r===lr.LargeKey||e===lr.SmallKey&&r===lr.SmallSlot||e===lr.SmallSlot&&r===lr.SmallKey}generateAnnotations(){const{design:e,renderBuildList:r,materials:o}=this;if(!e||!r)return void(this.annotations=[]);const a={};o.forEach(h=>a[h.element.code]=(a[h.element.code]||0)+h.available);const l=[];e.levels.forEach(h=>{h.tiles.forEach(m=>{a[m.element]>0?a[m.element]--:l.push({type:"MissingElement",x:m.x,y:m.y,z:h.index})})}),this.annotations=l}getElementsMap(){const{elements:e}=this,r={};return e.forEach(o=>r[o.code]=o),r}rotateSelectedElement(e){const{selectedElement:r}=this;this.selectedOrientation=r&&r.orientable?(this.selectedOrientation+e+4)%4:0,this.calculateHardpoints()}updateZoom(e){const{utilService:r}=this;this.viewZoom=r.clamp(this.viewZoom*e,.2,2.5)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(t$),s.Y36(s$),s.Y36(Rp),s.Y36(pf),s.Y36(Z0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-design-view-page"]],hostBindings:function(e,r){1&e&&s.NdJ("keypress",function(a){return r.handleKeyboardEvent(a)},!1,s.evT)},decls:1,vars:1,consts:[["class","design-view-container","hasBackdrop","false",4,"ngIf"],["hasBackdrop","false",1,"design-view-container"],["disableClose","true","mode","side","opened","true","position","end",1,"editor-container"],["drawer",""],["displayMode","flat","multi","false",1,"element-finder-accordion"],[2,"display","flex","flex-direction","column","align-items","flex-start","align-content","flex-start","gap","12px"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form"],["appearance","fill","subscriptSizing","dynamic",1,"wide"],["matInput","","placeholder","Your map design's title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Your map design's description","rows","6",3,"ngModel","ngModelChange"],[1,"stretching-expansion-panel"],[1,"stretching-panel-container"],["appearance","fill","class","wide","subscriptSizing","dynamic",4,"ngIf"],["multiple","true",3,"disabled","ngModel","ngModelChange"],[1,"scrollable-table-wrapper"],["mat-table","",3,"dataSource"],["matColumnDef","code"],["class","narrow text-nowrap text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-nowrap text-left","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","wide text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","wide text-left","mat-cell","",4,"matCellDef"],["matColumnDef","required"],["class","narrow text-right","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-nowrap text-right","mat-cell","",4,"matCellDef"],["matColumnDef","available"],["matColumnDef","missing"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],[3,"value"],[3,"filterTypes","selected","spriteSet","tagFilterVisible","grabbing","selectedChange"],[3,"filterTypes","selected","spriteSet","grabbing","selectedChange"],[3,"orientation","spriteSet","annotations","cursor","design","editable","elements","hardpoints","zoom","clickCursor","wheel","orientationChange","spriteSetChange"],[2,"position","absolute","right","8px","top","8px","display","flex","flex-direction","row","gap","4px"],["mat-raised-icon-button","",3,"click"],[2,"width","50px",3,"value"],[2,"width","110px",3,"value"],[2,"display","inline-block","width","12px","height","16px","margin-right","4px","border-radius","4px"],["color","primary"],["mat-header-cell","",1,"narrow","text-nowrap","text-left"],["mat-cell","",1,"narrow","text-nowrap","text-left"],["mat-header-cell","",1,"wide","text-left"],["mat-cell","",1,"wide","text-left"],["mat-header-cell","",1,"narrow","text-right"],["mat-cell","",1,"narrow","text-nowrap","text-right"],[4,"ngIf"],["mat-header-row",""],["mat-row","",3,"ngClass"],[3,"value","click"]],template:function(e,r){1&e&&s.YNc(0,yce,103,74,"mat-drawer-container",0),2&e&&s.Q6J("ngIf",r.design&&r.elements)},dependencies:[zn,zr,Rn,vp,ev,wp,eA,tA,yL,gQ,jH,$H,pQ,XE,lv,lf,ik,Oz,fL,Fz,Lz,wA,a2,OA,c2,PA,RA,l2,NA,FA,d2,u2,o$,y1,hi,Wj,_f],styles:["[_nghost-%COMP%]{height:100%}button[_ngcontent-%COMP%]{cursor:pointer}.design-view-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.design-view-container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{width:30vw;min-width:300px;max-width:500px}.design-view-container[_ngcontent-%COMP%]   .stretching-expansion-panel[_ngcontent-%COMP%]   .stretching-panel-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;height:100%}.design-view-container[_ngcontent-%COMP%]   .stretching-expansion-panel[_ngcontent-%COMP%]   .stretching-panel-container[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.design-view-container[_ngcontent-%COMP%]   .stretching-expansion-panel[_ngcontent-%COMP%]   .stretching-panel-container[_ngcontent-%COMP%]   kn-element-finder[_ngcontent-%COMP%]{flex-basis:262px;flex-grow:1;flex-shrink:1;height:0;display:block}.design-view-container[_ngcontent-%COMP%]   .stretching-expansion-panel[_ngcontent-%COMP%]   .stretching-panel-container[_ngcontent-%COMP%]   .scrollable-table-wrapper[_ngcontent-%COMP%]{flex-basis:212px;flex-grow:1;flex-shrink:1;height:0;overflow-y:auto}.design-view-container[_ngcontent-%COMP%]   tr.build-list-enough[_ngcontent-%COMP%]{background-color:#5a705a!important}.design-view-container[_ngcontent-%COMP%]   tr.build-list-missing[_ngcontent-%COMP%]{background-color:#7c5a5a!important}"]}),i})();const lB="packs";let b1=(()=>{class i{constructor(e,r){this.authenticationService=e,this.firestore=r}create(e,r){return this.authenticationService.getCurrentUserObservable().pipe(cn(o=>!!o),(0,Cr.z)(o=>{const a={id:p1(),code:e,name:r,storeUrl:""};return(0,Cn.D)(this.doc(a).set(a)).pipe((0,Je.U)(()=>a))}))}delete(e){return(0,Cn.D)(this.doc(e).delete())}getPackById(e){return this.queryById(e)}getPacks(){return this.authenticationService.getCurrentUserObservable().pipe(cn(e=>!!e),(0,Cr.z)(e=>this.firestore.collection(lB).valueChanges().pipe((0,Je.U)(r=>r),(0,Je.U)(r=>r.sort((o,a)=>o.code.localeCompare(a.code))))))}save(e){return(0,Cn.D)(this.doc(e).set(e)).pipe((0,Je.U)(()=>e))}doc(e){return this.firestore.collection(lB).doc(e.id)}queryById(e){return this.firestore.collection(lB).doc(e).get().pipe((0,Je.U)(r=>r.data()))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Tk),s.LFG(p0))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),h$=(()=>{class i{transform(e){let r=0;for(let h=0;h<e.length;h++)r=e.charCodeAt(h)+((r<<5)-r),r&=r;return`hsl(${r%360}, 50%, 40%)`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.Yjl({name:"hashColor",type:i,pure:!0}),i})();function wce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-button-toggle",8),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.hij(" ",e.name," ")}}function xce(i,n){if(1&i&&(s._UZ(0,"img"),s.ALo(1,"assetUrl")),2&i){const e=s.oxw(2).$implicit,r=s.oxw(2);s.uIk("src",s.Dn7(1,1,e.code,r.spriteSet,"thumbnail"),s.LSH)}}function Cce(i,n){if(1&i&&(s.TgZ(0,"mat-chip"),s.ALo(1,"hashColor"),s._uU(2),s.qZA()),2&i){const e=n.$implicit;s.Udp("background-color",s.lcZ(1,3,e)),s.xp6(2),s.hij(" ",e," ")}}function Ece(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"div",14)(2,"h3"),s._uU(3),s.qZA(),s.TgZ(4,"div",15),s.YNc(5,xce,2,5,"img",13),s.ALo(6,"match"),s.qZA(),s.TgZ(7,"div",16)(8,"mat-chip-set"),s.YNc(9,Cce,3,5,"mat-chip",17),s.qZA()()(),s.BQk()),2&i){const e=s.oxw().$implicit,r=s.oxw().$implicit;s.xp6(1),s.Q6J("routerLink",e.id),s.xp6(2),s.AsE("",e.code," \u2014 ",e.name,""),s.xp6(2),s.Q6J("ngIf",!s.xi3(6,5,e.code,r.code+"-000")),s.xp6(4),s.Q6J("ngForOf",e.tags)}}function kce(i,n){if(1&i&&(s.ynx(0),s.YNc(1,Ece,10,8,"ng-container",13),s.ALo(2,"match"),s.BQk()),2&i){const e=n.$implicit,r=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",s.xi3(2,1,e.code,r.code+"-\\d+"))}}function Tce(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",9)(1,"h2"),s._uU(2),s.qZA(),s.TgZ(3,"div",10)(4,"button",11),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw();return s.KtG(l.onCreateElement(a))}),s.TgZ(5,"mat-icon"),s._uU(6),s.ALo(7,"symbol"),s.qZA(),s._uU(8," Create "),s.qZA(),s.TgZ(9,"button",11),s.NdJ("click",function(){const a=s.CHM(e).$implicit,l=s.oxw();return s.KtG(l.onDownloadJson(a))}),s.TgZ(10,"mat-icon"),s._uU(11),s.ALo(12,"symbol"),s.qZA(),s._uU(13," Download JSON "),s.qZA()(),s.TgZ(14,"div",12),s.YNc(15,kce,3,4,"ng-container",3),s.qZA()()}if(2&i){const e=n.$implicit,r=s.oxw();s.xp6(2),s.AsE("",e.code," \u2014 ",e.name,""),s.xp6(4),s.Oqu(s.lcZ(7,5,"create")),s.xp6(5),s.Oqu(s.lcZ(12,7,"download")),s.xp6(4),s.Q6J("ngForOf",r.filteredElements)}}let Ice=(()=>{class i{constructor(e,r,o,a){this.elementService=e,this.packService=r,this.router=o,this.utilService=a,this.elements=[],this.filteredElements=[],this.packs=[],this.spriteSet=Aa[0],this.filter="",this.SPRITE_SETS=Aa}ngOnInit(){this.elementService.getElements().subscribe(e=>{this.elements=e,this.updateFilter()}),this.packService.getPacks().subscribe(e=>this.packs=e)}onCreateElement(e){this.elementService.create(e.code+"-000","New Element").subscribe(r=>this.router.navigate(["elements",r.id]))}onDownloadJson(e){const r=this.elements.filter(a=>a.code.startsWith(e.code+"-")),o=document.createElement("a");o.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r,void 0,2))),o.setAttribute("download","elements.json"),o.click()}updateFilter(){const{elements:e,filter:r,utilService:o}=this;this.filteredElements=e.filter(o.getElementFilterPredicate(r))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rp),s.Y36(b1),s.Y36(ts),s.Y36(Z0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-element-list-page"]],decls:14,vars:7,consts:[[1,"page-layout"],[1,"form"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["appearance","fill","subscriptSizing","dynamic",2,"width","370px"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["color","accent","matSuffix",""],["style","display: flex; flex-direction: column; gap: 20px;",4,"ngFor","ngForOf"],[2,"width","120px",3,"value"],[2,"display","flex","flex-direction","column","gap","20px"],[1,"button-group-horizontal"],["color","primary","mat-raised-button","",3,"click"],[1,"element-list-container"],[4,"ngIf"],[1,"element-container",3,"routerLink"],[1,"thumbnail-wrapper"],[2,"display","flex","flex-direction","row","align-content","center","justify-content","center","align-items","center"],[3,"background-color",4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Elements"),s.qZA(),s.TgZ(3,"div",1)(4,"mat-button-toggle-group",2),s.NdJ("ngModelChange",function(a){return r.spriteSet=a}),s.YNc(5,wce,3,2,"ng-container",3),s.qZA(),s.TgZ(6,"mat-form-field",4)(7,"mat-label"),s._uU(8,"Search filter"),s.qZA(),s.TgZ(9,"input",5),s.NdJ("ngModelChange",function(a){return r.filter=a,r.updateFilter()}),s.qZA(),s.TgZ(10,"mat-icon",6),s._uU(11),s.ALo(12,"symbol"),s.qZA()()(),s.YNc(13,Tce,16,9,"div",7),s.qZA()),2&e&&(s.xp6(4),s.Q6J("ngModel",r.spriteSet),s.xp6(1),s.Q6J("ngForOf",r.SPRITE_SETS),s.xp6(4),s.Q6J("ngModel",r.filter),s.xp6(2),s.Oqu(s.lcZ(12,5,"search")),s.xp6(2),s.Q6J("ngForOf",r.packs))},dependencies:[wv,zr,Rn,vp,ev,wp,cv,eA,tA,dv,dA,XE,lv,CH,lf,ik,F2,Ik,h$,_f],styles:["h2[_ngcontent-%COMP%]{margin-bottom:0}.element-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;width:350px;height:300px;cursor:pointer;border:1px solid darkgray;padding:10px;justify-content:flex-start;align-items:stretch;align-content:stretch;background-color:#4a4a4a}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #e3b2564d}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;text-align:center;font-weight:700}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px black);margin-bottom:5px}"]}),i})(),Dce=(()=>{class i{constructor(e){this.utilService=e}transform(e,r){const o=this.utilService.bounds({x:0,y:0},e,0),a=[];for(let l=o.x1;l<o.x2;++l)for(let h=o.y1;h<o.y2;++h)a.push({type:"Cell",x:l,y:h,z:r});return a}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Z0,16))},i.\u0275pipe=s.Yjl({name:"footprintToHardpoints",type:i,pure:!0}),i})();function Sce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-option",26),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Mce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-option",26),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.AsE("",e[0]," \xd7 ",e[1]," ")}}function Ace(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-option",26),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Rce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-option",26),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Oce(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"mat-chip-row",27),s.NdJ("removed",function(){const a=s.CHM(e).$implicit,l=s.oxw(2);return s.KtG(l.onRemoveTag(a))}),s.ALo(1,"hashColor"),s._uU(2),s.TgZ(3,"button",28)(4,"mat-icon"),s._uU(5),s.ALo(6,"symbol"),s.qZA()()()}if(2&i){const e=n.$implicit;s.Udp("background-color",s.lcZ(1,4,e)),s.xp6(2),s.hij(" ",e," "),s.xp6(3),s.Oqu(s.lcZ(6,6,"remove"))}}function Pce(i,n){if(1&i&&(s.TgZ(0,"div"),s._uU(1),s.ALo(2,"number"),s.qZA()),2&i){const e=n.$implicit;s.xp6(1),s.AsE(" ",e.name," [",s.xi3(2,2,.001*e.size,"1.0-0")," kb] ")}}function Nce(i,n){1&i&&(s.TgZ(0,"div"),s._uU(1," none "),s.qZA())}const Fce=function(){return{mode:"thumbnail",color:"rgb(212,208,148)"}},Lce=function(i){return{x:0,y:0,orientation:0,element:i}},dB=function(i){return[i]},Bce=function(i){return{index:0,tiles:i}},Vce=function(i,n,e){return{id:i,title:n,description:"",levels:e}};function Uce(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",1)(1,"h1"),s._uU(2),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"Element code"),s.qZA(),s.TgZ(8,"input",5),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.code=o)}),s.qZA(),s.TgZ(9,"mat-hint"),s._uU(10,"Unique code that identifies this element"),s.qZA()(),s.TgZ(11,"mat-form-field",4)(12,"mat-label"),s._uU(13,"Element name"),s.qZA(),s.TgZ(14,"input",6),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.name=o)}),s.qZA(),s.TgZ(15,"mat-hint"),s._uU(16,"Short, descriptive name for the element"),s.qZA()(),s.TgZ(17,"mat-form-field",4)(18,"mat-label"),s._uU(19,"Element type"),s.qZA(),s.TgZ(20,"mat-select",7),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.type=o)}),s.YNc(21,Sce,3,2,"ng-container",8),s.qZA(),s.TgZ(22,"mat-hint"),s._uU(23,"Base type of the element"),s.qZA()(),s.TgZ(24,"mat-form-field",4)(25,"mat-label"),s._uU(26,"Element footprint"),s.qZA(),s.TgZ(27,"mat-select",9),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.footprint=o)}),s.YNc(28,Mce,3,3,"ng-container",8),s.qZA(),s.TgZ(29,"mat-hint"),s._uU(30,"Spatial footprint of the image (make sure the axes are correct)"),s.qZA()(),s.TgZ(31,"mat-form-field",4)(32,"mat-label"),s._uU(33,"Element height"),s.qZA(),s.TgZ(34,"input",10),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.height=o)}),s.qZA(),s.TgZ(35,"mat-hint"),s._uU(36,"Height of the tile, including the base (1 unit = 25/3 mm)"),s.qZA()(),s.TgZ(37,"mat-form-field",4)(38,"mat-label"),s._uU(39,"Top connector"),s.qZA(),s.TgZ(40,"mat-select",7),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.top=o)}),s.YNc(41,Ace,3,2,"ng-container",8),s.qZA(),s.TgZ(42,"mat-hint"),s._uU(43,"Connector type at the top of the tile (use "),s.TgZ(44,"i"),s._uU(45,"Other"),s.qZA(),s._uU(46," for decorated elements)"),s.qZA()(),s.TgZ(47,"mat-form-field",4)(48,"mat-label"),s._uU(49,"Bottom connector"),s.qZA(),s.TgZ(50,"mat-select",7),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.bottom=o)}),s.YNc(51,Rce,3,2,"ng-container",8),s.qZA(),s.TgZ(52,"mat-hint"),s._uU(53,"Connector type at the bottom of the tile (use "),s.TgZ(54,"i"),s._uU(55,"Other"),s.qZA(),s._uU(56," for flat grid elements)"),s.qZA()(),s.TgZ(57,"div",11)(58,"mat-checkbox",7),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.orientable=o)}),s._uU(59,"Element can be oriented"),s.qZA()(),s.TgZ(60,"mat-form-field",12)(61,"mat-label"),s._uU(62,"Element tags"),s.qZA(),s.TgZ(63,"mat-chip-grid",7,13),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.element.tags=o)}),s.YNc(65,Oce,7,8,"mat-chip-row",14),s.qZA(),s.TgZ(66,"input",15,16),s.NdJ("matChipInputTokenEnd",function(o){s.CHM(e);const a=s.MAs(67);return s.oxw().onAddTag(o.value),s.KtG(a.value="")}),s.qZA()(),s.TgZ(68,"div",17)(69,"b"),s._uU(70,"Model File:"),s.qZA(),s.YNc(71,Pce,3,5,"div",18),s.ALo(72,"async"),s.YNc(73,Nce,2,0,"div",18),s.ALo(74,"async"),s.qZA(),s._UZ(75,"div",19),s.TgZ(76,"div",20)(77,"button",21),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onSave())}),s.TgZ(78,"mat-icon"),s._uU(79),s.ALo(80,"symbol"),s.qZA(),s._uU(81," Save "),s.qZA(),s.TgZ(82,"button",22),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onRender())}),s.ALo(83,"async"),s.TgZ(84,"mat-icon"),s._uU(85),s.ALo(86,"symbol"),s.qZA(),s._uU(87," Render "),s.qZA(),s.TgZ(88,"button",23),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onDelete())}),s.TgZ(89,"mat-icon"),s._uU(90),s.ALo(91,"symbol"),s.qZA(),s._uU(92," Delete "),s.qZA()()(),s.TgZ(93,"div",24),s._UZ(94,"kn-map-editor",25),s.ALo(95,"footprintToHardpoints"),s.qZA()()()}if(2&i){const e=s.MAs(64),r=s.oxw();s.xp6(2),s.AsE("",r.element.code," \u2014 ",r.element.name,""),s.xp6(6),s.Q6J("ngModel",r.element.code),s.xp6(6),s.Q6J("ngModel",r.element.name),s.xp6(6),s.Q6J("ngModel",r.element.type),s.xp6(1),s.Q6J("ngForOf",r.allElementTypes),s.xp6(6),s.Q6J("ngModel",r.element.footprint)("compareWith",r.compareFootprint),s.xp6(1),s.Q6J("ngForOf",r.allFootprints),s.xp6(6),s.Q6J("ngModel",r.element.height),s.xp6(6),s.Q6J("ngModel",r.element.top),s.xp6(1),s.Q6J("ngForOf",r.allConnectors),s.xp6(9),s.Q6J("ngModel",r.element.bottom),s.xp6(1),s.Q6J("ngForOf",r.allConnectors),s.xp6(7),s.Q6J("ngModel",r.element.orientable),s.xp6(5),s.Q6J("ngModel",r.element.tags),s.xp6(2),s.Q6J("ngForOf",r.element.tags),s.xp6(1),s.Q6J("matChipInputFor",e),s.xp6(5),s.Q6J("ngIf",s.lcZ(72,30,r.modelFileInfo$)),s.xp6(2),s.Q6J("ngIf",!s.lcZ(74,32,r.modelFileInfo$)),s.xp6(6),s.Oqu(s.lcZ(80,34,"save")),s.xp6(3),s.Q6J("disabled",!s.lcZ(83,36,r.modelFileInfo$)),s.xp6(3),s.Oqu(s.lcZ(86,38,"render")),s.xp6(5),s.Oqu(s.lcZ(91,40,"delete")),s.xp6(4),s.Q6J("cursor",s.DdM(45,Fce))("design",s.kEZ(54,Vce,r.element.id,r.element.name,s.VKq(52,dB,s.VKq(50,Bce,s.VKq(48,dB,s.VKq(46,Lce,r.element.code))))))("editable",!1)("elements",s.VKq(58,dB,r.element))("hardpoints",s.xi3(95,42,r.element.footprint,r.element.height))("zoom",1)}}let Hce=(()=>{class i{constructor(e,r,o,a,l){this.elementService=e,this.packService=r,this.route=o,this.router=a,this.snackBar=l,this.spriteSet=Aa[0],this.modelFileInfo$=(0,Dt.of)(void 0),this.allFootprints=[[1,1],[1,2],[2,1],[3,1],[1,3],[2,2],[2,3],[3,2],[3,3],[3,6],[6,3]],this.allConnectors=[lr.Other,lr.SmallKey,lr.LargeKey,lr.SmallSlot,lr.LargeSlot],this.allElementTypes=[ns.Tile,ns.FlatGrid,ns.Key],this.compareFootprint=(h,m)=>h[0]===m[0]&&h[1]===m[1]}ngOnInit(){this.route.paramMap.subscribe(e=>this.elementService.getElementById(e.get("id")).subscribe(r=>{this.element=r,this.modelFileInfo$=this.elementService.getModelFileInfo(r)}))}onAddTag(e){const{element:r}=this;r&&(r.tags.includes(e)||(r.tags=[...r.tags,e]),r.tags.sort())}onDelete(){const{element:e}=this;e&&this.elementService.delete(e).subscribe(()=>this.router.navigate(["elements"]))}onRemoveTag(e){const{element:r}=this;r&&(r.tags=r.tags.filter(o=>o!==e))}onRender(){}onSave(){const{element:e}=this;e&&this.elementService.save(e).subscribe(()=>this.router.navigate(["elements"]),r=>this.snackBar.open(r,"Close",{duration:3e5,panelClass:"message-error"}))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rp),s.Y36(b1),s.Y36(pf),s.Y36(ts),s.Y36(fee))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-element-view-page"]],decls:1,vars:1,consts:[["class","page-layout",4,"ngIf"],[1,"page-layout"],[2,"display","flex","flex-direction","row"],[1,"form"],["appearance","fill"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngModel","compareWith","ngModelChange"],["matInput","","min","0","placeholder","0","type","number",3,"ngModel","ngModelChange"],[1,"form-section"],[1,"wide"],["chipGrid",""],[3,"background-color","removed",4,"ngFor","ngForOf"],["placeholder","New tag...",3,"matChipInputFor","matChipInputTokenEnd"],["tagInput",""],[1,"form-section",2,"padding","8px"],[4,"ngIf"],[2,"flex-grow","1"],[1,"button-group-horizontal"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"],["color","warn","mat-raised-button","",3,"click"],[1,"element-image-container"],[2,"width","1000px","height","1000px",3,"cursor","design","editable","elements","hardpoints","zoom"],[3,"value"],[3,"removed"],["matChipRemove",""]],template:function(e,r){1&e&&s.YNc(0,Uce,96,60,"div",0),2&e&&s.Q6J("ngIf",r.element)},dependencies:[zr,Rn,vp,qF,ev,QF,wp,cv,yL,LH,BH,FH,TL,XE,lv,nA,lf,ik,Oz,fL,y1,Ze,jt,Dce,h$,_f],styles:[".form[_ngcontent-%COMP%]{width:500px;border:1px solid #4a4a4a}.element-image-container[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;align-items:center;margin-left:20px;border:1px solid #4a4a4a;width:100%;max-width:1000px;max-height:1000px}.element-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:100%;max-height:100%}"]}),i})();function zce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"mat-button-toggle",5),s._uU(2),s.qZA(),s.BQk()),2&i){const e=n.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(1),s.hij(" ",e.name," ")}}function jce(i,n){if(1&i&&(s.ynx(0),s._UZ(1,"img"),s.ALo(2,"assetUrl"),s.BQk()),2&i){const e=s.oxw().$implicit,r=s.oxw(3);s.xp6(1),s.uIk("src",s.Dn7(2,1,e.code,r.spriteSet,"thumbnail"),s.LSH)}}function $ce(i,n){if(1&i&&(s.ynx(0),s.YNc(1,jce,3,5,"ng-container",12),s.ALo(2,"match"),s.BQk()),2&i){const e=n.$implicit,r=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",s.xi3(2,1,e.code,r.code+"-\\d+"))}}function Gce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"div",10)(2,"h3"),s._uU(3),s.qZA(),s.TgZ(4,"div",11),s.YNc(5,$ce,3,4,"ng-container",3),s.qZA()(),s.BQk()),2&i){const e=n.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("routerLink",e.id),s.xp6(2),s.AsE("",e.code," \u2014 ",e.name,""),s.xp6(2),s.Q6J("ngForOf",r.elements)}}function qce(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",6)(1,"div",7)(2,"button",8),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onCreatePack())}),s.TgZ(3,"mat-icon"),s._uU(4),s.ALo(5,"symbol"),s.qZA(),s._uU(6," Create "),s.qZA()(),s.TgZ(7,"div",9),s.YNc(8,Gce,6,4,"ng-container",3),s.qZA()()}if(2&i){const e=s.oxw();s.xp6(4),s.Oqu(s.lcZ(5,2,"create")),s.xp6(4),s.Q6J("ngForOf",e.packs)}}let Wce=(()=>{class i{constructor(e,r,o){this.elementService=e,this.packService=r,this.router=o,this.elements=[],this.packs=[],this.spriteSet=Aa[0],this.SPRITE_SETS=Aa,this.defaultPackCode="AA"}ngOnInit(){this.elementService.getElements().subscribe(e=>this.elements=e),this.packService.getPacks().subscribe(e=>this.packs=e)}onCreatePack(){this.packService.create(this.defaultPackCode,"New Pack").subscribe(e=>this.router.navigate(["packs",e.id]))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rp),s.Y36(b1),s.Y36(ts))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-pack-list-page"]],decls:7,vars:3,consts:[[1,"page-layout"],[1,"form",2,"margin-bottom","20px"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["style","display: flex; flex-direction: column; gap: 20px;",4,"ngFor","ngForOf"],[2,"width","120px",3,"value"],[2,"display","flex","flex-direction","column","gap","20px"],[1,"button-group-horizontal"],["color","primary","mat-raised-button","",3,"click"],[1,"pack-list-container"],[1,"pack-container",3,"routerLink"],[1,"thumbnail-stacker"],[4,"ngIf"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Packs"),s.qZA(),s.TgZ(3,"div",1)(4,"mat-button-toggle-group",2),s.NdJ("ngModelChange",function(a){return r.spriteSet=a}),s.YNc(5,zce,3,2,"ng-container",3),s.qZA()(),s.YNc(6,qce,9,4,"div",4),s.qZA()),2&e&&(s.xp6(4),s.Q6J("ngModel",r.spriteSet),s.xp6(1),s.Q6J("ngForOf",r.SPRITE_SETS),s.xp6(1),s.Q6J("ngForOf",r.packs))},dependencies:[wv,zr,Rn,ev,wp,cv,eA,tA,lf,F2,Ik,_f],styles:[".pack-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.pack-list-container[_ngcontent-%COMP%]   .pack-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;width:500px;height:400px;cursor:pointer;border:1px solid darkgray;padding:12px;justify-content:flex-start;align-items:stretch;align-content:stretch;background-color:#4a4a4a}.pack-list-container[_ngcontent-%COMP%]   .pack-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #e3b2564d}.pack-list-container[_ngcontent-%COMP%]   .pack-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;text-align:center;font-weight:700}"]}),i})();const Zce=function(){return{mode:"thumbnail",color:"rgb(212,208,148)"}};function Yce(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"div",1)(1,"h1"),s._uU(2),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"Pack code"),s.qZA(),s.TgZ(8,"input",5),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.pack.code=o)}),s.qZA(),s.TgZ(9,"mat-hint"),s._uU(10,"Unique code that identifies this pack (two letters)"),s.qZA()(),s.TgZ(11,"mat-form-field",4)(12,"mat-label"),s._uU(13,"Pack name"),s.qZA(),s.TgZ(14,"input",6),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.pack.name=o)}),s.qZA(),s.TgZ(15,"mat-hint"),s._uU(16,"Short, descriptive name for the pack"),s.qZA()(),s.TgZ(17,"mat-form-field",4)(18,"mat-label"),s._uU(19,"Store URL"),s.qZA(),s.TgZ(20,"input",7),s.NdJ("ngModelChange",function(o){s.CHM(e);const a=s.oxw();return s.KtG(a.pack.storeUrl=o)}),s.qZA(),s.TgZ(21,"mat-hint"),s._uU(22,"URL to the store page"),s.qZA()(),s._UZ(23,"div",8),s.TgZ(24,"div",9)(25,"button",10),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onSave())}),s.TgZ(26,"mat-icon"),s._uU(27),s.ALo(28,"symbol"),s.qZA(),s._uU(29," Save "),s.qZA(),s.TgZ(30,"button",11),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onDelete())}),s.TgZ(31,"mat-icon"),s._uU(32),s.ALo(33,"symbol"),s.qZA(),s._uU(34," Delete "),s.qZA()()(),s.TgZ(35,"div",12),s._UZ(36,"kn-map-editor",13),s.qZA()()()}if(2&i){const e=s.oxw();s.xp6(2),s.AsE("",e.pack.code," \u2014 ",e.pack.name,""),s.xp6(6),s.Q6J("ngModel",e.pack.code),s.xp6(6),s.Q6J("ngModel",e.pack.name),s.xp6(6),s.Q6J("ngModel",e.pack.storeUrl),s.xp6(7),s.Oqu(s.lcZ(28,12,"save")),s.xp6(5),s.Oqu(s.lcZ(33,14,"delete")),s.xp6(4),s.Q6J("cursor",s.DdM(16,Zce))("design",e.design)("editable",!1)("elements",e.elements)("zoom",1)}}const Kce=[{path:"designs",component:zae},{path:"designs/:id",component:bce},{path:"elements",component:Ice},{path:"elements/:id",component:Hce},{path:"packs",component:Wce},{path:"packs/:id",component:(()=>{class i{constructor(e,r,o,a,l){this.elementService=e,this.packService=r,this.route=o,this.router=a,this.utilService=l,this.elements=[],this.spriteSet=Aa[0],this.compareFootprint=(h,m)=>h[0]===m[0]&&h[1]===m[1]}ngOnInit(){this.route.paramMap.subscribe(e=>this.packService.getPackById(e.get("id")).subscribe(r=>{this.pack=r,this.elementService.getElements().subscribe(o=>{o=o.filter(g=>g.code.match(r.code+"-\\d+")),this.elements=o;const a=o.map(g=>(g.footprint[0]+1)*(g.footprint[1]+1)).reduce((g,b)=>g+b,0),l=Math.ceil(Math.sqrt(a)),h=[],m=[];o.forEach(g=>{const[b,E]=g.footprint;for(let S=0;S<l;++S)for(let R=0;R<l;++R){const G=this.utilService.bounds({x:S,y:R},g.footprint,0);if(!m.find(Y=>this.utilService.overlap2D(G,Y)))return h.push({x:S,y:R,orientation:0,element:g.code}),void m.push({...G,x2:G.x2+1,y2:G.y2+1})}}),this.design={id:r.id,title:r.name,description:"",levels:[{index:0,tiles:h}]}})}))}onDelete(){const{pack:e}=this;e&&this.packService.delete(e).subscribe(()=>this.router.navigate(["packs"]))}onSave(){const{pack:e}=this;e&&this.packService.save(e).subscribe(()=>this.router.navigate(["packs"]))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rp),s.Y36(b1),s.Y36(pf),s.Y36(ts),s.Y36(Z0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-pack-view-page"]],decls:1,vars:1,consts:[["class","page-layout",4,"ngIf"],[1,"page-layout"],[2,"display","flex","flex-direction","row"],[1,"form"],["appearance","fill"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],["matInput","","placeholder","URL",3,"ngModel","ngModelChange"],[2,"flex-grow","1"],[1,"button-group-horizontal",2,"justify-content","space-between"],["color","primary","mat-raised-button","",3,"click"],["color","warn","mat-raised-button","",3,"click"],[1,"pack-image-container"],[2,"width","1000px","height","1000px",3,"cursor","design","editable","elements","zoom"]],template:function(e,r){1&e&&s.YNc(0,Yce,37,17,"div",0),2&e&&s.Q6J("ngIf",r.pack)},dependencies:[Rn,vp,ev,wp,cv,XE,lv,nA,lf,ik,y1,_f],styles:[".form[_ngcontent-%COMP%]{width:500px;border:1px solid #4a4a4a}.pack-image-container[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;align-items:center;margin-left:20px;border:1px solid #4a4a4a;width:100%;max-width:1000px;max-height:1000px}.pack-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:100%;max-height:100%}"]}),i})()},{path:"collection",component:cae}];let Qce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[K5.forRoot(Kce),K5]}),i})();function Jce(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"a",6)(2,"mat-icon"),s._uU(3),s.ALo(4,"symbol"),s.qZA(),s.TgZ(5,"span"),s._uU(6),s.qZA()(),s.BQk()),2&i){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("routerLink",e.link),s.xp6(2),s.Oqu(s.lcZ(4,3,e.icon)),s.xp6(3),s.Oqu(e.label)}}function Xce(i,n){if(1&i&&(s.ynx(0),s.YNc(1,Jce,7,5,"ng-container",5),s.ALo(2,"async"),s.BQk()),2&i){const e=n.$implicit,r=s.oxw();let o;s.xp6(1),s.Q6J("ngIf",!e.admin||(null==(o=s.lcZ(2,1,r.currentUser$))?null:o.administrator))}}function ele(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"a",7),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onLogin())}),s.TgZ(1,"mat-icon"),s._uU(2),s.ALo(3,"symbol"),s.qZA(),s.TgZ(4,"span"),s._uU(5,"Sign In"),s.qZA()()}2&i&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"login")))}function tle(i,n){if(1&i){const e=s.EpF();s.TgZ(0,"a",7),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.onLogout())}),s.TgZ(1,"mat-icon"),s._uU(2),s.ALo(3,"symbol"),s.qZA(),s.TgZ(4,"span"),s._uU(5,"Sign Out"),s.qZA()()}2&i&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"logout")))}function nle(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"span",8),s._uU(2),s.qZA(),s._UZ(3,"img",9),s.BQk()),2&i){const e=n.$implicit;s.xp6(2),s.Oqu(e.displayName),s.xp6(1),s.uIk("src",e.photoURL,s.LSH)}}let ile=(()=>{class i{constructor(e){this.authenticationService=e,this.menu=[{icon:"design",label:"Designs",link:"designs",admin:!1},{icon:"collection",label:"Collection",link:"collection",admin:!1},{icon:"element",label:"Elements",link:"elements",admin:!0},{icon:"pack",label:"Packs",link:"packs",admin:!0}],this.currentUser$=e.getCurrentUserObservable()}onLogin(){this.authenticationService.signIn()}onLogout(){this.authenticationService.signOut()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Tk))},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-top-bar"]],decls:11,vars:10,consts:[["color","primary"],["src","assets/logo.png",1,"logo","media-hide-sm"],[4,"ngFor","ngForOf"],[2,"flex-grow","1"],["class","media-icon-button-sm","mat-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"media-icon-button-sm",3,"routerLink"],["mat-button","",1,"media-icon-button-sm",3,"click"],[1,"media-hide-sm",2,"margin-right","8px","padding-left","8px","border-left","1px solid white"],[1,"user-profile-image"]],template:function(e,r){1&e&&(s.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row"),s._UZ(2,"img",1),s.YNc(3,Xce,3,3,"ng-container",2),s._UZ(4,"div",3),s.YNc(5,ele,6,3,"a",4),s.ALo(6,"async"),s.YNc(7,tle,6,3,"a",4),s.ALo(8,"async"),s.YNc(9,nle,4,2,"ng-container",5),s.ALo(10,"async"),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",r.menu),s.xp6(2),s.Q6J("ngIf",!s.lcZ(6,4,r.currentUser$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(8,6,r.currentUser$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(10,8,r.currentUser$)))},dependencies:[wv,zr,Rn,vY,lf,Ste,nj,Ze,_f],styles:[".user-profile-image[_ngcontent-%COMP%]{height:40px;border-radius:20px;margin:0;padding:0;border:1px solid black;vertical-align:center}mat-toolbar-row[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:inline-block;position:relative;top:3px;width:90px;vertical-align:center;margin-right:16px}mat-toolbar-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}"]}),i})(),rle=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["kn-root"]],decls:2,vars:0,template:function(e,r){1&e&&s._UZ(0,"kn-top-bar")(1,"router-outlet")},dependencies:[K2,ile],styles:[".page-container[_ngcontent-%COMP%]{width:100%;height:100%}.page-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.page-sidenav[_ngcontent-%COMP%]{padding:20px}"]}),i})(),ole=(()=>{class i extends ii{constructor(){super()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),sle=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i,bootstrap:[rle]}),i.\u0275inj=s.cJS({providers:[{provide:Ir,useClass:ole}],imports:[Uk,pO,jn.hO.initializeApp(Yj_firebase),EZ,Fq,Qce,kie,vd,H9,Vf,aH,kY,LY,YK,_Q,sA,nJ,lJ,UJ,jX,JX,Vz,Lee,kte,Mte,jie,sre,ore,pa(()=>Cl(Yj_firebase)),NZ(()=>FZ())]}),i})();_d().bootstrapModule(sle).catch(i=>console.error(i))},7271:(It,Re,z)=>{var s;!function(Z,B,ae,ce){"use strict";var Fe,ue=["","webkit","Moz","MS","ms","o"],Se=B.createElement("div"),Ve="function",we=Math.round,Q=Math.abs,ee=Date.now;function he(N,H,J){return setTimeout(Ct(N,J),H)}function $e(N,H,J){return!!Array.isArray(N)&&(Ne(N,J[H],J),!0)}function Ne(N,H,J){var pe;if(N)if(N.forEach)N.forEach(H,J);else if(N.length!==ce)for(pe=0;pe<N.length;)H.call(J,N[pe],pe,N),pe++;else for(pe in N)N.hasOwnProperty(pe)&&H.call(J,N[pe],pe,N)}function ot(N,H,J){var pe="DEPRECATED METHOD: "+H+"\n"+J+" AT \n";return function(){var Ze=new Error("get-stack-trace"),_t=Ze&&Ze.stack?Ze.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",un=Z.console&&(Z.console.warn||Z.console.log);return un&&un.call(Z.console,pe,_t),N.apply(this,arguments)}}Fe="function"!=typeof Object.assign?function(H){if(H===ce||null===H)throw new TypeError("Cannot convert undefined or null to object");for(var J=Object(H),pe=1;pe<arguments.length;pe++){var Ze=arguments[pe];if(Ze!==ce&&null!==Ze)for(var _t in Ze)Ze.hasOwnProperty(_t)&&(J[_t]=Ze[_t])}return J}:Object.assign;var it=ot(function(H,J,pe){for(var Ze=Object.keys(J),_t=0;_t<Ze.length;)(!pe||pe&&H[Ze[_t]]===ce)&&(H[Ze[_t]]=J[Ze[_t]]),_t++;return H},"extend","Use `assign`."),We=ot(function(H,J){return it(H,J,!0)},"merge","Use `assign`.");function xt(N,H,J){var Ze,pe=H.prototype;(Ze=N.prototype=Object.create(pe)).constructor=N,Ze._super=pe,J&&Fe(Ze,J)}function Ct(N,H){return function(){return N.apply(H,arguments)}}function le(N,H){return typeof N==Ve?N.apply(H&&H[0]||ce,H):N}function Ae(N,H){return N===ce?H:N}function me(N,H,J){Ne(ut(H),function(pe){N.addEventListener(pe,J,!1)})}function xe(N,H,J){Ne(ut(H),function(pe){N.removeEventListener(pe,J,!1)})}function je(N,H){for(;N;){if(N==H)return!0;N=N.parentNode}return!1}function oe(N,H){return N.indexOf(H)>-1}function ut(N){return N.trim().split(/\s+/g)}function Qe(N,H,J){if(N.indexOf&&!J)return N.indexOf(H);for(var pe=0;pe<N.length;){if(J&&N[pe][J]==H||!J&&N[pe]===H)return pe;pe++}return-1}function pn(N){return Array.prototype.slice.call(N,0)}function Fi(N,H,J){for(var pe=[],Ze=[],_t=0;_t<N.length;){var un=H?N[_t][H]:N[_t];Qe(Ze,un)<0&&pe.push(N[_t]),Ze[_t]=un,_t++}return J&&(pe=H?pe.sort(function(rr,kn){return rr[H]>kn[H]}):pe.sort()),pe}function Qi(N,H){for(var J,pe,Ze=H[0].toUpperCase()+H.slice(1),_t=0;_t<ue.length;){if((pe=(J=ue[_t])?J+Ze:H)in N)return pe;_t++}return ce}var os=1;function Ie(N){var H=N.ownerDocument||N;return H.defaultView||H.parentWindow||Z}var qe="ontouchstart"in Z,tt=Qi(Z,"PointerEvent")!==ce,Xe=qe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),lt="touch",qn="mouse",Ot=25,qt=1,dn=4,Wt=8,pi=1,si=2,Jn=4,Wn=8,dr=16,Er=si|Jn,Ji=Wn|dr,Xi=Er|Ji,ui=["x","y"],er=["clientX","clientY"];function ki(N,H){var J=this;this.manager=N,this.callback=H,this.element=N.element,this.target=N.options.inputTarget,this.domHandler=function(pe){le(N.options.enable,[N])&&J.handler(pe)},this.init()}function Mt(N,H,J){var pe=J.pointers.length,Ze=J.changedPointers.length,_t=H&qt&&pe-Ze==0,un=H&(dn|Wt)&&pe-Ze==0;J.isFirst=!!_t,J.isFinal=!!un,_t&&(N.session={}),J.eventType=H,function Lt(N,H){var J=N.session,pe=H.pointers,Ze=pe.length;J.firstInput||(J.firstInput=Or(H)),Ze>1&&!J.firstMultiple?J.firstMultiple=Or(H):1===Ze&&(J.firstMultiple=!1);var _t=J.firstInput,un=J.firstMultiple,hi=un?un.center:_t.center,rr=H.center=fn(pe);H.timeStamp=ee(),H.deltaTime=H.timeStamp-_t.timeStamp,H.angle=tr(hi,rr),H.distance=An(hi,rr),function yn(N,H){var J=H.center,pe=N.offsetDelta||{},Ze=N.prevDelta||{},_t=N.prevInput||{};(H.eventType===qt||_t.eventType===dn)&&(Ze=N.prevDelta={x:_t.deltaX||0,y:_t.deltaY||0},pe=N.offsetDelta={x:J.x,y:J.y}),H.deltaX=Ze.x+(J.x-pe.x),H.deltaY=Ze.y+(J.y-pe.y)}(J,H),H.offsetDirection=co(H.deltaX,H.deltaY);var kn=gi(H.deltaTime,H.deltaX,H.deltaY);H.overallVelocityX=kn.x,H.overallVelocityY=kn.y,H.overallVelocity=Q(kn.x)>Q(kn.y)?kn.x:kn.y,H.scale=un?function ai(N,H){return An(H[0],H[1],er)/An(N[0],N[1],er)}(un.pointers,pe):1,H.rotation=un?function Qt(N,H){return tr(H[1],H[0],er)+tr(N[1],N[0],er)}(un.pointers,pe):0,H.maxPointers=J.prevInput?H.pointers.length>J.prevInput.maxPointers?H.pointers.length:J.prevInput.maxPointers:H.pointers.length,function Li(N,H){var Ze,_t,un,hi,J=N.lastInterval||H,pe=H.timeStamp-J.timeStamp;if(H.eventType!=Wt&&(pe>Ot||J.velocity===ce)){var rr=H.deltaX-J.deltaX,kn=H.deltaY-J.deltaY,st=gi(pe,rr,kn);_t=st.x,un=st.y,Ze=Q(st.x)>Q(st.y)?st.x:st.y,hi=co(rr,kn),N.lastInterval=H}else Ze=J.velocity,_t=J.velocityX,un=J.velocityY,hi=J.direction;H.velocity=Ze,H.velocityX=_t,H.velocityY=un,H.direction=hi}(J,H);var st=N.element;je(H.srcEvent.target,st)&&(st=H.srcEvent.target),H.target=st}(N,J),N.emit("hammer.input",J),N.recognize(J),N.session.prevInput=J}function Or(N){for(var H=[],J=0;J<N.pointers.length;)H[J]={clientX:we(N.pointers[J].clientX),clientY:we(N.pointers[J].clientY)},J++;return{timeStamp:ee(),pointers:H,center:fn(H),deltaX:N.deltaX,deltaY:N.deltaY}}function fn(N){var H=N.length;if(1===H)return{x:we(N[0].clientX),y:we(N[0].clientY)};for(var J=0,pe=0,Ze=0;Ze<H;)J+=N[Ze].clientX,pe+=N[Ze].clientY,Ze++;return{x:we(J/H),y:we(pe/H)}}function gi(N,H,J){return{x:H/N||0,y:J/N||0}}function co(N,H){return N===H?pi:Q(N)>=Q(H)?N<0?si:Jn:H<0?Wn:dr}function An(N,H,J){J||(J=ui);var pe=H[J[0]]-N[J[0]],Ze=H[J[1]]-N[J[1]];return Math.sqrt(pe*pe+Ze*Ze)}function tr(N,H,J){return J||(J=ui),180*Math.atan2(H[J[1]]-N[J[1]],H[J[0]]-N[J[0]])/Math.PI}ki.prototype={handler:function(){},init:function(){this.evEl&&me(this.element,this.evEl,this.domHandler),this.evTarget&&me(this.target,this.evTarget,this.domHandler),this.evWin&&me(Ie(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&xe(this.element,this.evEl,this.domHandler),this.evTarget&&xe(this.target,this.evTarget,this.domHandler),this.evWin&&xe(Ie(this.element),this.evWin,this.domHandler)}};var lo={mousedown:qt,mousemove:2,mouseup:dn},Bo="mousedown",ur="mousemove mouseup";function Xn(){this.evEl=Bo,this.evWin=ur,this.pressed=!1,ki.apply(this,arguments)}xt(Xn,ki,{handler:function(H){var J=lo[H.type];J&qt&&0===H.button&&(this.pressed=!0),2&J&&1!==H.which&&(J=dn),this.pressed&&(J&dn&&(this.pressed=!1),this.callback(this.manager,J,{pointers:[H],changedPointers:[H],pointerType:qn,srcEvent:H}))}});var Zn={pointerdown:qt,pointermove:2,pointerup:dn,pointercancel:Wt,pointerout:Wt},Ti={2:lt,3:"pen",4:qn,5:"kinect"},ei="pointerdown",Ii="pointermove pointerup pointercancel";function Yn(){this.evEl=ei,this.evWin=Ii,ki.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Z.MSPointerEvent&&!Z.PointerEvent&&(ei="MSPointerDown",Ii="MSPointerMove MSPointerUp MSPointerCancel"),xt(Yn,ki,{handler:function(H){var J=this.store,pe=!1,Ze=H.type.toLowerCase().replace("ms",""),_t=Zn[Ze],un=Ti[H.pointerType]||H.pointerType,hi=un==lt,rr=Qe(J,H.pointerId,"pointerId");_t&qt&&(0===H.button||hi)?rr<0&&(J.push(H),rr=J.length-1):_t&(dn|Wt)&&(pe=!0),!(rr<0)&&(J[rr]=H,this.callback(this.manager,_t,{pointers:J,changedPointers:[H],pointerType:un,srcEvent:H}),pe&&J.splice(rr,1))}});var Pr={touchstart:qt,touchmove:2,touchend:dn,touchcancel:Wt};function K(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,ki.apply(this,arguments)}function U(N,H){var J=pn(N.touches),pe=pn(N.changedTouches);return H&(dn|Wt)&&(J=Fi(J.concat(pe),"identifier",!0)),[J,pe]}xt(K,ki,{handler:function(H){var J=Pr[H.type];if(J===qt&&(this.started=!0),this.started){var pe=U.call(this,H,J);J&(dn|Wt)&&pe[0].length-pe[1].length==0&&(this.started=!1),this.callback(this.manager,J,{pointers:pe[0],changedPointers:pe[1],pointerType:lt,srcEvent:H})}}});var $={touchstart:qt,touchmove:2,touchend:dn,touchcancel:Wt},L="touchstart touchmove touchend touchcancel";function re(){this.evTarget=L,this.targetIds={},ki.apply(this,arguments)}function Te(N,H){var J=pn(N.touches),pe=this.targetIds;if(H&(2|qt)&&1===J.length)return pe[J[0].identifier]=!0,[J,J];var Ze,_t,un=pn(N.changedTouches),hi=[],rr=this.target;if(_t=J.filter(function(kn){return je(kn.target,rr)}),H===qt)for(Ze=0;Ze<_t.length;)pe[_t[Ze].identifier]=!0,Ze++;for(Ze=0;Ze<un.length;)pe[un[Ze].identifier]&&hi.push(un[Ze]),H&(dn|Wt)&&delete pe[un[Ze].identifier],Ze++;return hi.length?[Fi(_t.concat(hi),"identifier",!0),hi]:void 0}xt(re,ki,{handler:function(H){var J=$[H.type],pe=Te.call(this,H,J);pe&&this.callback(this.manager,J,{pointers:pe[0],changedPointers:pe[1],pointerType:lt,srcEvent:H})}});var rt=2500;function Pt(){ki.apply(this,arguments);var N=Ct(this.handler,this);this.touch=new re(this.manager,N),this.mouse=new Xn(this.manager,N),this.primaryTouch=null,this.lastTouches=[]}function At(N,H){N&qt?(this.primaryTouch=H.changedPointers[0].identifier,Gt.call(this,H)):N&(dn|Wt)&&Gt.call(this,H)}function Gt(N){var H=N.changedPointers[0];if(H.identifier===this.primaryTouch){var J={x:H.clientX,y:H.clientY};this.lastTouches.push(J);var pe=this.lastTouches;setTimeout(function(){var _t=pe.indexOf(J);_t>-1&&pe.splice(_t,1)},rt)}}function Vn(N){for(var H=N.srcEvent.clientX,J=N.srcEvent.clientY,pe=0;pe<this.lastTouches.length;pe++){var Ze=this.lastTouches[pe],_t=Math.abs(H-Ze.x),un=Math.abs(J-Ze.y);if(_t<=25&&un<=25)return!0}return!1}xt(Pt,ki,{handler:function(H,J,pe){var _t=pe.pointerType==qn;if(!(_t&&pe.sourceCapabilities&&pe.sourceCapabilities.firesTouchEvents)){if(pe.pointerType==lt)At.call(this,J,pe);else if(_t&&Vn.call(this,pe))return;this.callback(H,J,pe)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var en=Qi(Se.style,"touchAction"),qi=en!==ce,nr="compute",fe="manipulation",Ge="none",kt="pan-x",zt="pan-y",tn=function _i(){if(!qi)return!1;var N={},H=Z.CSS&&Z.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(J){N[J]=!H||Z.CSS.supports("touch-action",J)}),N}();function wn(N,H){this.manager=N,this.set(H)}wn.prototype={set:function(N){N==nr&&(N=this.compute()),qi&&this.manager.element.style&&tn[N]&&(this.manager.element.style[en]=N),this.actions=N.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var N=[];return Ne(this.manager.recognizers,function(H){le(H.options.enable,[H])&&(N=N.concat(H.getTouchAction()))}),function ir(N){if(oe(N,Ge))return Ge;var H=oe(N,kt),J=oe(N,zt);return H&&J?Ge:H||J?H?kt:zt:oe(N,fe)?fe:"auto"}(N.join(" "))},preventDefaults:function(N){var H=N.srcEvent,J=N.offsetDirection;if(!this.manager.session.prevented){var pe=this.actions,Ze=oe(pe,Ge)&&!tn[Ge],_t=oe(pe,zt)&&!tn[zt],un=oe(pe,kt)&&!tn[kt];if(Ze&&1===N.pointers.length&&N.distance<2&&N.deltaTime<250)return;return un&&_t||!(Ze||_t&&J&Er||un&&J&Ji)?void 0:this.preventSrc(H)}H.preventDefault()},preventSrc:function(N){this.manager.session.prevented=!0,N.preventDefault()}};var wo=1;function as(N){this.options=Fe({},this.defaults,N||{}),this.id=function _e(){return os++}(),this.manager=null,this.options.enable=Ae(this.options.enable,!0),this.state=wo,this.simultaneous={},this.requireFail=[]}function zr(N){return 16&N?"cancel":8&N?"end":4&N?"move":2&N?"start":""}function vi(N){return N==dr?"down":N==Wn?"up":N==si?"left":N==Jn?"right":""}function cl(N,H){var J=H.manager;return J?J.get(N):N}function Rn(){as.apply(this,arguments)}function ll(){Rn.apply(this,arguments),this.pX=null,this.pY=null}function yc(){Rn.apply(this,arguments)}function oa(){as.apply(this,arguments),this._timer=null,this._input=null}function xo(){Rn.apply(this,arguments)}function bs(){Rn.apply(this,arguments)}function Ra(){as.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Co(N,H){return(H=H||{}).recognizers=Ae(H.recognizers,Co.defaults.preset),new $s(N,H)}function $s(N,H){this.options=Fe({},Co.defaults,H||{}),this.options.inputTarget=this.options.inputTarget||N,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=N,this.input=function dt(N){return new(N.options.inputClass||(tt?Yn:Xe?re:qe?Pt:Xn))(N,Mt)}(this),this.touchAction=new wn(this,this.options.touchAction),ws(this,!0),Ne(this.options.recognizers,function(J){var pe=this.add(new J[0](J[1]));J[2]&&pe.recognizeWith(J[2]),J[3]&&pe.requireFailure(J[3])},this)}function ws(N,H){var pe,J=N.element;J.style&&(Ne(N.options.cssProps,function(Ze,_t){pe=Qi(J.style,_t),H?(N.oldCssProps[pe]=J.style[pe],J.style[pe]=Ze):J.style[pe]=N.oldCssProps[pe]||""}),H||(N.oldCssProps={}))}as.prototype={defaults:{},set:function(N){return Fe(this.options,N),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(N){if($e(N,"recognizeWith",this))return this;var H=this.simultaneous;return H[(N=cl(N,this)).id]||(H[N.id]=N,N.recognizeWith(this)),this},dropRecognizeWith:function(N){return $e(N,"dropRecognizeWith",this)||(N=cl(N,this),delete this.simultaneous[N.id]),this},requireFailure:function(N){if($e(N,"requireFailure",this))return this;var H=this.requireFail;return-1===Qe(H,N=cl(N,this))&&(H.push(N),N.requireFailure(this)),this},dropRequireFailure:function(N){if($e(N,"dropRequireFailure",this))return this;N=cl(N,this);var H=Qe(this.requireFail,N);return H>-1&&this.requireFail.splice(H,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(N){return!!this.simultaneous[N.id]},emit:function(N){var H=this,J=this.state;function pe(Ze){H.manager.emit(Ze,N)}J<8&&pe(H.options.event+zr(J)),pe(H.options.event),N.additionalEvent&&pe(N.additionalEvent),J>=8&&pe(H.options.event+zr(J))},tryEmit:function(N){if(this.canEmit())return this.emit(N);this.state=32},canEmit:function(){for(var N=0;N<this.requireFail.length;){if(!(this.requireFail[N].state&(32|wo)))return!1;N++}return!0},recognize:function(N){var H=Fe({},N);if(!le(this.options.enable,[this,H]))return this.reset(),void(this.state=32);56&this.state&&(this.state=wo),this.state=this.process(H),30&this.state&&this.tryEmit(H)},process:function(N){},getTouchAction:function(){},reset:function(){}},xt(Rn,as,{defaults:{pointers:1},attrTest:function(N){var H=this.options.pointers;return 0===H||N.pointers.length===H},process:function(N){var H=this.state,J=N.eventType,pe=6&H,Ze=this.attrTest(N);return pe&&(J&Wt||!Ze)?16|H:pe||Ze?J&dn?8|H:2&H?4|H:2:32}}),xt(ll,Rn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Xi},getTouchAction:function(){var N=this.options.direction,H=[];return N&Er&&H.push(zt),N&Ji&&H.push(kt),H},directionTest:function(N){var H=this.options,J=!0,pe=N.distance,Ze=N.direction,_t=N.deltaX,un=N.deltaY;return Ze&H.direction||(H.direction&Er?(Ze=0===_t?pi:_t<0?si:Jn,J=_t!=this.pX,pe=Math.abs(N.deltaX)):(Ze=0===un?pi:un<0?Wn:dr,J=un!=this.pY,pe=Math.abs(N.deltaY))),N.direction=Ze,J&&pe>H.threshold&&Ze&H.direction},attrTest:function(N){return Rn.prototype.attrTest.call(this,N)&&(2&this.state||!(2&this.state)&&this.directionTest(N))},emit:function(N){this.pX=N.deltaX,this.pY=N.deltaY;var H=vi(N.direction);H&&(N.additionalEvent=this.options.event+H),this._super.emit.call(this,N)}}),xt(yc,Rn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ge]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.scale-1)>this.options.threshold||2&this.state)},emit:function(N){1!==N.scale&&(N.additionalEvent=this.options.event+(N.scale<1?"in":"out")),this._super.emit.call(this,N)}}),xt(oa,as,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(N){var H=this.options,J=N.pointers.length===H.pointers,pe=N.distance<H.threshold,Ze=N.deltaTime>H.time;if(this._input=N,!pe||!J||N.eventType&(dn|Wt)&&!Ze)this.reset();else if(N.eventType&qt)this.reset(),this._timer=he(function(){this.state=8,this.tryEmit()},H.time,this);else if(N.eventType&dn)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(N){8===this.state&&(N&&N.eventType&dn?this.manager.emit(this.options.event+"up",N):(this._input.timeStamp=ee(),this.manager.emit(this.options.event,this._input)))}}),xt(xo,Rn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ge]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.rotation)>this.options.threshold||2&this.state)}}),xt(bs,Rn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Er|Ji,pointers:1},getTouchAction:function(){return ll.prototype.getTouchAction.call(this)},attrTest:function(N){var J,H=this.options.direction;return H&(Er|Ji)?J=N.overallVelocity:H&Er?J=N.overallVelocityX:H&Ji&&(J=N.overallVelocityY),this._super.attrTest.call(this,N)&&H&N.offsetDirection&&N.distance>this.options.threshold&&N.maxPointers==this.options.pointers&&Q(J)>this.options.velocity&&N.eventType&dn},emit:function(N){var H=vi(N.offsetDirection);H&&this.manager.emit(this.options.event+H,N),this.manager.emit(this.options.event,N)}}),xt(Ra,as,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[fe]},process:function(N){var H=this.options,J=N.pointers.length===H.pointers,pe=N.distance<H.threshold,Ze=N.deltaTime<H.time;if(this.reset(),N.eventType&qt&&0===this.count)return this.failTimeout();if(pe&&Ze&&J){if(N.eventType!=dn)return this.failTimeout();var _t=!this.pTime||N.timeStamp-this.pTime<H.interval,un=!this.pCenter||An(this.pCenter,N.center)<H.posThreshold;if(this.pTime=N.timeStamp,this.pCenter=N.center,un&&_t?this.count+=1:this.count=1,this._input=N,0==this.count%H.taps)return this.hasRequireFailures()?(this._timer=he(function(){this.state=8,this.tryEmit()},H.interval,this),2):8}return 32},failTimeout:function(){return this._timer=he(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Co.VERSION="2.0.7",Co.defaults={domEvents:!1,touchAction:nr,enable:!0,inputTarget:null,inputClass:null,preset:[[xo,{enable:!1}],[yc,{enable:!1},["rotate"]],[bs,{direction:Er}],[ll,{direction:Er},["swipe"]],[Ra],[Ra,{event:"doubletap",taps:2},["tap"]],[oa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$s.prototype={set:function(N){return Fe(this.options,N),N.touchAction&&this.touchAction.update(),N.inputTarget&&(this.input.destroy(),this.input.target=N.inputTarget,this.input.init()),this},stop:function(N){this.session.stopped=N?2:1},recognize:function(N){var H=this.session;if(!H.stopped){this.touchAction.preventDefaults(N);var J,pe=this.recognizers,Ze=H.curRecognizer;(!Ze||Ze&&8&Ze.state)&&(Ze=H.curRecognizer=null);for(var _t=0;_t<pe.length;)J=pe[_t],2===H.stopped||Ze&&J!=Ze&&!J.canRecognizeWith(Ze)?J.reset():J.recognize(N),!Ze&&14&J.state&&(Ze=H.curRecognizer=J),_t++}},get:function(N){if(N instanceof as)return N;for(var H=this.recognizers,J=0;J<H.length;J++)if(H[J].options.event==N)return H[J];return null},add:function(N){if($e(N,"add",this))return this;var H=this.get(N.options.event);return H&&this.remove(H),this.recognizers.push(N),N.manager=this,this.touchAction.update(),N},remove:function(N){if($e(N,"remove",this))return this;if(N=this.get(N)){var H=this.recognizers,J=Qe(H,N);-1!==J&&(H.splice(J,1),this.touchAction.update())}return this},on:function(N,H){if(N!==ce&&H!==ce){var J=this.handlers;return Ne(ut(N),function(pe){J[pe]=J[pe]||[],J[pe].push(H)}),this}},off:function(N,H){if(N!==ce){var J=this.handlers;return Ne(ut(N),function(pe){H?J[pe]&&J[pe].splice(Qe(J[pe],H),1):delete J[pe]}),this}},emit:function(N,H){this.options.domEvents&&function wu(N,H){var J=B.createEvent("Event");J.initEvent(N,!0,!0),J.gesture=H,H.target.dispatchEvent(J)}(N,H);var J=this.handlers[N]&&this.handlers[N].slice();if(J&&J.length){H.type=N,H.preventDefault=function(){H.srcEvent.preventDefault()};for(var pe=0;pe<J.length;)J[pe](H),pe++}},destroy:function(){this.element&&ws(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Fe(Co,{INPUT_START:qt,INPUT_MOVE:2,INPUT_END:dn,INPUT_CANCEL:Wt,STATE_POSSIBLE:wo,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:pi,DIRECTION_LEFT:si,DIRECTION_RIGHT:Jn,DIRECTION_UP:Wn,DIRECTION_DOWN:dr,DIRECTION_HORIZONTAL:Er,DIRECTION_VERTICAL:Ji,DIRECTION_ALL:Xi,Manager:$s,Input:ki,TouchAction:wn,TouchInput:re,MouseInput:Xn,PointerEventInput:Yn,TouchMouseInput:Pt,SingleTouchInput:K,Recognizer:as,AttrRecognizer:Rn,Tap:Ra,Pan:ll,Swipe:bs,Pinch:yc,Rotate:xo,Press:oa,on:me,off:xe,each:Ne,merge:We,extend:it,assign:Fe,inherit:xt,bindFn:Ct,prefixed:Qi}),(typeof Z<"u"?Z:typeof self<"u"?self:{}).Hammer=Co,(s=function(){return Co}.call(Re,z,Re,It))!==ce&&(It.exports=s)}(window,document)},5619:(It,Re,z)=>{"use strict";z.d(Re,{X:()=>Z});var s=z(8645);class Z extends s.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ce=super._subscribe(ae);return!ce.closed&&ae.next(this._value),ce}getValue(){const{hasError:ae,thrownError:ce,_value:ue}=this;if(ae)throw ce;return this._throwIfClosed(),ue}next(ae){super.next(this._value=ae)}}},5592:(It,Re,z)=>{"use strict";z.d(Re,{y:()=>Ve});var s=z(305),Z=z(7394),B=z(4850),ae=z(8407),ce=z(2653),ue=z(4674),Se=z(1441);let Ve=(()=>{class he{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const ot=new he;return ot.source=this,ot.operator=Ne,ot}subscribe(Ne,ot,Fe){const it=function ee(he){return he&&he instanceof s.Lv||function Q(he){return he&&(0,ue.m)(he.next)&&(0,ue.m)(he.error)&&(0,ue.m)(he.complete)}(he)&&(0,Z.Nn)(he)}(Ne)?Ne:new s.Hp(Ne,ot,Fe);return(0,Se.x)(()=>{const{operator:We,source:xt}=this;it.add(We?We.call(it,xt):xt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(ot){Ne.error(ot)}}forEach(Ne,ot){return new(ot=we(ot))((Fe,it)=>{const We=new s.Hp({next:xt=>{try{Ne(xt)}catch(Ct){it(Ct),We.unsubscribe()}},error:it,complete:Fe});this.subscribe(We)})}_subscribe(Ne){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Ne)}[B.L](){return this}pipe(...Ne){return(0,ae.U)(Ne)(this)}toPromise(Ne){return new(Ne=we(Ne))((ot,Fe)=>{let it;this.subscribe(We=>it=We,We=>Fe(We),()=>ot(it))})}}return he.create=$e=>new he($e),he})();function we(he){var $e;return null!==($e=he??ce.config.Promise)&&void 0!==$e?$e:Promise}},8645:(It,Re,z)=>{"use strict";z.d(Re,{x:()=>Se});var s=z(5592),Z=z(7394);const ae=(0,z(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=z(9039),ue=z(1441);let Se=(()=>{class we extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const he=new Ve(this,this);return he.operator=ee,he}_throwIfClosed(){if(this.closed)throw new ae}next(ee){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ee)}})}error(ee){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:he}=this;for(;he.length;)he.shift().error(ee)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:he,isStopped:$e,observers:Ne}=this;return he||$e?Z.Lc:(this.currentObservers=null,Ne.push(ee),new Z.w0(()=>{this.currentObservers=null,(0,ce.P)(Ne,ee)}))}_checkFinalizedStatuses(ee){const{hasError:he,thrownError:$e,isStopped:Ne}=this;he?ee.error($e):Ne&&ee.complete()}asObservable(){const ee=new s.y;return ee.source=this,ee}}return we.create=(Q,ee)=>new Ve(Q,ee),we})();class Ve extends Se{constructor(Q,ee){super(),this.destination=Q,this.source=ee}next(Q){var ee,he;null===(he=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===he||he.call(ee,Q)}error(Q){var ee,he;null===(he=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===he||he.call(ee,Q)}complete(){var Q,ee;null===(ee=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ee||ee.call(Q)}_subscribe(Q){var ee,he;return null!==(he=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(Q))&&void 0!==he?he:Z.Lc}}},305:(It,Re,z)=>{"use strict";z.d(Re,{Hp:()=>Fe,Lv:()=>he});var s=z(4674),Z=z(7394),B=z(2653),ae=z(3894),ce=z(2420);const ue=we("C",void 0,void 0);function we(le,Ae,me){return{kind:le,value:Ae,error:me}}var Q=z(7599),ee=z(1441);class he extends Z.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,Z.Nn)(Ae)&&Ae.add(this)):this.destination=Ct}static create(Ae,me,xe){return new Fe(Ae,me,xe)}next(Ae){this.isStopped?xt(function Ve(le){return we("N",le,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?xt(function Se(le){return we("E",void 0,le)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?xt(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ne(le,Ae){return $e.call(le,Ae)}class ot{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:me}=this;if(me.next)try{me.next(Ae)}catch(xe){it(xe)}}error(Ae){const{partialObserver:me}=this;if(me.error)try{me.error(Ae)}catch(xe){it(xe)}else it(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(me){it(me)}}}class Fe extends he{constructor(Ae,me,xe){let je;if(super(),(0,s.m)(Ae)||!Ae)je={next:Ae??void 0,error:me??void 0,complete:xe??void 0};else{let oe;this&&B.config.useDeprecatedNextContext?(oe=Object.create(Ae),oe.unsubscribe=()=>this.unsubscribe(),je={next:Ae.next&&Ne(Ae.next,oe),error:Ae.error&&Ne(Ae.error,oe),complete:Ae.complete&&Ne(Ae.complete,oe)}):je=Ae}this.destination=new ot(je)}}function it(le){B.config.useDeprecatedSynchronousErrorHandling?(0,ee.O)(le):(0,ae.h)(le)}function xt(le,Ae){const{onStoppedNotification:me}=B.config;me&&Q.z.setTimeout(()=>me(le,Ae))}const Ct={closed:!0,next:ce.Z,error:function We(le){throw le},complete:ce.Z}},7394:(It,Re,z)=>{"use strict";z.d(Re,{Lc:()=>ue,w0:()=>ce,Nn:()=>Se});var s=z(4674);const B=(0,z(2306).d)(we=>function(ee){we(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((he,$e)=>`${$e+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ae=z(9039);class ce{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ne of ee)Ne.remove(this);else ee.remove(this);const{initialTeardown:he}=this;if((0,s.m)(he))try{he()}catch(Ne){Q=Ne instanceof B?Ne.errors:[Ne]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ne of $e)try{Ve(Ne)}catch(ot){Q=Q??[],ot instanceof B?Q=[...Q,...ot.errors]:Q.push(ot)}}if(Q)throw new B(Q)}}add(Q){var ee;if(Q&&Q!==this)if(this.closed)Ve(Q);else{if(Q instanceof ce){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(Q)}}_hasParent(Q){const{_parentage:ee}=this;return ee===Q||Array.isArray(ee)&&ee.includes(Q)}_addParent(Q){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(Q),ee):ee?[ee,Q]:Q}_removeParent(Q){const{_parentage:ee}=this;ee===Q?this._parentage=null:Array.isArray(ee)&&(0,ae.P)(ee,Q)}remove(Q){const{_finalizers:ee}=this;ee&&(0,ae.P)(ee,Q),Q instanceof ce&&Q._removeParent(this)}}ce.EMPTY=(()=>{const we=new ce;return we.closed=!0,we})();const ue=ce.EMPTY;function Se(we){return we instanceof ce||we&&"closed"in we&&(0,s.m)(we.remove)&&(0,s.m)(we.add)&&(0,s.m)(we.unsubscribe)}function Ve(we){(0,s.m)(we)?we():we.unsubscribe()}},2653:(It,Re,z)=>{"use strict";z.d(Re,{config:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(It,Re,z)=>{"use strict";z.d(Re,{E:()=>Z});const Z=new(z(5592).y)(ce=>ce.complete())},2459:(It,Re,z)=>{"use strict";z.d(Re,{D:()=>Ae});var s=z(4829),Z=z(3093),B=z(5137),ue=z(5592),Ve=z(4971),we=z(4674),Q=z(7103);function he(me,xe){if(!me)throw new Error("Iterable cannot be null");return new ue.y(je=>{(0,Q.f)(je,xe,()=>{const oe=me[Symbol.asyncIterator]();(0,Q.f)(je,xe,()=>{oe.next().then(ut=>{ut.done?je.complete():je.next(ut.value)})},0,!0)})})}var $e=z(8382),Ne=z(4026),ot=z(4266),Fe=z(3664),it=z(5726),We=z(9853),xt=z(541);function Ae(me,xe){return xe?function le(me,xe){if(null!=me){if((0,$e.c)(me))return function ae(me,xe){return(0,s.Xf)(me).pipe((0,B.R)(xe),(0,Z.Q)(xe))}(me,xe);if((0,ot.z)(me))return function Se(me,xe){return new ue.y(je=>{let oe=0;return xe.schedule(function(){oe===me.length?je.complete():(je.next(me[oe++]),je.closed||this.schedule())})})}(me,xe);if((0,Ne.t)(me))return function ce(me,xe){return(0,s.Xf)(me).pipe((0,B.R)(xe),(0,Z.Q)(xe))}(me,xe);if((0,it.D)(me))return he(me,xe);if((0,Fe.T)(me))return function ee(me,xe){return new ue.y(je=>{let oe;return(0,Q.f)(je,xe,()=>{oe=me[Ve.h](),(0,Q.f)(je,xe,()=>{let ut,Qe;try{({value:ut,done:Qe}=oe.next())}catch(pn){return void je.error(pn)}Qe?je.complete():je.next(ut)},0,!0)}),()=>(0,we.m)(oe?.return)&&oe.return()})}(me,xe);if((0,xt.L)(me))return function Ct(me,xe){return he((0,xt.Q)(me),xe)}(me,xe)}throw(0,We.z)(me)}(me,xe):(0,s.Xf)(me)}},4829:(It,Re,z)=>{"use strict";z.d(Re,{Xf:()=>$e});var s=z(7582),Z=z(4266),B=z(4026),ae=z(5592),ce=z(8382),ue=z(5726),Se=z(9853),Ve=z(3664),we=z(541),Q=z(4674),ee=z(3894),he=z(4850);function $e(le){if(le instanceof ae.y)return le;if(null!=le){if((0,ce.c)(le))return function Ne(le){return new ae.y(Ae=>{const me=le[he.L]();if((0,Q.m)(me.subscribe))return me.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,Z.z)(le))return function ot(le){return new ae.y(Ae=>{for(let me=0;me<le.length&&!Ae.closed;me++)Ae.next(le[me]);Ae.complete()})}(le);if((0,B.t)(le))return function Fe(le){return new ae.y(Ae=>{le.then(me=>{Ae.closed||(Ae.next(me),Ae.complete())},me=>Ae.error(me)).then(null,ee.h)})}(le);if((0,ue.D)(le))return We(le);if((0,Ve.T)(le))return function it(le){return new ae.y(Ae=>{for(const me of le)if(Ae.next(me),Ae.closed)return;Ae.complete()})}(le);if((0,we.L)(le))return function xt(le){return We((0,we.Q)(le))}(le)}throw(0,Se.z)(le)}function We(le){return new ae.y(Ae=>{(function Ct(le,Ae){var me,xe,je,oe;return(0,s.mG)(this,void 0,void 0,function*(){try{for(me=(0,s.KL)(le);!(xe=yield me.next()).done;)if(Ae.next(xe.value),Ae.closed)return}catch(ut){je={error:ut}}finally{try{xe&&!xe.done&&(oe=me.return)&&(yield oe.call(me))}finally{if(je)throw je.error}}Ae.complete()})})(le,Ae).catch(me=>Ae.error(me))})}},3019:(It,Re,z)=>{"use strict";z.d(Re,{T:()=>ue});var s=z(7537),Z=z(4829),B=z(6232),ae=z(9940),ce=z(2459);function ue(...Se){const Ve=(0,ae.yG)(Se),we=(0,ae._6)(Se,1/0),Q=Se;return Q.length?1===Q.length?(0,Z.Xf)(Q[0]):(0,s.J)(we)((0,ce.D)(Q,Ve)):B.E}},2096:(It,Re,z)=>{"use strict";z.d(Re,{of:()=>B});var s=z(9940),Z=z(2459);function B(...ae){const ce=(0,s.yG)(ae);return(0,Z.D)(ae,ce)}},8251:(It,Re,z)=>{"use strict";z.d(Re,{x:()=>Z});var s=z(305);function Z(ae,ce,ue,Se,Ve){return new B(ae,ce,ue,Se,Ve)}class B extends s.Lv{constructor(ce,ue,Se,Ve,we,Q){super(ce),this.onFinalize=we,this.shouldUnsubscribe=Q,this._next=ue?function(ee){try{ue(ee)}catch(he){ce.error(he)}}:super._next,this._error=Ve?function(ee){try{Ve(ee)}catch(he){ce.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(ee){ce.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(It,Re,z)=>{"use strict";z.d(Re,{x:()=>ae});var s=z(2737),Z=z(9360),B=z(8251);function ae(ue,Se=s.y){return ue=ue??ce,(0,Z.e)((Ve,we)=>{let Q,ee=!0;Ve.subscribe((0,B.x)(we,he=>{const $e=Se(he);(ee||!ue(Q,$e))&&(ee=!1,Q=$e,we.next(he))}))})}function ce(ue,Se){return ue===Se}},7398:(It,Re,z)=>{"use strict";z.d(Re,{U:()=>B});var s=z(9360),Z=z(8251);function B(ae,ce){return(0,s.e)((ue,Se)=>{let Ve=0;ue.subscribe((0,Z.x)(Se,we=>{Se.next(ae.call(ce,we,Ve++))}))})}},7537:(It,Re,z)=>{"use strict";z.d(Re,{J:()=>B});var s=z(1631),Z=z(2737);function B(ae=1/0){return(0,s.z)(Z.y,ae)}},1631:(It,Re,z)=>{"use strict";z.d(Re,{z:()=>Ve});var s=z(7398),Z=z(4829),B=z(9360),ae=z(7103),ce=z(8251),Se=z(4674);function Ve(we,Q,ee=1/0){return(0,Se.m)(Q)?Ve((he,$e)=>(0,s.U)((Ne,ot)=>Q(he,Ne,$e,ot))((0,Z.Xf)(we(he,$e))),ee):("number"==typeof Q&&(ee=Q),(0,B.e)((he,$e)=>function ue(we,Q,ee,he,$e,Ne,ot,Fe){const it=[];let We=0,xt=0,Ct=!1;const le=()=>{Ct&&!it.length&&!We&&Q.complete()},Ae=xe=>We<he?me(xe):it.push(xe),me=xe=>{Ne&&Q.next(xe),We++;let je=!1;(0,Z.Xf)(ee(xe,xt++)).subscribe((0,ce.x)(Q,oe=>{$e?.(oe),Ne?Ae(oe):Q.next(oe)},()=>{je=!0},void 0,()=>{if(je)try{for(We--;it.length&&We<he;){const oe=it.shift();ot?(0,ae.f)(Q,ot,()=>me(oe)):me(oe)}le()}catch(oe){Q.error(oe)}}))};return we.subscribe((0,ce.x)(Q,Ae,()=>{Ct=!0,le()})),()=>{Fe?.()}}(he,$e,we,ee)))}},3093:(It,Re,z)=>{"use strict";z.d(Re,{Q:()=>ae});var s=z(7103),Z=z(9360),B=z(8251);function ae(ce,ue=0){return(0,Z.e)((Se,Ve)=>{Se.subscribe((0,B.x)(Ve,we=>(0,s.f)(Ve,ce,()=>Ve.next(we),ue),()=>(0,s.f)(Ve,ce,()=>Ve.complete(),ue),we=>(0,s.f)(Ve,ce,()=>Ve.error(we),ue)))})}},3020:(It,Re,z)=>{"use strict";z.d(Re,{B:()=>ce});var s=z(4829),Z=z(8645),B=z(305),ae=z(9360);function ce(Se={}){const{connector:Ve=(()=>new Z.x),resetOnError:we=!0,resetOnComplete:Q=!0,resetOnRefCountZero:ee=!0}=Se;return he=>{let $e,Ne,ot,Fe=0,it=!1,We=!1;const xt=()=>{Ne?.unsubscribe(),Ne=void 0},Ct=()=>{xt(),$e=ot=void 0,it=We=!1},le=()=>{const Ae=$e;Ct(),Ae?.unsubscribe()};return(0,ae.e)((Ae,me)=>{Fe++,!We&&!it&&xt();const xe=ot=ot??Ve();me.add(()=>{Fe--,0===Fe&&!We&&!it&&(Ne=ue(le,ee))}),xe.subscribe(me),!$e&&Fe>0&&($e=new B.Hp({next:je=>xe.next(je),error:je=>{We=!0,xt(),Ne=ue(Ct,we,je),xe.error(je)},complete:()=>{it=!0,xt(),Ne=ue(Ct,Q),xe.complete()}}),(0,s.Xf)(Ae).subscribe($e))})(he)}}function ue(Se,Ve,...we){if(!0===Ve)return void Se();if(!1===Ve)return;const Q=new B.Hp({next:()=>{Q.unsubscribe(),Se()}});return(0,s.Xf)(Ve(...we)).subscribe(Q)}},5137:(It,Re,z)=>{"use strict";z.d(Re,{R:()=>Z});var s=z(9360);function Z(B,ae=0){return(0,s.e)((ce,ue)=>{ue.add(B.schedule(()=>ce.subscribe(ue),ae))})}},4664:(It,Re,z)=>{"use strict";z.d(Re,{w:()=>ae});var s=z(4829),Z=z(9360),B=z(8251);function ae(ce,ue){return(0,Z.e)((Se,Ve)=>{let we=null,Q=0,ee=!1;const he=()=>ee&&!we&&Ve.complete();Se.subscribe((0,B.x)(Ve,$e=>{we?.unsubscribe();let Ne=0;const ot=Q++;(0,s.Xf)(ce($e,ot)).subscribe(we=(0,B.x)(Ve,Fe=>Ve.next(ue?ue($e,Fe,ot,Ne++):Fe),()=>{we=null,he()}))},()=>{ee=!0,he()}))})}},9397:(It,Re,z)=>{"use strict";z.d(Re,{b:()=>ce});var s=z(4674),Z=z(9360),B=z(8251),ae=z(2737);function ce(ue,Se,Ve){const we=(0,s.m)(ue)||Se||Ve?{next:ue,error:Se,complete:Ve}:ue;return we?(0,Z.e)((Q,ee)=>{var he;null===(he=we.subscribe)||void 0===he||he.call(we);let $e=!0;Q.subscribe((0,B.x)(ee,Ne=>{var ot;null===(ot=we.next)||void 0===ot||ot.call(we,Ne),ee.next(Ne)},()=>{var Ne;$e=!1,null===(Ne=we.complete)||void 0===Ne||Ne.call(we),ee.complete()},Ne=>{var ot;$e=!1,null===(ot=we.error)||void 0===ot||ot.call(we,Ne),ee.error(Ne)},()=>{var Ne,ot;$e&&(null===(Ne=we.unsubscribe)||void 0===Ne||Ne.call(we)),null===(ot=we.finalize)||void 0===ot||ot.call(we)}))}):ae.y}},1954:(It,Re,z)=>{"use strict";z.d(Re,{o:()=>ce});var s=z(7394);class Z extends s.w0{constructor(Se,Ve){super()}schedule(Se,Ve=0){return this}}const B={setInterval(ue,Se,...Ve){const{delegate:we}=B;return we?.setInterval?we.setInterval(ue,Se,...Ve):setInterval(ue,Se,...Ve)},clearInterval(ue){const{delegate:Se}=B;return(Se?.clearInterval||clearInterval)(ue)},delegate:void 0};var ae=z(9039);class ce extends Z{constructor(Se,Ve){super(Se,Ve),this.scheduler=Se,this.work=Ve,this.pending=!1}schedule(Se,Ve=0){var we;if(this.closed)return this;this.state=Se;const Q=this.id,ee=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(ee,Q,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(ee,this.id,Ve),this}requestAsyncId(Se,Ve,we=0){return B.setInterval(Se.flush.bind(Se,this),we)}recycleAsyncId(Se,Ve,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Ve;null!=Ve&&B.clearInterval(Ve)}execute(Se,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Se,Ve);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Ve){let Q,we=!1;try{this.work(Se)}catch(ee){we=!0,Q=ee||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Ve}=this,{actions:we}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(we,this),null!=Se&&(this.id=this.recycleAsyncId(Ve,Se,null)),this.delay=null,super.unsubscribe()}}}},2631:(It,Re,z)=>{"use strict";z.d(Re,{v:()=>B});var s=z(4552);class Z{constructor(ce,ue=Z.now){this.schedulerActionCtor=ce,this.now=ue}schedule(ce,ue=0,Se){return new this.schedulerActionCtor(this,ce).schedule(Se,ue)}}Z.now=s.l.now;class B extends Z{constructor(ce,ue=Z.now){super(ce,ue),this.actions=[],this._active=!1}flush(ce){const{actions:ue}=this;if(this._active)return void ue.push(ce);let Se;this._active=!0;do{if(Se=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this._active=!1,Se){for(;ce=ue.shift();)ce.unsubscribe();throw Se}}}},6321:(It,Re,z)=>{"use strict";z.d(Re,{P:()=>ae,z:()=>B});var s=z(1954);const B=new(z(2631).v)(s.o),ae=B},4552:(It,Re,z)=>{"use strict";z.d(Re,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},7599:(It,Re,z)=>{"use strict";z.d(Re,{z:()=>s});const s={setTimeout(Z,B,...ae){const{delegate:ce}=s;return ce?.setTimeout?ce.setTimeout(Z,B,...ae):setTimeout(Z,B,...ae)},clearTimeout(Z){const{delegate:B}=s;return(B?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4971:(It,Re,z)=>{"use strict";z.d(Re,{h:()=>Z});const Z=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(It,Re,z)=>{"use strict";z.d(Re,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(It,Re,z)=>{"use strict";z.d(Re,{_6:()=>ue,jO:()=>ae,yG:()=>ce});var s=z(4674),Z=z(671);function B(Se){return Se[Se.length-1]}function ae(Se){return(0,s.m)(B(Se))?Se.pop():void 0}function ce(Se){return(0,Z.K)(B(Se))?Se.pop():void 0}function ue(Se,Ve){return"number"==typeof B(Se)?Se.pop():Ve}},9039:(It,Re,z)=>{"use strict";function s(Z,B){if(Z){const ae=Z.indexOf(B);0<=ae&&Z.splice(ae,1)}}z.d(Re,{P:()=>s})},2306:(It,Re,z)=>{"use strict";function s(Z){const ae=Z(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}z.d(Re,{d:()=>s})},1441:(It,Re,z)=>{"use strict";z.d(Re,{O:()=>ae,x:()=>B});var s=z(2653);let Z=null;function B(ce){if(s.config.useDeprecatedSynchronousErrorHandling){const ue=!Z;if(ue&&(Z={errorThrown:!1,error:null}),ce(),ue){const{errorThrown:Se,error:Ve}=Z;if(Z=null,Se)throw Ve}}else ce()}function ae(ce){s.config.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=ce)}},7103:(It,Re,z)=>{"use strict";function s(Z,B,ae,ce=0,ue=!1){const Se=B.schedule(function(){ae(),ue?Z.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(Z.add(Se),!ue)return Se}z.d(Re,{f:()=>s})},2737:(It,Re,z)=>{"use strict";function s(Z){return Z}z.d(Re,{y:()=>s})},4266:(It,Re,z)=>{"use strict";z.d(Re,{z:()=>s});const s=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},5726:(It,Re,z)=>{"use strict";z.d(Re,{D:()=>Z});var s=z(4674);function Z(B){return Symbol.asyncIterator&&(0,s.m)(B?.[Symbol.asyncIterator])}},4674:(It,Re,z)=>{"use strict";function s(Z){return"function"==typeof Z}z.d(Re,{m:()=>s})},8382:(It,Re,z)=>{"use strict";z.d(Re,{c:()=>B});var s=z(4850),Z=z(4674);function B(ae){return(0,Z.m)(ae[s.L])}},3664:(It,Re,z)=>{"use strict";z.d(Re,{T:()=>B});var s=z(4971),Z=z(4674);function B(ae){return(0,Z.m)(ae?.[s.h])}},4026:(It,Re,z)=>{"use strict";z.d(Re,{t:()=>Z});var s=z(4674);function Z(B){return(0,s.m)(B?.then)}},541:(It,Re,z)=>{"use strict";z.d(Re,{L:()=>ae,Q:()=>B});var s=z(7582),Z=z(4674);function B(ce){return(0,s.FC)(this,arguments,function*(){const Se=ce.getReader();try{for(;;){const{value:Ve,done:we}=yield(0,s.qq)(Se.read());if(we)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Ve)}}finally{Se.releaseLock()}})}function ae(ce){return(0,Z.m)(ce?.getReader)}},671:(It,Re,z)=>{"use strict";z.d(Re,{K:()=>Z});var s=z(4674);function Z(B){return B&&(0,s.m)(B.schedule)}},9360:(It,Re,z)=>{"use strict";z.d(Re,{A:()=>Z,e:()=>B});var s=z(4674);function Z(ae){return(0,s.m)(ae?.lift)}function B(ae){return ce=>{if(Z(ce))return ce.lift(function(ue){try{return ae(ue,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(It,Re,z)=>{"use strict";function s(){}z.d(Re,{Z:()=>s})},8407:(It,Re,z)=>{"use strict";z.d(Re,{U:()=>B,z:()=>Z});var s=z(2737);function Z(...ae){return B(ae)}function B(ae){return 0===ae.length?s.y:1===ae.length?ae[0]:function(ue){return ae.reduce((Se,Ve)=>Ve(Se),ue)}}},3894:(It,Re,z)=>{"use strict";z.d(Re,{h:()=>B});var s=z(2653),Z=z(7599);function B(ae){Z.z.setTimeout(()=>{const{onUnhandledError:ce}=s.config;if(!ce)throw ae;ce(ae)})}},9853:(It,Re,z)=>{"use strict";function s(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Re,{z:()=>s})},5879:(It,Re,z)=>{"use strict";z.d(Re,{$8M:()=>Tl,$WT:()=>J,$Z:()=>OT,AFp:()=>gg,ALo:()=>g_,AaK:()=>he,AsE:()=>Yy,BQk:()=>jy,CHM:()=>Gu,CRH:()=>Eb,DdM:()=>pC,Dn7:()=>$m,EJc:()=>pS,EiD:()=>oT,EpF:()=>Wg,F$t:()=>bI,F4k:()=>$y,FYo:()=>Eg,FiY:()=>Rs,Gf:()=>di,GfV:()=>kT,GkF:()=>Ex,Gpc:()=>ot,Gre:()=>ZI,HDt:()=>NC,Hsn:()=>wI,Ikx:()=>Yc,JOm:()=>ba,JVY:()=>Ew,JZr:()=>Ct,KtG:()=>pd,L6k:()=>kw,LAX:()=>F1,LFG:()=>Yn,LSH:()=>Yv,Lbi:()=>am,Lck:()=>Fh,MAs:()=>$g,MMx:()=>DD,NdJ:()=>Gy,O4$:()=>Cd,Ojb:()=>Ps,OlP:()=>Un,Oqu:()=>Bx,P3R:()=>hT,PXZ:()=>JO,Q6J:()=>qc,QGY:()=>Sh,QbO:()=>Q1,Qsj:()=>CT,R0b:()=>Ai,RDi:()=>hg,Rgc:()=>Gm,SBq:()=>wh,Sil:()=>FC,Suo:()=>eS,TTD:()=>dd,TgZ:()=>Wc,Udp:()=>Px,VKq:()=>Vh,VuI:()=>oE,W1O:()=>SC,WFA:()=>qy,WLB:()=>PD,X6Q:()=>ql,XFs:()=>dt,Xpm:()=>xo,Xq5:()=>wm,Xts:()=>rm,Y36:()=>_m,YKP:()=>Hm,YNc:()=>gI,Yjl:()=>wu,Yz7:()=>Wt,Z0I:()=>Wn,ZZ4:()=>R_,_Bn:()=>dC,_UZ:()=>zy,_Vd:()=>Cg,_c5:()=>aP,_uU:()=>Lx,aQg:()=>O_,c2e:()=>mS,cJS:()=>si,cg1:()=>Ah,d8E:()=>$x,dDg:()=>ZO,dqk:()=>fn,eBb:()=>Tw,eFA:()=>TS,eJc:()=>Sb,ekj:()=>Nx,eoX:()=>xS,evT:()=>fm,f3M:()=>bn,g9A:()=>Ja,h0i:()=>zl,hGG:()=>cP,hij:()=>Zy,iGM:()=>Cb,ifc:()=>Ft,ip1:()=>fS,jDz:()=>Kc,kEZ:()=>ND,kL8:()=>oc,kcU:()=>Mc,l5B:()=>gC,lG2:()=>ws,lcZ:()=>mb,lqb:()=>Nl,lri:()=>bS,mCW:()=>mg,n5z:()=>va,n_E:()=>y_,oAB:()=>Oa,oxw:()=>Ix,pB0:()=>L1,q3G:()=>vr,q4F:()=>kg,qFp:()=>HS,qLn:()=>Ch,qOj:()=>My,qZA:()=>Gg,qzn:()=>gh,rWj:()=>wS,rg0:()=>kv,sBO:()=>ru,s_b:()=>vb,soG:()=>D_,tb:()=>jC,tp0:()=>Ws,uIk:()=>Fy,vHH:()=>le,vpe:()=>Qc,wAp:()=>Jt,xi3:()=>wC,xp6:()=>pm,ynx:()=>Im,z2F:()=>Gh,z3N:()=>Ol,zSh:()=>Pw,zs3:()=>Wd});var s=z(8645),Z=z(7394),B=z(5619),ae=z(5592),ce=z(3019),ue=z(2096),Se=z(3020),Ve=z(4664),we=z(3997);function Q(c){for(let d in c)if(c[d]===Q)return d;throw Error("Could not find renamed property on target object.")}function ee(c,d){for(const u in d)d.hasOwnProperty(u)&&!c.hasOwnProperty(u)&&(c[u]=d[u])}function he(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(he).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const d=c.toString();if(null==d)return""+d;const u=d.indexOf("\n");return-1===u?d:d.substring(0,u)}function $e(c,d){return null==c||""===c?null===d?"":d:null==d||""===d?c:c+" "+d}const Ne=Q({__forward_ref__:Q});function ot(c){return c.__forward_ref__=ot,c.toString=function(){return he(this())},c}function Fe(c){return it(c)?c():c}function it(c){return"function"==typeof c&&c.hasOwnProperty(Ne)&&c.__forward_ref__===ot}function We(c){return c&&!!c.\u0275providers}const Ct="https://g.co/ng/security#xss";class le extends Error{constructor(d,u){super(function Ae(c,d){return`NG0${Math.abs(c)}${d?": "+d:""}`}(d,u)),this.code=d}}function me(c){return"string"==typeof c?c:null==c?"":String(c)}function Qe(c,d){throw new le(-201,!1)}function pt(c,d){null==c&&function Ot(c,d,u,f){throw new Error(`ASSERTION ERROR: ${c}`+(null==f?"":` [Expected=> ${u} ${f} ${d} <=Actual]`))}(d,c,null,"!=")}function Wt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function si(c){return{providers:c.providers||[],imports:c.imports||[]}}function Jn(c){return dr(c,Xi)||dr(c,er)}function Wn(c){return null!==Jn(c)}function dr(c,d){return c.hasOwnProperty(d)?c[d]:null}function Ji(c){return c&&(c.hasOwnProperty(ui)||c.hasOwnProperty(ki))?c[ui]:null}const Xi=Q({\u0275prov:Q}),ui=Q({\u0275inj:Q}),er=Q({ngInjectableDef:Q}),ki=Q({ngInjectorDef:Q});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Mt;function yn(c){const d=Mt;return Mt=c,d}function Li(c,d,u){const f=Jn(c);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&dt.Optional?null:void 0!==d?d:void Qe(he(c))}const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),tr={},Qt="__NG_DI_FLAG__",ai="ngTempTokenPath",Bo=/\n/gm,Xn="__source";let Zn;function ei(c){const d=Zn;return Zn=c,d}function Ii(c,d=dt.Default){if(void 0===Zn)throw new le(-203,!1);return null===Zn?Li(c,void 0,d):Zn.get(c,d&dt.Optional?null:void 0,d)}function Yn(c,d=dt.Default){return(function Lt(){return Mt}()||Ii)(Fe(c),d)}function bn(c,d=dt.Default){return Yn(c,X(d))}function X(c){return typeof c>"u"||"number"==typeof c?c:0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function K(c){const d=[];for(let u=0;u<c.length;u++){const f=Fe(c[u]);if(Array.isArray(f)){if(0===f.length)throw new le(900,!1);let p,_=dt.Default;for(let w=0;w<f.length;w++){const C=f[w],I=$(C);"number"==typeof I?-1===I?p=C.token:_|=I:p=C}d.push(Yn(p,_))}else d.push(Yn(f))}return d}function U(c,d){return c[Qt]=d,c.prototype[Qt]=d,c}function $(c){return c[Qt]}function Te(c){return{toString:c}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),Ft=(()=>{return(c=Ft||(Ft={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",Ft;var c})();const Pt={},At=[],Gt=Q({\u0275cmp:Q}),Vn=Q({\u0275dir:Q}),en=Q({\u0275pipe:Q}),qi=Q({\u0275mod:Q}),nr=Q({\u0275fac:Q}),Ce=Q({__NG_ELEMENT_ID__:Q}),fe=Q({__NG_ENV_ID__:Q});function Ge(c,d,u){let f=c.length;for(;;){const p=c.indexOf(d,u);if(-1===p)return p;if(0===p||c.charCodeAt(p-1)<=32){const _=d.length;if(p+_===f||c.charCodeAt(p+_)<=32)return p}u=p+1}}function kt(c,d,u){let f=0;for(;f<u.length;){const p=u[f];if("number"==typeof p){if(0!==p)break;f++;const _=u[f++],w=u[f++],C=u[f++];c.setAttribute(d,w,C,_)}else{const _=p,w=u[++f];tn(_)?c.setProperty(d,_,w):c.setAttribute(d,_,w),f++}}return f}function zt(c){return 3===c||4===c||6===c}function tn(c){return 64===c.charCodeAt(0)}function wn(c,d){if(null!==d&&0!==d.length)if(null===c||0===c.length)c=d.slice();else{let u=-1;for(let f=0;f<d.length;f++){const p=d[f];"number"==typeof p?u=p:0===u||ir(c,u,p,null,-1===u||2===u?d[++f]:null)}}return c}function ir(c,d,u,f,p){let _=0,w=c.length;if(-1===d)w=-1;else for(;_<c.length;){const C=c[_++];if("number"==typeof C){if(C===d){w=-1;break}if(C>d){w=_-1;break}}}for(;_<c.length;){const C=c[_];if("number"==typeof C)break;if(C===u){if(null===f)return void(null!==p&&(c[_+1]=p));if(f===c[_+1])return void(c[_+2]=p)}_++,null!==f&&_++,null!==p&&_++}-1!==w&&(c.splice(w,0,d),_=w+1),c.splice(_++,0,u),null!==f&&c.splice(_++,0,f),null!==p&&c.splice(_++,0,p)}const _i="ng-template";function wo(c,d,u){let f=0,p=!0;for(;f<c.length;){let _=c[f++];if("string"==typeof _&&p){const w=c[f++];if(u&&"class"===_&&-1!==Ge(w.toLowerCase(),d,0))return!0}else{if(1===_){for(;f<c.length&&"string"==typeof(_=c[f++]);)if(_.toLowerCase()===d)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function hr(c){return 4===c.type&&c.value!==_i}function Vo(c,d,u){return d===(4!==c.type||u?c.value:_i)}function ss(c,d,u){let f=4;const p=c.attrs||[],_=function zr(c){for(let d=0;d<c.length;d++)if(zt(c[d]))return d;return c.length}(p);let w=!1;for(let C=0;C<d.length;C++){const I=d[C];if("number"!=typeof I){if(!w)if(4&f){if(f=2|1&f,""!==I&&!Vo(c,I,u)||""===I&&1===d.length){if(zn(f))return!1;w=!0}}else{const M=8&f?I:d[++C];if(8&f&&null!==c.attrs){if(!wo(c.attrs,M,u)){if(zn(f))return!1;w=!0}continue}const W=uo(8&f?"class":I,p,hr(c),u);if(-1===W){if(zn(f))return!1;w=!0;continue}if(""!==M){let ne;ne=W>_?"":p[W+1].toLowerCase();const de=8&f?ne:null;if(de&&-1!==Ge(de,M,0)||2&f&&M!==ne){if(zn(f))return!1;w=!0}}}}else{if(!w&&!zn(f)&&!zn(I))return!1;if(w&&zn(I))continue;w=!1,f=I|1&f}}return zn(f)||w}function zn(c){return 0==(1&c)}function uo(c,d,u,f){if(null===d)return-1;let p=0;if(f||!u){let _=!1;for(;p<d.length;){const w=d[p];if(w===c)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let C=d[++p];for(;"string"==typeof C;)C=d[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function vi(c,d){let u=c.indexOf(4);if(u>-1)for(u++;u<c.length;){const f=c[u];if("number"==typeof f)return-1;if(f===d)return u;u++}return-1}(d,c)}function kr(c,d,u=!1){for(let f=0;f<d.length;f++)if(ss(c,d[f],u))return!0;return!1}function cl(c,d){e:for(let u=0;u<d.length;u++){const f=d[u];if(c.length===f.length){for(let p=0;p<c.length;p++)if(c[p]!==f[p])continue e;return!0}}return!1}function Rn(c,d){return c?":not("+d.trim()+")":d}function ll(c){let d=c[0],u=1,f=2,p="",_=!1;for(;u<c.length;){let w=c[u];if("string"==typeof w)if(2&f){const C=c[++u];p+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&f?p+="."+w:4&f&&(p+=" "+w);else""!==p&&!zn(w)&&(d+=Rn(_,p),p=""),f=w,_=_||!zn(f);u++}return""!==p&&(d+=Rn(_,p)),d}function xo(c){return Te(()=>{const d=Ze(c),u={...d,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&c.dependencies||null,getStandaloneInjector:null,signals:c.signals??!1,data:c.data||{},encapsulation:c.encapsulation||Ft.Emulated,styles:c.styles||At,_:null,schemas:c.schemas||null,tView:null,id:""};_t(u);const f=c.dependencies;return u.directiveDefs=un(f,!1),u.pipeDefs=un(f,!0),u.id=function rr(c){let d=0;const u=[c.selectors,c.ngContentSelectors,c.hostVars,c.hostAttrs,c.consts,c.vars,c.decls,c.encapsulation,c.standalone,c.signals,c.exportAs,JSON.stringify(c.inputs),JSON.stringify(c.outputs),Object.getOwnPropertyNames(c.type.prototype),!!c.contentQueries,!!c.viewQuery].join("|");for(const p of u)d=Math.imul(31,d)+p.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(u),u})}function Ra(c){return on(c)||N(c)}function Co(c){return null!==c}function Oa(c){return Te(()=>({type:c.type,bootstrap:c.bootstrap||At,declarations:c.declarations||At,imports:c.imports||At,exports:c.exports||At,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function $s(c,d){if(null==c)return Pt;const u={};for(const f in c)if(c.hasOwnProperty(f)){let p=c[f],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=f,d&&(d[p]=_)}return u}function ws(c){return Te(()=>{const d=Ze(c);return _t(d),d})}function wu(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function on(c){return c[Gt]||null}function N(c){return c[Vn]||null}function H(c){return c[en]||null}function J(c){const d=on(c)||N(c)||H(c);return null!==d&&d.standalone}function pe(c,d){const u=c[qi]||null;if(!u&&!0===d)throw new Error(`Type ${he(c)} does not have '\u0275mod' property.`);return u}function Ze(c){const d={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:c.inputs||Pt,exportAs:c.exportAs||null,standalone:!0===c.standalone,signals:!0===c.signals,selectors:c.selectors||At,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$s(c.inputs,d),outputs:$s(c.outputs)}}function _t(c){c.features?.forEach(d=>d(c))}function un(c,d){if(!c)return null;const u=d?H:Ra;return()=>("function"==typeof c?c():c).map(f=>u(f)).filter(Co)}const kn=0,st=1,sn=2,Di=3,Kr=4,Xl=5,Nr=6,Gs=7,ti=8,cs=9,Pa=10,jt=11,dl=12,ed=13,sa=14,yi=15,td=16,Na=17,fr=18,wc=19,nd=20,Fr=21,Qr=22,id=23,ls=24,On=25,xs=1,Fa=2,Eo=7,xc=9,jr=11;function $r(c){return Array.isArray(c)&&"object"==typeof c[xs]}function Gr(c){return Array.isArray(c)&&!0===c[xs]}function xu(c){return 0!=(4&c.flags)}function ds(c){return c.componentOffset>-1}function aa(c){return 1==(1&c.flags)}function ci(c){return!!c.template}function Ec(c){return 0!=(512&c[sn])}function ca(c,d){return c.hasOwnProperty(nr)?c[nr]:null}let fl=fn.WeakRef??class hl{constructor(d){this.ref=d}deref(){return this.ref}},sd=0,Uo=null,ad=!1;function Vi(c){const d=Uo;return Uo=c,d}class ko{constructor(){this.id=sd++,this.ref=function Up(c){return new fl(c)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,u]of this.producers){const f=u.producerNode.deref();if(void 0!==f&&u.atTrackingVersion===this.trackingVersion){if(f.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(d),f?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=ad;ad=!0;try{for(const[u,f]of this.consumers){const p=f.consumerNode.deref();void 0!==p&&p.trackingVersion===f.atTrackingVersion?p.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),p?.producers.delete(this.id))}}finally{ad=d}}producerAccessed(){if(ad)throw new Error("");if(null===Uo)return;let d=Uo.producers.get(this.id);void 0===d?(d={consumerNode:Uo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Uo.trackingVersion},Uo.producers.set(this.id,d),this.consumers.set(Uo.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=Uo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Uo?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}let Tf=null;function kv(c){const d=Vi(null);try{return c()}finally{Vi(d)}}const ml=()=>{};class jp extends ko{constructor(d,u,f){super(),this.watch=d,this.schedule=u,this.dirty=!1,this.cleanupFn=ml,this.registerOnCleanup=p=>{this.cleanupFn=p},this.consumerAllowSignalWrites=f}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=Vi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ml,this.watch(this.registerOnCleanup)}finally{Vi(d)}}cleanup(){this.cleanupFn()}}class pl{constructor(d,u,f){this.previousValue=d,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function dd(){return kc}function kc(c){return c.type.prototype.ngOnChanges&&(c.setInput=Nu),Pu}function Pu(){const c=Fu(this),d=c?.current;if(d){const u=c.previous;if(u===Pt)c.previous=d;else for(let f in d)u[f]=d[f];c.current=null,this.ngOnChanges(d)}}function Nu(c,d,u,f){const p=this.declaredInputs[u],_=Fu(c)||function Df(c,d){return c[$p]=d}(c,{previous:Pt,current:null}),w=_.current||(_.current={}),C=_.previous,I=C[p];w[p]=new pl(I&&I.currentValue,d,C===Pt),c[f]=d}dd.ngInherit=!0;const $p="__ngSimpleChanges__";function Fu(c){return c[$p]||null}const us=function(c,d,u){},Vu="svg";function ni(c){for(;Array.isArray(c);)c=c[kn];return c}function Tc(c,d){return ni(d[c])}function qr(c,d){return ni(d[c.index])}function Sf(c,d){return c.data[d]}function ua(c,d){return c[d]}function Ho(c,d){const u=d[c];return $r(u)?u:u[kn]}function Es(c,d){return null==d?null:c[d]}function Hu(c){c[Na]=0}function zu(c){1024&c[sn]||(c[sn]|=1024,Dc(c,1))}function hd(c){1024&c[sn]&&(c[sn]&=-1025,Dc(c,-1))}function Dc(c,d){let u=c[Di];if(null===u)return;u[Xl]+=d;let f=u;for(u=u[Di];null!==u&&(1===d&&1===f[Xl]||-1===d&&0===f[Xl]);)u[Xl]+=d,f=u,u=u[Di]}const Yt={lFrame:Wu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gl(){return Yt.bindingsEnabled}function jo(){return null!==Yt.skipHydrationRootTNode}function He(){return Yt.lFrame.lView}function In(){return Yt.lFrame.tView}function Gu(c){return Yt.lFrame.contextLView=c,c[ti]}function pd(c){return Yt.lFrame.contextLView=null,c}function mr(){let c=Yp();for(;null!==c&&64===c.type;)c=c.parent;return c}function Yp(){return Yt.lFrame.currentTNode}function Jr(c,d){const u=Yt.lFrame;u.currentTNode=c,u.isParent=d}function Kp(){return Yt.lFrame.isParent}function Ui(){Yt.lFrame.isParent=!1}function Lr(){const c=Yt.lFrame;let d=c.bindingRootIndex;return-1===d&&(d=c.bindingRootIndex=c.tView.bindingStartIndex),d}function bi(){return Yt.lFrame.bindingIndex++}function Ts(c){const d=Yt.lFrame,u=d.bindingIndex;return d.bindingIndex=d.bindingIndex+c,u}function vl(c,d){const u=Yt.lFrame;u.bindingIndex=u.bindingRootIndex=c,Nf(d)}function Nf(c){Yt.lFrame.currentDirectiveIndex=c}function yl(c){const d=Yt.lFrame.currentDirectiveIndex;return-1===d?null:c[d]}function bd(){return Yt.lFrame.currentQueryIndex}function ha(c){Yt.lFrame.currentQueryIndex=c}function fa(c){const d=c[st];return 2===d.type?d.declTNode:1===d.type?c[Nr]:null}function Sc(c,d,u){if(u&dt.SkipSelf){let p=d,_=c;for(;!(p=p.parent,null!==p||u&dt.Host||(p=fa(_),null===p||(_=_[sa],10&p.type))););if(null===p)return!1;d=p,c=_}const f=Yt.lFrame=xd();return f.currentTNode=d,f.lView=c,!0}function wd(c){const d=xd(),u=c[st];Yt.lFrame=d,d.currentTNode=u.firstChild,d.lView=c,d.tView=u,d.contextLView=c,d.bindingIndex=u.bindingStartIndex,d.inI18n=!1}function xd(){const c=Yt.lFrame,d=null===c?null:c.child;return null===d?Wu(c):d}function Wu(c){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=d),d}function Iv(){const c=Yt.lFrame;return Yt.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Ff=Iv;function Lf(){const c=Iv();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Ir(){return Yt.lFrame.selectedIndex}function Is(c){Yt.lFrame.selectedIndex=c}function ii(){const c=Yt.lFrame;return Sf(c.tView,c.selectedIndex)}function Cd(){Yt.lFrame.currentNamespace=Vu}function Mc(){!function Zu(){Yt.lFrame.currentNamespace=null}()}let Ku=!0;function bl(){return Ku}function Ha(c){Ku=c}function Ed(c,d){for(let u=d.directiveStart,f=d.directiveEnd;u<f;u++){const _=c.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:P}=_;w&&(c.contentHooks??=[]).push(-u,w),C&&((c.contentHooks??=[]).push(u,C),(c.contentCheckHooks??=[]).push(u,C)),I&&(c.viewHooks??=[]).push(-u,I),M&&((c.viewHooks??=[]).push(u,M),(c.viewCheckHooks??=[]).push(u,M)),null!=P&&(c.destroyHooks??=[]).push(u,P)}}function wl(c,d,u){Ju(c,d,3,u)}function Qu(c,d,u,f){(3&c[sn])===u&&Ju(c,d,u,f)}function kd(c,d){let u=c[sn];(3&u)===d&&(u&=8191,u+=1,c[sn]=u)}function Ju(c,d,u,f){const _=f??-1,w=d.length-1;let C=0;for(let I=void 0!==f?65535&c[Na]:0;I<w;I++)if("number"==typeof d[I+1]){if(C=d[I],null!=f&&C>=f)break}else d[I]<0&&(c[Na]+=65536),(C<_||-1==_)&&(an(c,u,d,I),c[Na]=(4294901760&c[Na])+I+2),I++}function Ds(c,d){us(4,c,d);const u=Vi(null);try{d.call(c)}finally{Vi(u),us(5,c,d)}}function an(c,d,u,f){const p=u[f]<0,_=u[f+1],C=c[p?-u[f]:u[f]];p?c[sn]>>13<c[Na]>>16&&(3&c[sn])===d&&(c[sn]+=8192,Ds(C,_)):Ds(C,_)}const To=-1;class ma{constructor(d,u,f){this.factory=d,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function eh(c){return c!==To}function $o(c){return 32767&c}function Cl(c,d){let u=function Xp(c){return c>>16}(c),f=d;for(;u>0;)f=f[sa],u--;return f}let za=!0;function El(c){const d=za;return za=c,d}const jn=255,Et=5;let Dt=0;const Ln={};function Wi(c,d){const u=fi(c,d);if(-1!==u)return u;const f=d[st];f.firstCreatePass&&(c.injectorIndex=d.length,ga(f.data,c),ga(d,null),ga(f.blueprint,null));const p=Je(c,d),_=c.injectorIndex;if(eh(p)){const w=$o(p),C=Cl(p,d),I=C[st].data;for(let M=0;M<8;M++)d[_+M]=C[w+M]|I[w+M]}return d[_+8]=p,_}function ga(c,d){c.push(0,0,0,0,0,0,0,0,d)}function fi(c,d){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===d[c.injectorIndex+8]?-1:c.injectorIndex}function Je(c,d){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let u=0,f=null,p=d;for(;null!==p;){if(f=Dd(p),null===f)return To;if(u++,p=p[sa],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return To}function zf(c,d,u){!function Cn(c,d,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Ce)&&(f=u[Ce]),null==f&&(f=u[Ce]=Dt++);const p=f&jn;d.data[c+(p>>Et)]|=1<<p}(c,d,u)}function _a(c,d,u){if(u&dt.Optional||void 0!==c)return c;Qe()}function kl(c,d,u,f){if(u&dt.Optional&&void 0===f&&(f=null),!(u&(dt.Self|dt.Host))){const p=c[cs],_=yn(void 0);try{return p?p.get(d,f,u&dt.Optional):Li(d,f,u&dt.Optional)}finally{yn(_)}}return _a(f,0,u)}function th(c,d,u,f=dt.Default,p){if(null!==c){if(2048&d[sn]&&!(f&dt.Self)){const w=function qo(c,d,u,f,p){let _=c,w=d;for(;null!==_&&null!==w&&2048&w[sn]&&!(512&w[sn]);){const C=Id(_,w,u,f|dt.Self,Ln);if(C!==Ln)return C;let I=_.parent;if(!I){const M=w[nd];if(M){const P=M.get(u,Ln,f);if(P!==Ln)return P}I=Dd(w),w=w[sa]}_=I}return p}(c,d,u,f,Ln);if(w!==Ln)return w}const _=Id(c,d,u,f,Ln);if(_!==Ln)return _}return kl(d,u,f,p)}function Id(c,d,u,f,p){const _=function Go(c){if("string"==typeof c)return c.charCodeAt(0)||0;const d=c.hasOwnProperty(Ce)?c[Ce]:void 0;return"number"==typeof d?d>=0?d&jn:eg:d}(u);if("function"==typeof _){if(!Sc(d,c,f))return f&dt.Host?_a(p,0,f):kl(d,u,f,p);try{const w=_(f);if(null!=w||f&dt.Optional)return w;Qe()}finally{Ff()}}else if("number"==typeof _){let w=null,C=fi(c,d),I=To,M=f&dt.Host?d[yi][Nr]:null;for((-1===C||f&dt.SkipSelf)&&(I=-1===C?Je(c,d):d[C+8],I!==To&&ja(f,!1)?(w=d[st],C=$o(I),d=Cl(I,d)):C=-1);-1!==C;){const P=d[st];if(Hi(_,C,P.data)){const W=gr(C,d,u,w,f,M);if(W!==Ln)return W}I=d[C+8],I!==To&&ja(f,d[st].data[C+8]===M)&&Hi(_,C,d)?(w=P,C=$o(I),d=Cl(I,d)):C=-1}}return p}function gr(c,d,u,f,p,_){const w=d[st],C=w.data[c+8],P=li(C,w,u,null==f?ds(C)&&za:f!=w&&0!=(3&C.type),p&dt.Host&&_===C);return null!==P?cn(d,w,P,C):Ln}function li(c,d,u,f,p){const _=c.providerIndexes,w=d.data,C=1048575&_,I=c.directiveStart,P=_>>20,ne=p?C+P:c.directiveEnd;for(let de=f?C:C+P;de<ne;de++){const Le=w[de];if(de<I&&u===Le||de>=I&&Le.type===u)return de}if(p){const de=w[I];if(de&&ci(de)&&de.type===u)return I}return null}function cn(c,d,u,f){let p=c[u];const _=d.data;if(function Hf(c){return c instanceof ma}(p)){const w=p;w.resolving&&function je(c,d){const u=d?`. Dependency path: ${d.join(" > ")} > ${c}`:"";throw new le(-200,`Circular dependency in DI detected for ${c}${u}`)}(function xe(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():me(c)}(_[u]));const C=El(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?yn(w.injectImpl):null;Sc(c,f,dt.Default);try{p=c[u]=w.factory(void 0,_,c,f),d.firstCreatePass&&u>=f.directiveStart&&function Uf(c,d,u){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:_}=d.type.prototype;if(f){const w=kc(d);(u.preOrderHooks??=[]).push(c,w),(u.preOrderCheckHooks??=[]).push(c,w)}p&&(u.preOrderHooks??=[]).push(0-c,p),_&&((u.preOrderHooks??=[]).push(c,_),(u.preOrderCheckHooks??=[]).push(c,_))}(u,_[u],d)}finally{null!==I&&yn(I),El(C),w.resolving=!1,Ff()}}return p}function Hi(c,d,u){return!!(u[d+(c>>Et)]&1<<c)}function ja(c,d){return!(c&dt.Self||c&dt.Host&&d)}class $a{constructor(d,u){this._tNode=d,this._lView=u}get(d,u,f){return th(this._tNode,this._lView,d,X(f),u)}}function eg(){return new $a(mr(),He())}function va(c){return Te(()=>{const d=c.prototype.constructor,u=d[nr]||Ss(d),f=Object.prototype;let p=Object.getPrototypeOf(c.prototype).constructor;for(;p&&p!==f;){const _=p[nr]||Ss(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Ss(c){return it(c)?()=>{const d=Ss(Fe(c));return d&&d()}:ca(c)}function Dd(c){const d=c[st],u=d.type;return 2===u?d.declTNode:1===u?c[Nr]:null}function Tl(c){return function Mv(c,d){if("class"===d)return c.classes;if("style"===d)return c.styles;const u=c.attrs;if(u){const f=u.length;let p=0;for(;p<f;){const _=u[p];if(zt(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<f&&"string"==typeof u[p];)p++;else{if(_===d)return u[p+1];p+=2}}}return null}(mr(),c)}const wi="__parameters__";function Ms(c,d,u){return Te(()=>{const f=function Xr(c){return function(...u){if(c){const f=c(...u);for(const p in f)this[p]=f[p]}}}(d);function p(..._){if(this instanceof p)return f.apply(this,_),this;const w=new p(..._);return C.annotation=w,C;function C(I,M,P){const W=I.hasOwnProperty(wi)?I[wi]:Object.defineProperty(I,wi,{value:[]})[wi];for(;W.length<=P;)W.push(null);return(W[P]=W[P]||[]).push(w),I}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=c,p.annotationCls=p,p})}function Ga(c,d){c.forEach(u=>Array.isArray(u)?Ga(u,d):d(u))}function As(c,d,u){d>=c.length?c.push(u):c.splice(d,0,u)}function qa(c,d){return d>=c.length-1?c.pop():c.splice(d,1)[0]}function Wa(c,d){const u=[];for(let f=0;f<c;f++)u.push(d);return u}function k(c,d,u){let f=A(c,d);return f>=0?c[1|f]=u:(f=~f,function tg(c,d,u,f){let p=c.length;if(p==d)c.push(u,f);else if(1===p)c.push(f,c[0]),c[0]=u;else{for(p--,c.push(c[p-1],c[p]);p>d;)c[p]=c[p-2],p--;c[d]=u,c[d+1]=f}}(c,f,d,u)),f}function D(c,d){const u=A(c,d);if(u>=0)return c[1|u]}function A(c,d){return function te(c,d,u){let f=0,p=c.length>>u;for(;p!==f;){const _=f+(p-f>>1),w=c[_<<u];if(d===w)return _<<u;w>d?p=_:f=_+1}return~(p<<u)}(c,d,1)}const Rs=U(Ms("Optional"),8),Ws=U(Ms("SkipSelf"),4);function iw(c){return 128==(128&c.flags)}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();const hB=/^>|^->|<!--|-->|--!>|<!-$/g,fB=/(<|>)/,C1="\u200b$1\u200b";const sw=new Map;let Nk=0;const lw="__ngContext__";function hs(c,d){$r(d)?(c[lw]=d[wc],function Qf(c){sw.set(c[wc],c)}(d)):c[lw]=d}let og;function sg(c,d){return og(c,d)}function ch(c){const d=c[Di];return Gr(d)?d[Di]:d}function Uk(c){return Hk(c[dl])}function Jf(c){return Hk(c[Kr])}function Hk(c){for(;null!==c&&!Gr(c);)c=c[Kr];return c}function Ya(c,d,u,f,p){if(null!=f){let _,w=!1;Gr(f)?_=f:$r(f)&&(w=!0,f=f[kn]);const C=ni(f);0===c&&null!==u?null==p?gw(d,u,C):Bd(d,u,C,p||null,!0):1===c&&null!==u?Bd(d,u,C,p||null,!0):2===c?function Pc(c,d,u){const f=dg(c,d);f&&function uh(c,d,u,f){c.removeChild(d,u,f)}(c,f,d,u)}(d,C,w):3===c&&d.destroyNode(C),null!=_&&function Yk(c,d,u,f,p){const _=u[Eo];_!==ni(u)&&Ya(d,c,f,_,p);for(let C=jr;C<u.length;C++){const I=u[C];mh(I[st],I,c,d,f,_)}}(d,c,_,u,p)}}function cg(c,d){return c.createComment(function ow(c){return c.replace(hB,d=>d.replace(fB,C1))}(d))}function Al(c,d,u){return c.createElement(d,u)}function Uv(c,d){const u=c[xc],f=u.indexOf(d);hd(d),u.splice(f,1)}function Hv(c,d){if(c.length<=jr)return;const u=jr+d,f=c[u];if(f){const p=f[td];null!==p&&p!==c&&Uv(p,f),d>0&&(c[u-1][Kr]=f[Kr]);const _=qa(c,jr+d);!function D1(c,d){mh(c,d,d[jt],2,null,null),d[kn]=null,d[Nr]=null}(f[st],f);const w=_[fr];null!==w&&w.detachView(_[st]),f[Di]=null,f[Kr]=null,f[sn]&=-129}return f}function $k(c,d){if(!(256&d[sn])){const u=d[jt];d[id]?.destroy(),d[ls]?.destroy(),u.destroyNode&&mh(c,d,u,3,null,null),function mw(c){let d=c[dl];if(!d)return pw(c[st],c);for(;d;){let u=null;if($r(d))u=d[dl];else{const f=d[jr];f&&(u=f)}if(!u){for(;d&&!d[Kr]&&d!==c;)$r(d)&&pw(d[st],d),d=d[Di];null===d&&(d=c),$r(d)&&pw(d[st],d),u=d&&d[Kr]}d=u}}(d)}}function pw(c,d){if(!(256&d[sn])){d[sn]&=-129,d[sn]|=256,function lh(c,d){let u;if(null!=c&&null!=(u=c.destroyHooks))for(let f=0;f<u.length;f+=2){const p=d[u[f]];if(!(p instanceof ma)){const _=u[f+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const C=p[_[w]],I=_[w+1];us(4,C,I);try{I.call(C)}finally{us(5,C,I)}}else{us(4,p,_);try{_.call(p)}finally{us(5,p,_)}}}}}(c,d),function Gk(c,d){const u=c.cleanup,f=d[Gs];if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const w=u[_+3];w>=0?f[w]():f[-w].unsubscribe(),_+=2}else u[_].call(f[u[_+1]]);null!==f&&(d[Gs]=null);const p=d[Fr];if(null!==p){d[Fr]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(c,d),1===d[st].type&&d[jt].destroy();const u=d[td];if(null!==u&&Gr(d[Di])){u!==d[Di]&&Uv(u,d);const f=d[fr];null!==f&&f.detachView(c)}!function cw(c){sw.delete(c[wc])}(d)}}function lg(c,d,u){return function dh(c,d,u){let f=d;for(;null!==f&&40&f.type;)f=(d=f).parent;if(null===f)return u[kn];{const{componentOffset:p}=f;if(p>-1){const{encapsulation:_}=c.data[f.directiveStart+p];if(_===Ft.None||_===Ft.Emulated)return null}return qr(f,u)}}(c,d.parent,u)}function Bd(c,d,u,f,p){c.insertBefore(d,u,f,p)}function gw(c,d,u){c.appendChild(d,u)}function Xf(c,d,u,f,p){null!==f?Bd(c,d,u,f,p):gw(c,d,u)}function dg(c,d){return c.parentNode(d)}function em(c,d,u){return Ka(c,d,u)}let po,jv,vw,fg,Ka=function zv(c,d,u){return 40&c.type?qr(c,u):null};function hh(c,d,u,f){const p=lg(c,f,d),_=d[jt],C=em(f.parent||d[Nr],f,d);if(null!=p)if(Array.isArray(u))for(let I=0;I<u.length;I++)Xf(_,p,u[I],C,!1);else Xf(_,p,u,C,!1);void 0!==po&&po(_,f,d,u,p)}function ug(c,d){if(null!==d){const u=d.type;if(3&u)return qr(d,c);if(4&u)return Qa(-1,c[d.index]);if(8&u){const f=d.child;if(null!==f)return ug(c,f);{const p=c[d.index];return Gr(p)?Qa(-1,p):ni(p)}}if(32&u)return sg(d,c)()||ni(c[d.index]);{const f=Rl(c,d);return null!==f?Array.isArray(f)?f[0]:ug(ch(c[yi]),f):ug(c,d.next)}}return null}function Rl(c,d){return null!==d?c[yi][Nr].projection[d.projection]:null}function Qa(c,d){const u=jr+c+1;if(u<d.length){const f=d[u],p=f[st].firstChild;if(null!==p)return ug(f,p)}return d[Eo]}function fh(c,d,u,f,p,_,w){for(;null!=u;){const C=f[u.index],I=u.type;if(w&&0===d&&(C&&hs(ni(C),f),u.flags|=2),32!=(32&u.flags))if(8&I)fh(c,d,u.child,f,p,_,!1),Ya(d,c,p,C,_);else if(32&I){const M=sg(u,f);let P;for(;P=M();)Ya(d,c,p,P,_);Ya(d,c,p,C,_)}else 16&I?eo(c,d,f,u,p,_):Ya(d,c,p,C,_);u=w?u.projectionNext:u.next}}function mh(c,d,u,f,p,_){fh(u,f,c.firstChild,d,p,_,!1)}function eo(c,d,u,f,p,_){const w=u[yi],I=w[Nr].projection[f.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)Ya(d,c,p,I[M],_);else{let M=I;const P=w[Di];iw(f)&&(M.flags|=128),fh(c,d,M,P,p,_,!0)}}function Kk(c,d,u){""===u?c.removeAttribute(d,"class"):c.setAttribute(d,"class",u)}function Qk(c,d,u){const{mergedAttrs:f,classes:p,styles:_}=u;null!==f&&kt(c,d,f),null!==p&&Kk(c,d,p),null!==_&&function R1(c,d,u){c.setAttribute(d,"style",u)}(c,d,_)}function ph(c){return function _w(){if(void 0===jv&&(jv=null,fn.trustedTypes))try{jv=fn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return jv}()?.createHTML(c)||c}function hg(c){vw=c}function ww(c){return function Gv(){if(void 0===fg&&(fg=null,fn.trustedTypes))try{fg=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return fg}()?.createScriptURL(c)||c}class Ud{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}class Jk extends Ud{getTypeName(){return"HTML"}}class xw extends Ud{getTypeName(){return"Style"}}class Xk extends Ud{getTypeName(){return"Script"}}class eT extends Ud{getTypeName(){return"URL"}}class Cw extends Ud{getTypeName(){return"ResourceURL"}}function Ol(c){return c instanceof Ud?c.changingThisBreaksApplicationSecurity:c}function gh(c,d){const u=function N1(c){return c instanceof Ud&&c.getTypeName()||null}(c);if(null!=u&&u!==d){if("ResourceURL"===u&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${u} (see ${Ct})`)}return u===d}function Ew(c){return new Jk(c)}function kw(c){return new xw(c)}function Tw(c){return new Xk(c)}function F1(c){return new eT(c)}function L1(c){return new Cw(c)}class B1{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const u=(new window.DOMParser).parseFromString(ph(d),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(d):(u.removeChild(u.firstChild),u)}catch{return null}}}class V1{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const u=this.inertDocument.createElement("template");return u.innerHTML=ph(d),u}}const tT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mg(c){return(c=String(c)).match(tT)?c:"unsafe:"+c}function Nc(c){const d={};for(const u of c.split(","))d[u]=!0;return d}function pg(...c){const d={};for(const u of c)for(const f in u)u.hasOwnProperty(f)&&(d[f]=!0);return d}const nT=Nc("area,br,col,hr,img,wbr"),iT=Nc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rT=Nc("rp,rt"),Dw=pg(nT,pg(iT,Nc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pg(rT,Nc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pg(rT,iT)),Sw=Nc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qv=pg(Sw,Nc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),j1=Nc("script,style,template");class $1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let u=d.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(d){const u=d.nodeName.toLowerCase();if(!Dw.hasOwnProperty(u))return this.sanitizedSomething=!0,!j1.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=d.attributes;for(let p=0;p<f.length;p++){const _=f.item(p),w=_.name,C=w.toLowerCase();if(!qv.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=_.value;Sw[C]&&(I=mg(I)),this.buf.push(" ",w,'="',Mw(I),'"')}return this.buf.push(">"),!0}endElement(d){const u=d.nodeName.toLowerCase();Dw.hasOwnProperty(u)&&!nT.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(d){this.buf.push(Mw(d))}checkClobberedElement(d,u){if(u&&(d.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return u}}const Wv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nm=/([^\#-~ |!])/g;function Mw(c){return c.replace(/&/g,"&amp;").replace(Wv,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(nm,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zv;function oT(c,d){let u=null;try{Zv=Zv||function Iw(c){const d=new V1(c);return function U1(){try{return!!(new window.DOMParser).parseFromString(ph(""),"text/html")}catch{return!1}}()?new B1(d):d}(c);let f=d?String(d):"";u=Zv.getInertBodyElement(f);let p=5,_=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=_,_=u.innerHTML,u=Zv.getInertBodyElement(f)}while(f!==_);return ph((new $1).sanitizeChildren(Aw(u)||u))}finally{if(u){const f=Aw(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Aw(c){return"content"in c&&function G1(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function Yv(c){const d=im();return d?d.sanitize(vr.URL,c)||"":gh(c,"URL")?Ol(c):mg(me(c))}function aT(c){const d=im();if(d)return ww(d.sanitize(vr.RESOURCE_URL,c)||"");if(gh(c,"ResourceURL"))return ww(Ol(c));throw new le(904,!1)}function hT(c,d,u){return function uT(c,d){return"src"===d&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===d&&("base"===c||"link"===c)?aT:Yv}(d,u)(c)}function im(){const c=He();return c&&c[Pa].sanitizer}class Un{constructor(d,u){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rm=new Un("ENVIRONMENT_INITIALIZER"),Rw=new Un("INJECTOR",-1),ri=new Un("INJECTOR_DEF_TYPES");class $n{get(d,u=tr){if(u===tr){const f=new Error(`NullInjectorError: No provider for ${he(d)}!`);throw f.name="NullInjectorError",f}return u}}function Hd(...c){return{\u0275providers:Ei(0,c),\u0275fromNgModule:!0}}function Ei(c,...d){const u=[],f=new Set;let p;return Ga(d,_=>{const w=_;Ow(w,u,[],f)&&(p||=[],p.push(w))}),void 0!==p&&Kv(p,u),u}function Kv(c,d){for(let u=0;u<c.length;u++){const{providers:p}=c[u];Jv(p,_=>{d.push(_)})}}function Ow(c,d,u,f){if(!(c=Fe(c)))return!1;let p=null,_=Ji(c);const w=!_&&on(c);if(_||w){if(w&&!w.standalone)return!1;p=c}else{const I=c.ngModule;if(_=Ji(I),!_)return!1;p=I}const C=f.has(p);if(w){if(C)return!1;if(f.add(p),w.dependencies){const I="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const M of I)Ow(M,d,u,f)}}else{if(!_)return!1;{if(null!=_.imports&&!C){let M;f.add(p);try{Ga(_.imports,P=>{Ow(P,d,u,f)&&(M||=[],M.push(P))})}finally{}void 0!==M&&Kv(M,d)}if(!C){const M=ca(p)||(()=>new p);d.push({provide:p,useFactory:M,deps:At},{provide:ri,useValue:p,multi:!0},{provide:rm,useValue:()=>Yn(p),multi:!0})}const I=_.providers;null==I||C||Jv(I,P=>{d.push(P)})}}return p!==c&&void 0!==c.providers}function Jv(c,d){for(let u of c)We(u)&&(u=u.\u0275providers),Array.isArray(u)?Jv(u,d):d(u)}const ar=Q({provide:String,useValue:Q});function Tn(c){return null!==c&&"object"==typeof c&&ar in c}function Pl(c){return"function"==typeof c}const Pw=new Un("Set Injector scope."),Xv={},Y1={};let ey;function Fc(){return void 0===ey&&(ey=new $n),ey}class Nl{}class vh extends Nl{get destroyed(){return this._destroyed}constructor(d,u,f,p){super(),this.parent=u,this.source=f,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sm(d,w=>this.processProvider(w)),this.records.set(Rw,om(void 0,this)),p.has("environment")&&this.records.set(Nl,om(void 0,this));const _=this.records.get(Pw);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(ri.multi,At,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of d)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const u=ei(this),f=yn(void 0);try{return d()}finally{ei(u),yn(f)}}get(d,u=tr,f=dt.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(fe))return d[fe](this);f=X(f);const p=ei(this),_=yn(void 0);try{if(!(f&dt.SkipSelf)){let C=this.records.get(d);if(void 0===C){const I=function Nn(c){return"function"==typeof c||"object"==typeof c&&c instanceof Un}(d)&&Jn(d);C=I&&this.injectableDefInScope(I)?om(Nw(d),Xv):null,this.records.set(d,C)}if(null!=C)return this.hydrate(d,C)}return(f&dt.Self?Fc():this.parent).get(d,u=f&dt.Optional&&u===tr?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[ai]=w[ai]||[]).unshift(he(d)),p)throw w;return function L(c,d,u,f){const p=c[ai];throw d[Xn]&&p.unshift(d[Xn]),c.message=function re(c,d,u,f=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let p=he(d);if(Array.isArray(d))p=d.map(he).join(" -> ");else if("object"==typeof d){let _=[];for(let w in d)if(d.hasOwnProperty(w)){let C=d[w];_.push(w+":"+("string"==typeof C?JSON.stringify(C):he(C)))}p=`{${_.join(", ")}}`}return`${u}${f?"("+f+")":""}[${p}]: ${c.replace(Bo,"\n  ")}`}("\n"+c.message,p,u,f),c.ngTokenPath=p,c[ai]=null,c}(w,d,"R3InjectorError",this.source)}throw w}finally{yn(_),ei(p)}}resolveInjectorInitializers(){const d=ei(this),u=yn(void 0);try{const f=this.get(rm.multi,At,dt.Self);for(const p of f)p()}finally{ei(d),yn(u)}}toString(){const d=[],u=this.records;for(const f of u.keys())d.push(he(f));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(d){let u=Pl(d=Fe(d))?d:Fe(d&&d.provide);const f=function K1(c){return Tn(c)?om(void 0,c.useValue):om(pT(c),Xv)}(d);if(Pl(d)||!0!==d.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=om(void 0,Xv,!0),p.factory=()=>K(p.multi),this.records.set(u,p)),u=d,p.multi.push(d)}this.records.set(u,f)}hydrate(d,u){return u.value===Xv&&(u.value=Y1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function yh(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(d){if(!d.providedIn)return!1;const u=Fe(d.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(d){const u=this._onDestroyHooks.indexOf(d);-1!==u&&this._onDestroyHooks.splice(u,1)}}function Nw(c){const d=Jn(c),u=null!==d?d.factory:ca(c);if(null!==u)return u;if(c instanceof Un)throw new le(204,!1);if(c instanceof Function)return function mT(c){const d=c.length;if(d>0)throw Wa(d,"?"),new le(204,!1);const u=function Er(c){return c&&(c[Xi]||c[er])||null}(c);return null!==u?()=>u.factory(c):()=>new c}(c);throw new le(204,!1)}function pT(c,d,u){let f;if(Pl(c)){const p=Fe(c);return ca(p)||Nw(p)}if(Tn(c))f=()=>Fe(c.useValue);else if(function fT(c){return!(!c||!c.useFactory)}(c))f=()=>c.useFactory(...K(c.deps||[]));else if(function Wo(c){return!(!c||!c.useExisting)}(c))f=()=>Yn(Fe(c.useExisting));else{const p=Fe(c&&(c.useClass||c.provide));if(!function gT(c){return!!c.deps}(c))return ca(p)||Nw(p);f=()=>new p(...K(c.deps))}return f}function om(c,d,u=!1){return{factory:c,value:d,multi:u?[]:void 0}}function sm(c,d){for(const u of c)Array.isArray(u)?sm(u,d):u&&We(u)?sm(u.\u0275providers,d):d(u)}const gg=new Un("AppId",{providedIn:"root",factory:()=>_T}),_T="ng",Ja=new Un("Platform Initializer"),am=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Q1=new Un("AnimationModuleType"),Ps=new Un("CSP nonce",{providedIn:"root",factory:()=>function Vd(){if(void 0!==vw)return vw;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vc=(c,d)=>null;function wT(c,d){return Vc(c,d)}class Bw{}class um{}class nR{resolveComponentFactory(d){throw function tR(c){const d=Error(`No component factory found for ${he(c)}.`);return d.ngComponent=c,d}(d)}}let Cg=(()=>{class c{}return c.NULL=new nR,c})();function Vw(){return hm(mr(),He())}function hm(c,d){return new wh(qr(c,d))}let wh=(()=>{class c{constructor(u){this.nativeElement=u}}return c.__NG_ELEMENT_ID__=Vw,c})();function iR(c){return c instanceof wh?c.nativeElement:c}class Eg{}let CT=(()=>{class c{constructor(){this.destroyNode=null}}return c.__NG_ELEMENT_ID__=()=>function ET(){const c=He(),u=Ho(mr().index,c);return($r(u)?u:c)[jt]}(),c})(),dy=(()=>{class c{}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:()=>null}),c})();class kT{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const kg=new kT("16.1.1"),jd={};function xh(c){for(;c;){c[sn]|=64;const d=ch(c);if(Ec(c)&&!d)return c;c=d}return null}function Uw(c){return c.ngOriginalError}class Ch{constructor(){this._console=console}handleError(d){const u=this._findOriginalError(d);this._console.error("ERROR",d),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(d){let u=d&&Uw(d);for(;u&&Uw(u);)u=Uw(u);return u||null}}const IT=new Un("",{providedIn:"root",factory:()=>!1});function fm(c){return c.ownerDocument}function Zo(c){return c instanceof Function?c():c}class Dg extends ko{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){xh(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,u,f){const p=Vi(this);this.trackingVersion++;try{d(u,f)}finally{Vi(p)}}destroy(){this.trackingVersion++}}let Uc=null;function my(){return Uc??=new Dg,Uc}function ST(c,d){return c[d]??my()}function Mi(c,d){const u=my();u.hasReadASignal&&(c[d]=Uc,u.lView=c,Uc=new Dg)}const Kt={};function pm(c){py(In(),He(),Ir()+c,!1)}function py(c,d,u,f){if(!f)if(3==(3&d[sn])){const _=c.preOrderCheckHooks;null!==_&&wl(d,_,u)}else{const _=c.preOrderHooks;null!==_&&Qu(d,_,0,u)}Is(u)}function AT(c,d=null,u=null,f){const p=RT(c,d,u,f);return p.resolveInjectorInitializers(),p}function RT(c,d=null,u=null,f,p=new Set){const _=[u||At,Hd(c)];return f=f||("object"==typeof c?void 0:he(c)),new vh(_,d||Fc(),f||null,p)}let Wd=(()=>{class c{static create(u,f){if(Array.isArray(u))return AT({name:""},f,u,"");{const p=u.name??"";return AT({name:p},u.parent,u.providers,p)}}}return c.THROW_IF_NOT_FOUND=tr,c.NULL=new $n,c.\u0275prov=Wt({token:c,providedIn:"any",factory:()=>Yn(Rw)}),c.__NG_ELEMENT_ID__=-1,c})();function _m(c,d=dt.Default){const u=He();return null===u?Yn(c,d):th(mr(),u,Fe(c),d)}function OT(){throw new Error("invalid")}function Sg(c,d,u,f,p,_,w,C,I,M,P){const W=d.blueprint.slice();return W[kn]=p,W[sn]=140|f,(null!==M||c&&2048&c[sn])&&(W[sn]|=2048),Hu(W),W[Di]=W[sa]=c,W[ti]=u,W[Pa]=w||c&&c[Pa],W[jt]=C||c&&c[jt],W[cs]=I||c&&c[cs]||null,W[Nr]=_,W[wc]=function aw(){return Nk++}(),W[Qr]=P,W[nd]=M,W[yi]=2==d.type?c[yi]:W,W}function vm(c,d,u,f,p){let _=c.data[d];if(null===_)_=function qw(c,d,u,f,p){const _=Yp(),w=Kp(),I=c.data[d]=function LT(c,d,u,f,p,_){let w=d?d.injectorIndex:-1,C=0;return jo()&&(C|=128),{type:u,index:f,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,u,d,f,p);return null===c.firstChild&&(c.firstChild=I),null!==_&&(w?null==_.child&&null!==I.parent&&(_.child=I):null===_.next&&(_.next=I,I.prev=_)),I}(c,d,u,f,p),function pr(){return Yt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=u,_.value=f,_.attrs=p;const w=function gd(){const c=Yt.lFrame,d=c.currentTNode;return c.isParent?d:d.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Jr(_,!0),_}function Mg(c,d,u,f){if(0===u)return-1;const p=d.length;for(let _=0;_<u;_++)d.push(f),c.blueprint.push(f),c.data.push(null);return p}function NT(c,d,u,f,p){const _=ST(d,id),w=Ir(),C=2&f;try{if(Is(-1),C&&d.length>On&&py(c,d,On,!1),us(C?2:0,p),C)_.runInContext(u,f,p);else{const M=Vi(null);try{u(f,p)}finally{Vi(M)}}}finally{C&&null===d[id]&&Mi(d,id),Is(w),us(C?3:1,p)}}function Ww(c,d,u){if(xu(d)){const f=Vi(null);try{const _=d.directiveEnd;for(let w=d.directiveStart;w<_;w++){const C=c.data[w];C.contentQueries&&C.contentQueries(1,u[w],w)}}finally{Vi(f)}}}function Zw(c,d,u){gl()&&(function hR(c,d,u,f){const p=u.directiveStart,_=u.directiveEnd;ds(u)&&function GT(c,d,u){const f=qr(d,c),p=vy(u);let w=16;u.signals?w=4096:u.onPush&&(w=64);const C=Ey(c,Sg(c,p,null,w,f,d,null,c[Pa].rendererFactory.createRenderer(f,u),null,null,null));c[d.index]=C}(d,u,c.data[p+u.componentOffset]),c.firstCreatePass||Wi(u,d),hs(f,d);const w=u.initialInputs;for(let C=p;C<_;C++){const I=c.data[C],M=cn(d,c,C,u);hs(M,d),null!==w&&qT(0,C-p,M,I,0,w),ci(I)&&(Ho(u.index,d)[ti]=cn(d,c,C,u))}}(c,d,u,qr(u,d)),64==(64&u.flags)&&jT(c,d,u))}function ym(c,d,u=qr){const f=d.localNames;if(null!==f){let p=d.index+1;for(let _=0;_<f.length;_+=2){const w=f[_+1],C=-1===w?u(d,c):c[w];c[p++]=C}}}function vy(c){const d=c.tView;return null===d||d.incompleteFirstPass?c.tView=yy(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts,c.id):d}function yy(c,d,u,f,p,_,w,C,I,M,P){const W=On+f,ne=W+p,de=function by(c,d){const u=[];for(let f=0;f<d;f++)u.push(f<c?null:Kt);return u}(W,ne),Le="function"==typeof M?M():M;return de[st]={type:c,blueprint:de,template:u,queries:null,viewQuery:C,declTNode:d,data:de.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:I,consts:Le,incompleteFirstPass:!1,ssrId:P}}let Kw=c=>null;function wy(c,d,u,f){for(let p in c)if(c.hasOwnProperty(p)){u=null===u?{}:u;const _=c[p];null===f?BT(u,d,p,_):f.hasOwnProperty(p)&&BT(u,d,f[p],_)}return u}function BT(c,d,u,f){c.hasOwnProperty(u)?c[u].push(d,f):c[u]=[d,f]}function Zs(c,d,u,f,p,_,w,C){const I=qr(d,u);let P,M=d.inputs;!C&&null!=M&&(P=M[f])?(ky(c,u,P,f,p),ds(d)&&function VT(c,d){const u=Ho(d,c);16&u[sn]||(u[sn]|=64)}(u,d.index)):3&d.type&&(f=function uR(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(f),p=null!=w?w(p,d.value||"",f):p,_.setProperty(I,f,p))}function Cy(c,d,u,f){if(gl()){const p=null===f?null:{"":-1},_=function mR(c,d){const u=c.directiveRegistry;let f=null,p=null;if(u)for(let _=0;_<u.length;_++){const w=u[_];if(kr(d,w.selectors,!1))if(f||(f=[]),ci(w))if(null!==w.findHostDirectiveDefs){const C=[];p=p||new Map,w.findHostDirectiveDefs(w,C,p),f.unshift(...C,w),Jw(c,d,C.length)}else f.unshift(w),Jw(c,d,0);else p=p||new Map,w.findHostDirectiveDefs?.(w,f,p),f.push(w)}return null===f?null:[f,p]}(c,u);let w,C;null===_?w=C=null:[w,C]=_,null!==w&&HT(c,d,u,w,p,C),p&&function pR(c,d,u){if(d){const f=c.localNames=[];for(let p=0;p<d.length;p+=2){const _=u[d[p+1]];if(null==_)throw new le(-301,!1);f.push(d[p],_)}}}(u,f,p)}u.mergedAttrs=wn(u.mergedAttrs,u.attrs)}function HT(c,d,u,f,p,_){for(let M=0;M<f.length;M++)zf(Wi(u,d),c,f[M].type);!function $T(c,d,u){c.flags|=1,c.directiveStart=d,c.directiveEnd=d+u,c.providerIndexes=d}(u,c.data.length,f.length);for(let M=0;M<f.length;M++){const P=f[M];P.providersResolver&&P.providersResolver(P)}let w=!1,C=!1,I=Mg(c,d,f.length,null);for(let M=0;M<f.length;M++){const P=f[M];u.mergedAttrs=wn(u.mergedAttrs,P.hostAttrs),_R(c,u,d,I,P),gR(I,P,p),null!==P.contentQueries&&(u.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=64);const W=P.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((c.preOrderHooks??=[]).push(u.index),w=!0),!C&&(W.ngOnChanges||W.ngDoCheck)&&((c.preOrderCheckHooks??=[]).push(u.index),C=!0),I++}!function dR(c,d,u){const p=d.directiveEnd,_=c.data,w=d.attrs,C=[];let I=null,M=null;for(let P=d.directiveStart;P<p;P++){const W=_[P],ne=u?u.get(W):null,Le=ne?ne.outputs:null;I=wy(W.inputs,P,I,ne?ne.inputs:null),M=wy(W.outputs,P,M,Le);const Ye=null===I||null===w||hr(d)?null:WT(I,P,w);C.push(Ye)}null!==I&&(I.hasOwnProperty("class")&&(d.flags|=8),I.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=C,d.inputs=I,d.outputs=M}(c,u,_)}function jT(c,d,u){const f=u.directiveStart,p=u.directiveEnd,_=u.index,w=function yd(){return Yt.lFrame.currentDirectiveIndex}();try{Is(_);for(let C=f;C<p;C++){const I=c.data[C],M=d[C];Nf(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&fR(I,M)}}finally{Is(-1),Nf(w)}}function fR(c,d){null!==c.hostBindings&&c.hostBindings(1,d)}function Jw(c,d,u){d.componentOffset=u,(c.components??=[]).push(d.index)}function gR(c,d,u){if(u){if(d.exportAs)for(let f=0;f<d.exportAs.length;f++)u[d.exportAs[f]]=c;ci(d)&&(u[""]=c)}}function _R(c,d,u,f,p){c.data[f]=p;const _=p.factory||(p.factory=ca(p.type)),w=new ma(_,ci(p),_m);c.blueprint[f]=w,u[f]=w,function zT(c,d,u,f,p){const _=p.hostBindings;if(_){let w=c.hostBindingOpCodes;null===w&&(w=c.hostBindingOpCodes=[]);const C=~d.index;(function Qw(c){let d=c.length;for(;d>0;){const u=c[--d];if("number"==typeof u&&u<0)return u}return 0})(w)!=C&&w.push(C),w.push(u,f,_)}}(c,d,f,Mg(c,u,p.hostVars,Kt),p)}function ec(c,d,u,f,p,_){const w=qr(c,d);!function Xw(c,d,u,f,p,_,w){if(null==_)c.removeAttribute(d,p,u);else{const C=null==w?me(_):w(_,f||"",p);c.setAttribute(d,p,C,u)}}(d[jt],w,_,c.value,u,f,p)}function qT(c,d,u,f,p,_){const w=_[d];if(null!==w)for(let C=0;C<w.length;)Ag(f,u,w[C++],w[C++],w[C++])}function Ag(c,d,u,f,p){const _=Vi(null);try{const w=c.inputTransforms;null!==w&&w.hasOwnProperty(f)&&(p=w[f].call(d,p)),null!==c.setInput?c.setInput(d,p,u,f):d[f]=p}finally{Vi(_)}}function WT(c,d,u){let f=null,p=0;for(;p<u.length;){const _=u[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(c.hasOwnProperty(_)){null===f&&(f=[]);const w=c[_];for(let C=0;C<w.length;C+=2)if(w[C]===d){f.push(_,w[C+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return f}function ZT(c,d,u,f){return[c,!0,!1,d,null,0,f,u,null,null,null]}function YT(c,d){const u=c.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const _=u[f+1];if(-1!==_){const w=c.data[_];ha(u[f]),w.contentQueries(2,d[_],_)}}}function Ey(c,d){return c[dl]?c[ed][Kr]=d:c[dl]=d,c[ed]=d,d}function Rg(c,d,u){ha(0);const f=Vi(null);try{d(c,u)}finally{Vi(f)}}function KT(c){return c[Gs]||(c[Gs]=[])}function QT(c){return c.cleanup||(c.cleanup=[])}function ex(c,d,u){return(null===c||ci(c))&&(u=function ud(c){for(;Array.isArray(c);){if("object"==typeof c[xs])return c;c=c[kn]}return null}(u[d.index])),u[jt]}function Fl(c,d){const u=c[cs],f=u?u.get(Ch,null):null;f&&f.handleError(d)}function ky(c,d,u,f,p){for(let _=0;_<u.length;){const w=u[_++],C=u[_++];Ag(c.data[w],d[w],f,C,p)}}function Hc(c,d,u){const f=Tc(d,c);!function Ml(c,d,u){c.setValue(d,u)}(c[jt],f,u)}function Zd(c,d){const u=Ho(d,c),f=u[st];!function Ty(c,d){for(let u=d.length;u<c.blueprint.length;u++)d.push(c.blueprint[u])}(f,u);const p=u[kn];null!==p&&null===u[Qr]&&(u[Qr]=wT(p,u[cs])),bm(f,u,u[ti])}function bm(c,d,u){wd(d);try{const f=c.viewQuery;null!==f&&Rg(1,f,u);const p=c.template;null!==p&&NT(c,d,p,1,u),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&YT(c,d),c.staticViewQueries&&Rg(2,c.viewQuery,u);const _=c.components;null!==_&&function yR(c,d){for(let u=0;u<d.length;u++)Zd(c,d[u])}(d,_)}catch(f){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),f}finally{d[sn]&=-5,Lf()}}let Iy=(()=>{class c{constructor(){this.all=new Set,this.queue=new Map}create(u,f,p){const _=typeof Zone>"u"?null:Zone.current,w=new jp(u,M=>{this.all.has(M)&&this.queue.set(M,_)},p);let C;this.all.add(w),w.notify();const I=()=>{w.cleanup(),C?.(),this.all.delete(w),this.queue.delete(w)};return C=f?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[u,f]of this.queue)this.queue.delete(u),f?f.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:()=>new c}),c})();function tc(c,d,u){let f=u?c.styles:null,p=u?c.classes:null,_=0;if(null!==d)for(let w=0;w<d.length;w++){const C=d[w];"number"==typeof C?_=C:1==_?p=$e(p,C):2==_&&(f=$e(f,C+": "+d[++w]+";"))}u?c.styles=f:c.stylesWithoutHost=f,u?c.classes=p:c.classesWithoutHost=p}function Ll(c,d,u,f,p=!1){for(;null!==u;){const _=d[u.index];if(null!==_&&f.push(ni(_)),Gr(_)){for(let C=jr;C<_.length;C++){const I=_[C],M=I[st].firstChild;null!==M&&Ll(I[st],I,M,f)}_[Eo]!==_[kn]&&f.push(_[Eo])}const w=u.type;if(8&w)Ll(c,d,u.child,f);else if(32&w){const C=sg(u,d);let I;for(;I=C();)f.push(I)}else if(16&w){const C=Rl(d,u);if(Array.isArray(C))f.push(...C);else{const I=ch(d[yi]);Ll(I[st],I,C,f,!0)}}u=p?u.projectionNext:u.next}return f}function Dy(c,d,u,f=!0){const p=d[Pa].rendererFactory;p.begin&&p.begin();try{Og(c,d,c.template,u)}catch(w){throw f&&Fl(d,w),w}finally{p.end&&p.end(),d[Pa].effectManager?.flush()}}function Og(c,d,u,f){const p=d[sn];if(256!=(256&p)){d[Pa].effectManager?.flush(),wd(d);try{Hu(d),function _d(c){return Yt.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==u&&NT(c,d,u,2,f);const w=3==(3&p);if(w){const M=c.preOrderCheckHooks;null!==M&&wl(d,M,null)}else{const M=c.preOrderHooks;null!==M&&Qu(d,M,0,null),kd(d,0)}if(function kR(c){for(let d=Uk(c);null!==d;d=Jf(d)){if(!d[Fa])continue;const u=d[xc];for(let f=0;f<u.length;f++){zu(u[f])}}}(d),tx(d,2),null!==c.contentQueries&&YT(c,d),w){const M=c.contentCheckHooks;null!==M&&wl(d,M)}else{const M=c.contentHooks;null!==M&&Qu(d,M,1),kd(d,1)}!function PT(c,d){const u=c.hostBindingOpCodes;if(null===u)return;const f=ST(d,ls);try{for(let p=0;p<u.length;p++){const _=u[p];if(_<0)Is(~_);else{const w=_,C=u[++p],I=u[++p];vl(C,w),f.runInContext(I,2,d[w])}}}finally{null===d[ls]&&Mi(d,ls),Is(-1)}}(c,d);const C=c.components;null!==C&&JT(d,C,0);const I=c.viewQuery;if(null!==I&&Rg(2,I,f),w){const M=c.viewCheckHooks;null!==M&&wl(d,M)}else{const M=c.viewHooks;null!==M&&Qu(d,M,2),kd(d,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),d[sn]&=-73,hd(d)}finally{Lf()}}}function tx(c,d){for(let u=Uk(c);null!==u;u=Jf(u))for(let f=jr;f<u.length;f++)Pg(u[f],d)}function nx(c,d,u){Pg(Ho(d,c),u)}function Pg(c,d){if(!function Mf(c){return 128==(128&c[sn])}(c))return;const u=c[st];if(80&c[sn]&&0===d||1024&c[sn]||2===d)Og(u,c,u.template,c[ti]);else if(c[Xl]>0){tx(c,1);const p=c[st].components;null!==p&&JT(c,p,1)}}function JT(c,d,u){for(let f=0;f<d.length;f++)nx(c,d[f],u)}class zc{get rootNodes(){const d=this._lView,u=d[st];return Ll(u,d,u.firstChild,[])}constructor(d,u){this._lView=d,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(d){this._lView[ti]=d}get destroyed(){return 256==(256&this._lView[sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Di];if(Gr(d)){const u=d[8],f=u?u.indexOf(this):-1;f>-1&&(Hv(d,f),qa(u,f))}this._attachedToViewContainer=!1}$k(this._lView[st],this._lView)}onDestroy(d){!function zo(c,d){if(256==(256&c[sn]))throw new le(911,!1);null===c[Fr]&&(c[Fr]=[]),c[Fr].push(d)}(this._lView,d)}markForCheck(){xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[sn]&=-129}reattach(){this._lView[sn]|=128}detectChanges(){Dy(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _B(c,d){mh(c,d,d[jt],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=d}}class XT extends zc{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;Dy(d[st],d,d[ti],!1)}checkNoChanges(){}get context(){return null}}class ix extends Cg{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const u=on(d);return new Eh(u,this.ngModule)}}function rx(c){const d=[];for(let u in c)c.hasOwnProperty(u)&&d.push({propName:c[u],templateName:u});return d}class Sy{constructor(d,u){this.injector=d,this.parentInjector=u}get(d,u,f){f=X(f);const p=this.injector.get(d,jd,f);return p!==jd||u===jd?p:this.parentInjector.get(d,u,f)}}class Eh extends um{get inputs(){return rx(this.componentDef.inputs)}get outputs(){return rx(this.componentDef.outputs)}constructor(d,u){super(),this.componentDef=d,this.ngModule=u,this.componentType=d.type,this.selector=function yc(c){return c.map(ll).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!u}create(d,u,f,p){let _=(p=p||this.ngModule)instanceof Nl?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new Sy(d,_):d,C=w.get(Eg,null);if(null===C)throw new le(407,!1);const P={rendererFactory:C,sanitizer:w.get(dy,null),effectManager:w.get(Iy,null)},W=C.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",de=f?function aR(c,d,u,f){const _=f.get(IT,!1)||u===Ft.ShadowDom,w=c.selectRootElement(d,_);return function Yw(c){Kw(c)}(w),w}(W,f,this.componentDef.encapsulation,w):Al(W,ne,function Ng(c){const d=c.toLowerCase();return"svg"===d?Vu:"math"===d?"math":null}(ne)),mt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Rt=yy(0,null,null,1,0,null,null,null,null,null,null),Ue=Sg(null,Rt,null,mt,null,null,P,W,w,null,null);let Xt,Fn;wd(Ue);try{const Sn=this.componentDef;let Fo,F_=null;Sn.findHostDirectiveDefs?(Fo=[],F_=new Map,Sn.findHostDirectiveDefs(Sn,Fo,F_),Fo.push(Sn)):Fo=[Sn];const L_=function TR(c,d){const u=c[st],f=On;return c[f]=d,vm(u,f,2,"#host",null)}(Ue,de),fP=function Fg(c,d,u,f,p,_,w){const C=p[st];!function IR(c,d,u,f){for(const p of c)d.mergedAttrs=wn(d.mergedAttrs,p.hostAttrs);null!==d.mergedAttrs&&(tc(d,d.mergedAttrs,!0),null!==u&&Qk(f,u,d))}(f,c,d,w);let I=null;null!==d&&(I=wT(d,p[cs]));const M=_.rendererFactory.createRenderer(d,u);let P=16;u.signals?P=4096:u.onPush&&(P=64);const W=Sg(p,vy(u),null,P,p[c.index],c,_,M,null,null,I);return C.firstCreatePass&&Jw(C,c,f.length-1),Ey(p,W),p[c.index]=W}(L_,de,Sn,Fo,Ue,P,W);Fn=Sf(Rt,On),de&&function SR(c,d,u,f){if(f)kt(c,u,["ng-version",kg.full]);else{const{attrs:p,classes:_}=function oa(c){const d=[],u=[];let f=1,p=2;for(;f<c.length;){let _=c[f];if("string"==typeof _)2===p?""!==_&&d.push(_,c[++f]):8===p&&u.push(_);else{if(!zn(p))break;p=_}f++}return{attrs:d,classes:u}}(d.selectors[0]);p&&kt(c,u,p),_&&_.length>0&&Kk(c,u,_.join(" "))}}(W,Sn,de,f),void 0!==u&&function sx(c,d,u){const f=c.projection=[];for(let p=0;p<d.length;p++){const _=u[p];f.push(null!=_?Array.from(_):null)}}(Fn,this.ngContentSelectors,u),Xt=function DR(c,d,u,f,p,_){const w=mr(),C=p[st],I=qr(w,p);HT(C,p,w,u,null,f);for(let P=0;P<u.length;P++)hs(cn(p,C,w.directiveStart+P,w),p);jT(C,p,w),I&&hs(I,p);const M=cn(p,C,w.directiveStart+w.componentOffset,w);if(c[ti]=p[ti]=M,null!==_)for(const P of _)P(M,d);return Ww(C,w,c),M}(fP,Sn,Fo,F_,Ue,[ax]),bm(Rt,Ue,null)}finally{Lf()}return new ox(this.componentType,Xt,hm(Fn,Ue),Ue,Fn)}}class ox extends Bw{constructor(d,u,f,p,_){super(),this.location=f,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new XT(p),this.componentType=d}setInput(d,u){const f=this._tNode.inputs;let p;if(null!==f&&(p=f[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),u))return;const _=this._rootLView;ky(_[st],_,p,d,u),this.previousInputValues.set(d,u),xh(Ho(this._tNode.index,_))}}get injector(){return new $a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function ax(){const c=mr();Ed(He()[st],c)}function My(c){let d=function tI(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),u=!0;const f=[c];for(;d;){let p;if(ci(c))p=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new le(903,!1);p=d.\u0275dir}if(p){if(u){f.push(p);const w=c;w.inputs=Ay(c.inputs),w.inputTransforms=Ay(c.inputTransforms),w.declaredInputs=Ay(c.declaredInputs),w.outputs=Ay(c.outputs);const C=p.hostBindings;C&&lx(c,C);const I=p.viewQuery,M=p.contentQueries;if(I&&nI(c,I),M&&cx(c,M),ee(c.inputs,p.inputs),ee(c.declaredInputs,p.declaredInputs),ee(c.outputs,p.outputs),null!==p.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),ee(w.inputTransforms,p.inputTransforms)),ci(p)&&p.data.animation){const P=c.data;P.animation=(P.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const C=_[w];C&&C.ngInherit&&C(c),C===My&&(u=!1)}}d=Object.getPrototypeOf(d)}!function MR(c){let d=0,u=null;for(let f=c.length-1;f>=0;f--){const p=c[f];p.hostVars=d+=p.hostVars,p.hostAttrs=wn(p.hostAttrs,u=wn(u,p.hostAttrs))}}(f)}function Ay(c){return c===Pt?{}:c===At?[]:c}function nI(c,d){const u=c.viewQuery;c.viewQuery=u?(f,p)=>{d(f,p),u(f,p)}:d}function cx(c,d){const u=c.contentQueries;c.contentQueries=u?(f,p,_)=>{d(f,p,_),u(f,p,_)}:d}function lx(c,d){const u=c.hostBindings;c.hostBindings=u?(f,p)=>{d(f,p),u(f,p)}:d}function wm(c){const d=c.inputConfig,u={};for(const f in d)if(d.hasOwnProperty(f)){const p=d[f];Array.isArray(p)&&p[2]&&(u[f]=p[2])}c.inputTransforms=u}function Py(c){return!!Lg(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function Lg(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function nc(c,d,u){return c[d]=u}function Zr(c,d,u){return!Object.is(c[d],u)&&(c[d]=u,!0)}function Yo(c,d,u,f){const p=Zr(c,d,u);return Zr(c,d+1,f)||p}function Fy(c,d,u,f){const p=He();return Zr(p,bi(),d)&&(In(),ec(ii(),p,c,d,u,f)),Fy}function jc(c,d,u,f){return Zr(c,bi(),u)?d+me(u)+f:Kt}function $c(c,d,u,f,p,_){const C=Yo(c,function ks(){return Yt.lFrame.bindingIndex}(),u,p);return Ts(2),C?d+me(u)+f+me(p)+_:Kt}function gI(c,d,u,f,p,_,w,C){const I=He(),M=In(),P=c+On,W=M.firstCreatePass?function pI(c,d,u,f,p,_,w,C,I){const M=d.consts,P=vm(d,c,4,w||null,Es(M,C));Cy(d,u,P,Es(M,I)),Ed(d,P);const W=P.tView=yy(2,P,f,p,_,d.directiveRegistry,d.pipeRegistry,null,d.schemas,M,null);return null!==d.queries&&(d.queries.template(d,P),W.queries=d.queries.embeddedTView(P)),P}(P,M,I,d,u,f,p,_,w):M.data[P];Jr(W,!1);const ne=wx(M,I,W,c);bl()&&hh(M,I,ne,W),hs(ne,I),Ey(I,I[P]=ZT(ne,I,ne,W)),aa(W)&&Zw(M,I,W),null!=w&&ym(I,W,C)}let wx=function xx(c,d,u,f){return Ha(!0),d[jt].createComment("")};function $g(c){return ua(function qu(){return Yt.lFrame.contextLView}(),On+c)}function qc(c,d,u){const f=He();return Zr(f,bi(),d)&&Zs(In(),ii(),f,c,d,f[jt],u,!1),qc}function Tm(c,d,u,f,p){const w=p?"class":"style";ky(c,u,d.inputs[w],w,f)}function Wc(c,d,u,f){const p=He(),_=In(),w=On+c,C=p[jt],I=_.firstCreatePass?function Ca(c,d,u,f,p,_){const w=d.consts,I=vm(d,c,2,f,Es(w,p));return Cy(d,u,I,Es(w,_)),null!==I.attrs&&tc(I,I.attrs,!1),null!==I.mergedAttrs&&tc(I,I.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,I),I}(w,_,p,d,u,f):_.data[w],M=Qd(_,p,I,C,d,c);p[w]=M;const P=aa(I);return Jr(I,!0),Qk(C,M,I),32!=(32&I.flags)&&bl()&&hh(_,p,M,I),0===function Tv(){return Yt.lFrame.elementDepthCount}()&&hs(M,p),function $u(){Yt.lFrame.elementDepthCount++}(),P&&(Zw(_,p,I),Ww(_,I,p)),null!==f&&ym(p,I),Wc}function Gg(){let c=mr();Kp()?Ui():(c=c.parent,Jr(c,!1));const d=c;(function md(c){return Yt.skipHydrationRootTNode===c})(d)&&function Zp(){Yt.skipHydrationRootTNode=null}(),function qp(){Yt.lFrame.elementDepthCount--}();const u=In();return u.firstCreatePass&&(Ed(u,c),xu(c)&&u.queries.elementEnd(c)),null!=d.classesWithoutHost&&function Jp(c){return 0!=(8&c.flags)}(d)&&Tm(u,d,He(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function xl(c){return 0!=(16&c.flags)}(d)&&Tm(u,d,He(),d.stylesWithoutHost,!1),Gg}function zy(c,d,u,f){return Wc(c,d,u,f),Gg(),zy}let Qd=(c,d,u,f,p,_)=>(Ha(!0),Al(f,p,function Yu(){return Yt.lFrame.currentNamespace}()));function Im(c,d,u){const f=He(),p=In(),_=c+On,w=p.firstCreatePass?function $R(c,d,u,f,p){const _=d.consts,w=Es(_,f),C=vm(d,c,8,"ng-container",w);return null!==w&&tc(C,w,!0),Cy(d,u,C,Es(_,p)),null!==d.queries&&d.queries.elementStart(d,C),C}(_,p,f,d,u):p.data[_];Jr(w,!0);const C=vI(p,f,w,c);return f[_]=C,bl()&&hh(p,f,C,w),hs(C,f),aa(w)&&(Zw(p,f,w),Ww(p,w,f)),null!=u&&ym(f,w),Im}function jy(){let c=mr();const d=In();return Kp()?Ui():(c=c.parent,Jr(c,!1)),d.firstCreatePass&&(Ed(d,c),xu(c)&&d.queries.elementEnd(c)),jy}function Ex(c,d,u){return Im(c,d,u),jy(),Ex}let vI=(c,d,u,f)=>(Ha(!0),cg(d[jt],""));function Wg(){return He()}function Sh(c){return!!c&&"function"==typeof c.then}function $y(c){return!!c&&"function"==typeof c.subscribe}function Gy(c,d,u,f){const p=He(),_=In(),w=mr();return kx(_,p,p[jt],w,c,d,f),Gy}function qy(c,d){const u=mr(),f=He(),p=In();return kx(p,f,ex(yl(p.data),u,f),u,c,d),qy}function kx(c,d,u,f,p,_,w){const C=aa(f),M=c.firstCreatePass&&QT(c),P=d[ti],W=KT(d);let ne=!0;if(3&f.type||w){const Ye=qr(f,d),mt=w?w(Ye):Ye,Rt=W.length,Ue=w?Fn=>w(ni(Fn[f.index])):f.index;let Xt=null;if(!w&&C&&(Xt=function yI(c,d,u,f){const p=c.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===u&&p[_+1]===f){const C=d[Gs],I=p[_+2];return C.length>I?C[I]:null}"string"==typeof w&&(_+=2)}return null}(c,d,p,f.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=_,Xt.__ngLastListenerFn__=_,ne=!1;else{_=Ea(f,d,P,_,!1);const Fn=u.listen(mt,p,_);W.push(_,Fn),M&&M.push(p,Ue,Rt,Rt+1)}}else _=Ea(f,d,P,_,!1);const de=f.outputs;let Le;if(ne&&null!==de&&(Le=de[p])){const Ye=Le.length;if(Ye)for(let mt=0;mt<Ye;mt+=2){const Sn=d[Le[mt]][Le[mt+1]].subscribe(_),Fo=W.length;W.push(_,Sn),M&&M.push(p,f.index,Fo,-(Fo+1))}}}function Tx(c,d,u,f){try{return us(6,d,u),!1!==u(f)}catch(p){return Fl(c,p),!1}finally{us(7,d,u)}}function Ea(c,d,u,f,p){return function _(w){if(w===Function)return f;xh(c.componentOffset>-1?Ho(c.index,d):d);let I=Tx(d,u,f,w),M=_.__ngNextListenerFn__;for(;M;)I=Tx(d,u,M,w)&&I,M=M.__ngNextListenerFn__;return p&&!1===I&&w.preventDefault(),I}}function Ix(c=1){return function Bf(c){return(Yt.lFrame.contextLView=function Qp(c,d){for(;c>0;)d=d[sa],c--;return d}(c,Yt.lFrame.contextLView))[ti]}(c)}function qR(c,d){let u=null;const f=function as(c){const d=c.attrs;if(null!=d){const u=d.indexOf(5);if(!(1&u))return d[u+1]}return null}(c);for(let p=0;p<d.length;p++){const _=d[p];if("*"!==_){if(null===f?kr(c,_,!0):cl(f,_))return p}else u=p}return u}function bI(c){const d=He()[yi][Nr];if(!d.projection){const f=d.projection=Wa(c?c.length:1,null),p=f.slice();let _=d.child;for(;null!==_;){const w=c?qR(_,c):0;null!==w&&(p[w]?p[w].projectionNext=_:f[w]=_,p[w]=_),_=_.next}}}function wI(c,d=0,u){const f=He(),p=In(),_=vm(p,On+c,16,null,u||null);null===_.projection&&(_.projection=d),Ui(),(!f[Qr]||jo())&&32!=(32&_.flags)&&function Zk(c,d,u){eo(d[jt],0,d,u,lg(c,u,d),em(u.parent||d[Nr],u,d))}(p,f,_)}function Wy(c,d){return c<<17|d<<2}function Jd(c){return c>>17&32767}function Mx(c){return 2|c}function Mh(c){return(131068&c)>>2}function Ax(c,d){return-131069&c|d<<2}function Ys(c){return 1|c}function Rx(c,d,u,f,p){const _=c[u+1],w=null===d;let C=f?Jd(_):Mh(_),I=!1;for(;0!==C&&(!1===I||w);){const P=c[C+1];QR(c[C],d)&&(I=!0,c[C+1]=f?Ys(P):Mx(P)),C=f?Jd(P):Mh(P)}I&&(c[u+1]=f?Mx(_):Ys(_))}function QR(c,d){return null===c||null==d||(Array.isArray(c)?c[1]:c)===d||!(!Array.isArray(c)||"string"!=typeof d)&&A(c,d)>=0}const to={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RI(c){return c.substring(to.key,to.keyEnd)}function PI(c,d){const u=to.textEnd;return u===d?-1:(d=to.keyEnd=function tO(c,d,u){for(;d<u&&c.charCodeAt(d)>32;)d++;return d}(c,to.key=d,u),Dm(c,d,u))}function Dm(c,d,u){for(;d<u&&c.charCodeAt(d)<=32;)d++;return d}function Px(c,d,u){return ic(c,d,u,!1),Px}function Nx(c,d){return ic(c,d,null,!0),Nx}function Zc(c,d){for(let u=function OI(c){return function Ox(c){to.key=0,to.keyEnd=0,to.value=0,to.valueEnd=0,to.textEnd=c.length}(c),PI(c,Dm(c,0,to.textEnd))}(d);u>=0;u=PI(d,u))k(c,RI(d),!0)}function ic(c,d,u,f){const p=He(),_=In(),w=Ts(2);_.firstUpdatePass&&BI(_,c,w,f),d!==Kt&&Zr(p,w,d)&&UI(_,_.data[Ir()],p,p[jt],c,p[w+1]=function zI(c,d){return null==c||""===c||("string"==typeof d?c+=d:"object"==typeof c&&(c=he(Ol(c)))),c}(d,u),f,w)}function LI(c,d){return d>=c.expandoStartIndex}function BI(c,d,u,f){const p=c.data;if(null===p[u+1]){const _=p[Ir()],w=LI(c,u);Fx(_,f)&&null===d&&!w&&(d=!1),d=function oO(c,d,u,f){const p=yl(c);let _=f?d.residualClasses:d.residualStyles;if(null===p)0===(f?d.classBindings:d.styleBindings)&&(u=Hl(u=fs(null,c,d,u,f),d.attrs,f),_=null);else{const w=d.directiveStylingLast;if(-1===w||c[w]!==p)if(u=fs(p,c,d,u,f),null===_){let I=function sO(c,d,u){const f=u?d.classBindings:d.styleBindings;if(0!==Mh(f))return c[Jd(f)]}(c,d,f);void 0!==I&&Array.isArray(I)&&(I=fs(null,c,d,I[1],f),I=Hl(I,d.attrs,f),function Xd(c,d,u,f){c[Jd(u?d.classBindings:d.styleBindings)]=f}(c,d,f,I))}else _=function Mo(c,d,u){let f;const p=d.directiveEnd;for(let _=1+d.directiveStylingLast;_<p;_++)f=Hl(f,c[_].hostAttrs,u);return Hl(f,d.attrs,u)}(c,d,f)}return void 0!==_&&(f?d.residualClasses=_:d.residualStyles=_),u}(p,_,d,f),function AI(c,d,u,f,p,_){let w=_?d.classBindings:d.styleBindings,C=Jd(w),I=Mh(w);c[f]=u;let P,M=!1;if(Array.isArray(u)?(P=u[1],(null===P||A(u,P)>0)&&(M=!0)):P=u,p)if(0!==I){const ne=Jd(c[C+1]);c[f+1]=Wy(ne,C),0!==ne&&(c[ne+1]=Ax(c[ne+1],f)),c[C+1]=function ZR(c,d){return 131071&c|d<<17}(c[C+1],f)}else c[f+1]=Wy(C,0),0!==C&&(c[C+1]=Ax(c[C+1],f)),C=f;else c[f+1]=Wy(I,0),0===C?C=f:c[I+1]=Ax(c[I+1],f),I=f;M&&(c[f+1]=Mx(c[f+1])),Rx(c,P,f,!0),Rx(c,P,f,!1),function KR(c,d,u,f,p){const _=p?c.residualClasses:c.residualStyles;null!=_&&"string"==typeof d&&A(_,d)>=0&&(u[f+1]=Ys(u[f+1]))}(d,P,c,f,_),w=Wy(C,I),_?d.classBindings=w:d.styleBindings=w}(p,_,d,u,w,f)}}function fs(c,d,u,f,p){let _=null;const w=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<w&&(_=d[C],f=Hl(f,_.hostAttrs,p),_!==c);)C++;return null!==c&&(u.directiveStylingLast=C),f}function Hl(c,d,u){const f=u?1:2;let p=-1;if(null!==d)for(let _=0;_<d.length;_++){const w=d[_];"number"==typeof w?p=w:p===f&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),k(c,w,!!u||d[++_]))}return void 0===c?null:c}function UI(c,d,u,f,p,_,w,C){if(!(3&d.type))return;const I=c.data,M=I[C+1],P=function YR(c){return 1==(1&c)}(M)?HI(I,d,u,p,Mh(M),w):void 0;Zg(P)||(Zg(_)||function WR(c){return 2==(2&c)}(M)&&(_=HI(I,null,u,p,C,w)),function A1(c,d,u,f,p){if(d)p?c.addClass(u,f):c.removeClass(u,f);else{let _=-1===f.indexOf("-")?void 0:ba.DashCase;null==p?c.removeStyle(u,f,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=ba.Important),c.setStyle(u,f,p,_))}}(f,w,Tc(Ir(),u),p,_))}function HI(c,d,u,f,p,_){const w=null===d;let C;for(;p>0;){const I=c[p],M=Array.isArray(I),P=M?I[1]:I,W=null===P;let ne=u[p+1];ne===Kt&&(ne=W?At:void 0);let de=W?D(ne,f):P===f?ne:void 0;if(M&&!Zg(de)&&(de=D(I,f)),Zg(de)&&(C=de,w))return C;const Le=c[p+1];p=w?Jd(Le):Mh(Le)}if(null!==d){let I=_?d.residualClasses:d.residualStyles;null!=I&&(C=D(I,f))}return C}function Zg(c){return void 0!==c}function Fx(c,d){return 0!=(c.flags&(d?8:16))}function Lx(c,d=""){const u=He(),f=In(),p=c+On,_=f.firstCreatePass?vm(f,p,1,d,null):f.data[p],w=Sm(f,u,_,d,c);u[p]=w,bl()&&hh(f,u,w,_),Jr(_,!1)}let Sm=(c,d,u,f,p)=>(Ha(!0),function Oc(c,d){return c.createText(d)}(d[jt],f));function Bx(c){return Zy("",c,""),Bx}function Zy(c,d,u){const f=He(),p=jc(f,c,d,u);return p!==Kt&&Hc(f,Ir(),p),Zy}function Yy(c,d,u,f,p){const _=He(),w=$c(_,c,d,u,f,p);return w!==Kt&&Hc(_,Ir(),w),Yy}function ZI(c,d,u){!function ka(c,d,u,f){const p=In(),_=Ts(2);p.firstUpdatePass&&BI(p,null,_,f);const w=He();if(u!==Kt&&Zr(w,_,u)){const C=p.data[Ir()];if(Fx(C,f)&&!LI(p,_)){let I=f?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(u=$e(I,u||"")),Tm(p,C,w,u,f)}else!function lO(c,d,u,f,p,_,w,C){p===Kt&&(p=At);let I=0,M=0,P=0<p.length?p[0]:null,W=0<_.length?_[0]:null;for(;null!==P||null!==W;){const ne=I<p.length?p[I+1]:void 0,de=M<_.length?_[M+1]:void 0;let Ye,Le=null;P===W?(I+=2,M+=2,ne!==de&&(Le=W,Ye=de)):null===W||null!==P&&P<W?(I+=2,Le=P):(M+=2,Le=W,Ye=de),null!==Le&&UI(c,d,u,f,Le,Ye,w,C),P=I<p.length?p[I]:null,W=M<_.length?_[M]:null}}(p,C,w,w[jt],w[_+1],w[_+1]=function aO(c,d,u){if(null==u||""===u)return At;const f=[],p=Ol(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)c(f,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&c(f,_,p[_]);else"string"==typeof p&&d(f,p);return f}(c,d,u),f,_)}}(k,Zc,jc(He(),c,d,u),!0)}function Yc(c,d,u){const f=He();return Zr(f,bi(),d)&&Zs(In(),ii(),f,c,d,f[jt],u,!0),Yc}function $x(c,d,u){const f=He();if(Zr(f,bi(),d)){const _=In(),w=ii();Zs(_,w,f,c,d,ex(yl(_.data),w,f),u,!0)}return $x}const eu=void 0;var eD=["en",[["a","p"],["AM","PM"],eu],[["AM","PM"],eu,eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eu,"{1} 'at' {0}",eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gx(c){const u=Math.floor(Math.abs(c)),f=c.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Br={};function Ah(c){const d=function Am(c){return c.toLowerCase().replace(/_/g,"-")}(c);let u=Xy(d);if(u)return u;const f=d.split("-")[0];if(u=Xy(f),u)return u;if("en"===f)return eD;throw new le(701,!1)}function oc(c){return Ah(c)[Jt.PluralCase]}function Xy(c){return c in Br||(Br[c]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[c]),Br[c]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const Rh="en-US";let eb=Rh;function l_(c,d,u,f,p){if(c=Fe(c),Array.isArray(c))for(let _=0;_<c.length;_++)l_(c[_],d,u,f,p);else{const _=In(),w=He();let C=Pl(c)?c:Fe(c.provide),I=pT(c);const M=mr(),P=1048575&M.providerIndexes,W=M.directiveStart,ne=M.providerIndexes>>20;if(Pl(c)||!c.multi){const de=new ma(I,p,_m),Le=fb(C,d,p?P:P+ne,W);-1===Le?(zf(Wi(M,w),_,C),Um(_,c,d.length),d.push(C),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(de),w.push(de)):(u[Le]=de,w[Le]=de)}else{const de=fb(C,d,P+ne,W),Le=fb(C,d,P,P+ne),mt=Le>=0&&u[Le];if(p&&!mt||!p&&!(de>=0&&u[de])){zf(Wi(M,w),_,C);const Rt=function d_(c,d,u,f,p){const _=new ma(c,u,_m);return _.multi=[],_.index=d,_.componentProviders=0,hb(_,p,f&&!u),_}(p?kD:ED,u.length,p,f,I);!p&&mt&&(u[Le].providerFactory=Rt),Um(_,c,d.length,0),d.push(C),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(Rt),w.push(Rt)}else Um(_,c,de>-1?de:Le,hb(u[p?Le:de],I,!p&&f));!p&&f&&mt&&u[Le].componentProviders++}}}function Um(c,d,u,f){const p=Pl(d),_=function wa(c){return!!c.useClass}(d);if(p||_){const I=(_?Fe(d.useClass):d).prototype.ngOnDestroy;if(I){const M=c.destroyHooks||(c.destroyHooks=[]);if(!p&&d.multi){const P=M.indexOf(u);-1===P?M.push(u,[f,I]):M[P+1].push(f,I)}else M.push(u,I)}}}function hb(c,d,u){return u&&c.componentProviders++,c.multi.push(d)-1}function fb(c,d,u,f){for(let p=u;p<f;p++)if(d[p]===c)return p;return-1}function ED(c,d,u,f){return lC(this.multi,[])}function kD(c,d,u,f){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=cn(u,u[st],this.providerFactory.index,f);_=C.slice(0,w),lC(p,_);for(let I=w;I<C.length;I++)_.push(C[I])}else _=[],lC(p,_);return _}function lC(c,d){for(let u=0;u<c.length;u++)d.push((0,c[u])());return d}function dC(c,d=[]){return u=>{u.providersResolver=(f,p)=>function MO(c,d,u){const f=In();if(f.firstCreatePass){const p=ci(c);l_(u,f.data,f.blueprint,p,!0),l_(d,f.data,f.blueprint,p,!1)}}(f,p?p(c):c,d)}}class zl{}class Hm{}function Fh(c,d){return new uC(c,d??null,[])}class uC extends zl{constructor(d,u,f){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ix(this);const p=pe(d);this._bootstrapComponents=Zo(p.bootstrap),this._r3Injector=RT(d,u,[{provide:zl,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver},...f],he(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class hC extends Hm{constructor(d){super(),this.moduleType=d}create(d){return new uC(this.moduleType,d,[])}}class fC extends zl{constructor(d){super(),this.componentFactoryResolver=new ix(this),this.instance=null;const u=new vh([...d.providers,{provide:zl,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],d.parent||Fc(),d.debugName,new Set(["environment"]));this.injector=u,d.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function DD(c,d,u=null){return new fC({providers:c,parent:d,debugName:u,runEnvironmentInitializers:!0}).injector}let Lh=(()=>{class c{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=Ei(0,u.type),p=f.length>0?DD([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return c.\u0275prov=Wt({token:c,providedIn:"environment",factory:()=>new c(Yn(Nl))}),c})();function Kc(c){c.getStandaloneInjector=d=>d.get(Lh).getOrCreateStandaloneInjector(c)}function pC(c,d,u){const f=Lr()+c,p=He();return p[f]===Kt?nc(p,f,u?d.call(u):d()):function Bg(c,d){return c[d]}(p,f)}function Vh(c,d,u,f){return yC(He(),Lr(),c,d,u,f)}function PD(c,d,u,f,p){return BD(He(),Lr(),c,d,u,f,p)}function ND(c,d,u,f,p,_){return VD(He(),Lr(),c,d,u,f,p,_)}function gC(c,d,u,f,p,_,w){return function UD(c,d,u,f,p,_,w,C,I){const M=d+u;return function xa(c,d,u,f,p,_){const w=Yo(c,d,u,f);return Yo(c,d+2,p,_)||w}(c,M,p,_,w,C)?nc(c,M+4,I?f.call(I,p,_,w,C):f(p,_,w,C)):jm(c,M+4)}(He(),Lr(),c,d,u,f,p,_,w)}function jm(c,d){const u=c[d];return u===Kt?void 0:u}function yC(c,d,u,f,p,_){const w=d+u;return Zr(c,w,p)?nc(c,w+1,_?f.call(_,p):f(p)):jm(c,w+1)}function BD(c,d,u,f,p,_,w){const C=d+u;return Yo(c,C,p,_)?nc(c,C+2,w?f.call(w,p,_):f(p,_)):jm(c,C+2)}function VD(c,d,u,f,p,_,w,C){const I=d+u;return function Yd(c,d,u,f,p){const _=Yo(c,d,u,f);return Zr(c,d+2,p)||_}(c,I,p,_,w)?nc(c,I+3,C?f.call(C,p,_,w):f(p,_,w)):jm(c,I+3)}function g_(c,d){const u=In();let f;const p=c+On;u.firstCreatePass?(f=function __(c,d){if(d)for(let u=d.length-1;u>=0;u--){const f=d[u];if(c===f.name)return f}}(d,u.pipeRegistry),u.data[p]=f,f.onDestroy&&(u.destroyHooks??=[]).push(p,f.onDestroy)):f=u.data[p];const _=f.factory||(f.factory=ca(f.type)),w=yn(_m);try{const C=El(!1),I=_();return El(C),function Fs(c,d,u,f){u>=c.data.length&&(c.data[u]=null,c.blueprint[u]=null),d[u]=f}(u,He(),p,I),I}finally{yn(w)}}function mb(c,d,u){const f=c+On,p=He(),_=ua(p,f);return ji(p,f)?yC(p,Lr(),d,_.transform,u,_):_.transform(u)}function wC(c,d,u,f){const p=c+On,_=He(),w=ua(_,p);return ji(_,p)?BD(_,Lr(),d,w.transform,u,f,w):w.transform(u,f)}function $m(c,d,u,f,p){const _=c+On,w=He(),C=ua(w,_);return ji(w,_)?VD(w,Lr(),d,C.transform,u,f,p,C):C.transform(u,f,p)}function ji(c,d){return c[st].data[d].pure}function xC(c){return d=>{setTimeout(c,void 0,d)}}const Qc=class zD extends s.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,u,f){let p=d,_=u||(()=>null),w=f;if(d&&"object"==typeof d){const I=d;p=I.next?.bind(I),_=I.error?.bind(I),w=I.complete?.bind(I)}this.__isAsync&&(_=xC(_),p&&(p=xC(p)),w&&(w=xC(w)));const C=super.subscribe({next:p,error:_,complete:w});return d instanceof Z.w0&&d.add(C),C}};function NO(){return this._results[Symbol.iterator]()}class y_{get changes(){return this._changes||(this._changes=new Qc)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=y_.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=NO)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,u){return this._results.reduce(d,u)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,u){const f=this;f.dirty=!1;const p=function Zi(c){return c.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function sr(c,d,u){if(c.length!==d.length)return!1;for(let f=0;f<c.length;f++){let p=c[f],_=d[f];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(f._results,p,u))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gm=(()=>{class c{}return c.__NG_ELEMENT_ID__=$D,c})();const jD=Gm,pb=class extends jD{constructor(d,u,f){super(),this._declarationLView=d,this._declarationTContainer=u,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,u){return this.createEmbeddedViewImpl(d,u,null)}createEmbeddedViewImpl(d,u,f){const w=this._declarationTContainer.tView,C=Sg(this._declarationLView,w,d,4096&this._declarationLView[sn]?4096:16,null,w.declTNode,null,null,null,u||null,f||null);C[td]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[fr];return null!==M&&(C[fr]=M.createEmbeddedView(w)),bm(w,C,d),new zc(C)}};function $D(){return Ks(mr(),He())}function Ks(c,d){return 4&c.type?new pb(d,c,hm(c,d)):null}let vb=(()=>{class c{}return c.__NG_ELEMENT_ID__=ZD,c})();function ZD(){return yb(mr(),He())}const C_=vb,EC=class extends C_{constructor(d,u,f){super(),this._lContainer=d,this._hostTNode=u,this._hostLView=f}get element(){return hm(this._hostTNode,this._hostLView)}get injector(){return new $a(this._hostTNode,this._hostLView)}get parentInjector(){const d=Je(this._hostTNode,this._hostLView);if(eh(d)){const u=Cl(d,this._hostLView),f=$o(d);return new $a(u[st].data[f+8],u)}return new $a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const u=kC(this._lContainer);return null!==u&&u[d]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(d,u,f){let p,_;"number"==typeof f?p=f:null!=f&&(p=f.index,_=f.injector);const C=d.createEmbeddedViewImpl(u||{},_,null);return this.insertImpl(C,p,false),C}createComponent(d,u,f,p,_){const w=d&&!function Il(c){return"function"==typeof c}(d);let C;if(w)C=u;else{const Ye=u||{};C=Ye.index,f=Ye.injector,p=Ye.projectableNodes,_=Ye.environmentInjector||Ye.ngModuleRef}const I=w?d:new Eh(on(d)),M=f||this.parentInjector;if(!_&&null==I.ngModule){const mt=(w?M:this.parentInjector).get(Nl,null);mt&&(_=mt)}on(I.componentType??{});const de=I.create(M,p,null,_);return this.insertImpl(de.hostView,C,false),de}insert(d,u){return this.insertImpl(d,u,!1)}insertImpl(d,u,f){const p=d._lView,_=p[st];if(function Uu(c){return Gr(c[Di])}(p)){const I=this.indexOf(d);if(-1!==I)this.detach(I);else{const M=p[Di],P=new EC(M,M[Nr],M[Di]);P.detach(P.indexOf(d))}}const w=this._adjustIndex(u),C=this._lContainer;if(function zk(c,d,u,f){const p=jr+f,_=u.length;f>0&&(u[p-1][Kr]=d),f<_-jr?(d[Kr]=u[p],As(u,jr+f,d)):(u.push(d),d[Kr]=null),d[Di]=u;const w=d[td];null!==w&&u!==w&&function jk(c,d){const u=c[xc];d[yi]!==d[Di][Di][yi]&&(c[Fa]=!0),null===u?c[xc]=[d]:u.push(d)}(w,d);const C=d[fr];null!==C&&C.insertView(c),d[sn]|=128}(_,p,C,w),!f){const I=Qa(w,C),M=p[jt],P=dg(M,C[Eo]);null!==P&&function S1(c,d,u,f,p,_){f[kn]=p,f[Nr]=d,mh(c,f,u,1,p,_)}(_,C[Nr],M,p,P,I)}return d.attachToViewContainerRef(),As(E_(C),w,d),d}move(d,u){return this.insert(d,u)}indexOf(d){const u=kC(this._lContainer);return null!==u?u.indexOf(d):-1}remove(d){const u=this._adjustIndex(d,-1),f=Hv(this._lContainer,u);f&&(qa(E_(this._lContainer),u),$k(f[st],f))}detach(d){const u=this._adjustIndex(d,-1),f=Hv(this._lContainer,u);return f&&null!=qa(E_(this._lContainer),u)?new zc(f):null}_adjustIndex(d,u=0){return d??this.length+u}};function kC(c){return c[8]}function E_(c){return c[8]||(c[8]=[])}function yb(c,d){let u;const f=d[c.index];return Gr(f)?u=f:(u=ZT(f,d,null,c),d[c.index]=u,Ey(d,u)),k_(u,d,c,f),new EC(u,c,d)}let k_=function TC(c,d,u,f){if(c[Eo])return;let p;p=8&u.type?ni(f):function YD(c,d){const u=c[jt],f=u.createComment(""),p=qr(d,c);return Bd(u,dg(u,p),f,function mo(c,d){return c.nextSibling(d)}(u,p),!1),f}(d,u),c[Eo]=p};class bb{constructor(d){this.queryList=d,this.matches=null}clone(){return new bb(this.queryList)}setDirty(){this.queryList.setDirty()}}class wb{constructor(d=[]){this.queries=d}createEmbeddedView(d){const u=d.queries;if(null!==u){const f=null!==d.contentQueries?d.contentQueries[0]:u.length,p=[];for(let _=0;_<f;_++){const w=u.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new wb(p)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let u=0;u<this.queries.length;u++)null!==Tb(d,u).matches&&this.queries[u].setDirty()}}class IC{constructor(d,u,f=null){this.predicate=d,this.flags=u,this.read=f}}class xb{constructor(d=[]){this.queries=d}elementStart(d,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(d,u)}elementEnd(d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(d)}embeddedTView(d){let u=null;for(let f=0;f<this.length;f++){const p=null!==u?u.length:0,_=this.getByIndex(f).embeddedTView(d,p);_&&(_.indexInDeclarationView=f,null!==u?u.push(_):u=[_])}return null!==u?new xb(u):null}template(d,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(d,u)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class qm{constructor(d,u=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(d,u){this.isApplyingToNode(u)&&this.matchTNode(d,u)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,u){this.elementStart(d,u)}embeddedTView(d,u){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,u),new qm(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=d.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(d,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const _=f[p];this.matchTNodeWithReadOption(d,u,Qs(u,_)),this.matchTNodeWithReadOption(d,u,li(u,d,_,!1,!1))}else f===Gm?4&u.type&&this.matchTNodeWithReadOption(d,u,-1):this.matchTNodeWithReadOption(d,u,li(u,d,f,!1,!1))}matchTNodeWithReadOption(d,u,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===wh||p===vb||p===Gm&&4&u.type)this.addMatch(u.index,-2);else{const _=li(u,d,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,f)}}addMatch(d,u){null===this.matches?this.matches=[d,u]:this.matches.push(d,u)}}function Qs(c,d){const u=c.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===d)return u[f+1];return null}function JD(c,d,u,f){return-1===u?function QD(c,d){return 11&c.type?hm(c,d):4&c.type?Ks(c,d):null}(d,c):-2===u?function Wm(c,d,u){return u===wh?hm(d,c):u===Gm?Ks(d,c):u===vb?yb(d,c):void 0}(c,d,f):cn(c,c[st],u,d)}function XD(c,d,u,f){const p=d[fr].queries[f];if(null===p.matches){const _=c.data,w=u.matches,C=[];for(let I=0;I<w.length;I+=2){const M=w[I];C.push(M<0?null:JD(d,_[M],w[I+1],u.metadata.read))}p.matches=C}return p.matches}function Js(c,d,u,f){const p=c.queries.getByIndex(u),_=p.matches;if(null!==_){const w=XD(c,d,p,u);for(let C=0;C<_.length;C+=2){const I=_[C];if(I>0)f.push(w[C/2]);else{const M=_[C+1],P=d[-I];for(let W=jr;W<P.length;W++){const ne=P[W];ne[td]===ne[Di]&&Js(ne[st],ne,M,f)}if(null!==P[xc]){const W=P[xc];for(let ne=0;ne<W.length;ne++){const de=W[ne];Js(de[st],de,M,f)}}}}}return f}function Cb(c){const d=He(),u=In(),f=bd();ha(f+1);const p=Tb(u,f);if(c.dirty&&function Gp(c){return 4==(4&c[sn])}(d)===(2==(2&p.metadata.flags))){if(null===p.matches)c.reset([]);else{const _=p.crossesNgTemplate?Js(u,d,f,[]):XD(u,d,p,f);c.reset(_,iR),c.notifyOnChanges()}return!0}return!1}function di(c,d,u){const f=In();f.firstCreatePass&&(kb(f,new IC(c,d,u),-1),2==(2&d)&&(f.staticViewQueries=!0)),DC(f,He(),d)}function eS(c,d,u,f){const p=In();if(p.firstCreatePass){const _=mr();kb(p,new IC(d,u,f),_.index),function Zm(c,d){const u=c.contentQueries||(c.contentQueries=[]);d!==(u.length?u[u.length-1]:-1)&&u.push(c.queries.length-1,d)}(p,c),2==(2&u)&&(p.staticContentQueries=!0)}DC(p,He(),u)}function Eb(){return function Jc(c,d){return c[fr].queries[d].queryList}(He(),bd())}function DC(c,d,u){const f=new y_(4==(4&u));(function lR(c,d,u,f){const p=KT(d);p.push(u),c.firstCreatePass&&QT(c).push(f,p.length-1)})(c,d,f,f.destroy),null===d[fr]&&(d[fr]=new wb),d[fr].queries.push(new bb(f))}function kb(c,d,u){null===c.queries&&(c.queries=new xb),c.queries.track(new qm(d,u))}function Tb(c,d){return c.queries.getByIndex(d)}function SC(c,d){return Ks(c,d)}function Sb(c){return!!pe(c)}const fS=new Un("Application Initializer");let Xm=(()=>{class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=bn(fS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const p of this.appInits){const _=p();if(Sh(_))u.push(_);else if($y(_)){const w=new Promise((C,I)=>{_.subscribe({complete:C,error:I})});u.push(w)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(p=>{this.reject(p)}),0===u.length&&f(),this.initialized=!0}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),mS=(()=>{class c{log(u){console.log(u)}warn(u){console.warn(u)}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const D_=new Un("LocaleId",{providedIn:"root",factory:()=>bn(D_,dt.Optional|dt.SkipSelf)||function I_(){return typeof $localize<"u"&&$localize.locale||Rh}()}),pS=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let NC=(()=>{class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new B.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class nu{constructor(d,u){this.ngModuleFactory=d,this.componentFactories=u}}let FC=(()=>{class c{compileModuleSync(u){return new hC(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),_=Zo(pe(u).declarations).reduce((w,C)=>{const I=on(C);return I&&w.push(new Eh(I)),w},[]);return new nu(f,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const jh=(()=>Promise.resolve(0))();function Ob(c){typeof Zone>"u"?jh.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}function Pb(...c){}class Ai{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qc(!1),this.onMicrotaskEmpty=new Qc(!1),this.onStable=new Qc(!1),this.onError=new Qc(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&u,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function WO(){let c=fn.requestAnimationFrame,d=fn.cancelAnimationFrame;if(typeof Zone<"u"&&c&&d){const u=c[Zone.__symbol__("OriginalDelegate")];u&&(c=u);const f=d[Zone.__symbol__("OriginalDelegate")];f&&(d=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function Qo(c){const d=()=>{!function vS(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(fn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,BC(c),c.isCheckStableRunning=!0,$h(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),BC(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,p,_,w,C)=>{try{return VC(c),u.invokeTask(p,_,w,C)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||c.shouldCoalesceRunChangeDetection)&&d(),cc(c)}},onInvoke:(u,f,p,_,w,C,I)=>{try{return VC(c),u.invoke(p,_,w,C,I)}finally{c.shouldCoalesceRunChangeDetection&&d(),cc(c)}},onHasTask:(u,f,p,_)=>{u.hasTask(p,_),f===p&&("microTask"==_.change?(c._hasPendingMicrotasks=_.microTask,BC(c),$h(c)):"macroTask"==_.change&&(c.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,f,p,_)=>(u.handleError(p,_),c.runOutsideAngular(()=>c.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ai.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Ai.isInAngularZone())throw new le(909,!1)}run(d,u,f){return this._inner.run(d,u,f)}runTask(d,u,f,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,d,S_,Pb,Pb);try{return _.runTask(w,u,f)}finally{_.cancelTask(w)}}runGuarded(d,u,f){return this._inner.runGuarded(d,u,f)}runOutsideAngular(d){return this._outer.run(d)}}const S_={};function $h(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function BC(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function VC(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function cc(c){c._nesting--,$h(c)}class yS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qc,this.onMicrotaskEmpty=new Qc,this.onStable=new Qc,this.onError=new Qc}run(d,u,f){return d.apply(u,f)}runGuarded(d,u,f){return d.apply(u,f)}runOutsideAngular(d){return d()}runTask(d,u,f,p){return d.apply(u,f)}}const M_=new Un("",{providedIn:"root",factory:UC});function UC(){const c=bn(Ai);let d=!0;const u=new ae.y(p=>{d=c.isStable&&!c.hasPendingMacrotasks&&!c.hasPendingMicrotasks,c.runOutsideAngular(()=>{p.next(d),p.complete()})}),f=new ae.y(p=>{let _;c.runOutsideAngular(()=>{_=c.onStable.subscribe(()=>{Ai.assertNotInAngularZone(),Ob(()=>{!d&&!c.hasPendingMacrotasks&&!c.hasPendingMicrotasks&&(d=!0,p.next(!0))})})});const w=c.onUnstable.subscribe(()=>{Ai.assertInAngularZone(),d&&(d=!1,c.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}});return(0,ce.T)(u,f.pipe((0,Se.B)()))}const bS=new Un(""),wS=new Un("");let HC,ZO=(()=>{class c{constructor(u,f,p){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,HC||(function YO(c){HC=c}(p),p.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ai.assertNotInAngularZone(),Ob(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ob(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,p){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,p){return[]}}return c.\u0275fac=function(u){return new(u||c)(Yn(Ai),Yn(xS),Yn(wS))},c.\u0275prov=Wt({token:c,factory:c.\u0275fac}),c})(),xS=(()=>{class c{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return HC?.findTestabilityInTree(this,u,f)??null}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})(),iu=null;const CS=new Un("AllowMultipleToken"),zC=new Un("PlatformDestroyListeners"),jC=new Un("appBootstrapListener");class JO{constructor(d,u){this.name=d,this.token=u}}function TS(c,d,u=[]){const f=`Platform: ${d}`,p=new Un(f);return(_=[])=>{let w=el();if(!w||w.injector.get(CS,!1)){const C=[...u,..._,{provide:p,useValue:!0}];c?c(C):function kS(c){if(iu&&!iu.get(CS,!1))throw new le(400,!1);(function ES(){!function If(c){Tf=c}(()=>{throw new le(600,!1)})})(),iu=c;const d=c.get(qC);(function $C(c){c.get(Ja,null)?.forEach(u=>u())})(c)}(function io(c=[],d){return Wd.create({name:d,providers:[{provide:Pw,useValue:"platform"},{provide:zC,useValue:new Set([()=>iu=null])},...c]})}(C,f))}return function GC(c){const d=el();if(!d)throw new le(401,!1);return d}()}}function el(){return iu?.get(qC)??null}let qC=(()=>{class c{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const p=function Nb(c="zone.js",d){return"noop"===c?new yS:"zone.js"===c?new Ai(d):c}(f?.ngZone,function Ri(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:c?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:c?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return p.run(()=>{const _=function ID(c,d,u){return new uC(c,d,u)}(u.moduleType,this.injector,function Gl(c){return[{provide:Ai,useFactory:c},{provide:rm,multi:!0,useFactory:()=>{const d=bn(ro,{optional:!0});return()=>d.initialize()}},{provide:WC,useFactory:nP},{provide:M_,useFactory:UC}]}(()=>p)),w=_.injector.get(Ch,null);return p.runOutsideAngular(()=>{const C=p.onError.subscribe({next:I=>{w.handleError(I)}});_.onDestroy(()=>{$l(this._modules,_),C.unsubscribe()})}),function _o(c,d,u){try{const f=u();return Sh(f)?f.catch(p=>{throw d.runOutsideAngular(()=>c.handleError(p)),p}):f}catch(f){throw d.runOutsideAngular(()=>c.handleError(f)),f}}(w,p,()=>{const C=_.injector.get(Xm);return C.runInitializers(),C.donePromise.then(()=>(function tb(c){pt(c,"Expected localeId to be defined"),"string"==typeof c&&(eb=c.toLowerCase().replace(/_/g,"-"))}(_.injector.get(D_,Rh)||Rh),this._moduleDoBootstrap(_),_))})})}bootstrapModule(u,f=[]){const p=$i({},f);return function KO(c,d,u){const f=new hC(u);return Promise.resolve(f)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const f=u.injector.get(Gh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new le(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(zC,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(u){return new(u||c)(Yn(Wd))},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function $i(c,d){return Array.isArray(d)?d.reduce($i,c):{...c,...d}}let Gh=(()=>{class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=bn(WC),this.zoneIsStable=bn(M_),this.componentTypes=[],this.components=[],this.isStable=bn(NC).hasPendingTasks.pipe((0,Ve.w)(u=>u?(0,ue.of)(!1):this.zoneIsStable),(0,we.x)(),(0,Se.B)()),this._injector=bn(Nl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const p=u instanceof um;if(!this._injector.get(Xm).done)throw!p&&J(u),new le(405,!1);let w;w=p?u:this._injector.get(Cg).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const C=function QO(c){return c.isBoundToModule}(w)?void 0:this._injector.get(zl),M=w.create(Wd.NULL,[],f||w.selector,C),P=M.location.nativeElement,W=M.injector.get(bS,null);return W?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),$l(this.components,M),W?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;$l(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(jC,[]);f.push(...this._bootstrapListeners),f.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>$l(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new le(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function $l(c,d){const u=c.indexOf(d);u>-1&&c.splice(u,1)}const WC=new Un("",{providedIn:"root",factory:()=>bn(Ch).handleError.bind(void 0)});function nP(){const c=bn(Ai),d=bn(Ch);return u=>c.runOutsideAngular(()=>d.handleError(u))}let ro=(()=>{class c{constructor(){this.zone=bn(Ai),this.applicationRef=bn(Gh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function ql(){return!1}let ru=(()=>{class c{}return c.__NG_ELEMENT_ID__=ou,c})();function ou(c){return function Lb(c,d,u){if(ds(c)&&!u){const f=Ho(c.index,d);return new zc(f,f)}return 47&c.type?new zc(d[yi],d):null}(mr(),He(),16==(16&c))}class JC{constructor(){}supports(d){return Py(d)}create(d){return new su(d)}}const Ki=(c,d)=>d;class su{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||Ki}forEachItem(d){let u;for(u=this._itHead;null!==u;u=u._next)d(u)}forEachOperation(d){let u=this._itHead,f=this._removalsHead,p=0,_=null;for(;u||f;){const w=!f||u&&u.currentIndex<MS(f,p,_)?u:f,C=MS(w,p,_),I=w.currentIndex;if(w===f)p--,f=f._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{_||(_=[]);const M=C-p,P=I-p;if(M!=P){for(let ne=0;ne<M;ne++){const de=ne<_.length?_[ne]:_[ne]=0,Le=de+ne;P<=Le&&Le<M&&(_[ne]=de+1)}_[w.previousIndex]=P-M}}C!==I&&d(w,C,I)}}forEachPreviousItem(d){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)d(u)}forEachAddedItem(d){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)d(u)}forEachMovedItem(d){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)d(u)}forEachRemovedItem(d){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)d(u)}forEachIdentityChange(d){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)d(u)}diff(d){if(null==d&&(d=[]),!Py(d))throw new le(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let p,_,w,u=this._itHead,f=!1;if(Array.isArray(d)){this.length=d.length;for(let C=0;C<this.length;C++)_=d[C],w=this._trackByFn(C,_),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,_,w,C)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,w,C),f=!0),u=u._next}else p=0,function OR(c,d){if(Array.isArray(c))for(let u=0;u<c.length;u++)d(c[u]);else{const u=c[Symbol.iterator]();let f;for(;!(f=u.next()).done;)d(f.value)}}(d,C=>{w=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,C,w,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,w,p),f=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,u,f,p){let _;return null===d?_=this._itTail:(_=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(d.item,u)||this._addIdentityChange(d,u),this._reinsertAfter(d,_,p)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(d.item,u)||this._addIdentityChange(d,u),this._moveAfter(d,_,p)):d=this._addAfter(new DS(u,f),_,p),d}_verifyReinsertion(d,u,f,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?d=this._reinsertAfter(_,d._prev,p):d.currentIndex!=p&&(d.currentIndex=p,this._addToMoves(d,p)),d}_truncate(d){for(;null!==d;){const u=d._next;this._addToRemovals(this._unlink(d)),d=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const p=d._prevRemoved,_=d._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(d,u,f),this._addToMoves(d,f),d}_moveAfter(d,u,f){return this._unlink(d),this._insertAfter(d,u,f),this._addToMoves(d,f),d}_addAfter(d,u,f){return this._insertAfter(d,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,u,f){const p=null===u?this._itHead:u._next;return d._next=p,d._prev=u,null===p?this._itTail=d:p._prev=d,null===u?this._itHead=d:u._next=d,null===this._linkedRecords&&(this._linkedRecords=new Yh),this._linkedRecords.put(d),d.currentIndex=f,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const u=d._prev,f=d._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,d}_addToMoves(d,u){return d.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yh),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,u){return d.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class DS{constructor(d,u){this.item=d,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SS{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,d))return f;return null}remove(d){const u=d._prevDup,f=d._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Yh{constructor(){this.map=new Map}put(d){const u=d.trackById;let f=this.map.get(u);f||(f=new SS,this.map.set(u,f)),f.add(d)}get(d,u){const p=this.map.get(d);return p?p.get(d,u):null}remove(d){const u=d.trackById;return this.map.get(u).remove(d)&&this.map.delete(u),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MS(c,d,u){const f=c.previousIndex;if(null===f)return f;let p=0;return u&&f<u.length&&(p=u[f]),f+d+p}class XC{constructor(){}supports(d){return d instanceof Map||Lg(d)}create(){return new Bn}}class Bn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let u;for(u=this._mapHead;null!==u;u=u._next)d(u)}forEachPreviousItem(d){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)d(u)}forEachChangedItem(d){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)d(u)}forEachAddedItem(d){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)d(u)}forEachRemovedItem(d){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)d(u)}diff(d){if(d){if(!(d instanceof Map||Lg(d)))throw new le(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(d,(f,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,f);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,u){if(d){const f=d._prev;return u._next=d,u._prev=f,d._prev=u,f&&(f._next=u),d===this._mapHead&&(this._mapHead=u),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(d,u){if(this._records.has(d)){const p=this._records.get(d);this._maybeAddToChanges(p,u);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const f=new mi(d);return this._records.set(d,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,u){Object.is(u,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=u,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,u){d instanceof Map?d.forEach(u):Object.keys(d).forEach(f=>u(d[f],f))}}class mi{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kh(){return new R_([new JC])}let R_=(()=>{class c{constructor(u){this.factories=u}static create(u,f){if(null!=f){const p=f.factories.slice();u=u.concat(p)}return new c(u)}static extend(u){return{provide:c,useFactory:f=>c.create(u,f||Kh()),deps:[[c,new Ws,new Rs]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(null!=f)return f;throw new le(901,!1)}}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:Kh}),c})();function eE(){return new O_([new XC])}let O_=(()=>{class c{constructor(u){this.factories=u}static create(u,f){if(f){const p=f.factories.slice();u=u.concat(p)}return new c(u)}static extend(u){return{provide:c,useFactory:f=>c.create(u,f||eE()),deps:[[c,new Ws,new Rs]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(f)return f;throw new le(901,!1)}}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:eE}),c})();const aP=TS(null,"core",[]);let cP=(()=>{class c{constructor(u){}}return c.\u0275fac=function(u){return new(u||c)(Yn(Gh))},c.\u0275mod=Oa({type:c}),c.\u0275inj=si({}),c})();function oE(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}function HS(c){const d=on(c);if(!d)return null;const u=new Eh(d);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},3106:(It,Re,z)=>{"use strict";z.d(Re,{Z:()=>ot});var s=z(9058),Z=z(4537),B=z(534),ae=z(7879);class ce{constructor(it,We){this._delegate=it,this.firebase=We,(0,B._addComponent)(it,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(it,We=B._DEFAULT_ENTRY_NAME){var xt;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(it);return!Ct.isInitialized()&&"EXPLICIT"===(null===(xt=Ct.getComponent())||void 0===xt?void 0:xt.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:We})}_removeServiceInstance(it,We=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(We)}_addComponent(it){(0,B._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,B._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function we(){const Fe=function Ve(Fe){const it={},We={__esModule:!0,initializeApp:function le(je,oe={}){const ut=B.initializeApp(je,oe);if((0,s.r3)(it,ut.name))return it[ut.name];const Qe=new Fe(ut,We);return it[ut.name]=Qe,Qe},app:Ct,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function me(je){const oe=je.name,ut=oe.replace("-compat","");if(B._registerComponent(je)&&"PUBLIC"===je.type){const Qe=(pn=Ct())=>{if("function"!=typeof pn[ut])throw Se.create("invalid-app-argument",{appName:oe});return pn[ut]()};void 0!==je.serviceProps&&(0,s.ZB)(Qe,je.serviceProps),We[ut]=Qe,Fe.prototype[ut]=function(...pn){return this._getService.bind(this,oe).apply(this,je.multipleInstances?pn:[])}}return"PUBLIC"===je.type?We[ut]:null},removeApp:function xt(je){delete it[je]},useAsService:function xe(je,oe){return"serverAuth"===oe?null:oe},modularAPIs:B}};function Ct(je){if(!(0,s.r3)(it,je=je||B._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:je});return it[je]}return We.default=We,Object.defineProperty(We,"apps",{get:function Ae(){return Object.keys(it).map(je=>it[je])}}),Ct.App=Fe,We}(ce);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function it(We){(0,s.ZB)(Fe,We)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Fe}(),ee=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=Q;!function Ne(Fe){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Fe)}()},534:(It,Re,z)=>{"use strict";z.r(Re),z.d(Re,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>lo,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>Li,_addOrOverwriteComponent:()=>Or,_apps:()=>Lt,_clearComponents:()=>An,_components:()=>yn,_getProvider:()=>gi,_registerComponent:()=>fn,_removeServiceInstance:()=>co,deleteApp:()=>Zn,getApp:()=>ur,getApps:()=>Xn,initializeApp:()=>Bo,onLog:()=>Ii,registerVersion:()=>ei,setLogLevel:()=>Yn});var s=z(5861),Z=z(4537),B=z(7879),ae=z(9058);const ce=(Ce,fe)=>fe.some(Ge=>Ce instanceof Ge);let ue,Se;const Q=new WeakMap,ee=new WeakMap,he=new WeakMap,$e=new WeakMap,Ne=new WeakMap;let it={get(Ce,fe,Ge){if(Ce instanceof IDBTransaction){if("done"===fe)return ee.get(Ce);if("objectStoreNames"===fe)return Ce.objectStoreNames||he.get(Ce);if("store"===fe)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return le(Ce[fe])},set:(Ce,fe,Ge)=>(Ce[fe]=Ge,!0),has:(Ce,fe)=>Ce instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Ce};function Ct(Ce){return"function"==typeof Ce?function xt(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...fe){return Ce.apply(Ae(this),fe),le(Q.get(this))}:function(...fe){return le(Ce.apply(Ae(this),fe))}:function(fe,...Ge){const kt=Ce.call(Ae(this),fe,...Ge);return he.set(kt,fe.sort?fe.sort():[fe]),le(kt)}}(Ce):(Ce instanceof IDBTransaction&&function Fe(Ce){if(ee.has(Ce))return;const fe=new Promise((Ge,kt)=>{const zt=()=>{Ce.removeEventListener("complete",tn),Ce.removeEventListener("error",wn),Ce.removeEventListener("abort",wn)},tn=()=>{Ge(),zt()},wn=()=>{kt(Ce.error||new DOMException("AbortError","AbortError")),zt()};Ce.addEventListener("complete",tn),Ce.addEventListener("error",wn),Ce.addEventListener("abort",wn)});ee.set(Ce,fe)}(Ce),ce(Ce,function Ve(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,it):Ce)}function le(Ce){if(Ce instanceof IDBRequest)return function ot(Ce){const fe=new Promise((Ge,kt)=>{const zt=()=>{Ce.removeEventListener("success",tn),Ce.removeEventListener("error",wn)},tn=()=>{Ge(le(Ce.result)),zt()},wn=()=>{kt(Ce.error),zt()};Ce.addEventListener("success",tn),Ce.addEventListener("error",wn)});return fe.then(Ge=>{Ge instanceof IDBCursor&&Q.set(Ge,Ce)}).catch(()=>{}),Ne.set(fe,Ce),fe}(Ce);if($e.has(Ce))return $e.get(Ce);const fe=Ct(Ce);return fe!==Ce&&($e.set(Ce,fe),Ne.set(fe,Ce)),fe}const Ae=Ce=>Ne.get(Ce),je=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ut=new Map;function Qe(Ce,fe){if(!(Ce instanceof IDBDatabase)||fe in Ce||"string"!=typeof fe)return;if(ut.get(fe))return ut.get(fe);const Ge=fe.replace(/FromIndex$/,""),kt=fe!==Ge,zt=oe.includes(Ge);if(!(Ge in(kt?IDBIndex:IDBObjectStore).prototype)||!zt&&!je.includes(Ge))return;const tn=function(){var wn=(0,s.Z)(function*(ir,..._i){const wo=this.transaction(ir,zt?"readwrite":"readonly");let hr=wo.store;return kt&&(hr=hr.index(_i.shift())),(yield Promise.all([hr[Ge](..._i),zt&&wo.done]))[0]});return function(_i){return wn.apply(this,arguments)}}();return ut.set(fe,tn),tn}!function We(Ce){it=Ce(it)}(Ce=>({...Ce,get:(fe,Ge,kt)=>Qe(fe,Ge)||Ce.get(fe,Ge,kt),has:(fe,Ge)=>!!Qe(fe,Ge)||Ce.has(fe,Ge)}));class pn{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function Fi(Ce){const fe=Ce.getComponent();return"VERSION"===fe?.type}(Ge)){const kt=Ge.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Ge=>Ge).join(" ")}}const Qi="@firebase/app",_e=new B.Yd("@firebase/app"),dt="[DEFAULT]",Mt={[Qi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,yn=new Map;function Li(Ce,fe){try{Ce.container.addComponent(fe)}catch(Ge){_e.debug(`Component ${fe.name} failed to register with FirebaseApp ${Ce.name}`,Ge)}}function Or(Ce,fe){Ce.container.addOrOverwriteComponent(fe)}function fn(Ce){const fe=Ce.name;if(yn.has(fe))return _e.debug(`There were multiple attempts to register component ${fe}.`),!1;yn.set(fe,Ce);for(const Ge of Lt.values())Li(Ge,Ce);return!0}function gi(Ce,fe){const Ge=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),Ce.container.getProvider(fe)}function co(Ce,fe,Ge=dt){gi(Ce,fe).clearInstance(Ge)}function An(){yn.clear()}const Qt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ai{constructor(fe,Ge,kt){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const lo="9.23.0";function Bo(Ce,fe={}){let Ge=Ce;"object"!=typeof fe&&(fe={name:fe});const kt=Object.assign({name:dt,automaticDataCollectionEnabled:!1},fe),zt=kt.name;if("string"!=typeof zt||!zt)throw Qt.create("bad-app-name",{appName:String(zt)});if(Ge||(Ge=(0,ae.aH)()),!Ge)throw Qt.create("no-options");const tn=Lt.get(zt);if(tn){if((0,ae.vZ)(Ge,tn.options)&&(0,ae.vZ)(kt,tn.config))return tn;throw Qt.create("duplicate-app",{appName:zt})}const wn=new Z.H0(zt);for(const _i of yn.values())wn.addComponent(_i);const ir=new ai(Ge,kt,wn);return Lt.set(zt,ir),ir}function ur(Ce=dt){const fe=Lt.get(Ce);if(!fe&&Ce===dt&&(0,ae.aH)())return Bo();if(!fe)throw Qt.create("no-app",{appName:Ce});return fe}function Xn(){return Array.from(Lt.values())}function Zn(Ce){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,s.Z)(function*(Ce){const fe=Ce.name;Lt.has(fe)&&(Lt.delete(fe),yield Promise.all(Ce.container.getProviders().map(Ge=>Ge.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function ei(Ce,fe,Ge){var kt;let zt=null!==(kt=Mt[Ce])&&void 0!==kt?kt:Ce;Ge&&(zt+=`-${Ge}`);const tn=zt.match(/\s|\//),wn=fe.match(/\s|\//);if(tn||wn){const ir=[`Unable to register library "${zt}" with version "${fe}":`];return tn&&ir.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),tn&&wn&&ir.push("and"),wn&&ir.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void _e.warn(ir.join(" "))}fn(new Z.wA(`${zt}-version`,()=>({library:zt,version:fe}),"VERSION"))}function Ii(Ce,fe){if(null!==Ce&&"function"!=typeof Ce)throw Qt.create("invalid-log-argument");(0,B.Am)(Ce,fe)}function Yn(Ce){(0,B.Ub)(Ce)}const Pr="firebase-heartbeat-database",bn=1,X="firebase-heartbeat-store";let K=null;function U(){return K||(K=function me(Ce,fe,{blocked:Ge,upgrade:kt,blocking:zt,terminated:tn}={}){const wn=indexedDB.open(Ce,fe),ir=le(wn);return kt&&wn.addEventListener("upgradeneeded",_i=>{kt(le(wn.result),_i.oldVersion,_i.newVersion,le(wn.transaction),_i)}),Ge&&wn.addEventListener("blocked",_i=>Ge(_i.oldVersion,_i.newVersion,_i)),ir.then(_i=>{tn&&_i.addEventListener("close",()=>tn()),zt&&_i.addEventListener("versionchange",wo=>zt(wo.oldVersion,wo.newVersion,wo))}).catch(()=>{}),ir}(Pr,bn,{upgrade:(Ce,fe)=>{0===fe&&Ce.createObjectStore(X)}}).catch(Ce=>{throw Qt.create("idb-open",{originalErrorMessage:Ce.message})})),K}function L(){return(L=(0,s.Z)(function*(Ce){try{return yield(yield U()).transaction(X).objectStore(X).get(rt(Ce))}catch(fe){if(fe instanceof ae.ZR)_e.warn(fe.message);else{const Ge=Qt.create("idb-get",{originalErrorMessage:fe?.message});_e.warn(Ge.message)}}})).apply(this,arguments)}function re(Ce,fe){return Te.apply(this,arguments)}function Te(){return(Te=(0,s.Z)(function*(Ce,fe){try{const kt=(yield U()).transaction(X,"readwrite");yield kt.objectStore(X).put(fe,rt(Ce)),yield kt.done}catch(Ge){if(Ge instanceof ae.ZR)_e.warn(Ge.message);else{const kt=Qt.create("idb-set",{originalErrorMessage:Ge?.message});_e.warn(kt.message)}}})).apply(this,arguments)}function rt(Ce){return`${Ce.name}!${Ce.options.appId}`}class At{constructor(fe){this.container=fe,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new en(Ge),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var fe=this;return(0,s.Z)(function*(){const kt=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Gt();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==zt&&!fe._heartbeatsCache.heartbeats.some(tn=>tn.date===zt))return fe._heartbeatsCache.heartbeats.push({date:zt,agent:kt}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(tn=>{const wn=new Date(tn.date).valueOf();return Date.now()-wn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,s.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const Ge=Gt(),{heartbeatsToSend:kt,unsentEntries:zt}=function Vn(Ce,fe=1024){const Ge=[];let kt=Ce.slice();for(const zt of Ce){const tn=Ge.find(wn=>wn.agent===zt.agent);if(tn){if(tn.dates.push(zt.date),qi(Ge)>fe){tn.dates.pop();break}}else if(Ge.push({agent:zt.agent,dates:[zt.date]}),qi(Ge)>fe){Ge.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:kt}}(fe._heartbeatsCache.heartbeats),tn=(0,ae.L)(JSON.stringify({version:2,heartbeats:kt}));return fe._heartbeatsCache.lastSentHeartbeatDate=Ge,zt.length>0?(fe._heartbeatsCache.heartbeats=zt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),tn})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class en{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,s.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function $(Ce){return L.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var Ge=this;return(0,s.Z)(function*(){var kt;if(yield Ge._canUseIndexedDBPromise){const tn=yield Ge.read();return re(Ge.app,{lastSentHeartbeatDate:null!==(kt=fe.lastSentHeartbeatDate)&&void 0!==kt?kt:tn.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var Ge=this;return(0,s.Z)(function*(){var kt;if(yield Ge._canUseIndexedDBPromise){const tn=yield Ge.read();return re(Ge.app,{lastSentHeartbeatDate:null!==(kt=fe.lastSentHeartbeatDate)&&void 0!==kt?kt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...fe.heartbeats]})}})()}}function qi(Ce){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ce})).length}!function nr(Ce){fn(new Z.wA("platform-logger",fe=>new pn(fe),"PRIVATE")),fn(new Z.wA("heartbeat",fe=>new At(fe),"PRIVATE")),ei(Qi,"0.9.13",Ce),ei(Qi,"0.9.13","esm2017"),ei("fire-js","")}("")},4537:(It,Re,z)=>{"use strict";z.d(Re,{H0:()=>Ve,wA:()=>B,zt:()=>ce});var s=z(5861),Z=z(9058);class B{constructor(Q,ee,he){this.name=Q,this.instanceFactory=ee,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ae="[DEFAULT]";class ce{constructor(Q,ee){this.name=Q,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ee=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ee)){const he=new Z.BH;if(this.instancesDeferred.set(ee,he),this.isInitialized(ee)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ee});$e&&he.resolve($e)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(Q){var ee;const he=this.normalizeInstanceIdentifier(Q?.identifier),$e=null!==(ee=Q?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Ne){if($e)return null;throw Ne}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function Se(we){return"EAGER"===we.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ee,he]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ee);try{const Ne=this.getOrInitializeService({instanceIdentifier:$e});he.resolve(Ne)}catch{}}}}clearInstance(Q=ae){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,s.Z)(function*(){const ee=Array.from(Q.instances.values());yield Promise.all([...ee.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...ee.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ae){return this.instances.has(Q)}getOptions(Q=ae){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ee={}}=Q,he=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:he,options:ee});for(const[Ne,ot]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Ne)&&ot.resolve($e);return $e}onInit(Q,ee){var he;const $e=this.normalizeInstanceIdentifier(ee),Ne=null!==(he=this.onInitCallbacks.get($e))&&void 0!==he?he:new Set;Ne.add(Q),this.onInitCallbacks.set($e,Ne);const ot=this.instances.get($e);return ot&&Q(ot,$e),()=>{Ne.delete(Q)}}invokeOnInitCallbacks(Q,ee){const he=this.onInitCallbacks.get(ee);if(he)for(const $e of he)try{$e(Q,ee)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:ee={}}){let he=this.instances.get(Q);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(we=Q,we===ae?void 0:we),options:ee}),this.instances.set(Q,he),this.instancesOptions.set(Q,ee),this.invokeOnInitCallbacks(he,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,he)}catch{}var we;return he||null}normalizeInstanceIdentifier(Q=ae){return this.component?this.component.multipleInstances?Q:ae:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ee=this.getProvider(Q.name);if(ee.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ee.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ee=new ce(Q,this);return this.providers.set(Q,ee),ee}getProviders(){return Array.from(this.providers.values())}}},7879:(It,Re,z)=>{"use strict";z.d(Re,{Am:()=>we,Ub:()=>Ve,Yd:()=>Se,in:()=>Z});const s=[];var Z=(()=>((Z=Z||{})[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z))();const B={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ae=Z.INFO,ce={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ue=(Q,ee,...he)=>{if(ee<Q.logLevel)return;const $e=(new Date).toISOString(),Ne=ce[ee];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ne](`[${$e}]  ${Q.name}:`,...he)};class Se{constructor(ee){this.name=ee,this._logLevel=ae,this._logHandler=ue,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in Z))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?B[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ee),this._logHandler(this,Z.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ee),this._logHandler(this,Z.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ee),this._logHandler(this,Z.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ee),this._logHandler(this,Z.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ee),this._logHandler(this,Z.ERROR,...ee)}}function Ve(Q){s.forEach(ee=>{ee.setLogLevel(Q)})}function we(Q,ee){for(const he of s){let $e=null;ee&&ee.level&&($e=B[ee.level]),he.userLogHandler=null===Q?null:(Ne,ot,...Fe)=>{const it=Fe.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");ot>=($e??Ne.logLevel)&&Q({level:Z[ot].toLowerCase(),message:it,args:Fe,type:Ne.name})}}}},3182:(It,Re,z)=>{"use strict";z.d(Re,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=z(534);(0,s.registerVersion)("firebase","9.23.0","app")},7142:(It,Re,z)=>{"use strict";z.d(Re,{Z:()=>s.Z});var s=z(3106);s.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(It,Re,z)=>{"use strict";z.r(Re);var s=z(5861),Z=z(3106),B=z(6878),ae=z(9058),Se=(z(534),z(7879),z(4537));function Ve(){return window}function ee(){return ee=(0,s.Z)(function*(U,$,L){var re;const{BuildInfo:Te}=Ve();(0,B.as)($.sessionId,"AuthEvent did not contain a session ID");const rt=yield function We(U){return xt.apply(this,arguments)}($.sessionId),Ft={};return(0,B.at)()?Ft.ibi=Te.packageName:(0,B.au)()?Ft.apn=Te.packageName:(0,B.av)(U,"operation-not-supported-in-this-environment"),Te.displayName&&(Ft.appDisplayName=Te.displayName),Ft.sessionId=rt,(0,B.aw)(U,L,$.type,void 0,null!==(re=$.eventId)&&void 0!==re?re:void 0,Ft)}),ee.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(U){const{BuildInfo:$}=Ve(),L={};(0,B.at)()?L.iosBundleId=$.packageName:(0,B.au)()?L.androidPackageName=$.packageName:(0,B.av)(U,"operation-not-supported-in-this-environment"),yield(0,B.ax)(U,L)})).apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(U,$,L){const{cordova:re}=Ve();let Te=()=>{};try{yield new Promise((rt,Ft)=>{let Pt=null;function At(){var en;rt();const qi=null===(en=re.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof qi&&qi(),"function"==typeof L?.close&&L.close()}function Gt(){Pt||(Pt=window.setTimeout(()=>{Ft((0,B.az)(U,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===document?.visibilityState&&Gt()}$.addPassiveListener(At),document.addEventListener("resume",Gt,!1),(0,B.au)()&&document.addEventListener("visibilitychange",Vn,!1),Te=()=>{$.removePassiveListener(At),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",Vn,!1),Pt&&window.clearTimeout(Pt)}})}finally{Te()}})).apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(U){const $=function Ct(U){if((0,B.as)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const $=new ArrayBuffer(U.length),L=new Uint8Array($);for(let re=0;re<U.length;re++)L[re]=U.charCodeAt(re);return L}(U),L=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(L)).map(Te=>Te.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ae extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(L=>L($)),super.onEvent($)}initialized(){var $=this;return(0,s.Z)(function*(){yield $.initPromise})()}}function je(U){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(U){const $=yield pn()._get(Fi(U));return $&&(yield pn()._remove(Fi(U))),$})).apply(this,arguments)}function Qe(){const U=[];for(let L=0;L<20;L++){const re=Math.floor(62*Math.random());U.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return U.join("")}function pn(){return(0,B.aC)(B.b)}function Fi(U){return(0,B.aD)("authEvent",U.config.apiKey,U.name)}function _e(U){if(!U?.includes("?"))return{};const[$,...L]=U.split("?");return(0,ae.zd)(L.join("?"))}const qe=class Be{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize($){var L=this;return(0,s.Z)(function*(){const re=$._key();let Te=L.eventManagers.get(re);return Te||(Te=new Ae($),L.eventManagers.set(re,Te),L.attachCallbackListeners($,Te)),Te})()}_openPopup($){(0,B.av)($,"operation-not-supported-in-this-environment")}_openRedirect($,L,re,Te){var rt=this;return(0,s.Z)(function*(){!function it(U){var $,L,re,Te,rt,Ft,Pt,At,Gt,Vn;const en=Ve();(0,B.aA)("function"==typeof(null===($=en?.universalLinks)||void 0===$?void 0:$.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(L=en?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(rt=null===(Te=null===(re=en?.cordova)||void 0===re?void 0:re.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===rt?void 0:rt.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(At=null===(Pt=null===(Ft=en?.cordova)||void 0===Ft?void 0:Ft.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===At?void 0:At.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Vn=null===(Gt=en?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===Vn?void 0:Vn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Ft=yield rt._initialize($);yield Ft.initialized(),Ft.resetRedirect(),(0,B.aG)(),yield rt._originValidation($);const Pt=function me(U,$,L=null){return{type:$,eventId:L,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:U.tenantId,error:(0,B.az)(U,"no-auth-event")}}($,re,Te);yield function xe(U,$){return pn()._set(Fi(U),$)}($,Pt);const At=yield function Q(U,$,L){return ee.apply(this,arguments)}($,Pt,L),Gt=yield function Ne(U){const{cordova:$}=Ve();return new Promise(L=>{$.plugins.browsertab.isAvailable(re=>{let Te=null;re?$.plugins.browsertab.openUrl(U):Te=$.InAppBrowser.open(U,(0,B.ay)()?"_blank":"_system","location=yes"),L(Te)})})}(At);return function ot(U,$,L){return Fe.apply(this,arguments)}($,Ft,Gt)})()}_isIframeWebStorageSupported($,L){throw new Error("Method not implemented.")}_originValidation($){const L=$._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function he(U){return $e.apply(this,arguments)}($)),this.originValidationPromises[L]}attachCallbackListeners($,L){const{universalLinks:re,handleOpenURL:Te,BuildInfo:rt}=Ve(),Ft=setTimeout((0,s.Z)(function*(){yield je($),L.onEvent(tt())}),500),Pt=function(){var Vn=(0,s.Z)(function*(en){clearTimeout(Ft);const qi=yield je($);let nr=null;qi&&en?.url&&(nr=function ut(U,$){var L,re;const Te=function os(U){const $=_e(U),L=$.link?decodeURIComponent($.link):void 0,re=_e(L).link,Te=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return _e(Te).link||Te||re||L||U}($);if(Te.includes("/__/auth/callback")){const rt=_e(Te),Ft=rt.firebaseError?function Qi(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,Pt=null===(re=null===(L=Ft?.code)||void 0===L?void 0:L.split("auth/"))||void 0===re?void 0:re[1],At=Pt?(0,B.az)(Pt):null;return At?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:At,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Te,postBody:null}}return null}(qi,en.url)),L.onEvent(nr||tt())});return function(qi){return Vn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Pt);const At=Te,Gt=`${rt.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var Vn=(0,s.Z)(function*(en){if(en.toLowerCase().startsWith(Gt)&&Pt({url:en}),"function"==typeof At)try{At(en)}catch(qi){console.error(qi)}});return function(en){return Vn.apply(this,arguments)}}()}};function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function pt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function qt(U=(0,ae.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()&&"capacitor:"!==pt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){try{const U=self.localStorage,$=B.aL();if(U)return U.setItem($,"1"),U.removeItem($),!function pi(U=(0,ae.z$)()){return function dn(){return(0,ae.w1)()&&11===document?.documentMode}()||function Wt(U=(0,ae.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,ae.hl)()}catch{return Jn()&&(0,ae.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function Ot(){return"http:"===pt()||"https:"===pt()}()||(0,ae.ru)()||qt())&&!function En(){return(0,ae.b$)()||(0,ae.UG)()}()&&si()&&!Jn()}function dr(){return qt()&&typeof document<"u"}function Ji(){return(Ji=(0,s.Z)(function*(){return!!dr()&&new Promise(U=>{const $=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),U(!0)})})})).apply(this,arguments)}const ui={LOCAL:"local",NONE:"none",SESSION:"session"},er=B.aA,ki="persistence";function Mt(U){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(U){yield U._initializationPromise;const $=Li(),L=B.aD(ki,U.config.apiKey,U.name);$&&$.setItem(L,U._getPersistence())})).apply(this,arguments)}function Li(){var U;try{return(null===(U=function Xi(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const Or=B.aA;class fn{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(qe),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize($){var L=this;return(0,s.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize($)})()}_openPopup($,L,re,Te){var rt=this;return(0,s.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup($,L,re,Te)})()}_openRedirect($,L,re,Te){var rt=this;return(0,s.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect($,L,re,Te)})()}_isIframeWebStorageSupported($,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,L)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Or(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,s.Z)(function*(){if($.underlyingResolver)return;const L=yield function Er(){return Ji.apply(this,arguments)}();$.underlyingResolver=L?$.cordovaResolver:$.browserResolver})()}}function gi(U){return U.unwrap()}function An(U){return Qt(U)}function Qt(U){const{_tokenResponse:$}=U instanceof ae.ZR?U.customData:U;if(!$)return null;if(!(U instanceof ae.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return B.P.credentialFromResult(U);const L=$.providerId;if(!L||L===B.p.PASSWORD)return null;let re;switch(L){case B.p.GOOGLE:re=B.V;break;case B.p.FACEBOOK:re=B.U;break;case B.p.GITHUB:re=B.W;break;case B.p.TWITTER:re=B.Z;break;default:const{oauthIdToken:Te,oauthAccessToken:rt,oauthTokenSecret:Ft,pendingToken:Pt,nonce:At}=$;return rt||Ft||Te||Pt?Pt?L.startsWith("saml.")?B.aO._create(L,Pt):B.L._fromParams({providerId:L,signInMethod:L,pendingToken:Pt,idToken:Te,accessToken:rt}):new B.X(L).credential({idToken:Te,accessToken:rt,rawNonce:At}):null}return U instanceof ae.ZR?re.credentialFromError(U):re.credentialFromResult(U)}function ai(U,$){return $.catch(L=>{throw L instanceof ae.ZR&&function tr(U,$){var L;const re=null===(L=$.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===$?.code)$.resolver=new ur(U,B.aq(U,$));else if(re){const Te=Qt($),rt=$;Te&&(rt.credential=Te,rt.tenantId=re.tenantId||void 0,rt.email=re.email||void 0,rt.phoneNumber=re.phoneNumber||void 0)}}(U,L),L}).then(L=>{const Te=L.user;return{operationType:L.operationType,credential:An(L),additionalUserInfo:B.ao(L),user:Xn.getOrCreate(Te)}})}function lo(U,$){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(U,$){const L=yield $;return{verificationId:L.verificationId,confirm:re=>ai(U,L.confirm(re))}})).apply(this,arguments)}class ur{constructor($,L){this.resolver=L,this.auth=function co(U){return U.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return ai(gi(this.auth),this.resolver.resolveSignIn($))}}class Xn{constructor($){this._delegate=$,this.multiFactor=B.ar($)}static getOrCreate($){return Xn.USER_MAP.has($)||Xn.USER_MAP.set($,new Xn($)),Xn.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var L=this;return(0,s.Z)(function*(){return ai(L.auth,B.a0(L._delegate,$))})()}linkWithPhoneNumber($,L){var re=this;return(0,s.Z)(function*(){return lo(re.auth,B.l(re._delegate,$,L))})()}linkWithPopup($){var L=this;return(0,s.Z)(function*(){return ai(L.auth,B.d(L._delegate,$,fn))})()}linkWithRedirect($){var L=this;return(0,s.Z)(function*(){return yield Mt(B.aH(L.auth)),B.g(L._delegate,$,fn)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var L=this;return(0,s.Z)(function*(){return ai(L.auth,B.a1(L._delegate,$))})()}reauthenticateWithPhoneNumber($,L){return lo(this.auth,B.r(this._delegate,$,L))}reauthenticateWithPopup($){return ai(this.auth,B.e(this._delegate,$,fn))}reauthenticateWithRedirect($){var L=this;return(0,s.Z)(function*(){return yield Mt(B.aH(L.auth)),B.h(L._delegate,$,fn)})()}sendEmailVerification($){return B.ae(this._delegate,$)}unlink($){var L=this;return(0,s.Z)(function*(){return yield B.an(L._delegate,$),L})()}updateEmail($){return B.aj(this._delegate,$)}updatePassword($){return B.ak(this._delegate,$)}updatePhoneNumber($){return B.u(this._delegate,$)}updateProfile($){return B.ai(this._delegate,$)}verifyBeforeUpdateEmail($,L){return B.af(this._delegate,$,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xn.USER_MAP=new WeakMap;const Zn=B.aA;let Ti=(()=>{class U{constructor(L,re){if(this.app=L,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Te}=L.options;Zn(Te,"invalid-api-key",{appName:L.name}),Zn(Te,"invalid-api-key",{appName:L.name});const rt=typeof window<"u"?fn:void 0;this._delegate=re.initialize({options:{persistence:Ii(Te,L.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,re){B.I(this._delegate,L,re)}applyActionCode(L){return B.a5(this._delegate,L)}checkActionCode(L){return B.a6(this._delegate,L)}confirmPasswordReset(L,re){return B.a4(this._delegate,L,re)}createUserWithEmailAndPassword(L,re){var Te=this;return(0,s.Z)(function*(){return ai(Te._delegate,B.a8(Te._delegate,L,re))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return B.ad(this._delegate,L)}isSignInWithEmailLink(L){return B.ab(this._delegate,L)}getRedirectResult(){var L=this;return(0,s.Z)(function*(){Zn(Wn(),L._delegate,"operation-not-supported-in-this-environment");const re=yield B.j(L._delegate,fn);return re?ai(L._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function Xe(U,$){(0,B.aH)(U)._logFramework($)}(this._delegate,L)}onAuthStateChanged(L,re,Te){const{next:rt,error:Ft,complete:Pt}=ei(L,re,Te);return this._delegate.onAuthStateChanged(rt,Ft,Pt)}onIdTokenChanged(L,re,Te){const{next:rt,error:Ft,complete:Pt}=ei(L,re,Te);return this._delegate.onIdTokenChanged(rt,Ft,Pt)}sendSignInLinkToEmail(L,re){return B.aa(this._delegate,L,re)}sendPasswordResetEmail(L,re){return B.a3(this._delegate,L,re||void 0)}setPersistence(L){var re=this;return(0,s.Z)(function*(){let Te;switch(function dt(U,$){er(Object.values(ui).includes($),U,"invalid-persistence-type"),(0,ae.b$)()?er($!==ui.SESSION,U,"unsupported-persistence-type"):(0,ae.UG)()?er($===ui.NONE,U,"unsupported-persistence-type"):Jn()?er($===ui.NONE||$===ui.LOCAL&&(0,ae.hl)(),U,"unsupported-persistence-type"):er($===ui.NONE||si(),U,"unsupported-persistence-type")}(re._delegate,L),L){case ui.SESSION:Te=B.a;break;case ui.LOCAL:Te=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case ui.NONE:Te=B.N;break;default:return B.av("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Te)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return ai(this._delegate,B._(this._delegate))}signInWithCredential(L){return ai(this._delegate,B.$(this._delegate,L))}signInWithCustomToken(L){return ai(this._delegate,B.a2(this._delegate,L))}signInWithEmailAndPassword(L,re){return ai(this._delegate,B.a9(this._delegate,L,re))}signInWithEmailLink(L,re){return ai(this._delegate,B.ac(this._delegate,L,re))}signInWithPhoneNumber(L,re){return lo(this._delegate,B.s(this._delegate,L,re))}signInWithPopup(L){var re=this;return(0,s.Z)(function*(){return Zn(Wn(),re._delegate,"operation-not-supported-in-this-environment"),ai(re._delegate,B.c(re._delegate,L,fn))})()}signInWithRedirect(L){var re=this;return(0,s.Z)(function*(){return Zn(Wn(),re._delegate,"operation-not-supported-in-this-environment"),yield Mt(re._delegate),B.f(re._delegate,L,fn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return B.a7(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=ui,U})();function ei(U,$,L){let re=U;"function"!=typeof U&&({next:re,error:$,complete:L}=U);const Te=re;return{next:Ft=>Te(Ft&&Xn.getOrCreate(Ft)),error:$,complete:L}}function Ii(U,$){const L=function yn(U,$){const L=Li();if(!L)return[];const re=B.aD(ki,U,$);switch(L.getItem(re)){case ui.NONE:return[B.N];case ui.LOCAL:return[B.i,B.a];case ui.SESSION:return[B.a];default:return[]}}(U,$);if(typeof self<"u"&&!L.includes(B.i)&&L.push(B.i),typeof window<"u")for(const re of[B.b,B.a])L.includes(re)||L.push(re);return L.includes(B.N)||L.push(B.N),L}class Yn{constructor(){this.providerId="phone",this._delegate=new B.P(gi(Z.Z.auth()))}static credential($,L){return B.P.credential($,L)}verifyPhoneNumber($,L){return this._delegate.verifyPhoneNumber($,L)}unwrap(){return this._delegate}}Yn.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Yn.PROVIDER_ID=B.P.PROVIDER_ID;const Pr=B.aA;class bn{constructor($,L,re=Z.Z.app()){var Te;Pr(null===(Te=re.options)||void 0===Te?void 0:Te.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new B.R($,L,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(U){U.INTERNAL.registerComponent(new Se.wA("auth-compat",$=>{const L=$.getProvider("app-compat").getImmediate(),re=$.getProvider("auth");return new Ti(L,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:Yn,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:bn,TwitterAuthProvider:B.Z,Auth:Ti,AuthCredential:B.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},5861:(It,Re,z)=>{"use strict";function s(B,ae,ce,ue,Se,Ve,we){try{var Q=B[Ve](we),ee=Q.value}catch(he){return void ce(he)}Q.done?ae(ee):Promise.resolve(ee).then(ue,Se)}function Z(B){return function(){var ae=this,ce=arguments;return new Promise(function(ue,Se){var Ve=B.apply(ae,ce);function we(ee){s(Ve,ue,Se,we,Q,"next",ee)}function Q(ee){s(Ve,ue,Se,we,Q,"throw",ee)}we(void 0)})}}z.d(Re,{Z:()=>Z})},7582:(It,Re,z)=>{"use strict";function ae(_e,Ie){var Be={};for(var qe in _e)Object.prototype.hasOwnProperty.call(_e,qe)&&Ie.indexOf(qe)<0&&(Be[qe]=_e[qe]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(qe=Object.getOwnPropertySymbols(_e);tt<qe.length;tt++)Ie.indexOf(qe[tt])<0&&Object.prototype.propertyIsEnumerable.call(_e,qe[tt])&&(Be[qe[tt]]=_e[qe[tt]])}return Be}function he(_e,Ie,Be,qe){return new(Be||(Be=Promise))(function(Xe,lt){function yt(Ot){try{pt(qe.next(Ot))}catch(qt){lt(qt)}}function qn(Ot){try{pt(qe.throw(Ot))}catch(qt){lt(qt)}}function pt(Ot){Ot.done?Xe(Ot.value):function tt(Xe){return Xe instanceof Be?Xe:new Be(function(lt){lt(Xe)})}(Ot.value).then(yt,qn)}pt((qe=qe.apply(_e,Ie||[])).next())})}function le(_e){return this instanceof le?(this.v=_e,this):new le(_e)}function Ae(_e,Ie,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,qe=Be.apply(_e,Ie||[]),Xe=[];return tt={},lt("next"),lt("throw"),lt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function lt(En){qe[En]&&(tt[En]=function(dn){return new Promise(function(Wt,pi){Xe.push([En,dn,Wt,pi])>1||yt(En,dn)})})}function yt(En,dn){try{!function qn(En){En.value instanceof le?Promise.resolve(En.value.v).then(pt,Ot):qt(Xe[0][2],En)}(qe[En](dn))}catch(Wt){qt(Xe[0][3],Wt)}}function pt(En){yt("next",En)}function Ot(En){yt("throw",En)}function qt(En,dn){En(dn),Xe.shift(),Xe.length&&yt(Xe[0][0],Xe[0][1])}}function xe(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ie=_e[Symbol.asyncIterator];return Ie?Ie.call(_e):(_e=function Fe(_e){var Ie="function"==typeof Symbol&&Symbol.iterator,Be=Ie&&_e[Ie],qe=0;if(Be)return Be.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&qe>=_e.length&&(_e=void 0),{value:_e&&_e[qe++],done:!_e}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Be={},qe("next"),qe("throw"),qe("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function qe(Xe){Be[Xe]=_e[Xe]&&function(lt){return new Promise(function(yt,qn){!function tt(Xe,lt,yt,qn){Promise.resolve(qn).then(function(pt){Xe({value:pt,done:yt})},lt)}(yt,qn,(lt=_e[Xe](lt)).done,lt.value)})}}}z.d(Re,{FC:()=>Ae,KL:()=>xe,_T:()=>ae,mG:()=>he,qq:()=>le})}},It=>{It(It.s=5237)}]);