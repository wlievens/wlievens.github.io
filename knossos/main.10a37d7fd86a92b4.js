(self.webpackChunkknossos_frontend=self.webpackChunkknossos_frontend||[]).push([[179],{6304:(It,Re,z)=>{"use strict";z.d(Re,{Dh:()=>Ve,GT:()=>ue,cc:()=>Pe,hO:()=>$e,on:()=>K,pX:()=>ce,xv:()=>we});var a=z(5879),Z=z(7142),B=z(8186);It=z.hmd(It);const ae=["ngOnDestroy"],ce=(We,xt,Ct,le={})=>new Proxy(We,{get:(Me,pe)=>Ct.runOutsideAngular(()=>{var xe;if(We[pe])return!(null===(xe=le?.spy)||void 0===xe)&&xe.get&&le.spy.get(pe,We[pe]),We[pe];if(ae.indexOf(pe)>-1)return()=>{};const je=xt.toPromise().then(oe=>{const ut=oe&&oe[pe];return"function"==typeof ut?ut.bind(oe):ut&&ut.then?ut.then(Qe=>Ct.run(()=>Qe)):Ct.run(()=>ut)});return new Proxy(()=>{},{get:(oe,ut)=>je[ut],apply:(oe,ut,Qe)=>je.then(pn=>{var Fi;const Yi=pn&&pn(...Qe);return!(null===(Fi=le?.spy)||void 0===Fi)&&Fi.apply&&le.spy.apply(pe,Qe,Yi),Yi})})})}),ue=(We,xt)=>{xt.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(le=>{Object.defineProperty(We.prototype,le,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,le))})})};class Te{constructor(xt){return xt}}const Ve=new a.OlP("angularfire2.app.options"),we=new a.OlP("angularfire2.app.name");function K(We,xt,Ct){const Me="object"==typeof Ct&&Ct||{};Me.name=Me.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const xe=Z.Z.apps.filter(je=>je&&je.name===Me.name)[0]||xt.runOutsideAngular(()=>Z.Z.initializeApp(We,Me));try{JSON.stringify(We)!==JSON.stringify(xe.options)&&ee("error",`${xe.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(xe)}const ee=(We,...xt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[We](...xt)},he={provide:Te,useFactory:K,deps:[Ve,a.R0b,[new a.FiY,we]]};let $e=(()=>{class We{constructor(Ct){Z.Z.registerVersion("angularfire",B.q4.full,"core"),Z.Z.registerVersion("angularfire",B.q4.full,"app-compat"),Z.Z.registerVersion("angular",a.q4F.full,Ct.toString())}static initializeApp(Ct,le){return{ngModule:We,providers:[{provide:Ve,useValue:Ct},{provide:we,useValue:le}]}}}return We.\u0275fac=function(Ct){return new(Ct||We)(a.LFG(a.Lbi))},We.\u0275mod=a.oAB({type:We}),We.\u0275inj=a.cJS({providers:[he]}),We})();function Pe(We,xt,Ct,le,Me){const[,pe,xe]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===We)||[];if(pe)return function ot(We,xt){try{return We.toString()===xt.toString()}catch{return We===xt}}(Me,xe)||(it("error",`${xt} was already initialized on the ${Ct} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Me,was:xe})),pe;{const je=le();return globalThis.\u0275AngularfireInstanceCache.push([We,je,Me]),je}}const Ne=!!It.hot,it=(We,...xt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[We](...xt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(It,Re,z)=>{"use strict";z.d(Re,{q4:()=>Xr,iC:()=>Dd,fc:()=>$a,HU:()=>rr,vb:()=>Ev,JM:()=>Qu,u3:()=>Ju});var a=z(5879),Z=z(3182),B=z(5861),ae=z(534),ce=z(9058),ue=z(4537),Te=z(7879);const Ve=(D,T)=>T.some(M=>D instanceof M);let we,K;const $e=new WeakMap,Pe=new WeakMap,ot=new WeakMap,Ne=new WeakMap,it=new WeakMap;let Ct={get(D,T,M){if(D instanceof IDBTransaction){if("done"===T)return Pe.get(D);if("objectStoreNames"===T)return D.objectStoreNames||ot.get(D);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return xe(D[T])},set:(D,T,M)=>(D[T]=M,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function pe(D){return"function"==typeof D?function Me(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(je(this),T),xe($e.get(this))}:function(...T){return xe(D.apply(je(this),T))}:function(T,...M){const q=D.call(je(this),T,...M);return ot.set(q,T.sort?T.sort():[T]),xe(q)}}(D):(D instanceof IDBTransaction&&function xt(D){if(Pe.has(D))return;const T=new Promise((M,q)=>{const te=()=>{D.removeEventListener("complete",se),D.removeEventListener("error",De),D.removeEventListener("abort",De)},se=()=>{M(),te()},De=()=>{q(D.error||new DOMException("AbortError","AbortError")),te()};D.addEventListener("complete",se),D.addEventListener("error",De),D.addEventListener("abort",De)});Pe.set(D,T)}(D),Ve(D,function ee(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Ct):D)}function xe(D){if(D instanceof IDBRequest)return function We(D){const T=new Promise((M,q)=>{const te=()=>{D.removeEventListener("success",se),D.removeEventListener("error",De)},se=()=>{M(xe(D.result)),te()},De=()=>{q(D.error),te()};D.addEventListener("success",se),D.addEventListener("error",De)});return T.then(M=>{M instanceof IDBCursor&&$e.set(M,D)}).catch(()=>{}),it.set(T,D),T}(D);if(Ne.has(D))return Ne.get(D);const T=pe(D);return T!==D&&(Ne.set(D,T),it.set(T,D)),T}const je=D=>it.get(D),Qe=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],Fi=new Map;function Yi(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(Fi.get(T))return Fi.get(T);const M=T.replace(/FromIndex$/,""),q=T!==M,te=pn.includes(M);if(!(M in(q?IDBIndex:IDBObjectStore).prototype)||!te&&!Qe.includes(M))return;const se=function(){var De=(0,B.Z)(function*(ft,...at){const Pt=this.transaction(ft,te?"readwrite":"readonly");let nn=Pt.store;return q&&(nn=nn.index(at.shift())),(yield Promise.all([nn[M](...at),te&&Pt.done]))[0]});return function(at){return De.apply(this,arguments)}}();return Fi.set(T,se),se}!function le(D){Ct=D(Ct)}(D=>({...D,get:(T,M,q)=>Yi(T,M)||D.get(T,M,q),has:(T,M)=>!!Yi(T,M)||D.has(T,M)}));const es="@firebase/installations",_e="0.6.4",ke=1e4,Be=`w:${_e}`,qe="FIS_v2",et="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,mt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rt(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function qt({projectId:D}){return`${et}/projects/${D}/installations`}function wn(D){return{token:D.token,requestStatus:2,expiresIn:cr(D.expiresIn),creationTime:Date.now()}}function ln(D,T){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,B.Z)(function*(D,T){const q=(yield T.json()).error;return mt.create("request-failed",{requestName:D,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function fi({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Kn(D){return qn.apply(this,arguments)}function qn(){return(qn=(0,B.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function cr(D){return Number(D.replace("s","000"))}function Qi(){return(Qi=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:M}){const q=qt(D),te=fi(D),se=T.getImmediate({optional:!0});if(se){const Pt=yield se.getHeartbeatsHeader();Pt&&te.append("x-firebase-client",Pt)}const ft={method:"POST",headers:te,body:JSON.stringify({fid:M,authVersion:qe,appId:D.appId,sdkVersion:Be})},at=yield Kn(()=>fetch(q,ft));if(at.ok){const Pt=yield at.json();return{fid:Pt.fid||M,registrationStatus:2,refreshToken:Pt.refreshToken,authToken:wn(Pt.authToken)}}throw yield ln("Create Installation",at)})).apply(this,arguments)}function ui(D){return new Promise(T=>{setTimeout(T,D)})}const Di=/^[cdef][\w-]{21}$/,dt="";function Tt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function Ft(D){return function Xi(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Di.test(M)?M:dt}catch{return dt}}function _n(D){return`${D.appName}!${D.appId}`}const Li=new Map;function Rr(D,T){const M=_n(D);so(M,T),function Sn(D,T){const M=function Qt(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=D=>{so(D.data.key,D.data.fid)}),Ji}();M&&M.postMessage({key:D,fid:T}),function si(){0===Li.size&&Ji&&(Ji.close(),Ji=null)}()}(M,T)}function so(D,T){const M=Li.get(D);if(M)for(const q of M)q(T)}let Ji=null;const ao="firebase-installations-database",No=1,lr="firebase-installations-store";let Qn=null;function Wn(){return Qn||(Qn=function oe(D,T,{blocked:M,upgrade:q,blocking:te,terminated:se}={}){const De=indexedDB.open(D,T),ft=xe(De);return q&&De.addEventListener("upgradeneeded",at=>{q(xe(De.result),at.oldVersion,at.newVersion,xe(De.transaction))}),M&&De.addEventListener("blocked",()=>M()),ft.then(at=>{se&&at.addEventListener("close",()=>se()),te&&at.addEventListener("versionchange",()=>te())}).catch(()=>{}),ft}(ao,No,{upgrade:(D,T)=>{0===T&&D.createObjectStore(lr)}})),Qn}function Ii(D,T){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,B.Z)(function*(D,T){const M=_n(D),te=(yield Wn()).transaction(lr,"readwrite"),se=te.objectStore(lr),De=yield se.get(M);return yield se.put(T,M),yield te.done,(!De||De.fid!==T.fid)&&Rr(D,T.fid),T})).apply(this,arguments)}function ki(D){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,B.Z)(function*(D){const T=_n(D),q=(yield Wn()).transaction(lr,"readwrite");yield q.objectStore(lr).delete(T),yield q.done})).apply(this,arguments)}function Or(D,T){return vn.apply(this,arguments)}function vn(){return(vn=(0,B.Z)(function*(D,T){const M=_n(D),te=(yield Wn()).transaction(lr,"readwrite"),se=te.objectStore(lr),De=yield se.get(M),ft=T(De);return void 0===ft?yield se.delete(M):yield se.put(ft,M),yield te.done,ft&&(!De||De.fid!==ft.fid)&&Rr(D,ft.fid),ft})).apply(this,arguments)}function J(D){return Y.apply(this,arguments)}function Y(){return Y=(0,B.Z)(function*(D){let T;const M=yield Or(D.appConfig,q=>{const te=function U(D){return Ot(D||{fid:Tt(),registrationStatus:0})}(q),se=function $(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(mt.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},q=function L(D,T){return re.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:q}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ie(D)}:{installationEntry:T}}(D,te);return T=se.registrationPromise,se.installationEntry});return M.fid===dt?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}}),Y.apply(this,arguments)}function re(){return re=(0,B.Z)(function*(D,T){try{const M=yield function Ki(D,T){return Qi.apply(this,arguments)}(D,T);return Ii(D.appConfig,M)}catch(M){throw Rt(M)&&409===M.customData.serverCode?yield ki(D.appConfig):yield Ii(D.appConfig,{fid:T.fid,registrationStatus:0}),M}}),re.apply(this,arguments)}function Ie(D){return rt.apply(this,arguments)}function rt(){return(rt=(0,B.Z)(function*(D){let T=yield Nt(D.appConfig);for(;1===T.registrationStatus;)yield ui(100),T=yield Nt(D.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:q}=yield J(D);return q||M}return T})).apply(this,arguments)}function Nt(D){return Or(D,T=>{if(!T)throw mt.create("installation-not-found");return Ot(T)})}function Ot(D){return function St(D){return 1===D.registrationStatus&&D.registrationTime+ke<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Vn(){return(Vn=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:T},M){const q=function en(D,{fid:T}){return`${qt(D)}/${T}/authTokens:generate`}(D,M),te=function oi(D,{refreshToken:T}){const M=fi(D);return M.append("Authorization",function wr(D){return`${qe} ${D}`}(T)),M}(D,M),se=T.getImmediate({optional:!0});if(se){const Pt=yield se.getHeartbeatsHeader();Pt&&te.append("x-firebase-client",Pt)}const ft={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:Be,appId:D.appId}})},at=yield Kn(()=>fetch(q,ft));if(at.ok)return wn(yield at.json());throw yield ln("Generate Auth Token",at)})).apply(this,arguments)}function $i(D){return er.apply(this,arguments)}function er(){return er=(0,B.Z)(function*(D,T=!1){let M;const q=yield Or(D.appConfig,se=>{if(!tn(se))throw mt.create("not-registered");const De=se.authToken;if(!T&&function yn(D){return 2===D.requestStatus&&!function tr(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+Xe}(D)}(De))return se;if(1===De.requestStatus)return M=function Ce(D,T){return fe.apply(this,arguments)}(D,T),se;{if(!navigator.onLine)throw mt.create("app-offline");const ft=function mi(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}(se);return M=function Et(D,T){return zt.apply(this,arguments)}(D,ft),ft}});return M?yield M:q.authToken}),er.apply(this,arguments)}function fe(){return(fe=(0,B.Z)(function*(D,T){let M=yield Ge(D.appConfig);for(;1===M.authToken.requestStatus;)yield ui(100),M=yield Ge(D.appConfig);const q=M.authToken;return 0===q.requestStatus?$i(D,T):q})).apply(this,arguments)}function Ge(D){return Or(D,T=>{if(!tn(T))throw mt.create("not-registered");return function vo(D){return 1===D.requestStatus&&D.requestTime+ke<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function zt(){return zt=(0,B.Z)(function*(D,T){try{const M=yield function Gt(D,T){return Vn.apply(this,arguments)}(D,T),q=Object.assign(Object.assign({},T),{authToken:M});return yield Ii(D.appConfig,q),M}catch(M){if(!Rt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const q=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ii(D.appConfig,q)}else yield ki(D.appConfig);throw M}}),zt.apply(this,arguments)}function tn(D){return void 0!==D&&2===D.registrationStatus}function Fo(){return(Fo=(0,B.Z)(function*(D){const T=D,{installationEntry:M,registrationPromise:q}=yield J(T);return q?q.catch(console.error):$i(T).catch(console.error),M.fid})).apply(this,arguments)}function Jn(){return Jn=(0,B.Z)(function*(D,T=!1){const M=D;return yield function co(D){return xr.apply(this,arguments)}(M),(yield $i(M,T)).token}),Jn.apply(this,arguments)}function xr(){return(xr=(0,B.Z)(function*(D){const{registrationPromise:T}=yield J(D);T&&(yield T)})).apply(this,arguments)}function yo(D){return mt.create("missing-app-config-values",{valueName:D})}const _s="installations",bo=D=>{const T=D.getProvider("app").getImmediate(),M=function oa(D){if(!D||!D.options)throw yo("App Configuration");if(!D.name)throw yo("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!D.options[M])throw yo(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ma=D=>{const T=D.getProvider("app").getImmediate(),M=(0,ae._getProvider)(T,_s).getImmediate();return{getId:()=>function dr(D){return Fo.apply(this,arguments)}(M),getToken:te=>function ts(D){return Jn.apply(this,arguments)}(M,te)}};(function gc(){(0,ae._registerComponent)(new ue.wA(_s,bo,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("installations-internal",Ma,"PRIVATE"))})(),(0,ae.registerVersion)(es,_e),(0,ae.registerVersion)(es,_e,"esm2017");const zs="@firebase/remote-config",H=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rl{constructor(T,M,q,te){this.client=T,this.storage=M,this.storageCache=q,this.logger=te}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-M,te=q<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${te}.`),te}fetch(T){var M=this;return(0,B.Z)(function*(){const[q,te]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(te&&M.isCachedDataFresh(T.cacheMaxAgeMillis,q))return te;T.eTag=te&&te.eTag;const se=yield M.client.fetch(T),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&De.push(M.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(De),se})()}}function Wl(D=navigator){return D.languages&&D.languages[0]||D.language}class sa{constructor(T,M,q,te,se,De){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=q,this.projectId=te,this.apiKey=se,this.appId=De}fetch(T){var M=this;return(0,B.Z)(function*(){const[q,te]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},at={sdk_version:M.sdkVersion,app_instance_id:q,app_instance_id_token:te,app_id:M.appId,language_code:Wl()},Pt={method:"POST",headers:ft,body:JSON.stringify(at)},nn=fetch(De,Pt),Zt=new Promise((Eo,Do)=>{T.signal.addEventListener(()=>{const Id=new Error("The operation was aborted.");Id.name="AbortError",Do(Id)})});let kr;try{yield Promise.race([nn,Zt]),kr=yield nn}catch(Eo){let Do="fetch-client-network";throw"AbortError"===Eo?.name&&(Do="fetch-timeout"),H.create(Do,{originalErrorMessage:Eo?.message})}let pr=kr.status;const Ss=kr.headers.get("ETag")||void 0;let qa,Gs;if(200===kr.status){let Eo;try{Eo=yield kr.json()}catch(Do){throw H.create("fetch-client-parse",{originalErrorMessage:Do?.message})}qa=Eo.entries,Gs=Eo.state}if("INSTANCE_STATE_UNSPECIFIED"===Gs?pr=500:"NO_CHANGE"===Gs?pr=304:("NO_TEMPLATE"===Gs||"EMPTY_CONFIG"===Gs)&&(qa={}),304!==pr&&200!==pr)throw H.create("fetch-status",{httpStatus:pr});return{status:pr,eTag:Ss,config:qa}})()}}class Oa{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,B.Z)(function*(){const q=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,q)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:q}){var te=this;return(0,B.Z)(function*(){yield function vi(D,T){return new Promise((M,q)=>{const te=Math.max(T-Date.now(),0),se=setTimeout(M,te);D.addEventListener(()=>{clearTimeout(se),q(H.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const se=yield te.client.fetch(T);return yield te.storage.deleteThrottleMetadata(),se}catch(se){if(!function Zl(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(se))throw se;const De={throttleEndTimeMillis:Date.now()+(0,ce.$s)(q),backoffCount:q+1};return yield te.storage.setThrottleMetadata(De),te.attemptFetch(T,De)}})()}}class Yl{constructor(T,M,q,te,se){this.app=T,this._client=M,this._storageCache=q,this._storage=te,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(D,T){const M=D.target.error||void 0;return H.create(T,{originalErrorMessage:M&&M?.message})}const Kr="app_namespace_store";class Am{constructor(T,M,q,te=function Rn(){return new Promise((D,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=q=>{T(Nr(q,"storage-open"))},M.onsuccess=q=>{D(q.target.result)},M.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Kr,{keyPath:"compositeKey"})}}catch(M){T(H.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=T,this.appName=M,this.namespace=q,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,B.Z)(function*(){const q=yield M.openDbPromise;return new Promise((te,se)=>{const ft=q.transaction([Kr],"readonly").objectStore(Kr),at=M.createCompositeKey(T);try{const Pt=ft.get(at);Pt.onerror=nn=>{se(Nr(nn,"storage-get"))},Pt.onsuccess=nn=>{const Zt=nn.target.result;te(Zt?Zt.value:void 0)}}catch(Pt){se(H.create("storage-get",{originalErrorMessage:Pt?.message}))}})})()}set(T,M){var q=this;return(0,B.Z)(function*(){const te=yield q.openDbPromise;return new Promise((se,De)=>{const at=te.transaction([Kr],"readwrite").objectStore(Kr),Pt=q.createCompositeKey(T);try{const nn=at.put({compositeKey:Pt,value:M});nn.onerror=Zt=>{De(Nr(Zt,"storage-set"))},nn.onsuccess=()=>{se()}}catch(nn){De(H.create("storage-set",{originalErrorMessage:nn?.message}))}})})()}delete(T){var M=this;return(0,B.Z)(function*(){const q=yield M.openDbPromise;return new Promise((te,se)=>{const ft=q.transaction([Kr],"readwrite").objectStore(Kr),at=M.createCompositeKey(T);try{const Pt=ft.delete(at);Pt.onerror=nn=>{se(Nr(nn,"storage-delete"))},Pt.onsuccess=()=>{te()}}catch(Pt){se(H.create("storage-delete",{originalErrorMessage:Pt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ys{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const M=T.storage.getLastFetchStatus(),q=T.storage.getLastSuccessfulFetchTimestampMillis(),te=T.storage.getActiveConfig(),se=yield M;se&&(T.lastFetchStatus=se);const De=yield q;De&&(T.lastSuccessfulFetchTimestampMillis=De);const ft=yield te;ft&&(T.activeConfig=ft)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function vc(){return yc.apply(this,arguments)}function yc(){return(yc=(0,B.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Pa(){(0,ae._registerComponent)(new ue.wA("remote-config",function D(T,{instanceIdentifier:M}){const q=T.getProvider("app").getImmediate(),te=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw H.create("registration-window");if(!(0,ce.hl)())throw H.create("indexed-db-unavailable");const{projectId:se,apiKey:De,appId:ft}=q.options;if(!se)throw H.create("registration-project-id");if(!De)throw H.create("registration-api-key");if(!ft)throw H.create("registration-app-id");const at=new Am(ft,q.name,M=M||"firebase"),Pt=new ys(at),nn=new Te.Yd(zs);nn.logLevel=Te.in.ERROR;const Zt=new sa(te,ae.SDK_VERSION,M,se,De,ft),kr=new Oa(Zt,at),pr=new rl(kr,at,Pt,nn),Ss=new Yl(q,pr,Pt,at,nn);return function sn(D){const T=(0,ce.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ss),Ss},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(zs,"0.4.4"),(0,ae.registerVersion)(zs,"0.4.4","esm2017")}();const zr=(D,T)=>T.some(M=>D instanceof M);let ol,jr;const os=new WeakMap,aa=new WeakMap,ai=new WeakMap,bc=new WeakMap,gf=new WeakMap;let bu={get(D,T,M){if(D instanceof IDBTransaction){if("done"===T)return aa.get(D);if("objectStoreNames"===T)return D.objectStoreNames||ai.get(D);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return bs(D[T])},set:(D,T,M)=>(D[T]=M,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function _f(D){return"function"==typeof D?function gv(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _u(){return jr||(jr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(wu(this),T),bs(os.get(this))}:function(...T){return bs(D.apply(wu(this),T))}:function(T,...M){const q=D.call(wu(this),T,...M);return ai.set(q,T.sort?T.sort():[T]),bs(q)}}(D):(D instanceof IDBTransaction&&function yu(D){if(aa.has(D))return;const T=new Promise((M,q)=>{const te=()=>{D.removeEventListener("complete",se),D.removeEventListener("error",De),D.removeEventListener("abort",De)},se=()=>{M(),te()},De=()=>{q(D.error||new DOMException("AbortError","AbortError")),te()};D.addEventListener("complete",se),D.addEventListener("error",De),D.addEventListener("abort",De)});aa.set(D,T)}(D),zr(D,function $r(){return ol||(ol=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,bu):D)}function bs(D){if(D instanceof IDBRequest)return function vu(D){const T=new Promise((M,q)=>{const te=()=>{D.removeEventListener("success",se),D.removeEventListener("error",De)},se=()=>{M(bs(D.result)),te()},De=()=>{q(D.error),te()};D.addEventListener("success",se),D.addEventListener("error",De)});return T.then(M=>{M instanceof IDBCursor&&os.set(M,D)}).catch(()=>{}),gf.set(T,D),T}(D);if(bc.has(D))return bc.get(D);const T=_f(D);return T!==D&&(bc.set(D,T),gf.set(T,D)),T}const wu=D=>gf.get(D);function xu(D,T,{blocked:M,upgrade:q,blocking:te,terminated:se}={}){const De=indexedDB.open(D,T),ft=bs(De);return q&&De.addEventListener("upgradeneeded",at=>{q(bs(De.result),at.oldVersion,at.newVersion,bs(De.transaction))}),M&&De.addEventListener("blocked",()=>M()),ft.then(at=>{se&&at.addEventListener("close",()=>se()),te&&at.addEventListener("versionchange",()=>te())}).catch(()=>{}),ft}function Ql(D,{blocked:T}={}){const M=indexedDB.deleteDatabase(D);return T&&M.addEventListener("blocked",()=>T()),bs(M).then(()=>{})}const Rm=["get","getKey","getAll","getAllKeys","count"],vf=["put","add","delete","clear"],yf=new Map;function bf(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(yf.get(T))return yf.get(T);const M=T.replace(/FromIndex$/,""),q=T!==M,te=vf.includes(M);if(!(M in(q?IDBIndex:IDBObjectStore).prototype)||!te&&!Rm.includes(M))return;const se=function(){var De=(0,B.Z)(function*(ft,...at){const Pt=this.transaction(ft,te?"readwrite":"readonly");let nn=Pt.store;return q&&(nn=nn.index(at.shift())),(yield Promise.all([nn[M](...at),te&&Pt.done]))[0]});return function(at){return De.apply(this,arguments)}}();return yf.set(T,se),se}!function Mm(D){bu=D(bu)}(D=>({...D,get:(T,M,q)=>bf(T,M)||D.get(T,M,q),has:(T,M)=>!!bf(T,M)||D.has(T,M)}));const Cu="/firebase-messaging-sw.js",wf="/firebase-cloud-messaging-push-scope",Xl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Eu="https://fcmregistrations.googleapis.com/v1",Om="google.c.a.c_id",Bi="google.c.a.c_l",V0="google.c.a.ts";var la=(()=>((la=la||{}).PUSH_RECEIVED="push-received",la.NOTIFICATION_CLICKED="notification-clicked",la))();function uo(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Du(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(M),te=new Uint8Array(q.length);for(let se=0;se<q.length;++se)te[se]=q.charCodeAt(se);return te}const sl="fcm_token_details_db",al=5,Pm="fcm_token_object_Store";function Jl(){return Jl=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(sl))return null;let T=null;return(yield xu(sl,al,{upgrade:(q=(0,B.Z)(function*(te,se,De,ft){var at;if(se<2||!te.objectStoreNames.contains(Pm))return;const Pt=ft.objectStore(Pm),nn=yield Pt.index("fcmSenderId").get(D);if(yield Pt.clear(),nn)if(2===se){const Zt=nn;if(!Zt.auth||!Zt.p256dh||!Zt.endpoint)return;T={token:Zt.fcmToken,createTime:null!==(at=Zt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Zt.auth,p256dh:Zt.p256dh,endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:"string"==typeof Zt.vapidKey?Zt.vapidKey:uo(Zt.vapidKey)}}}else if(3===se){const Zt=nn;T={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:uo(Zt.auth),p256dh:uo(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:uo(Zt.vapidKey)}}}else if(4===se){const Zt=nn;T={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:uo(Zt.auth),p256dh:uo(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:uo(Zt.vapidKey)}}}}),function(se,De,ft,at){return q.apply(this,arguments)})})).close(),yield Ql(sl),yield Ql("fcm_vapid_details_db"),yield Ql("undefined"),function Lo(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var q}),Jl.apply(this,arguments)}const ed="firebase-messaging-database",Vi=1,xo="firebase-messaging-store";let Iu=null;function td(){return Iu||(Iu=xu(ed,Vi,{upgrade:(D,T)=>{0===T&&D.createObjectStore(xo)}})),Iu}function Fa(D){return La.apply(this,arguments)}function La(){return La=(0,B.Z)(function*(D){const T=Cf(D),q=yield(yield td()).transaction(xo).objectStore(xo).get(T);if(q)return q;{const te=yield function Nm(D){return Jl.apply(this,arguments)}(D.appConfig.senderId);if(te)return yield nd(D,te),te}}),La.apply(this,arguments)}function nd(D,T){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,B.Z)(function*(D,T){const M=Cf(D),te=(yield td()).transaction(xo,"readwrite");return yield te.objectStore(xo).put(T,M),yield te.done,T})).apply(this,arguments)}function da(){return(da=(0,B.Z)(function*(D){const T=Cf(D),q=(yield td()).transaction(xo,"readwrite");yield q.objectStore(xo).delete(T),yield q.done})).apply(this,arguments)}function Cf({appConfig:D}){return D.appId}const Er=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U0(D,T){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,B.Z)(function*(D,T){const M=yield wc(D),q=Au(T),te={method:"POST",headers:M,body:JSON.stringify(q)};let se;try{se=yield(yield fetch(id(D.appConfig),te)).json()}catch(De){throw Er.create("token-subscribe-failed",{errorInfo:De?.toString()})}if(se.error)throw Er.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw Er.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function cl(){return(cl=(0,B.Z)(function*(D,T){const M=yield wc(D),q=Au(T.subscriptionOptions),te={method:"PATCH",headers:M,body:JSON.stringify(q)};let se;try{se=yield(yield fetch(`${id(D.appConfig)}/${T.token}`,te)).json()}catch(De){throw Er.create("token-update-failed",{errorInfo:De?.toString()})}if(se.error)throw Er.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw Er.create("token-update-no-token");return se.token})).apply(this,arguments)}function Lm(D,T){return ll.apply(this,arguments)}function ll(){return(ll=(0,B.Z)(function*(D,T){const q={method:"DELETE",headers:yield wc(D)};try{const se=yield(yield fetch(`${id(D.appConfig)}/${T}`,q)).json();if(se.error)throw Er.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(te){throw Er.create("token-unsubscribe-failed",{errorInfo:te?.toString()})}})).apply(this,arguments)}function id({projectId:D}){return`${Eu}/projects/${D}/registrations`}function wc(D){return Su.apply(this,arguments)}function Su(){return(Su=(0,B.Z)(function*({appConfig:D,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Au({p256dh:D,auth:T,endpoint:M,vapidKey:q}){const te={web:{endpoint:M,auth:T,p256dh:D}};return q!==Xl&&(te.web.applicationPubKey=q),te}const Bm=6048e5;function Ef(){return Ef=(0,B.Z)(function*(D){const T=yield function rd(D,T){return xc.apply(this,arguments)}(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:uo(T.getKey("auth")),p256dh:uo(T.getKey("p256dh"))},q=yield Fa(D.firebaseDependencies);if(q){if(function Gr(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}(q.subscriptionOptions,M))return Date.now()>=q.createTime+Bm?function ss(D,T){return Pu.apply(this,arguments)}(D,{token:q.token,createTime:Date.now(),subscriptionOptions:M}):q.token;try{yield Lm(D.firebaseDependencies,q.token)}catch(te){console.warn(te)}return Ba(D.firebaseDependencies,M)}return Ba(D.firebaseDependencies,M)}),Ef.apply(this,arguments)}function Ou(){return Ou=(0,B.Z)(function*(D){const T=yield Fa(D.firebaseDependencies);T&&(yield Lm(D.firebaseDependencies,T.token),yield function xf(D){return da.apply(this,arguments)}(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ou.apply(this,arguments)}function Pu(){return Pu=(0,B.Z)(function*(D,T){try{const M=yield function vv(D,T){return cl.apply(this,arguments)}(D.firebaseDependencies,T),q=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield nd(D.firebaseDependencies,q),M}catch(M){throw yield function Ru(D){return Ou.apply(this,arguments)}(D),M}}),Pu.apply(this,arguments)}function Ba(D,T){return ti.apply(this,arguments)}function ti(){return(ti=(0,B.Z)(function*(D,T){const q={token:yield U0(D,T),createTime:Date.now(),subscriptionOptions:T};return yield nd(D,q),q.token})).apply(this,arguments)}function xc(){return(xc=(0,B.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Du(T)})})).apply(this,arguments)}function Cc(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Df(D,T){if(!T.notification)return;D.notification={};const M=T.notification.title;M&&(D.notification.title=M);const q=T.notification.body;q&&(D.notification.body=q);const te=T.notification.image;te&&(D.notification.image=te);const se=T.notification.icon;se&&(D.notification.icon=se)}(T,D),function ua(D,T){T.data&&(D.data=T.data)}(T,D),function Bo(D,T){var M,q,te,se,De;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;D.fcmOptions={};const ft=null!==(te=null===(q=T.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==te?te:null===(se=T.notification)||void 0===se?void 0:se.click_action;ft&&(D.fcmOptions.link=ft);const at=null===(De=T.fcmOptions)||void 0===De?void 0:De.analytics_label;at&&(D.fcmOptions.analyticsLabel=at)}(T,D),T}function If(D,T){const M=[];for(let q=0;q<D.length;q++)M.push(D.charAt(q)),q<T.length&&M.push(T.charAt(q));return M.join("")}function ws(D){return Er.create("missing-app-config-values",{valueName:D})}If("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),If("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fu{constructor(T,M,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function Nu(D){if(!D||!D.options)throw ws("App Configuration Object");if(!D.name)throw ws("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const q of T)if(!M[q])throw ws(q);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:te,installations:M,analyticsProvider:q}}_delete(){return Promise.resolve()}}function od(){return(od=(0,B.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Cu,{scope:wf}),D.swRegistration.update().catch(()=>{})}catch(T){throw Er.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Vo(){return(Vo=(0,B.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield function Lu(D){return od.apply(this,arguments)}(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Er.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Yt(){return(Yt=(0,B.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Xl)})).apply(this,arguments)}function kf(){return kf=(0,B.Z)(function*(D,T){if(!navigator)throw Er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Er.create("permission-blocked");return yield function sd(D,T){return Yt.apply(this,arguments)}(D,T?.vapidKey),yield function Ec(D,T){return Vo.apply(this,arguments)}(D,T?.serviceWorkerRegistration),function Mu(D){return Ef.apply(this,arguments)}(D)}),kf.apply(this,arguments)}function Vu(){return(Vu=(0,B.Z)(function*(D,T,M){const q=function Um(D){switch(D){case la.NOTIFICATION_CLICKED:return"notification_open";case la.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:M[Om],message_name:M[Bi],message_time:M[V0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Uo(){return Uo=(0,B.Z)(function*(D,T){const M=T.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===la.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Cc(M)):D.onMessageHandler.next(Cc(M)));const q=M.data;(function Vm(D){return"object"==typeof D&&!!D&&Om in D})(q)&&"1"===q["google.c.a.e"]&&(yield function yv(D,T,M){return Vu.apply(this,arguments)}(D,M.messageType,q))}),Uo.apply(this,arguments)}const ad="@firebase/messaging",Hm=D=>{const T=new Fu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function dl(D,T){return Uo.apply(this,arguments)}(T,M)),T},Tf=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:q=>function Bu(D,T){return kf.apply(this,arguments)}(T,q)}};function He(){return En.apply(this,arguments)}function En(){return(En=(0,B.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zm(){(0,ae._registerComponent)(new ue.wA("messaging",Hm,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("messaging-internal",Tf,"PRIVATE")),(0,ae.registerVersion)(ad,"0.12.4"),(0,ae.registerVersion)(ad,"0.12.4","esm2017")}();const Hu="analytics",Sf="firebase_id",Af="origin",Fr=6e4,xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dd="https://www.googletagmanager.com/gtag/js",yi=new Te.Yd("@firebase/analytics"),hr=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ud(D){if(!D.startsWith(dd)){const T=hr.create("invalid-gtag-resource",{gtagURL:D});return yi.warn(T.message),""}return D}function hl(D){return Promise.all(D.map(T=>T.catch(M=>M)))}function ha(){return(ha=(0,B.Z)(function*(D,T,M,q,te,se){const De=q[te];try{if(De)yield T[De];else{const at=(yield hl(M)).find(Pt=>Pt.measurementId===te);at&&(yield T[at.appId])}}catch(ft){yi.error(ft)}D("config",te,se)})).apply(this,arguments)}function Dc(){return(Dc=(0,B.Z)(function*(D,T,M,q,te){try{let se=[];if(te&&te.send_to){let De=te.send_to;Array.isArray(De)||(De=[De]);const ft=yield hl(M);for(const at of De){const Pt=ft.find(Zt=>Zt.measurementId===at),nn=Pt&&T[Pt.appId];if(!nn){se=[];break}se.push(nn)}}0===se.length&&(se=Object.values(T)),yield Promise.all(se),D("event",q,te||{})}catch(se){yi.error(se)}})).apply(this,arguments)}const bv=30,Pf=new class Of{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Gm(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Es(){return(Es=(0,B.Z)(function*(D){var T;const{appId:M,apiKey:q}=D,te={method:"GET",headers:Gm(q)},se=xs.replace("{app-id}",M),De=yield fetch(se,te);if(200!==De.status&&304!==De.status){let ft="";try{const at=yield De.json();null!==(T=at.error)&&void 0!==T&&T.message&&(ft=at.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:De.status,responseMessage:ft})}return De.json()})).apply(this,arguments)}function gd(){return(gd=(0,B.Z)(function*(D,T=Pf,M){const{appId:q,apiKey:te,measurementId:se}=D.options;if(!q)throw hr.create("no-app-id");if(!te){if(se)return{measurementId:se,appId:q};throw hr.create("no-api-key")}const De=T.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ft=new Gu;return setTimeout((0,B.Z)(function*(){ft.abort()}),void 0!==M?M:Fr),Nf({appId:q,apiKey:te,measurementId:se},De,ft,T)})).apply(this,arguments)}function Nf(D,T,M){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,B.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:M},q,te=Pf){var se;const{appId:De,measurementId:ft}=D;try{yield function ju(D,T){return new Promise((M,q)=>{const te=Math.max(T-Date.now(),0),se=setTimeout(M,te);D.addEventListener(()=>{clearTimeout(se),q(hr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(q,T)}catch(at){if(ft)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:De,measurementId:ft};throw at}try{const at=yield function Dr(D){return Es.apply(this,arguments)}(D);return te.deleteThrottleMetadata(De),at}catch(at){const Pt=at;if(!function $u(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Pt)){if(te.deleteThrottleMetadata(De),ft)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:De,measurementId:ft};throw at}const nn=503===Number(null===(se=Pt?.customData)||void 0===se?void 0:se.httpStatus)?(0,ce.$s)(M,te.intervalMillis,bv):(0,ce.$s)(M,te.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+nn,backoffCount:M+1};return te.setThrottleMetadata(De,Zt),yi.debug(`Calling attemptFetch again in ${nn} millis`),Nf(D,Zt,q,te)}}),Ic.apply(this,arguments)}class Gu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let pl,yd;function Ff(){return(Ff=(0,B.Z)(function*(D,T,M,q,te){if(te&&te.global)D("event",M,q);else{const se=yield T;D("event",M,Object.assign(Object.assign({},q),{send_to:se}))}})).apply(this,arguments)}function gl(){return(gl=(0,B.Z)(function*(){if(!(0,ce.hl)())return yi.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(D){return yi.warn(hr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ma(){return ma=(0,B.Z)(function*(D,T,M,q,te,se,De){var ft;const at=function ni(D){return gd.apply(this,arguments)}(D);at.then(pr=>{M[pr.measurementId]=pr.appId,D.options.measurementId&&pr.measurementId!==D.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pr=>yi.error(pr)),T.push(at);const Pt=function qm(){return gl.apply(this,arguments)}().then(pr=>{if(pr)return q.getId()}),[nn,Zt]=yield Promise.all([at,Pt]);(function zu(D){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(dd)&&M.src.includes(D))return M;return null})(se)||function Mf(D,T){const M=function hd(D,T){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(D,T)),M}("firebase-js-sdk-policy",{createScriptURL:ud}),q=document.createElement("script"),te=`${dd}?l=${D}&id=${T}`;q.src=M?M?.createScriptURL(te):te,q.async=!0,document.head.appendChild(q)}(se,nn.measurementId),yd&&(te("consent","default",yd),function $s(D){yd=D}(void 0)),te("js",new Date);const kr=null!==(ft=De?.config)&&void 0!==ft?ft:{};return kr[Af]="firebase",kr.update=!0,null!=Zt&&(kr[Sf]=Zt),te("config",nn.measurementId,kr),pl&&(te("set",pl),function Zu(D){pl=D}(void 0)),nn.measurementId}),ma.apply(this,arguments)}class Yu{constructor(T){this.app=T}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},Wm=[];const _l={};let xv,zn,Ua="dataLayer",At=!1;function An(D,T,M){!function Bn(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((q,te)=>`(${te+1}) ${q}`).join(" "),M=hr.create("invalid-analytics-context",{errorInfo:T});yi.warn(M.message)}}();const q=D.options.appId;if(!q)throw hr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw hr.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ho[q])throw hr.create("already-exists",{id:q});if(!At){!function fl(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Ua);const{wrappedGtag:se,gtagCore:De}=function md(D,T,M,q,te){let se=function(...De){window[q].push(arguments)};return window[te]&&"function"==typeof window[te]&&(se=window[te]),window[te]=function pd(D,T,M,q){function se(){return se=(0,B.Z)(function*(De,...ft){try{if("event"===De){const[at,Pt]=ft;yield function fa(D,T,M,q,te){return Dc.apply(this,arguments)}(D,T,M,at,Pt)}else if("config"===De){const[at,Pt]=ft;yield function fd(D,T,M,q,te,se){return ha.apply(this,arguments)}(D,T,M,q,at,Pt)}else if("consent"===De){const[at]=ft;D("consent","update",at)}else if("get"===De){const[at,Pt,nn]=ft;D("get",at,Pt,nn)}else if("set"===De){const[at]=ft;D("set",at)}else D(De,...ft)}catch(at){yi.error(at)}}),se.apply(this,arguments)}return function te(De){return se.apply(this,arguments)}}(se,D,T,M),{gtagCore:se,wrappedGtag:window[te]}}(Ho,Wm,_l,Ua,"gtag");zn=se,xv=De,At=!0}return Ho[q]=function wv(D,T,M,q,te,se,De){return ma.apply(this,arguments)}(D,Wm,_l,T,xv,Ua,M),new Yu(D)}function bi(){return tt.apply(this,arguments)}function tt(){return(tt=(0,B.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const as="@firebase/analytics";!function Ha(){(0,ae._registerComponent)(new ue.wA(Hu,(T,{options:M})=>An(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new ue.wA("analytics-internal",function D(T){try{const M=T.getProvider(Hu).getImmediate();return{logEvent:(q,te,se)=>function ci(D,T,M,q){D=(0,ce.m9)(D),function Va(D,T,M,q,te){return Ff.apply(this,arguments)}(zn,Ho[D.app.options.appId],T,M,q).catch(te=>yi.error(te))}(M,q,te,se)}}catch(M){throw hr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(as,"0.10.0"),(0,ae.registerVersion)(as,"0.10.0","esm2017")}();var za=z(1954),va=z(2631);const zo=new class Is extends va.v{}(class Zm extends za.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(T,M,q):(T.flush(this),0)}});var bl=z(6321),Ee=z(5592),wi=z(9397),ir=z(3093),j=z(5137);const Xr=new a.GfV("7.6.1"),ks="__angularfire_symbol__analyticsIsSupportedValue",xd="__angularfire_symbol__analyticsIsSupported",Cd="__angularfire_symbol__remoteConfigIsSupportedValue",xi="__angularfire_symbol__remoteConfigIsSupported",Vf="__angularfire_symbol__messagingIsSupportedValue",kc="__angularfire_symbol__messagingIsSupported";function Qu(D,T,M){if(T){if(1===T.length)return T[0];const se=T.filter(De=>De.app===M);if(1===se.length)return se[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[xd]||(globalThis[xd]=bi().then(D=>globalThis[ks]=D).catch(()=>globalThis[ks]=!1)),globalThis[kc]||(globalThis[kc]=He().then(D=>globalThis[Vf]=D).catch(()=>globalThis[Vf]=!1)),globalThis[xi]||(globalThis[xi]=vc().then(D=>globalThis[Cd]=D).catch(()=>globalThis[Cd]=!1));const Ev=(D,T)=>{const M=T?[T]:(0,Z.C6)(),q=[];return M.forEach(te=>{te.container.getProvider(D).instances.forEach(De=>{q.includes(De)||q.push(De)})}),q};function Ci(){}class Xu{constructor(T,M=zo){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,q){const te=this.zone;return this.delegate.schedule(function(De){te.runGuarded(()=>{T.apply(this,[De])})},M,q)}}class wl{constructor(T){this.zone=T,this.task=null}call(T,M){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ci,{},Ci,Ci)),M.pipe((0,wi.b)({next:q,complete:q,error:q})).subscribe(T).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rr=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Xu(Zone.current)),this.insideAngular=M.run(()=>new Xu(Zone.current,bl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(a.LFG(a.R0b))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function qi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ts(D){return qi().ngZone.run(()=>D())}function $a(D){return D.pipe((0,ir.Q)(qi().outsideAngular))}function Dd(D){return qi(),function Dv(D){return function(M){return(M=M.lift(new wl(D.ngZone))).pipe((0,j.R)(D.outsideAngular),(0,ir.Q)(D.insideAngular))}}(qi())(D)}const Ym=(D,T)=>function(){const q=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),Ts(()=>D.apply(void 0,q))},Ju=(D,T)=>function(){let M;const q=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof q[se]&&(T&&(M||(M=Ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ci,{},Ci,Ci)))),q[se]=Ym(q[se],M));const te=function ja(D){return qi().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,q));if(!T){if(te instanceof Ee.y){const se=qi();return te.pipe((0,j.R)(se.outsideAngular),(0,ir.Q)(se.insideAngular))}return Ts(()=>te)}return te instanceof Ee.y?te.pipe(Dd):te instanceof Promise?Ts(()=>new Promise((se,De)=>te.then(ft=>Ts(()=>se(ft)),ft=>Ts(()=>De(ft))))):"function"==typeof te&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),te.apply(this,arguments)}:Ts(()=>te)}},6878:(It,Re,z)=>{"use strict";z.d(Re,{$:()=>Cu,A:()=>ee,D:()=>Pe,I:()=>mc,J:()=>bo,L:()=>jt,N:()=>Or,P:()=>wv,Q:()=>Am,R:()=>qu,U:()=>Na,V:()=>vc,W:()=>yc,X:()=>wo,Y:()=>$r,Z:()=>_u,_:()=>gf,a:()=>ur,a0:()=>Xl,a1:()=>Om,a2:()=>_v,a3:()=>Pm,a4:()=>Jl,a5:()=>ed,a6:()=>xo,a7:()=>td,a8:()=>La,a9:()=>Fm,aA:()=>oe,aB:()=>xd,aC:()=>ki,aD:()=>vn,aE:()=>wi,aF:()=>fr,aG:()=>bd,aH:()=>gi,aL:()=>Qr,aO:()=>ol,aa:()=>xf,ab:()=>Cf,ac:()=>ku,ad:()=>vv,ae:()=>Lm,af:()=>id,ai:()=>Bm,aj:()=>Ef,ak:()=>Ru,an:()=>gv,ao:()=>Df,aq:()=>Yt,ar:()=>ad,as:()=>Qe,at:()=>Ot,au:()=>Ie,av:()=>le,aw:()=>Zt,ax:()=>kc,ay:()=>St,az:()=>Me,b:()=>Uu,c:()=>zn,d:()=>An,e:()=>Dt,f:()=>as,g:()=>Is,h:()=>za,i:()=>Rf,j:()=>bl,k:()=>Gs,l:()=>Co,m:()=>Id,p:()=>Ve,r:()=>Lf,s:()=>Ds,u:()=>qm});var a=z(5861),Z=z(9058),B=z(534),ae=z(7582),ce=z(7879),ue=z(4537);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ot=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ce.Yd("@firebase/auth");function Ct(x,...v){We.logLevel<=ce.in.ERROR&&We.error(`Auth (${B.SDK_VERSION}): ${x}`,...v)}function le(x,...v){throw je(x,...v)}function Me(x,...v){return je(x,...v)}function pe(x,v,y){const I=Object.assign(Object.assign({},ot()),{[v]:y});return new Z.LL("auth","Firebase",I).create(v,{appName:x.name})}function xe(x,v,y){if(!(v instanceof y))throw y.name!==v.constructor.name&&le(x,"argument-error"),pe(x,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(x,...v){if("string"!=typeof x){const y=v[0],I=[...v.slice(1)];return I[0]&&(I[0].appName=x.name),x._errorFactory.create(y,...I)}return Ne.create(x,...v)}function oe(x,v,...y){if(!x)throw je(v,...y)}function ut(x){const v="INTERNAL ASSERTION FAILED: "+x;throw Ct(v),new Error(v)}function Qe(x,v){x||ut(v)}function pn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function Fi(){return"http:"===Yi()||"https:"===Yi()}function Yi(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class ke{constructor(v,y){this.shortDelay=v,this.longDelay=y,Qe(y>v,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function es(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fi()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Be(x,v){Qe(x.emulator,"Emulator should always be set here");const{url:y}=x.emulator;return v?`${y}${v.startsWith("/")?v.slice(1):v}`:y}class qe{static initialize(v,y,I){this.fetchImpl=v,y&&(this.headersImpl=y),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new ke(3e4,6e4);function lt(x,v){return x.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:x.tenantId}):v}function yt(x,v,y,I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(x,v,y,I,R={}){return mt(x,R,(0,a.Z)(function*(){let V={},ie={};I&&("GET"===v?ie=I:V={body:JSON.stringify(I)});const be=(0,Z.xO)(Object.assign({key:x.config.apiKey},ie)).slice(1),nt=yield x._getAdditionalHeaders();return nt["Content-Type"]="application/json",x.languageCode&&(nt["X-Firebase-Locale"]=x.languageCode),qe.fetch()(ln(x,x.config.apiHost,y,be),Object.assign({method:v,headers:nt,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function mt(x,v,y){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,a.Z)(function*(x,v,y){x._canInitEmulator=!1;const I=Object.assign(Object.assign({},et),v);try{const R=new Wt(x),V=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const ie=yield V.json();if("needConfirmation"in ie)throw fi(x,"account-exists-with-different-credential",ie);if(V.ok&&!("errorMessage"in ie))return ie;{const be=V.ok?ie.errorMessage:ie.error.message,[nt,gt]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw fi(x,"credential-already-in-use",ie);if("EMAIL_EXISTS"===nt)throw fi(x,"email-already-in-use",ie);if("USER_DISABLED"===nt)throw fi(x,"user-disabled",ie);const Vt=I[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw pe(x,Vt,gt);le(x,Vt)}}catch(R){if(R instanceof Z.ZR)throw R;le(x,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function qt(x,v,y,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(x,v,y,I,R={}){const V=yield yt(x,v,y,I,R);return"mfaPendingCredential"in V&&le(x,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function ln(x,v,y,I){const R=`${v}${y}?${I}`;return x.config.emulator?Be(x.config,R):`${x.config.apiScheme}://${R}`}class Wt{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((y,I)=>{this.timer=setTimeout(()=>I(Me(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fi(x,v,y){const I={appName:x.name};y.email&&(I.email=y.email),y.phoneNumber&&(I.phoneNumber=y.phoneNumber);const R=Me(x,v,I);return R.customData._tokenResponse=y,R}function Kn(){return(Kn=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Qi(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Di(){return(Di=(0,a.Z)(function*(x,v=!1){const y=(0,Z.m9)(x),I=yield y.getIdToken(v),R=Tt(I);oe(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const V="object"==typeof R.firebase?R.firebase:void 0,ie=V?.sign_in_provider;return{claims:R,token:I,authTime:Qi(dt(R.auth_time)),issuedAtTime:Qi(dt(R.iat)),expirationTime:Qi(dt(R.exp)),signInProvider:ie||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(x){return 1e3*Number(x)}function Tt(x){const[v,y,I]=x.split(".");if(void 0===v||void 0===y||void 0===I)return Ct("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,Z.tV)(y);return R?JSON.parse(R):(Ct("Failed to decode base64 JWT payload"),null)}catch(R){return Ct("Caught error parsing JWT payload as JSON",R?.toString()),null}}function _n(x,v){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(x,v,y=!1){if(y)return v;try{return yield v}catch(I){throw I instanceof Z.ZR&&function Rr({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(I)&&x.auth.currentUser===x&&(yield x.auth.signOut()),I}})).apply(this,arguments)}class hn{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var y;if(v){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(v=!1){var y=this;if(!this.isRunning)return;const I=this.getInterval(v);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),I)}iteration(){var v=this;return(0,a.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&v.schedule(!0))}v.schedule()})()}}class pi{constructor(v,y){this.createdAt=v,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function so(x){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,a.Z)(function*(x){var v;const y=x.auth,I=yield x.getIdToken(),R=yield _n(x,function wr(x,v){return Ki.apply(this,arguments)}(y,{idToken:I}));oe(R?.users.length,y,"internal-error");const V=R.users[0];x._notifyReloadListener(V);const ie=null!==(v=V.providerUserInfo)&&void 0!==v&&v.length?function ao(x){return x.map(v=>{var{providerId:y}=v,I=(0,ae._T)(v,["providerId"]);return{providerId:y,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(V.providerUserInfo):[],be=function si(x,v){return[...x.filter(I=>!v.some(R=>R.providerId===I.providerId)),...v]}(x.providerData,ie),Vt=!!x.isAnonymous&&!(x.email&&V.passwordHash||be?.length),On={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:be,metadata:new pi(V.createdAt,V.lastLoginAt),isAnonymous:Vt};Object.assign(x,On)}),Sn.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(x){const v=(0,Z.m9)(x);yield so(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(x,v){const y=yield mt(x,{},(0,a.Z)(function*(){const I=(0,Z.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:R,apiKey:V}=x.config,ie=ln(x,R,"/v1/token",`key=${V}`),be=yield x._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(ie,{method:"POST",headers:be,body:I})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){oe(v.idToken,"internal-error"),oe(typeof v.idToken<"u","internal-error"),oe(typeof v.refreshToken<"u","internal-error");const y="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function Ft(x){const v=Tt(x);return oe(v,"internal-error"),oe(typeof v.exp<"u","internal-error"),oe(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,y)}getToken(v,y=!1){var I=this;return(0,a.Z)(function*(){return oe(!I.accessToken||I.refreshToken,v,"user-token-expired"),y||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(v,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,y){var I=this;return(0,a.Z)(function*(){const{accessToken:R,refreshToken:V,expiresIn:ie}=yield function No(x,v){return lr.apply(this,arguments)}(v,y);I.updateTokensAndExpiration(R,V,Number(ie))})()}updateTokensAndExpiration(v,y,I){this.refreshToken=y||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(v,y){const{refreshToken:I,accessToken:R,expirationTime:V}=y,ie=new Qn;return I&&(oe("string"==typeof I,"internal-error",{appName:v}),ie.refreshToken=I),R&&(oe("string"==typeof R,"internal-error",{appName:v}),ie.accessToken=R),V&&(oe("number"==typeof V,"internal-error",{appName:v}),ie.expirationTime=V),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new Qn,this.toJSON())}_performRefresh(){return ut("not implemented")}}function Wn(x,v){oe("string"==typeof x||typeof x>"u","internal-error",{appName:v})}class Ii{constructor(v){var{uid:y,auth:I,stsTokenManager:R}=v,V=(0,ae._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=I,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new pi(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(v){var y=this;return(0,a.Z)(function*(){const I=yield _n(y,y.stsTokenManager.getToken(y.auth,v));return oe(I,y.auth,"internal-error"),y.accessToken!==I&&(y.accessToken=I,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),I})()}getIdTokenResult(v){return function Xi(x){return Di.apply(this,arguments)}(this,v)}reload(){return function Ji(x){return Qt.apply(this,arguments)}(this)}_assign(v){this!==v&&(oe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(y=>Object.assign({},y)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const y=new Ii(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(v){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,y=!1){var I=this;return(0,a.Z)(function*(){let R=!1;v.idToken&&v.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(v),R=!0),y&&(yield so(I)),yield I.auth._persistUserIfCurrent(I),R&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var v=this;return(0,a.Z)(function*(){const y=yield v.getIdToken();return yield _n(v,function oi(x,v){return Kn.apply(this,arguments)}(v.auth,{idToken:y})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,y){var I,R,V,ie,be,nt,gt,Vt;const On=null!==(I=y.displayName)&&void 0!==I?I:void 0,ho=null!==(R=y.email)&&void 0!==R?R:void 0,ya=null!==(V=y.phoneNumber)&&void 0!==V?V:void 0,jf=null!==(ie=y.photoURL)&&void 0!==ie?ie:void 0,Tv=null!==(be=y.tenantId)&&void 0!==be?be:void 0,$f=null!==(nt=y._redirectEventId)&&void 0!==nt?nt:void 0,G0=null!==(gt=y.createdAt)&&void 0!==gt?gt:void 0,Sv=null!==(Vt=y.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Ad,emailVerified:th,isAnonymous:Gf,providerData:nh,stsTokenManager:qf}=y;oe(Ad&&qf,v,"internal-error");const Cl=Qn.fromJSON(this.name,qf);oe("string"==typeof Ad,v,"internal-error"),Wn(On,v.name),Wn(ho,v.name),oe("boolean"==typeof th,v,"internal-error"),oe("boolean"==typeof Gf,v,"internal-error"),Wn(ya,v.name),Wn(jf,v.name),Wn(Tv,v.name),Wn($f,v.name),Wn(G0,v.name),Wn(Sv,v.name);const Xm=new Ii({uid:Ad,auth:v,email:ho,emailVerified:th,displayName:On,isAnonymous:Gf,photoURL:jf,phoneNumber:ya,tenantId:Tv,stsTokenManager:Cl,createdAt:G0,lastLoginAt:Sv});return nh&&Array.isArray(nh)&&(Xm.providerData=nh.map(Av=>Object.assign({},Av))),$f&&(Xm._redirectEventId=$f),Xm}static _fromIdTokenResponse(v,y,I=!1){return(0,a.Z)(function*(){const R=new Qn;R.updateFromServerResponse(y);const V=new Ii({uid:y.localId,auth:v,stsTokenManager:R,isAnonymous:I});return yield so(V),V})()}}const Xn=new Map;function ki(x){Qe(x instanceof Function,"Expected a class definition");let v=Xn.get(x);return v?(Qe(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,Xn.set(x,v),v)}const Or=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,I){var R=this;return(0,a.Z)(function*(){R.storage[y]=I})()}_get(y){var I=this;return(0,a.Z)(function*(){const R=I.storage[y];return void 0===R?null:R})()}_remove(y){var I=this;return(0,a.Z)(function*(){delete I.storage[y]})()}_addListener(y,I){}_removeListener(y,I){}}return x.type="NONE",x})();function vn(x,v,y){return`firebase:${x}:${v}:${y}`}class J{constructor(v,y,I){this.persistence=v,this.auth=y,this.userKey=I;const{config:R,name:V}=this.auth;this.fullUserKey=vn(this.userKey,R.apiKey,V),this.fullPersistenceKey=vn("persistence",R.apiKey,V),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,a.Z)(function*(){const y=yield v.persistence._get(v.fullUserKey);return y?Ii._fromJSON(v.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var y=this;return(0,a.Z)(function*(){if(y.persistence===v)return;const I=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=v,I?y.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,y,I="authUser"){return(0,a.Z)(function*(){if(!y.length)return new J(ki(Or),v,I);const R=(yield Promise.all(y.map(function(){var gt=(0,a.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let V=R[0]||ki(Or);const ie=vn(I,v.config.apiKey,v.name);let be=null;for(const gt of y)try{const Vt=yield gt._get(ie);if(Vt){const On=Ii._fromJSON(v,Vt);gt!==V&&(be=On),V=gt;break}}catch{}const nt=R.filter(gt=>gt._shouldAllowMigration);return V._shouldAllowMigration&&nt.length?(V=nt[0],be&&(yield V._set(ie,be.toJSON())),yield Promise.all(y.map(function(){var gt=(0,a.Z)(function*(Vt){if(Vt!==V)try{yield Vt._remove(ie)}catch{}});return function(Vt){return gt.apply(this,arguments)}}())),new J(V,v,I)):new J(V,v,I)})()}}function Y(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(re(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(U(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(rt(v))return"Blackberry";if(Nt(v))return"Webos";if($(v))return"Safari";if((v.includes("chrome/")||L(v))&&!v.includes("edge/"))return"Chrome";if(Ie(v))return"Android";{const I=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function U(x=(0,Z.z$)()){return/firefox\//i.test(x)}function $(x=(0,Z.z$)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function L(x=(0,Z.z$)()){return/crios\//i.test(x)}function re(x=(0,Z.z$)()){return/iemobile/i.test(x)}function Ie(x=(0,Z.z$)()){return/android/i.test(x)}function rt(x=(0,Z.z$)()){return/blackberry/i.test(x)}function Nt(x=(0,Z.z$)()){return/webos/i.test(x)}function Ot(x=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function St(x=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function en(x=(0,Z.z$)()){return Ot(x)||Ie(x)||Nt(x)||rt(x)||/windows phone/i.test(x)||re(x)}function er(x,v=[]){let y;switch(x){case"Browser":y=Y((0,Z.z$)());break;case"Worker":y=`${Y((0,Z.z$)())}-${x}`;break;default:y=x}const I=v.length?v.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${I}`}function fe(){return(fe=(0,a.Z)(function*(x){return(yield yt(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ge(x,v){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(x,v){return yt(x,"GET","/v2/recaptchaConfig",lt(x,v))})).apply(this,arguments)}function zt(x){return void 0!==x&&void 0!==x.getResponse}function tn(x){return void 0!==x&&void 0!==x.enterprise}class yn{constructor(v){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.emailPasswordEnabled=v.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function mi(x){return new Promise((v,y)=>{const I=document.createElement("script");I.setAttribute("src",x),I.onload=v,I.onerror=R=>{const V=Me("internal-error");V.customData=R,y(V)},I.type="text/javascript",I.charset="UTF-8",function tr(){var x,v;return null!==(v=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==v?v:document}().appendChild(I)})}function vo(x){return`__${x}${Math.floor(1e6*Math.random())}`}class Jn{constructor(v){this.type="recaptcha-enterprise",this.auth=gi(v)}verify(v="verify",y=!1){var I=this;return(0,a.Z)(function*(){function V(){return V=(0,a.Z)(function*(be){if(!y){if(null==be.tenantId&&null!=be._agentRecaptchaConfig)return be._agentRecaptchaConfig.siteKey;if(null!=be.tenantId&&void 0!==be._tenantRecaptchaConfigs[be.tenantId])return be._tenantRecaptchaConfigs[be.tenantId].siteKey}return new Promise(function(){var nt=(0,a.Z)(function*(gt,Vt){Ge(be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(On=>{if(void 0!==On.recaptchaKey){const ho=new yn(On);return null==be.tenantId?be._agentRecaptchaConfig=ho:be._tenantRecaptchaConfigs[be.tenantId]=ho,gt(ho.siteKey)}Vt(new Error("recaptcha Enterprise site key undefined"))}).catch(On=>{Vt(On)})});return function(gt,Vt){return nt.apply(this,arguments)}}())}),V.apply(this,arguments)}function ie(be,nt,gt){const Vt=window.grecaptcha;tn(Vt)?Vt.enterprise.ready(()=>{Vt.enterprise.execute(be,{action:v}).then(On=>{nt(On)}).catch(()=>{nt("NO_RECAPTCHA")})}):gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((be,nt)=>{(function R(be){return V.apply(this,arguments)})(I.auth).then(gt=>{if(!y&&tn(window.grecaptcha))ie(gt,be,nt);else{if(typeof window>"u")return void nt(new Error("RecaptchaVerifier is only supported in browser"));mi("https://www.google.com/recaptcha/enterprise.js?render="+gt).then(()=>{ie(gt,be,nt)}).catch(Vt=>{nt(Vt)})}}).catch(gt=>{nt(gt)})})})()}}function co(x,v,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(x,v,y,I=!1){const R=new Jn(x);let V;try{V=yield R.verify(y)}catch{V=yield R.verify(y,!0)}const ie=Object.assign({},v);return Object.assign(ie,I?{captchaResp:V}:{captchaResponse:V}),Object.assign(ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ie})).apply(this,arguments)}class ns{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,y){const I=V=>new Promise((ie,be)=>{try{ie(v(V))}catch(nt){be(nt)}});I.onAbort=y,this.queue.push(I);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(v){var y=this;return(0,a.Z)(function*(){if(y.auth.currentUser===v)return;const I=[];try{for(const R of y.queue)yield R(v),R.onAbort&&I.push(R.onAbort)}catch(R){I.reverse();for(const V of I)try{V()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class lo{constructor(v,y,I,R){this.app=v,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=I,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nl(this),this.idTokenSubscription=new nl(this),this.beforeStateQueue=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(v,y){var I=this;return y&&(this._popupRedirectResolver=ki(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var R,V;if(!I._deleted&&(I.persistenceManager=yield J.create(I,v),!I._deleted)){if(null!==(R=I._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(y),I.lastNotifiedUid=(null===(V=I.currentUser)||void 0===V?void 0:V.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,a.Z)(function*(){if(v._deleted)return;const y=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||y){if(v.currentUser&&y&&v.currentUser.uid===y.uid)return v._currentUser._assign(y),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(y,!0)}})()}initializeCurrentUser(v){var y=this;return(0,a.Z)(function*(){var I;const R=yield y.assertedPersistence.getCurrentUser();let V=R,ie=!1;if(v&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const be=null===(I=y.redirectUser)||void 0===I?void 0:I._redirectEventId,nt=V?._redirectEventId,gt=yield y.tryRedirectSignIn(v);(!be||be===nt)&&gt?.user&&(V=gt.user,ie=!0)}if(!V)return y.directlySetCurrentUser(null);if(!V._redirectEventId){if(ie)try{yield y.beforeStateQueue.runMiddleware(V)}catch(be){V=R,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(be))}return V?y.reloadAndSetCurrentUserOrClear(V):y.directlySetCurrentUser(null)}return oe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===V._redirectEventId?y.directlySetCurrentUser(V):y.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(v){var y=this;return(0,a.Z)(function*(){let I=null;try{I=yield y._popupRedirectResolver._completeRedirectFn(y,v,!0)}catch{yield y._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(v){var y=this;return(0,a.Z)(function*(){try{yield so(v)}catch(I){if("auth/network-request-failed"!==I?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,a.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var y=this;return(0,a.Z)(function*(){const I=v?(0,Z.m9)(v):null;return I&&oe(I.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(I&&I._clone(y))})()}_updateCurrentUser(v,y=!1){var I=this;return(0,a.Z)(function*(){if(!I._deleted)return v&&oe(I.tenantId===v.tenantId,I,"tenant-id-mismatch"),y||(yield I.beforeStateQueue.runMiddleware(v)),I.queue((0,a.Z)(function*(){yield I.directlySetCurrentUser(v),I.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,a.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(ki(v))}))}initializeRecaptchaConfig(){var v=this;return(0,a.Z)(function*(){const y=yield Ge(v,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new yn(y);null==v.tenantId?v._agentRecaptchaConfig=I:v._tenantRecaptchaConfigs[v.tenantId]=I,I.emailPasswordEnabled&&new Jn(v).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new Z.LL("auth","Firebase",v())}onAuthStateChanged(v,y,I){return this.registerStateListener(this.authStateSubscription,v,y,I)}beforeAuthStateChanged(v,y){return this.beforeStateQueue.pushCallback(v,y)}onIdTokenChanged(v,y,I){return this.registerStateListener(this.idTokenSubscription,v,y,I)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,y){var I=this;return(0,a.Z)(function*(){const R=yield I.getOrInitRedirectPersistenceManager(y);return null===v?R.removeCurrentUser():R.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const I=v&&ki(v)||y._popupRedirectResolver;oe(I,y,"argument-error"),y.redirectPersistenceManager=yield J.create(y,[ki(I._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(v){var y=this;return(0,a.Z)(function*(){var I,R;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(I=y._currentUser)||void 0===I?void 0:I._redirectEventId)===v?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===v?y.redirectUser:null})()}_persistUserIfCurrent(v){var y=this;return(0,a.Z)(function*(){if(v===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(y=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,y,I,R){if(this._deleted)return()=>{};const V="function"==typeof y?y:y.next.bind(y),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ie,this,"internal-error"),ie.then(()=>V(this.currentUser)),"function"==typeof y?v.addObserver(y,I,R):v.addObserver(y)}directlySetCurrentUser(v){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==v&&y._currentUser._stopProactiveRefresh(),v&&y.isProactiveRefreshEnabled&&v._startProactiveRefresh(),y.currentUser=v,v?yield y.assertedPersistence.setCurrentUser(v):yield y.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,a.Z)(function*(){var y;const I={"X-Client-Version":v.clientVersion};v.app.options.appId&&(I["X-Firebase-gmpid"]=v.app.options.appId);const R=yield null===(y=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();R&&(I["X-Firebase-Client"]=R);const V=yield v._getAppCheckToken();return V&&(I["X-Firebase-AppCheck"]=V),I})()}_getAppCheckToken(){var v=this;return(0,a.Z)(function*(){var y;const I=yield null===(y=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return I?.error&&function xt(x,...v){We.logLevel<=ce.in.WARN&&We.warn(`Auth (${B.SDK_VERSION}): ${x}`,...v)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function gi(x){return(0,Z.m9)(x)}class nl{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,Z.ne)(y=>this.observer=y)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mc(x,v,y){const I=gi(x);oe(I._canInitEmulator,I,"emulator-config-failed"),oe(/^https?:\/\//.test(v),I,"invalid-emulator-scheme");const R=!!y?.disableWarnings,V=oa(v),{host:ie,port:be}=function yo(x){const v=oa(x),y=/(\/\/)?([^?#/]+)/.exec(x.substr(v.length));if(!y)return{host:"",port:null};const I=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(I);if(R){const V=R[1];return{host:V,port:_s(I.substr(V.length+1))}}{const[V,ie]=I.split(":");return{host:V,port:_s(ie)}}}(v);I.config.emulator={url:`${V}//${ie}${null===be?"":`:${be}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ie,port:be,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Aa(){function x(){const v=document.createElement("p"),y=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function oa(x){const v=x.indexOf(":");return v<0?"":x.substr(0,v+1)}function _s(x){if(!x)return null;const v=Number(x);return isNaN(v)?null:v}class bo{constructor(v,y){this.providerId=v,this.signInMethod=y}toJSON(){return ut("not implemented")}_getIdTokenResponse(v){return ut("not implemented")}_linkToIdToken(v,y){return ut("not implemented")}_getReauthenticationResolver(v){return ut("not implemented")}}function Ma(x,v){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:resetPassword",lt(x,v))})).apply(this,arguments)}function zs(x,v){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",lt(x,v))})).apply(this,arguments)}function N(x,v){return H.apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithPassword",lt(x,v))})).apply(this,arguments)}function X(x,v){return me.apply(this,arguments)}function me(){return(me=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:sendOobCode",lt(x,v))})).apply(this,arguments)}function _t(){return(_t=(0,a.Z)(function*(x,v){return X(x,v)})).apply(this,arguments)}function dn(x,v){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(x,v){return X(x,v)})).apply(this,arguments)}function nr(x,v){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(x,v){return X(x,v)})).apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(x,v){return X(x,v)})).apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithEmailLink",lt(x,v))})).apply(this,arguments)}function Pr(){return(Pr=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithEmailLink",lt(x,v))})).apply(this,arguments)}class js extends bo{constructor(v,y,I,R=null){super("password",I),this._email=v,this._password=y,this._tenantId=R}static _fromEmailAndPassword(v,y){return new js(v,y,"password")}static _fromEmailAndCode(v,y,I=null){return new js(v,y,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(v){var y=this;return(0,a.Z)(function*(){var I;switch(y.signInMethod){case"password":const R={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=v._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const V=yield co(v,R,"signInWithPassword");return N(v,V)}return N(v,R).catch(function(){var V=(0,a.Z)(function*(ie){if("auth/missing-recaptcha-token"===ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const be=yield co(v,R,"signInWithPassword");return N(v,be)}return Promise.reject(ie)});return function(ie){return V.apply(this,arguments)}}());case"emailLink":return function Ti(x,v){return Yr.apply(this,arguments)}(v,{email:y._email,oobCode:y._password});default:le(v,"internal-error")}})()}_linkToIdToken(v,y){var I=this;return(0,a.Z)(function*(){switch(I.signInMethod){case"password":return zs(v,{idToken:y,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ql(x,v){return Pr.apply(this,arguments)}(v,{idToken:y,email:I._email,oobCode:I._password});default:le(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function ei(x,v){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithIdp",lt(x,v))})).apply(this,arguments)}class jt extends bo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const y=new jt(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(y.idToken=v.idToken),v.accessToken&&(y.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(y.nonce=v.nonce),v.pendingToken&&(y.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(y.accessToken=v.oauthToken,y.secret=v.oauthTokenSecret):le("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:I,signInMethod:R}=y,V=(0,ae._T)(y,["providerId","signInMethod"]);if(!I||!R)return null;const ie=new jt(I,R);return ie.idToken=V.idToken||void 0,ie.accessToken=V.accessToken||void 0,ie.secret=V.secret,ie.nonce=V.nonce,ie.pendingToken=V.pendingToken||null,ie}_getIdTokenResponse(v){return ei(v,this.buildRequest())}_linkToIdToken(v,y){const I=this.buildRequest();return I.idToken=y,ei(v,I)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,ei(v,y)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),v.postBody=(0,Z.xO)(y)}return v}}function Wl(){return(Wl=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:sendVerificationCode",lt(x,v))})).apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,v))})).apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(x,v){const y=yield qt(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,v));if(y.temporaryProof)throw fi(x,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Cr={USER_NOT_FOUND:"user-not-found"};function Yl(){return(Yl=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Cr)})).apply(this,arguments)}class Nr extends bo{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,y){return new Nr({verificationId:v,verificationCode:y})}static _fromTokenResponse(v,y){return new Nr({phoneNumber:v,temporaryProof:y})}_getIdTokenResponse(v){return function sa(x,v){return vi.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,y){return function Zl(x,v){return Oa.apply(this,arguments)}(v,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function _c(x,v){return Yl.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:y,verificationId:I,verificationCode:R}=this.params;return v&&y?{temporaryProof:v,phoneNumber:y}:{sessionInfo:I,code:R}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:y,verificationCode:I,phoneNumber:R,temporaryProof:V}=v;return I||y||R||V?new Nr({verificationId:y,verificationCode:I,phoneNumber:R,temporaryProof:V}):null}}class rs{constructor(v){var y,I,R,V,ie,be;const nt=(0,Z.zd)((0,Z.pd)(v)),gt=null!==(y=nt.apiKey)&&void 0!==y?y:null,Vt=null!==(I=nt.oobCode)&&void 0!==I?I:null,On=function Kr(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=nt.mode)&&void 0!==R?R:null);oe(gt&&Vt&&On,"argument-error"),this.apiKey=gt,this.operation=On,this.code=Vt,this.continueUrl=null!==(V=nt.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ie=nt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(be=nt.tenantId)&&void 0!==be?be:null}static parseLink(v){const y=function Kl(x){const v=(0,Z.zd)((0,Z.pd)(x)).link,y=v?(0,Z.zd)((0,Z.pd)(v)).deep_link_id:null,I=(0,Z.zd)((0,Z.pd)(x)).deep_link_id;return(I?(0,Z.zd)((0,Z.pd)(I)).link:null)||I||y||v||x}(v);try{return new rs(y)}catch{return null}}}let Am=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(y,I){return js._fromEmailAndPassword(y,I)}static credentialWithLink(y,I){const R=rs.parseLink(I);return oe(R,"argument-error"),js._fromEmailAndCode(y,R.code,R.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class ys{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Pa extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class wo extends Pa{static credentialFromJSON(v){const y="string"==typeof v?JSON.parse(v):v;return oe("providerId"in y&&"signInMethod"in y,"argument-error"),jt._fromParams(y)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return oe(v.idToken||v.accessToken,"argument-error"),jt._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return wo.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return wo.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:y,oauthAccessToken:I,oauthTokenSecret:R,pendingToken:V,nonce:ie,providerId:be}=v;if(!I&&!R&&!y&&!V||!be)return null;try{return new wo(be)._credential({idToken:y,accessToken:I,nonce:ie,pendingToken:V})}catch{return null}}}let Na=(()=>{class x extends Pa{constructor(){super("facebook.com")}static credential(y){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),vc=(()=>{class x extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(y,I){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:I})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:R}=y;if(!I&&!R)return null;try{return x.credential(I,R)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),yc=(()=>{class x extends Pa{constructor(){super("github.com")}static credential(y){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class ol extends bo{constructor(v,y){super(v,v),this.pendingToken=y}_getIdTokenResponse(v){return ei(v,this.buildRequest())}_linkToIdToken(v,y){const I=this.buildRequest();return I.idToken=y,ei(v,I)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,ei(v,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:I,signInMethod:R,pendingToken:V}=y;return I&&R&&V&&I===R?new ol(I,V):null}static _create(v,y){return new ol(v,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $r extends ys{constructor(v){oe(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return $r.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return $r.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const y=ol.fromJSON(v);return oe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:y,providerId:I}=v;if(!y||!I)return null;try{return ol._create(I,y)}catch{return null}}}let _u=(()=>{class x extends Pa{constructor(){super("twitter.com")}static credential(y,I){return jt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:I})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:I,oauthTokenSecret:R}=y;if(!I||!R)return null;try{return x.credential(I,R)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function os(x,v){return aa.apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signUp",lt(x,v))})).apply(this,arguments)}class ai{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,y,I,R=!1){return(0,a.Z)(function*(){const V=yield Ii._fromIdTokenResponse(v,I,R),ie=bc(I);return new ai({user:V,providerId:ie,_tokenResponse:I,operationType:y})})()}static _forOperation(v,y,I){return(0,a.Z)(function*(){yield v._updateTokensIfNecessary(I,!0);const R=bc(I);return new ai({user:v,providerId:R,_tokenResponse:I,operationType:y})})()}}function bc(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function gf(x){return vu.apply(this,arguments)}function vu(){return(vu=(0,a.Z)(function*(x){var v;const y=gi(x);if(yield y._initializationPromise,null!==(v=y.currentUser)&&void 0!==v&&v.isAnonymous)return new ai({user:y.currentUser,providerId:null,operationType:"signIn"});const I=yield os(y,{returnSecureToken:!0}),R=yield ai._fromIdTokenResponse(y,"signIn",I,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class yu extends Z.ZR{constructor(v,y,I,R){var V;super(y.code,y.message),this.operationType=I,this.user=R,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:v.name,tenantId:null!==(V=v.tenantId)&&void 0!==V?V:void 0,_serverResponse:y.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(v,y,I,R){return new yu(v,y,I,R)}}function bu(x,v,y,I){return("reauthenticate"===v?y._getReauthenticationResolver(x):y._getIdTokenResponse(x)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?yu._fromErrorAndOperation(x,V,v,I):V})}function Mm(x){return new Set(x.map(({providerId:v})=>v).filter(v=>!!v))}function gv(x,v){return _f.apply(this,arguments)}function _f(){return _f=(0,a.Z)(function*(x,v){const y=(0,Z.m9)(x);yield xu(!0,y,v);const{providerUserInfo:I}=yield function qn(x,v){return cr.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[v]}),R=Mm(I||[]);return y.providerData=y.providerData.filter(V=>R.has(V.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),_f.apply(this,arguments)}function bs(x,v){return wu.apply(this,arguments)}function wu(){return(wu=(0,a.Z)(function*(x,v,y=!1){const I=yield _n(x,v._linkToIdToken(x.auth,yield x.getIdToken()),y);return ai._forOperation(x,"link",I)})).apply(this,arguments)}function xu(x,v,y){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(x,v,y){yield so(v);const R=!1===x?"provider-already-linked":"no-such-provider";oe(Mm(v.providerData).has(y)===x,v.auth,R)})).apply(this,arguments)}function Rm(x,v){return vf.apply(this,arguments)}function vf(){return(vf=(0,a.Z)(function*(x,v,y=!1){const{auth:I}=x,R="reauthenticate";try{const V=yield _n(x,bu(I,R,v,x),y);oe(V.idToken,I,"internal-error");const ie=Tt(V.idToken);oe(ie,I,"internal-error");const{sub:be}=ie;return oe(x.uid===be,I,"user-mismatch"),ai._forOperation(x,R,V)}catch(V){throw"auth/user-not-found"===V?.code&&le(I,"user-mismatch"),V}})).apply(this,arguments)}function yf(x,v){return bf.apply(this,arguments)}function bf(){return(bf=(0,a.Z)(function*(x,v,y=!1){const I="signIn",R=yield bu(x,I,v),V=yield ai._fromIdTokenResponse(x,I,R);return y||(yield x._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Cu(x,v){return wf.apply(this,arguments)}function wf(){return(wf=(0,a.Z)(function*(x,v){return yf(gi(x),v)})).apply(this,arguments)}function Xl(x,v){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,a.Z)(function*(x,v){const y=(0,Z.m9)(x);return yield xu(!1,y,v.providerId),bs(y,v)})).apply(this,arguments)}function Om(x,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,a.Z)(function*(x,v){return Rm((0,Z.m9)(x),v)})).apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(x,v){return qt(x,"POST","/v1/accounts:signInWithCustomToken",lt(x,v))})).apply(this,arguments)}function _v(x,v){return la.apply(this,arguments)}function la(){return la=(0,a.Z)(function*(x,v){const y=gi(x),I=yield function V0(x,v){return ca.apply(this,arguments)}(y,{token:v,returnSecureToken:!0}),R=yield ai._fromIdTokenResponse(y,"signIn",I);return yield y._updateCurrentUser(R.user),R}),la.apply(this,arguments)}class uo{constructor(v,y){this.factorId=v,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(v,y){return"phoneInfo"in y?Du._fromServerResponse(v,y):"totpInfo"in y?sl._fromServerResponse(v,y):le(v,"internal-error")}}class Du extends uo{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,y){return new Du(y)}}class sl extends uo{constructor(v){super("totp",v)}static _fromServerResponse(v,y){return new sl(y)}}function al(x,v,y){var I;oe((null===(I=y.url)||void 0===I?void 0:I.length)>0,x,"invalid-continue-uri"),oe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),v.continueUrl=y.url,v.dynamicLinkDomain=y.dynamicLinkDomain,v.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(oe(y.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),v.iOSBundleId=y.iOS.bundleId),y.android&&(oe(y.android.packageName.length>0,x,"missing-android-pkg-name"),v.androidInstallApp=y.android.installApp,v.androidMinimumVersionCode=y.android.minimumVersion,v.androidPackageName=y.android.packageName)}function Pm(x,v,y){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,a.Z)(function*(x,v,y){var I;const R=gi(x),V={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=R._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const ie=yield co(R,V,"getOobCode",!0);y&&al(R,ie,y),yield dn(R,ie)}else y&&al(R,V,y),yield dn(R,V).catch(function(){var ie=(0,a.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const nt=yield co(R,V,"getOobCode",!0);y&&al(R,nt,y),yield dn(R,nt)}});return function(be){return ie.apply(this,arguments)}}())}),Nm.apply(this,arguments)}function Jl(x,v,y){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(x,v,y){yield Ma((0,Z.m9)(x),{oobCode:v,newPassword:y})})).apply(this,arguments)}function ed(x,v){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,a.Z)(function*(x,v){yield function gu(x,v){return on.apply(this,arguments)}((0,Z.m9)(x),{oobCode:v})}),Vi.apply(this,arguments)}function xo(x,v){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(x,v){const y=(0,Z.m9)(x),I=yield Ma(y,{oobCode:v}),R=I.requestType;switch(oe(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(I.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(I.mfaInfo,y,"internal-error");default:oe(I.email,y,"internal-error")}let V=null;return I.mfaInfo&&(V=uo._fromServerResponse(gi(y),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:V},operation:R}})).apply(this,arguments)}function td(x,v){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(x,v){const{data:y}=yield xo((0,Z.m9)(x),v);return y.email})).apply(this,arguments)}function La(x,v,y){return nd.apply(this,arguments)}function nd(){return nd=(0,a.Z)(function*(x,v,y){var I;const R=gi(x),V={returnSecureToken:!0,email:v,password:y,clientType:"CLIENT_TYPE_WEB"};let ie;if(null!==(I=R._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const gt=yield co(R,V,"signUpPassword");ie=os(R,gt)}else ie=os(R,V).catch(function(){var gt=(0,a.Z)(function*(Vt){if("auth/missing-recaptcha-token"===Vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const On=yield co(R,V,"signUpPassword");return os(R,On)}return Promise.reject(Vt)});return function(Vt){return gt.apply(this,arguments)}}());const be=yield ie.catch(gt=>Promise.reject(gt)),nt=yield ai._fromIdTokenResponse(R,"signIn",be);return yield R._updateCurrentUser(nt.user),nt}),nd.apply(this,arguments)}function Fm(x,v,y){return Cu((0,Z.m9)(x),Am.credential(v,y))}function xf(x,v,y){return da.apply(this,arguments)}function da(){return da=(0,a.Z)(function*(x,v,y){var I;const R=gi(x),V={requestType:"EMAIL_SIGNIN",email:v,clientType:"CLIENT_TYPE_WEB"};function ie(be,nt){oe(nt.handleCodeInApp,R,"argument-error"),nt&&al(R,be,nt)}if(null!==(I=R._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const be=yield co(R,V,"getOobCode",!0);ie(be,y),yield nr(R,be)}else ie(V,y),yield nr(R,V).catch(function(){var be=(0,a.Z)(function*(nt){if("auth/missing-recaptcha-token"!==nt.code)return Promise.reject(nt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gt=yield co(R,V,"getOobCode",!0);ie(gt,y),yield nr(R,gt)}});return function(nt){return be.apply(this,arguments)}}())}),da.apply(this,arguments)}function Cf(x,v){const y=rs.parseLink(v);return"EMAIL_SIGNIN"===y?.operation}function ku(x,v,y){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x),R=Am.credentialWithLink(v,y||pn());return oe(R._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Cu(I,R)})).apply(this,arguments)}function Tu(){return(Tu=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:createAuthUri",lt(x,v))})).apply(this,arguments)}function vv(x,v){return cl.apply(this,arguments)}function cl(){return cl=(0,a.Z)(function*(x,v){const I={identifier:v,continueUri:Fi()?pn():"http://localhost"},{signinMethods:R}=yield function U0(x,v){return Tu.apply(this,arguments)}((0,Z.m9)(x),I);return R||[]}),cl.apply(this,arguments)}function Lm(x,v){return ll.apply(this,arguments)}function ll(){return ll=(0,a.Z)(function*(x,v){const y=(0,Z.m9)(x),R={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};v&&al(y.auth,R,v);const{email:V}=yield function Ze(x,v){return _t.apply(this,arguments)}(y.auth,R);V!==x.email&&(yield x.reload())}),ll.apply(this,arguments)}function id(x,v,y){return wc.apply(this,arguments)}function wc(){return wc=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:v};y&&al(I.auth,V,y);const{email:ie}=yield function st(x,v){return sn.apply(this,arguments)}(I.auth,V);ie!==x.email&&(yield x.reload())}),wc.apply(this,arguments)}function Au(){return(Au=(0,a.Z)(function*(x,v){return yt(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Bm(x,v){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,a.Z)(function*(x,{displayName:v,photoURL:y}){if(void 0===v&&void 0===y)return;const I=(0,Z.m9)(x),V={idToken:yield I.getIdToken(),displayName:v,photoUrl:y,returnSecureToken:!0},ie=yield _n(I,function Su(x,v){return Au.apply(this,arguments)}(I.auth,V));I.displayName=ie.displayName||null,I.photoURL=ie.photoUrl||null;const be=I.providerData.find(({providerId:nt})=>"password"===nt);be&&(be.displayName=I.displayName,be.photoURL=I.photoURL),yield I._updateTokensIfNecessary(ie)}),Mu.apply(this,arguments)}function Ef(x,v){return Ou((0,Z.m9)(x),v,null)}function Ru(x,v){return Ou((0,Z.m9)(x),null,v)}function Ou(x,v,y){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(x,v,y){const{auth:I}=x,V={idToken:yield x.getIdToken(),returnSecureToken:!0};v&&(V.email=v),y&&(V.password=y);const ie=yield _n(x,zs(I,V));yield x._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Ba{constructor(v,y,I={}){this.isNewUser=v,this.providerId=y,this.profile=I}}class ti extends Ba{constructor(v,y,I,R){super(v,y,I),this.username=R}}class rd extends Ba{constructor(v,y){super(v,"facebook.com",y)}}class xc extends ti{constructor(v,y){super(v,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Gr extends Ba{constructor(v,y){super(v,"google.com",y)}}class Cc extends ti{constructor(v,y,I){super(v,"twitter.com",y,I)}}function Df(x){const{user:v,_tokenResponse:y}=x;return v.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Pu(x){var v,y;if(!x)return null;const{providerId:I}=x,R=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},V=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!I&&x?.idToken){const ie=null===(y=null===(v=Tt(x.idToken))||void 0===v?void 0:v.firebase)||void 0===y?void 0:y.sign_in_provider;if(ie)return new Ba(V,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!I)return null;switch(I){case"facebook.com":return new rd(V,R);case"github.com":return new xc(V,R);case"google.com":return new Gr(V,R);case"twitter.com":return new Cc(V,R,x.screenName||null);case"custom":case"anonymous":return new Ba(V,null);default:return new Ba(V,I,R)}}(y)}class Vo{constructor(v,y,I){this.type=v,this.credential=y,this.auth=I}static _fromIdtoken(v,y){return new Vo("enroll",v,y)}static _fromMfaPendingCredential(v){return new Vo("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var y,I;if(v?.multiFactorSession){if(null!==(y=v.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Vo._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(I=v.multiFactorSession)&&void 0!==I&&I.idToken)return Vo._fromIdtoken(v.multiFactorSession.idToken)}return null}}class sd{constructor(v,y,I){this.session=v,this.hints=y,this.signInResolver=I}static _fromError(v,y){const I=gi(v),R=y.customData._serverResponse,V=(R.mfaInfo||[]).map(be=>uo._fromServerResponse(I,be));oe(R.mfaPendingCredential,I,"internal-error");const ie=Vo._fromMfaPendingCredential(R.mfaPendingCredential);return new sd(ie,V,function(){var be=(0,a.Z)(function*(nt){const gt=yield nt._process(I,ie);delete R.mfaInfo,delete R.mfaPendingCredential;const Vt=Object.assign(Object.assign({},R),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(y.operationType){case"signIn":const On=yield ai._fromIdTokenResponse(I,y.operationType,Vt);return yield I._updateCurrentUser(On.user),On;case"reauthenticate":return oe(y.user,I,"internal-error"),ai._forOperation(y.user,y.operationType,Vt);default:le(I,"internal-error")}});return function(nt){return be.apply(this,arguments)}}())}resolveSignIn(v){var y=this;return(0,a.Z)(function*(){return y.signInResolver(v)})()}}function Yt(x,v){var y;const I=(0,Z.m9)(x),R=v;return oe(v.customData.operationType,I,"argument-error"),oe(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,I,"argument-error"),sd._fromError(I,R)}class dl{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(I=>uo._fromServerResponse(v.auth,I)))})}static _fromUser(v){return new dl(v)}getSession(){var v=this;return(0,a.Z)(function*(){return Vo._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,y){var I=this;return(0,a.Z)(function*(){const R=v,V=yield I.getSession(),ie=yield _n(I.user,R._process(I.user.auth,V,y));return yield I.user._updateTokensIfNecessary(ie),I.user.reload()})()}unenroll(v){var y=this;return(0,a.Z)(function*(){const I="string"==typeof v?v:v.uid,R=yield y.user.getIdToken();try{const V=yield _n(y.user,function Um(x,v){return yt(x,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(x,v))}(y.user.auth,{idToken:R,mfaEnrollmentId:I}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ie})=>ie!==I),yield y.user._updateTokensIfNecessary(V),yield y.user.reload()}catch(V){throw V}})()}}const Uo=new WeakMap;function ad(x){const v=(0,Z.m9)(x);return Uo.has(v)||Uo.set(v,dl._fromUser(v)),Uo.get(v)}const ul="__sak";class Hm{constructor(v,y){this.storageRetriever=v,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ul,"1"),this.storage.removeItem(ul),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,y){return this.storage.setItem(v,JSON.stringify(y)),Promise.resolve()}_get(v){const y=this.storage.getItem(v);return Promise.resolve(y?JSON.parse(y):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uu=(()=>{class x extends Hm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,I)=>this.onStorageEvent(y,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tf(){const x=(0,Z.z$)();return $(x)||Ot(x)}()&&function $i(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const I of Object.keys(this.listeners)){const R=this.storage.getItem(I),V=this.localCache[I];R!==V&&y(I,V,R)}}onStorageEvent(y,I=!1){if(!y.key)return void this.forAllChangedKeys((be,nt,gt)=>{this.notifyListeners(be,gt)});const R=y.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(R);if(y.newValue!==be)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!I)return}const V=()=>{const be=this.storage.getItem(R);!I&&this.localCache[R]===be||this.notifyListeners(R,be)},ie=this.storage.getItem(R);!function Vn(){return(0,Z.w1)()&&10===document.documentMode}()||ie===y.newValue||y.newValue===y.oldValue?V():setTimeout(V,10)}notifyListeners(y,I){this.localCache[y]=I;const R=this.listeners[y];if(R)for(const V of Array.from(R))V(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,I,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:I,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,I){var R=()=>super._set,V=this;return(0,a.Z)(function*(){yield R().call(V,y,I),V.localCache[y]=JSON.stringify(I)})()}_get(y){var I=()=>super._get,R=this;return(0,a.Z)(function*(){const V=yield I().call(R,y);return R.localCache[y]=JSON.stringify(V),V})()}_remove(y){var I=()=>super._remove,R=this;return(0,a.Z)(function*(){yield I().call(R,y),delete R.localCache[y]})()}}return x.type="LOCAL",x})(),ur=(()=>{class x extends Hm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,I){}_removeListener(y,I){}}return x.type="SESSION",x})();let ld=(()=>{class x{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const I=this.receivers.find(V=>V.isListeningto(y));if(I)return I;const R=new x(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var I=this;return(0,a.Z)(function*(){const R=y,{eventId:V,eventType:ie,data:be}=R.data,nt=I.handlersMap[ie];if(!nt?.size)return;R.ports[0].postMessage({status:"ack",eventId:V,eventType:ie});const gt=Array.from(nt).map(function(){var On=(0,a.Z)(function*(ho){return ho(R.origin,be)});return function(ho){return On.apply(this,arguments)}}()),Vt=yield function jm(x){return Promise.all(x.map(function(){var v=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(I){return{fulfilled:!1,reason:I}}});return function(y){return v.apply(this,arguments)}}()))}(gt);R.ports[0].postMessage({status:"done",eventId:V,eventType:ie,response:Vt})})()}_subscribe(y,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(I)}_unsubscribe(y,I){this.handlersMap[y]&&I&&this.handlersMap[y].delete(I),(!I||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Qr(x="",v=10){let y="";for(let I=0;I<v;I++)y+=Math.floor(10*Math.random());return x+y}class $m{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,y,I=50){var R=this;return(0,a.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ie,be;return new Promise((nt,gt)=>{const Vt=Qr("",20);V.port1.start();const On=setTimeout(()=>{gt(new Error("unsupported_event"))},I);be={messageChannel:V,onMessage(ho){const ya=ho;if(ya.data.eventId===Vt)switch(ya.data.status){case"ack":clearTimeout(On),ie=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),nt(ya.data.response);break;default:clearTimeout(On),clearTimeout(ie),gt(new Error("invalid_response"))}}},R.handlers.add(be),V.port1.addEventListener("message",be.onMessage),R.target.postMessage({eventType:v,eventId:Vt,data:y},[V.port2])}).finally(()=>{be&&R.removeMessageHandler(be)})})()}}function Ui(){return window}function Sf(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function Fr(){return(Fr=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yi="firebaseLocalStorageDb",hr="firebaseLocalStorage",ud="fbase_key";class hl{constructor(v){this.request=v}toPromise(){return new Promise((v,y)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function hd(x,v){return x.transaction([hr],v?"readwrite":"readonly").objectStore(hr)}function fl(){const x=indexedDB.open(yi,1);return new Promise((v,y)=>{x.addEventListener("error",()=>{y(x.error)}),x.addEventListener("upgradeneeded",()=>{const I=x.result;try{I.createObjectStore(hr,{keyPath:ud})}catch(R){y(R)}}),x.addEventListener("success",(0,a.Z)(function*(){const I=x.result;I.objectStoreNames.contains(hr)?v(I):(I.close(),yield function Mf(){const x=indexedDB.deleteDatabase(yi);return new hl(x).toPromise()}(),v(yield fl()))}))})}function fd(x,v,y){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(x,v,y){const I=hd(x,!0).put({[ud]:v,value:y});return new hl(I).toPromise()})).apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(x,v){const y=hd(x,!1).get(v),I=yield new hl(y).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function pd(x,v){const y=hd(x,!0).delete(v);return new hl(y).toPromise()}const Rf=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield fl()),y.db})()}_withRetries(y){var I=this;return(0,a.Z)(function*(){let R=0;for(;;)try{const V=yield I._openDb();return yield y(V)}catch(V){if(R++>3)throw V;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return Sf()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=ld._getInstance(function dd(){return Sf()?self:null}()),y.receiver._subscribe("keyChanged",function(){var I=(0,a.Z)(function*(R,V){return{keyProcessed:(yield y._poll()).includes(V.key)}});return function(R,V){return I.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var I=(0,a.Z)(function*(R,V){return["keyChanged"]});return function(R,V){return I.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var I,R;if(y.activeServiceWorker=yield function Af(){return Fr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new $m(y.activeServiceWorker);const V=yield y.sender._send("ping",{},800);V&&null!==(I=V[0])&&void 0!==I&&I.fulfilled&&null!==(R=V[0])&&void 0!==R&&R.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var I=this;return(0,a.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function xs(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:y},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield fl();return yield fd(y,ul,"1"),yield pd(y,ul),!0}catch{}return!1})()}_withPendingWrite(y){var I=this;return(0,a.Z)(function*(){I.pendingWrites++;try{yield y()}finally{I.pendingWrites--}})()}_set(y,I){var R=this;return(0,a.Z)(function*(){return R._withPendingWrite((0,a.Z)(function*(){return yield R._withRetries(V=>fd(V,y,I)),R.localCache[y]=I,R.notifyServiceWorker(y)}))})()}_get(y){var I=this;return(0,a.Z)(function*(){const R=yield I._withRetries(V=>function fa(x,v){return Dc.apply(this,arguments)}(V,y));return I.localCache[y]=R,R})()}_remove(y){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(R=>pd(R,y)),delete I.localCache[y],I.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const I=yield y._withRetries(ie=>{const be=hd(ie,!1).getAll();return new hl(be).toPromise()});if(!I)return[];if(0!==y.pendingWrites)return[];const R=[],V=new Set;for(const{fbase_key:ie,value:be}of I)V.add(ie),JSON.stringify(y.localCache[ie])!==JSON.stringify(be)&&(y.notifyListeners(ie,be),R.push(ie));for(const ie of Object.keys(y.localCache))y.localCache[ie]&&!V.has(ie)&&(y.notifyListeners(ie,null),R.push(ie));return R})()}notifyListeners(y,I){this.localCache[y]=I;const R=this.listeners[y];if(R)for(const V of Array.from(R))V(I)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),ni=1e12;class gd{constructor(v){this.auth=v,this.counter=ni,this._widgets=new Map}render(v,y){const I=this.counter;return this._widgets.set(I,new Nf(v,this.auth.name,y||{})),this.counter++,I}reset(v){var y;const I=v||ni;null===(y=this._widgets.get(I))||void 0===y||y.delete(),this._widgets.delete(I)}getResponse(v){var y;return(null===(y=this._widgets.get(v||ni))||void 0===y?void 0:y.getResponse())||""}execute(v){var y=this;return(0,a.Z)(function*(){var I;return null===(I=y._widgets.get(v||ni))||void 0===I||I.execute(),""})()}}class Nf{constructor(v,y,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof v?document.getElementById(v):v;oe(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ic(x){const v=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<x;I++)v.push(y.charAt(Math.floor(62*Math.random())));return v.join("")}(50);const{callback:v,"expired-callback":y}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ju=vo("rcb"),$u=new ke(3e4,6e4);class pl{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=Ui().grecaptcha)||void 0===v||!v.render)}load(v,y=""){return oe(function Va(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(y),v,"argument-error"),this.shouldResolveImmediately(y)&&zt(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((I,R)=>{const V=Ui().setTimeout(()=>{R(Me(v,"network-request-failed"))},$u.get());Ui()[ju]=()=>{Ui().clearTimeout(V),delete Ui()[ju];const be=Ui().grecaptcha;if(!be||!zt(be))return void R(Me(v,"internal-error"));const nt=be.render;be.render=(gt,Vt)=>{const On=nt(gt,Vt);return this.counter++,On},this.hostLanguage=y,I(be)},mi(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:ju,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(V),R(Me(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var y;return!(null===(y=Ui().grecaptcha)||void 0===y||!y.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ff{load(v){return(0,a.Z)(function*(){return new gd(v)})()}clearedOneInstance(){}}const _d="recaptcha",ml={theme:"light",type:"image"};class qu{constructor(v,y=Object.assign({},ml),I){this.parameters=y,this.type=_d,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gi(I),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof v?document.getElementById(v):v;oe(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ff:new pl,this.validateStartingState()}verify(){var v=this;return(0,a.Z)(function*(){v.assertNotDestroyed();const y=yield v.render(),I=v.getAssertedRecaptcha();return I.getResponse(y)||new Promise(V=>{const ie=be=>{be&&(v.tokenChangeListeners.delete(ie),V(be))};v.tokenChangeListeners.add(ie),v.isInvisible&&I.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return y=>{if(this.tokenChangeListeners.forEach(I=>I(y)),"function"==typeof v)v(y);else if("string"==typeof v){const I=Ui()[v];"function"==typeof I&&I(y)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,a.Z)(function*(){if(yield v.init(),!v.widgetId){let y=v.container;if(!v.isInvisible){const I=document.createElement("div");y.appendChild(I),y=I}v.widgetId=v.getAssertedRecaptcha().render(y,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,a.Z)(function*(){oe(Fi()&&!Sf(),v.auth,"internal-error"),yield function vd(){let x=null;return new Promise(v=>{"complete"!==document.readyState?(x=()=>v(),window.addEventListener("load",x)):v()}).catch(v=>{throw x&&window.removeEventListener("load",x),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const y=yield function Ce(x){return fe.apply(this,arguments)}(v.auth);oe(y,v.auth,"internal-error"),v.parameters.sitekey=y})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wu{constructor(v,y){this.verificationId=v,this.onConfirmation=y}confirm(v){const y=Nr._fromVerification(this.verificationId,v);return this.onConfirmation(y)}}function Ds(x,v,y){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(x,v,y){const I=gi(x),R=yield $s(I,v,(0,Z.m9)(y));return new Wu(R,V=>Cu(I,V))})).apply(this,arguments)}function Co(x,v,y){return pa.apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x);yield xu(!1,I,"phone");const R=yield $s(I.auth,v,(0,Z.m9)(y));return new Wu(R,V=>Xl(I,V))})).apply(this,arguments)}function Lf(x,v,y){return yd.apply(this,arguments)}function yd(){return(yd=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x),R=yield $s(I.auth,v,(0,Z.m9)(y));return new Wu(R,V=>Om(I,V))})).apply(this,arguments)}function $s(x,v,y){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,a.Z)(function*(x,v,y){var I;const R=yield y.verify();try{let V;if(oe("string"==typeof R,x,"argument-error"),oe(y.type===_d,x,"argument-error"),V="string"==typeof v?{phoneNumber:v}:v,"session"in V){const ie=V.session;if("phoneNumber"in V)return oe("enroll"===ie.type,x,"internal-error"),(yield function Bu(x,v){return yt(x,"POST","/v2/accounts/mfaEnrollment:start",lt(x,v))}(x,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{oe("signin"===ie.type,x,"internal-error");const be=(null===(I=V.multiFactorHint)||void 0===I?void 0:I.uid)||V.multiFactorUid;return oe(be,x,"missing-multi-factor-info"),(yield function Of(x,v){return yt(x,"POST","/v2/accounts/mfaSignIn:start",lt(x,v))}(x,{mfaPendingCredential:ie.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield function rl(x,v){return Wl.apply(this,arguments)}(x,{phoneNumber:V.phoneNumber,recaptchaToken:R});return ie}}finally{y._reset()}}),Zu.apply(this,arguments)}function qm(x,v){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(x,v){yield bs((0,Z.m9)(x),v)})).apply(this,arguments)}let wv=(()=>{class x{constructor(y){this.providerId=x.PROVIDER_ID,this.auth=gi(y)}verifyPhoneNumber(y,I){return $s(this.auth,y,(0,Z.m9)(I))}static credential(y,I){return Nr._fromVerification(y,I)}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:I,temporaryProof:R}=y;return I&&R?Nr._fromTokenResponse(I,R):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function ma(x,v){return v?ki(v):(oe(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class Yu extends bo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return ei(v,this._buildIdpRequest())}_linkToIdToken(v,y){return ei(v,this._buildIdpRequest(y))}_getReauthenticationResolver(v){return ei(v,this._buildIdpRequest())}_buildIdpRequest(v){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(y.idToken=v),y}}function Ho(x){return yf(x.auth,new Yu(x),x.bypassAuthState)}function Wm(x){const{auth:v,user:y}=x;return oe(y,v,"internal-error"),Rm(y,new Yu(x),x.bypassAuthState)}function _l(x){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(x){const{auth:v,user:y}=x;return oe(y,v,"internal-error"),bs(y,new Yu(x),x.bypassAuthState)})).apply(this,arguments)}class vl{constructor(v,y,I,R,V=!1){this.auth=v,this.resolver=I,this.user=R,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var v=this;return new Promise(function(){var y=(0,a.Z)(function*(I,R){v.pendingPromise={resolve:I,reject:R};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(V){v.reject(V)}});return function(I,R){return y.apply(this,arguments)}}())}onAuthEvent(v){var y=this;return(0,a.Z)(function*(){const{urlResponse:I,sessionId:R,postBody:V,tenantId:ie,error:be,type:nt}=v;if(be)return void y.reject(be);const gt={auth:y.auth,requestUri:I,sessionId:R,tenantId:ie||void 0,postBody:V||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(nt)(gt))}catch(Vt){y.reject(Vt)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Ho;case"linkViaPopup":case"linkViaRedirect":return _l;case"reauthViaPopup":case"reauthViaRedirect":return Wm;default:le(this.auth,"internal-error")}}resolve(v){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xv=new ke(2e3,1e4);function zn(x,v,y){return At.apply(this,arguments)}function At(){return(At=(0,a.Z)(function*(x,v,y){const I=gi(x);xe(x,v,ys);const R=ma(I,y);return new ga(I,"signInViaPopup",v,R).executeNotNull()})).apply(this,arguments)}function Dt(x,v,y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x);xe(I.auth,v,ys);const R=ma(I.auth,y);return new ga(I.auth,"reauthViaPopup",v,R,I).executeNotNull()})).apply(this,arguments)}function An(x,v,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x);xe(I.auth,v,ys);const R=ma(I.auth,y);return new ga(I.auth,"linkViaPopup",v,R,I).executeNotNull()})).apply(this,arguments)}let ga=(()=>{class x extends vl{constructor(y,I,R,V,ie){super(y,I,V,ie),this.provider=R,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const I=yield y.execute();return oe(I,y.auth,"internal-error"),I})()}onExecution(){var y=this;return(0,a.Z)(function*(){Qe(1===y.filter.length,"Popup operations only handle one event");const I=Qr();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],I),y.authWindow.associatedEvent=I,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(Me(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const y=()=>{var I,R;this.pollId=null!==(R=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,xv.get())};y()}}return x.currentPopupAction=null,x})();const bi="pendingRedirect",tt=new Map;class Bf extends vl{constructor(v,y,I=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,I),this.eventId=null}execute(){var v=()=>super.execute,y=this;return(0,a.Z)(function*(){let I=tt.get(y.auth._key());if(!I){try{const V=(yield function Cv(x,v){return _a.apply(this,arguments)}(y.resolver,y.auth))?yield v().call(y):null;I=()=>Promise.resolve(V)}catch(R){I=()=>Promise.reject(R)}tt.set(y.auth._key(),I)}return y.bypassAuthState||tt.set(y.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(v){var y=()=>super.onAuthEvent,I=this;return(0,a.Z)(function*(){if("signInViaRedirect"===v.type)return y().call(I,v);if("unknown"!==v.type){if(v.eventId){const R=yield I.auth._redirectUserForId(v.eventId);if(R)return I.user=R,y().call(I,v);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function _a(){return(_a=(0,a.Z)(function*(x,v){const y=Dn(v),I=ci(x);if(!(yield I._isAvailable()))return!1;const R="true"===(yield I._get(y));return yield I._remove(y),R})).apply(this,arguments)}function yl(x,v){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,a.Z)(function*(x,v){return ci(x)._set(Dn(v),"true")})).apply(this,arguments)}function bd(){tt.clear()}function fr(x,v){tt.set(x._key(),v)}function ci(x){return ki(x._redirectPersistence)}function Dn(x){return vn(bi,x.config.apiKey,x.name)}function as(x,v,y){return function Gi(x,v,y){return Ha.apply(this,arguments)}(x,v,y)}function Ha(){return(Ha=(0,a.Z)(function*(x,v,y){const I=gi(x);xe(x,v,ys),yield I._initializationPromise;const R=ma(I,y);return yield yl(R,I),R._openRedirect(I,v,"signInViaRedirect")})).apply(this,arguments)}function za(x,v,y){return function Zm(x,v,y){return va.apply(this,arguments)}(x,v,y)}function va(){return(va=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x);xe(I.auth,v,ys),yield I.auth._initializationPromise;const R=ma(I.auth,y);yield yl(R,I.auth);const V=yield j(I);return R._openRedirect(I.auth,v,"reauthViaRedirect",V)})).apply(this,arguments)}function Is(x,v,y){return function zo(x,v,y){return wd.apply(this,arguments)}(x,v,y)}function wd(){return(wd=(0,a.Z)(function*(x,v,y){const I=(0,Z.m9)(x);xe(I.auth,v,ys),yield I.auth._initializationPromise;const R=ma(I.auth,y);yield xu(!1,I,v.providerId),yield yl(R,I.auth);const V=yield j(I);return R._openRedirect(I.auth,v,"linkViaRedirect",V)})).apply(this,arguments)}function bl(x,v){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(x,v){return yield gi(x)._initializationPromise,wi(x,v,!1)})).apply(this,arguments)}function wi(x,v){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(x,v,y=!1){const I=gi(x),R=ma(I,v),ie=yield new Bf(I,R,y).execute();return ie&&!y&&(delete ie.user._redirectEventId,yield I._persistUserIfCurrent(ie.user),yield I._setRedirectUser(null,v)),ie})).apply(this,arguments)}function j(x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(x){const v=Qr(`${x.uid}:::`);return x._redirectEventId=v,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),v})).apply(this,arguments)}class xd{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let y=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(v,I)&&(y=!0,this.sendToConsumer(v,I),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Vf(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(x);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=v,y=!0)),y}sendToConsumer(v,y){var I;if(v.error&&!xi(v)){const R=(null===(I=v.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";y.onError(Me(this.auth,R))}else y.onAuthEvent(v)}isEventForConsumer(v,y){const I=null===y.eventId||!!v.eventId&&v.eventId===y.eventId;return y.filter.includes(v.type)&&I}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cd(v))}saveEventToCache(v){this.cachedEventUids.add(Cd(v)),this.lastProcessedEventTime=Date.now()}}function Cd(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(v=>v).join("-")}function xi({type:x,error:v}){return"unknown"===x&&"auth/no-auth-event"===v?.code}function kc(x){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,a.Z)(function*(x,v={}){return yt(x,"GET","/v1/projects",v)})).apply(this,arguments)}const H0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z0=/^https?/;function Qu(){return(Qu=(0,a.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:v}=yield kc(x);for(const y of v)try{if(Ev(y))return}catch{}le(x,"unauthorized-domain")})).apply(this,arguments)}function Ev(x){const v=pn(),{protocol:y,hostname:I}=new URL(v);if(x.startsWith("chrome-extension://")){const ie=new URL(x);return""===ie.hostname&&""===I?"chrome-extension:"===y&&x.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===y&&ie.hostname===I}if(!z0.test(y))return!1;if(H0.test(x))return I===x;const R=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(I)}const Ci=new ke(3e4,6e4);function Xu(){const x=Ui().___jsl;if(x?.H)for(const v of Object.keys(x.H))if(x.H[v].r=x.H[v].r||[],x.H[v].L=x.H[v].L||[],x.H[v].r=[...x.H[v].L],x.CP)for(let y=0;y<x.CP.length;y++)x.CP[y]=null}let rr=null;const ja=new ke(5e3,15e3),Ts="__/auth/iframe",$a="emulator/auth/iframe",Ga={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dv(x){const v=x.config;oe(v.authDomain,x,"auth-domain-config-required");const y=v.emulator?Be(v,$a):`https://${x.config.authDomain}/${Ts}`,I={apiKey:v.apiKey,appName:x.name,v:B.SDK_VERSION},R=Dd.get(x.config.apiHost);R&&(I.eid=R);const V=x._getFrameworks();return V.length&&(I.fw=V.join(",")),`${y}?${(0,Z.xO)(I).slice(1)}`}function Ju(){return Ju=(0,a.Z)(function*(x){const v=yield function qi(x){return rr=rr||function wl(x){return new Promise((v,y)=>{var I,R,V;function ie(){Xu(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Xu(),y(Me(x,"network-request-failed"))},timeout:Ci.get()})}if(null!==(R=null===(I=Ui().gapi)||void 0===I?void 0:I.iframes)&&void 0!==R&&R.Iframe)v(gapi.iframes.getContext());else{if(null===(V=Ui().gapi)||void 0===V||!V.load){const be=vo("iframefcb");return Ui()[be]=()=>{gapi.load?ie():y(Me(x,"network-request-failed"))},mi(`https://apis.google.com/js/api.js?onload=${be}`).catch(nt=>y(nt))}ie()}}).catch(v=>{throw rr=null,v})}(x),rr}(x),y=Ui().gapi;return oe(y,x,"internal-error"),v.open({where:document.body,url:Dv(x),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ga,dontclear:!0},I=>new Promise(function(){var R=(0,a.Z)(function*(V,ie){yield I.restyle({setHideOnLeave:!1});const be=Me(x,"network-request-failed"),nt=Ui().setTimeout(()=>{ie(be)},ja.get());function gt(){Ui().clearTimeout(nt),V(I)}I.ping(gt).then(gt,()=>{ie(be)})});return function(V,ie){return R.apply(this,arguments)}}()))}),Ju.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class se{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const at="__/auth/handler",Pt="emulator/auth/handler",nn=encodeURIComponent("fac");function Zt(x,v,y,I,R,V){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(x,v,y,I,R,V){oe(x.config.authDomain,x,"auth-domain-config-required"),oe(x.config.apiKey,x,"invalid-api-key");const ie={apiKey:x.config.apiKey,appName:x.name,authType:y,redirectUrl:I,v:B.SDK_VERSION,eventId:R};if(v instanceof ys){v.setDefaultLanguage(x.languageCode),ie.providerId=v.providerId||"",(0,Z.xb)(v.getCustomParameters())||(ie.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Vt,On]of Object.entries(V||{}))ie[Vt]=On}if(v instanceof Pa){const Vt=v.getScopes().filter(On=>""!==On);Vt.length>0&&(ie.scopes=Vt.join(","))}x.tenantId&&(ie.tid=x.tenantId);const be=ie;for(const Vt of Object.keys(be))void 0===be[Vt]&&delete be[Vt];const nt=yield x._getAppCheckToken(),gt=nt?`#${nn}=${encodeURIComponent(nt)}`:"";return`${function pr({config:x}){return x.emulator?Be(x,Pt):`https://${x.authDomain}/${at}`}(x)}?${(0,Z.xO)(be).slice(1)}${gt}`})).apply(this,arguments)}const Ss="webStorageSupport",Gs=class qa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ur,this._completeRedirectFn=wi,this._overrideRedirectResult=fr}_openPopup(v,y,I,R){var V=this;return(0,a.Z)(function*(){var ie;Qe(null===(ie=V.eventManagers[v._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const be=yield Zt(v,y,I,pn(),R);return function De(x,v,y,I=500,R=600){const V=Math.max((window.screen.availHeight-R)/2,0).toString(),ie=Math.max((window.screen.availWidth-I)/2,0).toString();let be="";const nt=Object.assign(Object.assign({},D),{width:I.toString(),height:R.toString(),top:V,left:ie}),gt=(0,Z.z$)().toLowerCase();y&&(be=L(gt)?"_blank":y),U(gt)&&(v=v||"http://localhost",nt.scrollbars="yes");const Vt=Object.entries(nt).reduce((ho,[ya,jf])=>`${ho}${ya}=${jf},`,"");if(function Gt(x=(0,Z.z$)()){var v;return Ot(x)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(gt)&&"_self"!==be)return function ft(x,v){const y=document.createElement("a");y.href=x,y.target=v;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(I)}(v||"",be),new se(null);const On=window.open(v||"",be,Vt);oe(On,x,"popup-blocked");try{On.focus()}catch{}return new se(On)}(v,be,Qr())})()}_openRedirect(v,y,I,R){var V=this;return(0,a.Z)(function*(){return yield V._originValidation(v),function Hu(x){Ui().location.href=x}(yield Zt(v,y,I,pn(),R)),new Promise(()=>{})})()}_initialize(v){const y=v._key();if(this.eventManagers[y]){const{manager:R,promise:V}=this.eventManagers[y];return R?Promise.resolve(R):(Qe(V,"If manager is not set, promise should be"),V)}const I=this.initAndGetManager(v);return this.eventManagers[y]={promise:I},I.catch(()=>{delete this.eventManagers[y]}),I}initAndGetManager(v){var y=this;return(0,a.Z)(function*(){const I=yield function Ym(x){return Ju.apply(this,arguments)}(v),R=new xd(v);return I.register("authEvent",V=>(oe(V?.authEvent,v,"invalid-auth-event"),{status:R.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[v._key()]={manager:R},y.iframes[v._key()]=I,R})()}_isIframeWebStorageSupported(v,y){this.iframes[v._key()].send(Ss,{type:Ss},R=>{var V;const ie=null===(V=R?.[0])||void 0===V?void 0:V[Ss];void 0!==ie&&y(!!ie),le(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const y=v._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ed(x){return Qu.apply(this,arguments)}(v)),this.originValidationPromises[y]}get _shouldInitProactively(){return en()||$()||Ot()}};class Eo{constructor(v){this.factorId=v}_process(v,y,I){switch(y.type){case"enroll":return this._finalizeEnroll(v,y.credential,I);case"signin":return this._finalizeSignIn(v,y.credential);default:return ut("unexpected MultiFactorSessionType")}}}class Do extends Eo{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Do(v)}_finalizeEnroll(v,y,I){return function kf(x,v){return yt(x,"POST","/v2/accounts/mfaEnrollment:finalize",lt(x,v))}(v,{idToken:y,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,y){return function Pf(x,v){return yt(x,"POST","/v2/accounts/mfaSignIn:finalize",lt(x,v))}(v,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Id=(()=>{class x{constructor(){}static assertion(y){return Do._fromCredential(y)}}return x.FACTOR_ID="phone",x})();var xl="@firebase/auth";class j0{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const y=this.auth.onIdTokenChanged(I=>{v(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,y),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const y=this.internalListeners.get(v);y&&(this.internalListeners.delete(v),y(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Z.Pz)("authIdTokenMaxAge"),function Hf(x){(0,B._registerComponent)(new ue.wA("auth",(v,{options:y})=>{const I=v.getProvider("app").getImmediate(),R=v.getProvider("heartbeat"),V=v.getProvider("app-check-internal"),{apiKey:ie,authDomain:be}=I.options;oe(ie&&!ie.includes(":"),"invalid-api-key",{appName:I.name});const nt={apiKey:ie,authDomain:be,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(x)},gt=new lo(I,R,V,nt);return function il(x,v){const y=v?.persistence||[],I=(Array.isArray(y)?y:[y]).map(ki);v?.errorMap&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(I,v?.popupRedirectResolver)}(gt,y),gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,y,I)=>{v.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new ue.wA("auth-internal",v=>{const y=gi(v.getProvider("auth").getImmediate());return new j0(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(xl,"0.23.2",function Km(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,B.registerVersion)(xl,"0.23.2","esm2017")}("Browser")},9058:(It,Re,z)=>{"use strict";z.d(Re,{$s:()=>ki,BH:()=>pe,DV:()=>cr,Dv:()=>so,G6:()=>Be,GJ:()=>Kn,L:()=>we,LL:()=>Gn,P0:()=>Ct,Pz:()=>Me,Sg:()=>xe,UG:()=>ut,UI:()=>Ki,US:()=>ue,Wj:()=>Qt,Wl:()=>wn,Yr:()=>ke,ZB:()=>he,ZR:()=>yt,aH:()=>le,b$:()=>Fi,cI:()=>qt,dS:()=>ao,eu:()=>et,g5:()=>B,gK:()=>Sn,gQ:()=>Ft,h$:()=>Ve,hl:()=>qe,hu:()=>Z,jU:()=>Qe,lb:()=>si,m9:()=>vn,ne:()=>_n,p$:()=>ee,pd:()=>Tt,r3:()=>qn,ru:()=>pn,tV:()=>K,uI:()=>oe,ug:()=>No,vZ:()=>Qi,w1:()=>es,w9:()=>oi,xO:()=>Di,xb:()=>wr,z$:()=>je,zI:()=>Xe,zd:()=>dt});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(J,Y){if(!J)throw B(Y)},B=function(J){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+J)},ae=function(J){const Y=[];let U=0;for(let $=0;$<J.length;$++){let L=J.charCodeAt($);L<128?Y[U++]=L:L<2048?(Y[U++]=L>>6|192,Y[U++]=63&L|128):55296==(64512&L)&&$+1<J.length&&56320==(64512&J.charCodeAt($+1))?(L=65536+((1023&L)<<10)+(1023&J.charCodeAt(++$)),Y[U++]=L>>18|240,Y[U++]=L>>12&63|128,Y[U++]=L>>6&63|128,Y[U++]=63&L|128):(Y[U++]=L>>12|224,Y[U++]=L>>6&63|128,Y[U++]=63&L|128)}return Y},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Y){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let L=0;L<J.length;L+=3){const re=J[L],Ie=L+1<J.length,rt=Ie?J[L+1]:0,Nt=L+2<J.length,Ot=Nt?J[L+2]:0;let Vn=(15&rt)<<2|Ot>>6,en=63&Ot;Nt||(en=64,Ie||(Vn=64)),$.push(U[re>>2],U[(3&re)<<4|rt>>4],U[Vn],U[en])}return $.join("")},encodeString(J,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(J):this.encodeByteArray(ae(J),Y)},decodeString(J,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(J):function(J){const Y=[];let U=0,$=0;for(;U<J.length;){const L=J[U++];if(L<128)Y[$++]=String.fromCharCode(L);else if(L>191&&L<224){const re=J[U++];Y[$++]=String.fromCharCode((31&L)<<6|63&re)}else if(L>239&&L<365){const Nt=((7&L)<<18|(63&J[U++])<<12|(63&J[U++])<<6|63&J[U++])-65536;Y[$++]=String.fromCharCode(55296+(Nt>>10)),Y[$++]=String.fromCharCode(56320+(1023&Nt))}else{const re=J[U++],Ie=J[U++];Y[$++]=String.fromCharCode((15&L)<<12|(63&re)<<6|63&Ie)}}return Y.join("")}(this.decodeStringToByteArray(J,Y))},decodeStringToByteArray(J,Y){this.init_();const U=Y?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let L=0;L<J.length;){const re=U[J.charAt(L++)],rt=L<J.length?U[J.charAt(L)]:0;++L;const Ot=L<J.length?U[J.charAt(L)]:64;++L;const Gt=L<J.length?U[J.charAt(L)]:64;if(++L,null==re||null==rt||null==Ot||null==Gt)throw new Te;$.push(re<<2|rt>>4),64!==Ot&&($.push(rt<<4&240|Ot>>2),64!==Gt&&$.push(Ot<<6&192|Gt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(J){const Y=ae(J);return ue.encodeByteArray(Y,!0)},we=function(J){return Ve(J).replace(/\./g,"")},K=function(J){try{return ue.decodeString(J,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function ee(J){return he(void 0,J)}function he(J,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Y}for(const U in Y)!Y.hasOwnProperty(U)||!$e(U)||(J[U]=he(J[U],Y[U]));return J}function $e(J){return"__proto__"!==J}const We=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=J&&K(J[1]);return Y&&JSON.parse(Y)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Ct=J=>{const Y=(J=>{var Y,U;return null===(U=null===(Y=We())||void 0===Y?void 0:Y.emulatorHosts)||void 0===U?void 0:U[J]})(J);if(!Y)return;const U=Y.lastIndexOf(":");if(U<=0||U+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const $=parseInt(Y.substring(U+1),10);return"["===Y[0]?[Y.substring(1,U-1),$]:[Y.substring(0,U),$]},le=()=>{var J;return null===(J=We())||void 0===J?void 0:J.config},Me=J=>{var Y;return null===(Y=We())||void 0===Y?void 0:Y[`_${J}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,U)=>{this.resolve=Y,this.reject=U})}wrapCallback(Y){return(U,$)=>{U?this.reject(U):this.resolve($),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(U):Y(U,$))}}}function xe(J,Y){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=Y||"demo-project",L=J.iat||0,re=J.sub||J.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:L,exp:L+3600,auth_time:L,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},J);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Ie)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ut(){var J;const Y=null===(J=We())||void 0===J?void 0:J.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function pn(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Fi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function es(){const J=je();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function ke(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function Be(){return!ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function et(){return new Promise((J,Y)=>{try{let U=!0;const $="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open($);L.onsuccess=()=>{L.result.close(),U||self.indexedDB.deleteDatabase($),J(!0)},L.onupgradeneeded=()=>{U=!1},L.onerror=()=>{var re;Y((null===(re=L.error)||void 0===re?void 0:re.message)||"")}}catch(U){Y(U)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yt extends Error{constructor(Y,U,$){super(U),this.code=Y,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gn.prototype.create)}}class Gn{constructor(Y,U,$){this.service=Y,this.serviceName=U,this.errors=$}create(Y,...U){const $=U[0]||{},L=`${this.service}/${Y}`,re=this.errors[Y],Ie=re?function mt(J,Y){return J.replace(Rt,(U,$)=>{const L=Y[$];return null!=L?String(L):`<${$}?>`})}(re,$):"Error";return new yt(L,`${this.serviceName}: ${Ie} (${L}).`,$)}}const Rt=/\{\$([^}]+)}/g;function qt(J){return JSON.parse(J)}function wn(J){return JSON.stringify(J)}const ln=function(J){let Y={},U={},$={},L="";try{const re=J.split(".");Y=qt(K(re[0])||""),U=qt(K(re[1])||""),L=re[2],$=U.d||{},delete U.d}catch{}return{header:Y,claims:U,data:$,signature:L}},oi=function(J){const U=ln(J).claims;return!!U&&"object"==typeof U&&U.hasOwnProperty("iat")},Kn=function(J){const Y=ln(J).claims;return"object"==typeof Y&&!0===Y.admin};function qn(J,Y){return Object.prototype.hasOwnProperty.call(J,Y)}function cr(J,Y){if(Object.prototype.hasOwnProperty.call(J,Y))return J[Y]}function wr(J){for(const Y in J)if(Object.prototype.hasOwnProperty.call(J,Y))return!1;return!0}function Ki(J,Y,U){const $={};for(const L in J)Object.prototype.hasOwnProperty.call(J,L)&&($[L]=Y.call(U,J[L],L,J));return $}function Qi(J,Y){if(J===Y)return!0;const U=Object.keys(J),$=Object.keys(Y);for(const L of U){if(!$.includes(L))return!1;const re=J[L],Ie=Y[L];if(ui(re)&&ui(Ie)){if(!Qi(re,Ie))return!1}else if(re!==Ie)return!1}for(const L of $)if(!U.includes(L))return!1;return!0}function ui(J){return null!==J&&"object"==typeof J}function Di(J){const Y=[];for(const[U,$]of Object.entries(J))Array.isArray($)?$.forEach(L=>{Y.push(encodeURIComponent(U)+"="+encodeURIComponent(L))}):Y.push(encodeURIComponent(U)+"="+encodeURIComponent($));return Y.length?"&"+Y.join("&"):""}function dt(J){const Y={};return J.replace(/^\?/,"").split("&").forEach($=>{if($){const[L,re]=$.split("=");Y[decodeURIComponent(L)]=decodeURIComponent(re)}}),Y}function Tt(J){const Y=J.indexOf("?");if(!Y)return"";const U=J.indexOf("#",Y);return J.substring(Y,U>0?U:void 0)}class Ft{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,U){U||(U=0);const $=this.W_;if("string"==typeof Y)for(let Gt=0;Gt<16;Gt++)$[Gt]=Y.charCodeAt(U)<<24|Y.charCodeAt(U+1)<<16|Y.charCodeAt(U+2)<<8|Y.charCodeAt(U+3),U+=4;else for(let Gt=0;Gt<16;Gt++)$[Gt]=Y[U]<<24|Y[U+1]<<16|Y[U+2]<<8|Y[U+3],U+=4;for(let Gt=16;Gt<80;Gt++){const Vn=$[Gt-3]^$[Gt-8]^$[Gt-14]^$[Gt-16];$[Gt]=4294967295&(Vn<<1|Vn>>>31)}let Ot,St,L=this.chain_[0],re=this.chain_[1],Ie=this.chain_[2],rt=this.chain_[3],Nt=this.chain_[4];for(let Gt=0;Gt<80;Gt++){Gt<40?Gt<20?(Ot=rt^re&(Ie^rt),St=1518500249):(Ot=re^Ie^rt,St=1859775393):Gt<60?(Ot=re&Ie|rt&(re|Ie),St=2400959708):(Ot=re^Ie^rt,St=3395469782);const Vn=(L<<5|L>>>27)+Ot+Nt+St+$[Gt]&4294967295;Nt=rt,rt=Ie,Ie=4294967295&(re<<30|re>>>2),re=L,L=Vn}this.chain_[0]=this.chain_[0]+L&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+Ie&4294967295,this.chain_[3]=this.chain_[3]+rt&4294967295,this.chain_[4]=this.chain_[4]+Nt&4294967295}update(Y,U){if(null==Y)return;void 0===U&&(U=Y.length);const $=U-this.blockSize;let L=0;const re=this.buf_;let Ie=this.inbuf_;for(;L<U;){if(0===Ie)for(;L<=$;)this.compress_(Y,L),L+=this.blockSize;if("string"==typeof Y){for(;L<U;)if(re[Ie]=Y.charCodeAt(L),++Ie,++L,Ie===this.blockSize){this.compress_(re),Ie=0;break}}else for(;L<U;)if(re[Ie]=Y[L],++Ie,++L,Ie===this.blockSize){this.compress_(re),Ie=0;break}}this.inbuf_=Ie,this.total_+=U}digest(){const Y=[];let U=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let L=this.blockSize-1;L>=56;L--)this.buf_[L]=255&U,U/=256;this.compress_(this.buf_);let $=0;for(let L=0;L<5;L++)for(let re=24;re>=0;re-=8)Y[$]=this.chain_[L]>>re&255,++$;return Y}}function _n(J,Y){const U=new Li(J,Y);return U.subscribe.bind(U)}class Li{constructor(Y,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{Y(this)}).catch($=>{this.error($)})}next(Y){this.forEachObserver(U=>{U.next(Y)})}error(Y){this.forEachObserver(U=>{U.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,U,$){let L;if(void 0===Y&&void 0===U&&void 0===$)throw new Error("Missing Observer.");L=function hn(J,Y){if("object"!=typeof J||null===J)return!1;for(const U of Y)if(U in J&&"function"==typeof J[U])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:U,complete:$},void 0===L.next&&(L.next=pi),void 0===L.error&&(L.error=pi),void 0===L.complete&&(L.complete=pi);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),re}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,Y)}sendOne(Y,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{U(this.observers[Y])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pi(){}const so=function(J,Y,U,$){let L;if($<Y?L="at least "+Y:$>U&&(L=0===U?"none":"no more than "+U),L)throw new Error(J+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+L+".")};function Sn(J,Y){return`${J} failed: ${Y} argument `}function Qt(J,Y,U,$){if((!$||U)&&"function"!=typeof U)throw new Error(Sn(J,Y)+"must be a valid function.")}function si(J,Y,U,$){if((!$||U)&&("object"!=typeof U||null===U))throw new Error(Sn(J,Y)+"must be a valid context object.")}const ao=function(J){const Y=[];let U=0;for(let $=0;$<J.length;$++){let L=J.charCodeAt($);if(L>=55296&&L<=56319){const re=L-55296;$++,Z($<J.length,"Surrogate pair missing trail surrogate."),L=65536+(re<<10)+(J.charCodeAt($)-56320)}L<128?Y[U++]=L:L<2048?(Y[U++]=L>>6|192,Y[U++]=63&L|128):L<65536?(Y[U++]=L>>12|224,Y[U++]=L>>6&63|128,Y[U++]=63&L|128):(Y[U++]=L>>18|240,Y[U++]=L>>12&63|128,Y[U++]=L>>6&63|128,Y[U++]=63&L|128)}return Y},No=function(J){let Y=0;for(let U=0;U<J.length;U++){const $=J.charCodeAt(U);$<128?Y++:$<2048?Y+=2:$>=55296&&$<=56319?(Y+=4,U++):Y+=3}return Y},Qn=1e3,Wn=2,Ii=144e5,Xn=.5;function ki(J,Y=Qn,U=Wn){const $=Y*Math.pow(U,J),L=Math.round(Xn*$*(Math.random()-.5)*2);return Math.min(Ii,$+L)}function vn(J){return J&&J._delegate?J._delegate:J}},6991:(It,Re,z)=>{"use strict";var a=z(5879);let Z=null;function B(){return Z}class ce{}const ue=new a.OlP("DocumentToken");let Te=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(we)},providedIn:"platform"}),i})();const Ve=new a.OlP("Location Initialized");let we=(()=>{class i extends Te{constructor(){super(),this._doc=(0,a.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return new i},providedIn:"platform"}),i})();function K(i,n){if(0==i.length)return n;if(0==n.length)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?i+n.substring(1):1==e?i+n:i+"/"+n}function ee(i){const n=i.match(/#|\?|$/),e=n&&n.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function he(i){return i&&"?"!==i[0]?"?"+i:i}let $e=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(ot)},providedIn:"root"}),i})();const Pe=new a.OlP("appBaseHref");let ot=(()=>{class i extends $e{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return K(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+he(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,s){const l=this.prepareExternalUrl(o+he(s));this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,s){const l=this.prepareExternalUrl(o+he(s));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Te),a.LFG(Pe,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ne=(()=>{class i extends $e{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=K(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,s){let l=this.prepareExternalUrl(o+he(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,o,s){let l=this.prepareExternalUrl(o+he(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Te),a.LFG(Pe,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),it=(()=>{class i{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function le(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(ee(Ct(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+he(r))}normalize(e){return i.stripTrailingSlash(function xt(i,n){if(!i||!n.startsWith(i))return n;const e=n.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,Ct(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return i.normalizeQueryParams=he,i.joinWithSlash=K,i.stripTrailingSlash=ee,i.\u0275fac=function(e){return new(e||i)(a.LFG($e))},i.\u0275prov=a.Yz7({token:i,factory:function(){return function We(){return new it((0,a.LFG)($e))}()},providedIn:"root"}),i})();function Ct(i){return i.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Percent=1]="Percent",pe[pe.Currency=2]="Currency",pe[pe.Scientific=3]="Scientific",pe))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function yt(i,n){const e=(0,a.cg1)(i),r=e[a.wAp.NumberSymbols][n];if(typeof r>"u"){if(n===Qe.CurrencyDecimal)return e[a.wAp.NumberSymbols][Qe.Decimal];if(n===Qe.CurrencyGroup)return e[a.wAp.NumberSymbols][Qe.Group]}return r}const L=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tn(i){const n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}const Fo=/\s+/,ts=[];let Jn=(()=>{class i{constructor(e,r,o,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=s,this.initialClasses=ts,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Fo):ts}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Fo):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],o=e[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Fo).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class ns{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lo=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,s,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ns(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,l),gi(h,o)}});for(let o=0,s=r.length;o<s;o++){const h=r.get(o).context;h.index=o,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{gi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function gi(i,n){i.context.$implicit=n.item}let Fn=(()=>{class i{constructor(e,r){this._viewContainer=e,this._context=new il,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class il{constructor(){this.$implicit=null,this.ngIf=null}}function mc(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,a.AaK)(n)}'.`)}class oa{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let yo=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),_s=(()=>{class i{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new oa(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(yo,9))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),Aa=(()=>{class i{constructor(e,r,o){o._addDefault(new oa(e,r))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(yo,9))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0}),i})(),vs=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(o,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),i})();function on(i,n){return new a.vHH(2100,!1)}class N{createSubscription(n,e){return(0,a.rg0)(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){(0,a.rg0)(()=>n.unsubscribe())}}class H{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const X=new H,me=new N;let Ze=(()=>{class i{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,a.QGY)(e))return X;if((0,a.F4k)(e))return me;throw on()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO,16))},i.\u0275pipe=a.Yjl({name:"async",type:i,pure:!1,standalone:!0}),i})(),jt=(()=>{class i{constructor(e){this._locale=e}transform(e,r,o){if(!function sa(i){return!(null==i||""===i||i!=i)}(e))return null;o=o||this._locale;try{return function Ce(i,n,e){return function en(i,n,e,r,o,s,l=!1){let h="",p=!1;if(isFinite(i)){let g=function Et(i){let r,o,s,l,h,n=Math.abs(i)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(o<0&&(o=s),o+=+n.slice(s+1),n=n.substring(0,s)):o<0&&(o=n.length),s=0;"0"===n.charAt(s);s++);if(s===(h=n.length))r=[0],o=1;else{for(h--;"0"===n.charAt(h);)h--;for(o-=s,r=[],l=0;s<=h;s++,l++)r[l]=Number(n.charAt(s))}return o>22&&(r=r.splice(0,21),e=o-1,o=1),{digits:r,exponent:e,integerLen:o}}(i);l&&(g=function Ge(i){if(0===i.digits[0])return i;const n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===n?i.digits.push(0,0):1===n&&i.digits.push(0),i.integerLen+=2),i}(g));let w=n.minInt,E=n.minFrac,S=n.maxFrac;if(s){const Se=s.match(L);if(null===Se)throw new Error(`${s} is not a valid digit info`);const Oe=Se[1],Ae=Se[3],Le=Se[5];null!=Oe&&(w=tn(Oe)),null!=Ae&&(E=tn(Ae)),null!=Le?S=tn(Le):null!=Ae&&E>S&&(S=E)}!function zt(i,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=i.digits,o=r.length-i.integerLen;const s=Math.min(Math.max(n,o),e);let l=s+i.integerLen,h=r[l];if(l>0){r.splice(Math.max(i.integerLen,l));for(let E=l;E<r.length;E++)r[E]=0}else{o=Math.max(0,o),i.integerLen=1,r.length=Math.max(1,l=s+1),r[0]=0;for(let E=1;E<l;E++)r[E]=0}if(h>=5)if(l-1<0){for(let E=0;E>l;E--)r.unshift(0),i.integerLen++;r.unshift(1),i.integerLen++}else r[l-1]++;for(;o<Math.max(0,s);o++)r.push(0);let p=0!==s;const g=n+i.integerLen,w=r.reduceRight(function(E,S,O,F){return F[O]=(S+=E)<10?S:S-10,p&&(0===F[O]&&O>=g?F.pop():p=!1),S>=10?1:0},0);w&&(r.unshift(w),i.integerLen++)}(g,E,S);let O=g.digits,F=g.integerLen;const G=g.exponent;let Q=[];for(p=O.every(Se=>!Se);F<w;F++)O.unshift(0);for(;F<0;F++)O.unshift(0);F>0?Q=O.splice(F,O.length):(Q=O,O=[0]);const ve=[];for(O.length>=n.lgSize&&ve.unshift(O.splice(-n.lgSize,O.length).join(""));O.length>n.gSize;)ve.unshift(O.splice(-n.gSize,O.length).join(""));O.length&&ve.unshift(O.join("")),h=ve.join(yt(e,r)),Q.length&&(h+=yt(e,o)+Q.join("")),G&&(h+=yt(e,Qe.Exponential)+"+"+G)}else h=yt(e,Qe.Infinity);return h=i<0&&!p?n.negPre+h+n.negSuf:n.posPre+h+n.posSuf,h}(i,function fe(i,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=i.split(";"),o=r[0],s=r[1],l=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],h=l[0],p=l[1]||"";e.posPre=h.substring(0,h.indexOf("#"));for(let w=0;w<p.length;w++){const E=p.charAt(w);"0"===E?e.minFrac=e.maxFrac=w+1:"#"===E?e.maxFrac=w+1:e.posSuf+=E}const g=h.split(",");if(e.gSize=g[1]?g[1].length:0,e.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,s){const w=o.length-e.posPre.length-e.posSuf.length,E=s.indexOf("#");e.negPre=s.substring(0,E).replace(/'/g,""),e.negSuf=s.slice(E+w).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function Gn(i,n){return(0,a.cg1)(i)[a.wAp.NumberFormats][n]}(n,pe.Decimal),yt(n,Qe.MinusSign)),n,Qe.Group,Qe.Decimal,e)}(function vi(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(e),o,r)}catch(s){throw on()}}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.soG,16))},i.\u0275pipe=a.Yjl({name:"number",type:i,pure:!0,standalone:!0}),i})();let Cr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const _c="browser";function rs(i){return"server"===i}let Pa=(()=>{class i{}return i.\u0275prov=(0,a.Yz7)({token:i,providedIn:"root",factory:()=>new wo((0,a.LFG)(ue),window)}),i})();class wo{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function vc(i,n){const e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const r=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const s=o.shadowRoot;if(s){const l=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Na(this.window.history)||Na(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Na(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class xc extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gr extends xc{static makeCurrent(){!function ae(i){Z||(Z=i)}(new Gr)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Df(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}();return null==e?null:function Bo(i){ua=ua||document.createElement("a"),ua.setAttribute("href",i);const n=ua.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function dr(i,n){n=encodeURIComponent(n);for(const e of i.split(";")){const r=e.indexOf("="),[o,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let ua,Cc=null,If=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Nu=new a.OlP("EventManagerPlugins");let ws=(()=>{class i{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Nu),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class Fu{constructor(n){this._doc=n}}const Lu="ng-app-id";let od=(()=>{class i{constructor(e,r,o,s={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rs(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Lu}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){const o=this.styleRef;if(o.has(e)){const s=o.get(e);return s.usage+=r,s.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===e)return o.delete(r),s.removeAttribute(Lu),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Lu,this.appId),l}}addStyleToHost(e,r){const o=this.getStyleElement(e,r);e.appendChild(o);const s=this.styleRef,l=s.get(r)?.elements;l?l.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Ec={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vo=/%COMP%/g,yv=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function dl(i,n){return n.map(e=>e.replace(Vo,i))}let Uo=(()=>{class i{constructor(e,r,o,s,l,h,p,g=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=s,this.doc=l,this.platformId=h,this.ngZone=p,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=rs(h),this.defaultRenderer=new ad(e,l,p,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===a.ifc.ShadowDom&&(r={...r,encapsulation:a.ifc.Emulated});const o=this.getOrCreateRenderer(e,r);return o instanceof En?o.applyToHost(e):o instanceof He&&o.applyStyles(),o}getOrCreateRenderer(e,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const l=this.doc,h=this.ngZone,p=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestory,E=this.platformIsServer;switch(r.encapsulation){case a.ifc.Emulated:s=new En(p,g,r,this.appId,w,l,h,E);break;case a.ifc.ShadowDom:return new zm(p,g,e,r,l,h,this.nonce,E);default:s=new He(p,g,r,w,l,h,E)}s.onDestroy=()=>o.delete(r.id),o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ws),a.LFG(od),a.LFG(a.AFp),a.LFG(yv),a.LFG(ue),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class ad{constructor(n,e,r,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Ec[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Tf(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Tf(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new a.vHH(5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const s=Ec[o];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Ec[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(a.JOm.DashCase|a.JOm.Important)?n.style.setProperty(e,r,o&a.JOm.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&a.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=B().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Tf(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class zm extends ad{constructor(n,e,r,o,s,l,h,p){super(n,s,l,p),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=dl(o.id,o.styles);for(const w of g){const E=document.createElement("style");h&&E.setAttribute("nonce",h),E.textContent=w,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class He extends ad{constructor(n,e,r,o,s,l,h,p){super(n,s,l,h),this.sharedStylesHost=e,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=p?dl(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class En extends He{constructor(n,e,r,o,s,l,h,p){const g=o+"-"+r.id;super(n,e,r,s,l,h,p,g),this.contentAttr=function Vu(i){return"_ngcontent-%COMP%".replace(Vo,i)}(g),this.hostAttr=function Um(i){return"_nghost-%COMP%".replace(Vo,i)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let Uu=(()=>{class i extends Fu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const cd=["alt","control","meta","shift"],ur={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jm={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let ld=(()=>{class i extends Fu{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,r,o){const s=i.parseEventName(r),l=i.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=i._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),cd.forEach(g=>{const w=r.indexOf(g);w>-1&&(r.splice(w,1),l+=g+".")}),l+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=o,p.fullKey=l,p}static matchEventFullKeyCode(e,r){let o=ur[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cd.forEach(l=>{l!==o&&(0,jm[l])(e)&&(s+=l+".")}),s+=o,s===r)}static eventCallback(e,r,o){return s=>{i.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const dd=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:_c},{provide:a.g9A,useValue:function Sf(){Gr.makeCurrent()},multi:!0},{provide:ue,useFactory:function Fr(){return(0,a.RDi)(document),document},deps:[]}]),yi=new a.OlP(""),Cs=[{provide:a.rWj,useClass:class Vm{addToWindow(n){a.dqk.getAngularTestability=(r,o=!0)=>{const s=n.findTestabilityInTree(r,o);if(null==s)throw new a.vHH(5103,!1);return s},a.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let s=o.length,l=!1;const h=function(p){l=l||p,s--,0==s&&r(l)};o.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?B().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],hr=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Af(){return new a.qLn},deps:[]},{provide:Nu,useClass:Uu,multi:!0,deps:[ue,a.R0b,a.Lbi]},{provide:Nu,useClass:ld,multi:!0,deps:[ue]},Uo,od,ws,{provide:a.FYo,useExisting:Uo},{provide:class zr{},useClass:If,deps:[]},[]];let ud=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:a.AFp,useValue:e.appId}]}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(yi,12))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[...hr,...Cs],imports:[Cr,a.hGG]}),i})(),fd=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:function(e){let r=null;return r=e?new e:function fl(){return new fd((0,a.LFG)(ue))}(),r},providedIn:"root"}),i})();typeof window<"u"&&window;const Gm={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Dr=new a.OlP("HammerGestureConfig"),Es=new a.OlP("HammerLoader");let ni=(()=>{class i{constructor(){this.events=[],this.overrides={}}buildHammer(e){const r=new Hammer(e,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(const o in this.overrides)r.get(o).set(this.overrides[o]);return r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),gd=(()=>{class i extends Fu{constructor(e,r,o,s){super(e),this._config=r,this.console=o,this.loader=s,this._loaderPromise=null}supports(e){return!(!Gm.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,r,o){const s=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||s.runOutsideAngular(()=>this.loader());let l=!1,h=()=>{l=!0};return s.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?l||(h=this.addEventListener(e,r,o)):h=()=>{}}).catch(()=>{h=()=>{}})),()=>{h()}}return s.runOutsideAngular(()=>{const l=this._config.buildHammer(e),h=function(p){s.runGuarded(function(){o(p)})};return l.on(r,h),()=>{l.off(r,h),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue),a.LFG(Dr),a.LFG(a.c2e),a.LFG(Es,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Nf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[{provide:Nu,useClass:gd,multi:!0,deps:[ue,Dr,a.c2e,[new a.FiY,Es]]},{provide:Dr,useClass:ni,deps:[]}]}),i})(),Ic=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(e){let r=null;return r=e?new(e||i):a.LFG($u),r},providedIn:"root"}),i})(),$u=(()=>{class i extends Ic{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:function(e){let r=null;return r=e?new e:function ju(i){return new $u(i.get(ue))}(a.LFG(a.zs3)),r},providedIn:"root"}),i})();z(7271);var Ds=z(3182),an=z(8186);class Co{constructor(n){return n}}class pa{constructor(){return(0,Ds.C6)()}}const $s=new a.OlP("angularfire2._apps"),Zu={provide:Co,useFactory:function yd(i){return i&&1===i.length?i[0]:new Co((0,Ds.Mq)())},deps:[[new a.FiY,$s]]},qm={provide:pa,deps:[[new a.FiY,$s]]};function gl(i){return(n,e)=>{const r=n.runOutsideAngular(()=>i(e));return new Co(r)}}let wv=(()=>{class i{constructor(e){(0,Ds.KN)("angularfire",an.q4.full,"core"),(0,Ds.KN)("angularfire",an.q4.full,"app"),(0,Ds.KN)("angular",a.q4F.full,e.toString())}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.Lbi))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Zu,qm]}),i})();function ma(i,...n){return{ngModule:wv,providers:[{provide:$s,useFactory:gl(i),multi:!0,deps:[a.R0b,a.zs3,an.HU,...n]}]}}const _l=(0,an.u3)(Ds.ZF,!0);var zn=z(6304),At=z(8645),Dt=z(2096),Bn=z(5592),An=z(2459),Ir=z(3019),ga=z(3093),bi=z(4664),tt=z(7398),Bf=z(4552);class Cv extends At.x{constructor(n=1/0,e=1/0,r=Bf.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:l}=this;e||(r.push(n),!o&&r.push(s.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let l=0;l<s.length&&!n.closed;l+=r?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*n;if(n<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const l=e.now();let h=0;for(let p=1;p<r.length&&r[p]<=l;p+=2)h=p;h&&r.splice(0,h+1)}}}var _a=z(3020);function yl(i,n,e){let r,o=!1;return i&&"object"==typeof i?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=i):r=i??1/0,(0,_a.B)({connector:()=>new Cv(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const bd=(0,z(2306).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var fr=z(9360),ci=z(8251);function Dn(i,n){return(0,fr.e)((e,r)=>{let o=0;e.subscribe((0,ci.x)(r,s=>i.call(n,s,o++)&&r.next(s)))})}var as=z(6232);function Gi(i){return i<=0?()=>as.E:(0,fr.e)((n,e)=>{let r=0;n.subscribe((0,ci.x)(e,o=>{++r<=i&&(e.next(o),i<=r&&e.complete())}))})}function Ha(i){return(0,fr.e)((n,e)=>{let r=!1;n.subscribe((0,ci.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(i),e.complete()}))})}function za(i=Zm){return(0,fr.e)((n,e)=>{let r=!1;n.subscribe((0,ci.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(i())))})}function Zm(){return new bd}var va=z(2737);function Is(i,n){const e=arguments.length>=2;return r=>r.pipe(i?Dn((o,s)=>i(o,s,r)):va.y,Gi(1),e?Ha(n):za(()=>new bd))}var zo=z(4674);function wd(i,n){return(0,zo.m)(n)?(0,bi.w)(()=>i,n):(0,bi.w)(()=>i)}var bl=z(5137),Ee=z(5861),wi=z(534),ir=z(4537),j=z(9058),Xr=z(7879);const ks=new Map,xd={activated:!1,tokenObservers:[]},Cd={initialized:!1,enabled:!1};function xi(i){return ks.get(i)||Object.assign({},xd)}function kc(){return Cd}const Tc="https://content-firebaseappcheck.googleapis.com/v1",Ed="exchangeDebugToken",Qu={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ci{constructor(n,e,r,o,s){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=o,o>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new j.BH,yield function Xu(i){return new Promise(n=>{setTimeout(n,i)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new j.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const rr=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ja(i){if(!xi(i).activated)throw rr.create("use-before-activation",{appName:i.name})}function Ga(i,n){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,Ee.Z)(function*({url:i,body:n},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const E=yield o.getHeartbeatsHeader();E&&(r["X-Firebase-Client"]=E)}const s={method:"POST",body:JSON.stringify(n),headers:r};let l,h;try{l=yield fetch(i,s)}catch(E){throw rr.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==l.status)throw rr.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(E){throw rr.create("fetch-parse-error",{originalErrorMessage:E?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const g=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+g,issuedAtTimeMillis:w}})).apply(this,arguments)}function Ju(i,n){const{projectId:e,appId:r,apiKey:o}=i.options;return{url:`${Tc}/projects/${e}/apps/${r}:${Ed}?key=${o}`,body:{debug_token:n}}}const D="firebase-app-check-database",T=1,M="firebase-app-check-store";let te=null;function Zt(){return(Zt=(0,Ee.Z)(function*(i,n){const r=(yield function se(){return te||(te=new Promise((i,n)=>{try{const e=indexedDB.open(D,T);e.onsuccess=r=>{i(r.target.result)},e.onerror=r=>{var o;n(rr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(M,{keyPath:"compositeKey"})}}catch(e){n(rr.create("storage-open",{originalErrorMessage:e?.message}))}}),te)}()).transaction(M,"readwrite"),s=r.objectStore(M).put({compositeKey:i,value:n});return new Promise((l,h)=>{s.onsuccess=p=>{l()},r.onerror=p=>{var g;h(rr.create("storage-set",{originalErrorMessage:null===(g=p.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const qa=new Xr.Yd("@firebase/app-check");function Do(i,n){return(0,j.hl)()?function ft(i,n){return function nn(i,n){return Zt.apply(this,arguments)}(function Ss(i){return`${i.options.appId}-${i.name}`}(i),n)}(i,n).catch(e=>{qa.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function kd(){return kc().enabled}function Uf(){return Td.apply(this,arguments)}function Td(){return(Td=(0,Ee.Z)(function*(){const i=kc();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sd={error:"UNKNOWN_ERROR"};function j0(i){return j.US.encodeString(JSON.stringify(i),!1)}function Km(i){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,Ee.Z)(function*(i,n=!1){const e=i.app;ja(e);const r=xi(e);let s,o=r.token;if(o&&!y(o)&&(r.token=void 0,o=void 0),!o){const p=yield r.cachedTokenPromise;p&&(y(p)?o=p:yield Do(e,void 0))}if(!n&&o&&y(o))return{token:o.token};let h,l=!1;if(kd()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ga(Ju(e,yield Uf()),i.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const p=yield r.exchangeTokenPromise;return yield Do(e,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield xi(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?qa.warn(p.message):qa.error(p),s=p}return o?s?h=y(o)?{token:o.token,internalError:s}:I(s):(h={token:o.token},r.token=o,yield Do(e,o)):h=I(s),l&&function v(i,n){const e=xi(i).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=n.error?r.error(n.error):r.next(n)}catch{}}(e,h),h})).apply(this,arguments)}function Iv(i){return kv.apply(this,arguments)}function kv(){return(kv=(0,Ee.Z)(function*(i){const n=i.app;ja(n);const{provider:e}=xi(n);if(kd()){const r=yield Uf(),{token:o}=yield Ga(Ju(n,r),i.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function Qm(i,n){const e=xi(i),r=e.tokenObservers.filter(o=>o.next!==n);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function $0(i){const{app:n}=i,e=xi(n);let r=e.tokenRefresher;r||(r=function x(i){const{app:n}=i;return new Ci((0,Ee.Z)(function*(){let r;if(r=xi(n).token?yield Km(i,!0):yield Km(i),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=xi(n);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Qu.RETRIAL_MIN_WAIT,Qu.RETRIAL_MAX_WAIT)}(i),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function y(i){return i.expireTimeMillis-Date.now()>0}function I(i){return{token:j0(Sd),error:i}}class R{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=xi(this.app);for(const e of n)Qm(this.app,e.next);return Promise.resolve()}}const Z0="app-check-internal";!function Y0(){(0,wi._registerComponent)(new ir.wA("app-check",i=>function V(i,n){return new R(i,n)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,n,e)=>{i.getProvider(Z0).initialize()})),(0,wi._registerComponent)(new ir.wA(Z0,i=>function ie(i){return{getToken:n=>Km(i,n),getLimitedUseToken:()=>Iv(i),addTokenListener:n=>function zf(i,n,e,r){const{app:o}=i,s=xi(o);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:r,type:n}],s.token&&y(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),$0(i)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$0(i))}(i,"INTERNAL",n),removeTokenListener:n=>Qm(i.app,n)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wi.registerVersion)("@firebase/app-check","0.8.0")}();class Wf{constructor(){return(0,an.vb)("app-check")}}typeof window<"u"&&window;var Rv=z(7142);const J0=new a.OlP("angularfire2.auth.use-emulator"),ew=new a.OlP("angularfire2.auth.settings"),Jm=new a.OlP("angularfire2.auth.tenant-id"),eg=new a.OlP("angularfire2.auth.langugage-code"),tw=new a.OlP("angularfire2.auth.use-device-language"),ih=new a.OlP("angularfire.auth.persistence"),nw=(i,n,e,r,o,s,l,h)=>(0,zn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const p=n.runOutsideAngular(()=>i.auth());if(e&&p.useEmulator(...e),r&&(p.tenantId=r),p.languageCode=o,s&&p.useDeviceLanguage(),l)for(const[g,w]of Object.entries(l))p.settings[g]=w;return h&&p.setPersistence(h),p},[e,r,o,s,l,h]);let tg=(()=>{class i{constructor(e,r,o,s,l,h,p,g,w,E,S,O){const F=new At.x,G=(0,Dt.of)(void 0).pipe((0,ga.Q)(l.outsideAngular),(0,bi.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,6365)))),(0,tt.U)(()=>(0,zn.on)(e,s,r)),(0,tt.U)(Q=>nw(Q,s,h,g,w,E,p,S)),yl({bufferSize:1,refCount:!1}));if(rs(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{G.pipe(Is()).subscribe();const ve=G.pipe((0,bi.w)(Ae=>Ae.getRedirectResult().then(Le=>Le,()=>null)),an.iC,yl({bufferSize:1,refCount:!1})),Se=G.pipe((0,bi.w)(Ae=>new Bn.y(Le=>({unsubscribe:s.runOutsideAngular(()=>Ae.onAuthStateChanged(Je=>Le.next(Je),Je=>Le.error(Je),()=>Le.complete()))})))),Oe=G.pipe((0,bi.w)(Ae=>new Bn.y(Le=>({unsubscribe:s.runOutsideAngular(()=>Ae.onIdTokenChanged(Je=>Le.next(Je),Je=>Le.error(Je),()=>Le.complete()))}))));this.authState=ve.pipe(wd(Se),(0,bl.R)(l.outsideAngular),(0,ga.Q)(l.insideAngular)),this.user=ve.pipe(wd(Oe),(0,bl.R)(l.outsideAngular),(0,ga.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,bi.w)(Ae=>Ae?(0,An.D)(Ae.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,bi.w)(Ae=>Ae?(0,An.D)(Ae.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,Ir.T)(ve,F,this.authState.pipe(Dn(Ae=>!Ae))).pipe((0,tt.U)(Ae=>Ae?.user?Ae:null),(0,bl.R)(l.outsideAngular),(0,ga.Q)(l.insideAngular))}return(0,zn.pX)(this,G,s,{spy:{apply:(Q,ve,Se)=>{(Q.startsWith("signIn")||Q.startsWith("createUser"))&&Se.then(Oe=>F.next(Oe))}}})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zn.Dh),a.LFG(zn.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(an.HU),a.LFG(J0,8),a.LFG(ew,8),a.LFG(Jm,8),a.LFG(eg,8),a.LFG(tw,8),a.LFG(ih,8),a.LFG(Wf,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),PD=(()=>{class i{constructor(){Rv.Z.registerVersion("angularfire",an.q4.full,"auth-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[tg]}),i})();var Zf=z(6321);function Wa(i,n){return(0,fr.e)(function ND(i,n,e,r,o){return(s,l)=>{let h=e,p=n,g=0;s.subscribe((0,ci.x)(l,w=>{const E=g++;p=h?i(p,w,E):(h=!0,w),r&&l.next(p)},o&&(()=>{h&&l.next(p),l.complete()})))}}(i,n,arguments.length>=2,!0))}var El=z(3997),Dl=z(4829),ng=z(2420),Il=z(9940);z(6365);var iw=z(3106);const FD="@firebase/database";let Ov="";function Pv(i){Ov=i}class BD{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,j.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,j.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class rw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,j.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const VD=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const n=window[i];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new BD(n)}}catch{}return new rw},rh=VD("localStorage"),ig=VD("sessionStorage"),oh=new Xr.Yd("@firebase/database"),Md=function(){let i=1;return function(){return i++}}(),ow=function(i){const n=(0,j.dS)(i),e=new j.gQ;e.update(n);const r=e.digest();return j.US.encodeByteArray(r)},Yf=function(...i){let n="";for(let e=0;e<i.length;e++){const r=i[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=Yf.apply(null,r):n+="object"==typeof r?(0,j.Wl)(r):r,n+=" "}return n};let sh=null,v1=!0;const rg=function(i,n){(0,j.hu)(!n||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(oh.logLevel=Xr.in.VERBOSE,sh=oh.log.bind(oh),n&&ig.set("logging_enabled",!0)):"function"==typeof i?sh=i:(sh=null,ig.remove("logging_enabled"))},fo=function(...i){if(!0===v1&&(v1=!1,null===sh&&!0===ig.get("logging_enabled")&&rg(!0)),sh){const n=Yf.apply(null,i);sh(n)}},Kf=function(i){return function(...n){fo(i,...n)}},Nv=function(...i){const n="FIREBASE INTERNAL ERROR: "+Yf(...i);oh.error(n)},Za=function(...i){const n=`FIREBASE FATAL ERROR: ${Yf(...i)}`;throw oh.error(n),new Error(n)},po=function(...i){const n="FIREBASE WARNING: "+Yf(...i);oh.warn(n)},ah=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},kl="[MIN_NAME]",Ya="[MAX_NAME]",Sc=function(i,n){if(i===n)return 0;if(i===kl||n===Ya)return-1;if(n===kl||i===Ya)return 1;{const e=dh(i),r=dh(n);return null!==e?null!==r?e-r==0?i.length-n.length:e-r:-1:null!==r?1:i<n?-1:1}},HD=function(i,n){return i===n?0:i<n?-1:1},ch=function(i,n){if(n&&i in n)return n[i];throw new Error("Missing required key ("+i+") in object: "+(0,j.Wl)(n))},lh=function(i){if("object"!=typeof i||null===i)return(0,j.Wl)(i);const n=[];for(const r in i)n.push(r);n.sort();let e="{";for(let r=0;r<n.length;r++)0!==r&&(e+=","),e+=(0,j.Wl)(n[r]),e+=":",e+=lh(i[n[r]]);return e+="}",e},zD=function(i,n){const e=i.length;if(e<=n)return[i];const r=[];for(let o=0;o<e;o+=n)r.push(i.substring(o,o+n>e?e:o+n));return r};function Jr(i,n){for(const e in i)i.hasOwnProperty(e)&&n(e,i[e])}const jD=function(i){(0,j.hu)(!ah(i),"Invalid JSON number");const r=1023;let o,s,l,h,p;0===i?(s=0,l=0,o=1/i==-1/0?1:0):(o=i<0,(i=Math.abs(i))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),s=h+r,l=Math.round(i*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(i/Math.pow(2,-1074))));const g=[];for(p=52;p;p-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)g.push(s%2?1:0),s=Math.floor(s/2);g.push(o?1:0),g.reverse();const w=g.join("");let E="";for(p=0;p<64;p+=8){let S=parseInt(w.substr(p,8),2).toString(16);1===S.length&&(S="0"+S),E+=S}return E.toLowerCase()},GD=new RegExp("^-?(0*)\\d{1,10}$"),dh=function(i){if(GD.test(i)){const n=Number(i);if(n>=-2147483648&&n<=2147483647)return n}return null},Qf=function(i){try{i()}catch(n){setTimeout(()=>{throw po("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Lv=function(i,n){const e=setTimeout(i,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class x1{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){po(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aw{constructor(n,e,r){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(fo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',po(n)}}let sg=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const dw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WD="websocket",ZD="long_polling";class hw{constructor(n,e,r,o,s=!1,l="",h=!1,p=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rh.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&rh.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function uh(i,n,e){let r;if((0,j.hu)("string"==typeof n,"typeof type must == string"),(0,j.hu)("object"==typeof e,"typeof params must == object"),n===WD)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(n!==ZD)throw new Error("Unknown connection type: "+n);r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Tl(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const o=[];return Jr(e,(s,l)=>{o.push(s+"="+l)}),r+o.join("&")}class C1{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,j.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,j.p$)(this.counters_)}}const fw={},pw={};function mw(i){const n=i.toString();return fw[n]||(fw[n]=new C1),fw[n]}class D1{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Qf(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hh{constructor(n,e,r,o,s,l,h){this.connId=n,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kf(n),this.stats_=mw(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),uh(e,ZD,p))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new D1(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,j.Yr)()||"complete"===document.readyState)i();else{let n=!1;const e=function(){document.body?n||(n=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vv((...s)=>{const[l,h,p,g,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&dw.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hh.forceAllow_=!0}static forceDisallow(){hh.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!hh.forceAllow_&&(hh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,j.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,j.h$)(e),o=zD(r,1840);for(let s=0;s<o.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[s]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=n,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,j.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Vv{constructor(n,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Md(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Vv.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){fo("frame writing exception"),h.stack&&fo(h.stack),fo(h)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||fo("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+o+"="+l.seg+"&ts"+o+"="+l.ts+"&d"+o+"="+l.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,r){this.pendingSegs.push({seg:n,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),r()})}addTag(n,e){(0,j.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{fo("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Uv=null;typeof MozWebSocket<"u"?Uv=MozWebSocket:typeof WebSocket<"u"&&(Uv=WebSocket);let Xf=(()=>{class i{constructor(e,r,o,s,l,h,p){this.connId=e,this.applicationId=o,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kf(this.connId),this.stats_=mw(r),this.connURL=i.connectionURL_(r,h,p,s,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,s,l){const h={v:"5"};return!(0,j.Yr)()&&typeof location<"u"&&location.hostname&&dw.test(location.hostname)&&(h.r="f"),r&&(h.s=r),o&&(h.ls=o),s&&(h.ac=s),l&&(h.p=l),uh(e,WD,h)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rh.set("previous_websocket_failure",!0);try{let o;if((0,j.Yr)()){o={headers:{"User-Agent":`Firebase/5/${Ov}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(o.proxy={origin:h})}this.mySock=new Uv(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const s=o.message||o.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const s=o.message||o.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Uv&&!i.forceDisallow_}static previouslyFailed(){return rh.isInMemoryStorage||!0===rh.get("previous_websocket_failure")}markConnectionHealthy(){rh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,j.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,j.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=zD(r,16384);o.length>1&&this.sendString_(String(o.length));for(let s=0;s<o.length;s++)this.sendString_(o[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),yw=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hh,Xf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=Xf&&Xf.isAvailable();let o=r&&!Xf.previouslyFailed();if(e.webSocketOnly&&(r||po("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Xf];else{const s=this.transports_=[];for(const l of i.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class N1{constructor(n,e,r,o,s,l,h,p,g,w){this.id=n,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kf("c:"+this.id+":"),this.transportManager_=new yw(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Lv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=ch("t",n),r=ch("d",n);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=ch("t",n),r=ch("d",n);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=ch("t",n);if("d"in n){const r=n.d;if("h"===e){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?Nv("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nv("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&po("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Lv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class F1{put(n,e,r,o){}merge(n,e,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,r){}onDisconnectMerge(n,e,r){}onDisconnectCancel(n,e){}reportStats(n){}}class Jf{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,j.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(n,e,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:r});const o=this.getInitialEvent(n);o&&e.apply(r,o)}off(n,e,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let s=0;s<o.length;s++)if(o[s].callback===e&&(!r||r===o[s].context))return void o.splice(s,1)}validateEventType_(n){(0,j.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class Un extends Jf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Un}getInitialEvent(n){return(0,j.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class ii{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function jn(){return new ii("")}function In(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Pd(i){return i.pieces_.length-i.pieceNum_}function Ei(i){let n=i.pieceNum_;return n<i.pieces_.length&&n++,new ii(i.pieces_,n)}function jv(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function $v(i,n=0){return i.pieces_.slice(i.pieceNum_+n)}function Gv(i){if(i.pieceNum_>=i.pieces_.length)return null;const n=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)n.push(i.pieces_[e]);return new ii(n,0)}function or(i,n){const e=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)e.push(i.pieces_[r]);if(n instanceof ii)for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new ii(e,0)}function Cn(i){return i.pieceNum_>=i.pieces_.length}function jo(i,n){const e=In(i),r=In(n);if(null===e)return n;if(e===r)return jo(Ei(i),Ei(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+i+")")}function aI(i,n){const e=$v(i,0),r=$v(n,0);for(let o=0;o<e.length&&o<r.length;o++){const s=Sc(e[o],r[o]);if(0!==s)return s}return e.length===r.length?0:e.length<r.length?-1:1}function Sl(i,n){if(Pd(i)!==Pd(n))return!1;for(let e=i.pieceNum_,r=n.pieceNum_;e<=i.pieces_.length;e++,r++)if(i.pieces_[e]!==n.pieces_[r])return!1;return!0}function wa(i,n){let e=i.pieceNum_,r=n.pieceNum_;if(Pd(i)>Pd(n))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==n.pieces_[r])return!1;++e,++r}return!0}class Cw{constructor(n,e){this.errorPrefix_=e,this.parts_=$v(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);Wv(this)}}function Wv(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mc(i))}function Mc(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Al extends Jf{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Al}getInitialEvent(n){return(0,j.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const fh=1e3;let dg,ph=(()=>{class i extends F1{constructor(e,r,o,s,l,h,p,g){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=g,this.id=i.nextPersistentConnectionId_++,this.log_=Kf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Al.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Un.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const s=++this.requestNumber_,l={r:s,a:e,b:r};this.log_((0,j.Wl)(l)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),o&&(this.requestCBHash_[s]=o)}get(e){this.initConnection_();const r=new j.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,o,s){this.initConnection_();const l=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:e,tag:o};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+o+" for "+s);const l={p:o};e.tag&&(l.q=r._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,p=>{const g=p.d,w=p.s;i.warnOnListenWarnings_(g,r),(this.listens.get(o)&&this.listens.get(o).get(s))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(o,s),e.onComplete&&e.onComplete(w,g))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,j.r3)(e,"w")){const o=(0,j.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();po(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,j.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,j.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,s=>{const l=s.s,h=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+s),(0,j.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,s)&&this.connected_&&this.sendUnlisten_(o,s,e._queryObject,r)}sendUnlisten_(e,r,o,s){this.log_("Unlisten on "+e+" for "+r);const l={p:e};s&&(l.q=o,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,s){const l={p:r,d:o};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(e,r,o,s){this.putInternal("p",e,r,o,s)}merge(e,r,o,s){this.putInternal("m",e,r,o,s)}putInternal(e,r,o,s,l){this.initConnection_();const h={p:r,d:o};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:e,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,j.Wl)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):Nv("Unrecognized action received from server: "+(0,j.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ee.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+i.nextConnectionId_++,h=e.lastSessionId;let p=!1,g=null;const w=function(){g?g.close():(p=!0,s())};e.realtime_={close:w,sendRequest:function(O){(0,j.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(O)}};const S=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[O,F]=yield Promise.all([e.authTokenProvider_.getToken(S),e.appCheckTokenProvider_.getToken(S)]);p?fo("getToken() completed but was canceled"):(fo("getToken() completed. Creating connection."),e.authToken_=O&&O.accessToken,e.appCheckToken_=F&&F.token,g=new N1(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,s,G=>{po(G+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(O){e.log_("Failed to get token: "+O),p||(e.repoInfo_.nodeAdmin&&po(O),w())}}})()}interrupt(e){fo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=fh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(l=>lh(l)).join("$"):"default";const s=this.removeListen_(e,o);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,r){const o=new ii(e).toString();let s;if(this.listens.has(o)){const l=this.listens.get(o);s=l.get(r),l.delete(r),0===l.size&&this.listens.delete(o)}else s=void 0;return s}onAuthRevoked_(e,r){fo("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){fo("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Ov.replace(/\./g,"-")]=1,(0,j.uI)()?e["framework.cordova"]=1:(0,j.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Un.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class Pn{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Pn(n,e)}}class np{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const r=new Pn(kl,n),o=new Pn(kl,e);return 0!==this.compare(r,o)}minPost(){return Pn.MIN}}class uI extends np{static get __EMPTY_NODE(){return dg}static set __EMPTY_NODE(n){dg=n}compare(n,e){return Sc(n.name,e.name)}isDefinedOn(n){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Pn.MIN}maxPost(){return new Pn(Ya,dg)}makePost(n,e){return(0,j.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Pn(n,dg)}toString(){return".key"}}const Ka=new uI;class ip{constructor(n,e,r,o,s=null){this.isReverse_=o,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!n.isEmpty();)if(l=e?r(n.key,e):1,o&&(l*=-1),l<0)n=this.isReverse_?n.left:n.right;else{if(0===l){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let fI,Rc=(()=>{class i{constructor(e,r,o,s,l){this.key=e,this.value=r,this.color=o??i.RED,this.left=s??Ms.EMPTY_NODE,this.right=l??Ms.EMPTY_NODE}copy(e,r,o,s,l){return new i(e??this.key,r??this.value,o??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,r,o),null):0===l?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,o)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ms.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,s;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return Ms.EMPTY_NODE;s=o.right.min_(),o=o.copy(s.key,s.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Ms{constructor(n,e=Ms.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Ms(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Rc.BLACK,null,null))}remove(n){return new Ms(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Rc.BLACK,null,null))}get(n){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(n){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new ip(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new ip(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new ip(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new ip(this.root_,null,this.comparator_,!0,n)}}function U1(i,n){return Sc(i.name,n.name)}function hI(i,n){return Sc(i,n)}Ms.EMPTY_NODE=new class V1{copy(n,e,r,o,s){return this}insert(n,e,r){return new Rc(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pI=function(i){return"number"==typeof i?"number:"+jD(i):"string:"+i},Yv=function(i){if(i.isLeafNode()){const n=i.val();(0,j.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,j.r3)(n,".sv"),"Priority must be a string or number.")}else(0,j.hu)(i===fI||i.isEmpty(),"priority of unexpected type.");(0,j.hu)(i===fI||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Kv,Qv,Xv,Oc=(()=>{class i{constructor(e,r=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yv(this.priorityNode_)}static set __childrenNodeConstructor(e){Kv=e}static get __childrenNodeConstructor(){return Kv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Cn(e)?this:".priority"===In(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=In(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,j.hu)(".priority"!==o||1===Pd(e),".priority must be the last token in a path"),this.updateImmediateChild(o,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ei(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pI(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?jD(this.value_):this.value_,this.lazyHash_=ow(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,j.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,s=i.VALUE_TYPE_ORDER.indexOf(r),l=i.VALUE_TYPE_ORDER.indexOf(o);return(0,j.hu)(s>=0,"Unknown leaf type: "+r),(0,j.hu)(l>=0,"Unknown leaf type: "+o),s===l?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Si=new class hg extends np{compare(n,e){const r=n.node.getPriority(),o=e.node.getPriority(),s=r.compareTo(o);return 0===s?Sc(n.name,e.name):s}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Pn.MIN}maxPost(){return new Pn(Ya,new Oc("[PRIORITY-POST]",Xv))}makePost(n,e){const r=Qv(n);return new Pn(e,new Oc("[PRIORITY-POST]",r))}toString(){return".priority"}},Dw=Math.log(2);class ey{constructor(n){this.count=parseInt(Math.log(n+1)/Dw,10),this.current_=this.count-1;const o=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Iw=function(i,n,e,r){i.sort(n);const o=function(p,g){const w=g-p;let E,S;if(0===w)return null;if(1===w)return E=i[p],S=e?e(E):E,new Rc(S,E.node,Rc.BLACK,null,null);{const O=parseInt(w/2,10)+p,F=o(p,O),G=o(O+1,g);return E=i[O],S=e?e(E):E,new Rc(S,E.node,Rc.BLACK,F,G)}},h=function(p){let g=null,w=null,E=i.length;const S=function(F,G){const Q=E-F,ve=E;E-=F;const Se=o(Q+1,ve),Oe=i[Q],Ae=e?e(Oe):Oe;O(new Rc(Ae,Oe.node,G,null,Se))},O=function(F){g?(g.left=F,g=F):(w=F,g=F)};for(let F=0;F<p.count;++F){const G=p.nextBitIsOne(),Q=Math.pow(2,p.count-(F+1));G?S(Q,Rc.BLACK):(S(Q,Rc.BLACK),S(Q,Rc.RED))}return w}(new ey(i.length));return new Ms(r||n,h)};let fg;const Nd={};class Pc{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,j.hu)(Nd&&Si,"ChildrenNode.ts has not been loaded"),fg=fg||new Pc({".priority":Nd},{".priority":Si}),fg}get(n){const e=(0,j.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Ms?e:null}hasIndex(n){return(0,j.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,j.hu)(n!==Ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const s=e.getIterator(Pn.Wrap);let h,l=s.getNext();for(;l;)o=o||n.isDefinedOn(l.node),r.push(l),l=s.getNext();h=o?Iw(r,n.getCompare()):Nd;const p=n.toString(),g=Object.assign({},this.indexSet_);g[p]=n;const w=Object.assign({},this.indexes_);return w[p]=h,new Pc(w,g)}addToIndexes(n,e){const r=(0,j.UI)(this.indexes_,(o,s)=>{const l=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(l,"Missing index implementation for "+s),o===Nd){if(l.isDefinedOn(n.node)){const h=[],p=e.getIterator(Pn.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&h.push(g),g=p.getNext();return h.push(n),Iw(h,l.getCompare())}return Nd}{const h=e.get(n.name);let p=o;return h&&(p=p.remove(new Pn(n.name,h))),p.insert(n,n.node)}});return new Pc(r,this.indexSet_)}removeFromIndexes(n,e){const r=(0,j.UI)(this.indexes_,o=>{if(o===Nd)return o;{const s=e.get(n.name);return s?o.remove(new Pn(n.name,s)):o}});return new Pc(r,this.indexSet_)}}let pg,bn=(()=>{class i{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Yv(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pg||(pg=new i(new Ms(hI),null,Pc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pg}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?pg:r}}getChild(e){const r=In(e);return null===r?this:this.getImmediateChild(r).getChild(Ei(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new Pn(e,r);let s,l;r.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(o,this.children_)):(s=this.children_.insert(e,r),l=this.indexMap_.addToIndexes(o,this.children_));const h=s.isEmpty()?pg:this.priorityNode_;return new i(s,h,l)}}updateChild(e,r){const o=In(e);if(null===o)return r;{(0,j.hu)(".priority"!==In(e)||1===Pd(e),".priority must be the last token in a path");const s=this.getImmediateChild(o).updateChild(Ei(e),r);return this.updateImmediateChild(o,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,s=0,l=!0;if(this.forEachChild(Si,(h,p)=>{r[h]=p.val(e),o++,l&&i.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!e&&l&&s<2*o){const h=[];for(const p in r)h[p]=r[p];return h}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pI(this.getPriority().val())+":"),this.forEachChild(Si,(r,o)=>{const s=o.hash();""!==s&&(e+=":"+r+":"+s)}),this.lazyHash_=""===e?"":ow(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const s=this.resolveIndex_(o);if(s){const l=s.getPredecessorKey(new Pn(e,r));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Pn(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Pn(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Pn.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Pn.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rp?-1:0}withIndex(e){if(e===Ka||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ka||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(Si),s=r.getIterator(Si);let l=o.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=o.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(e){return e===Ka?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const rp=new class mI extends bn{constructor(){super(new Ms(hI),bn.EMPTY_NODE,Pc.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return bn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pn,{MIN:{value:new Pn(kl,bn.EMPTY_NODE)},MAX:{value:new Pn(Ya,rp)}}),uI.__EMPTY_NODE=bn.EMPTY_NODE,Oc.__childrenNodeConstructor=bn,function Zv(i){fI=i}(rp),function Jv(i){Xv=i}(rp);const H1=!0;function gr(i,n=null){if(null===i)return bn.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(n=i[".priority"]),(0,j.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Oc(i,gr(n));if(i instanceof Array||!H1){let e=bn.EMPTY_NODE;return Jr(i,(r,o)=>{if((0,j.r3)(i,r)&&"."!==r.substring(0,1)){const s=gr(o);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(r,s))}}),e.updatePriority(gr(n))}{const e=[];let r=!1;if(Jr(i,(l,h)=>{if("."!==l.substring(0,1)){const p=gr(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),e.push(new Pn(l,p)))}}),0===e.length)return bn.EMPTY_NODE;const s=Iw(e,U1,l=>l.name,hI);if(r){const l=Iw(e,Si.getCompare());return new bn(s,gr(n),new Pc({".priority":l},{".priority":Si}))}return new bn(s,gr(n),Pc.Default)}}!function ug(i){Qv=i}(gr);class gI extends np{constructor(n){super(),this.indexPath_=n,(0,j.hu)(!Cn(n)&&".priority"!==In(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const r=this.extractChild(n.node),o=this.extractChild(e.node),s=r.compareTo(o);return 0===s?Sc(n.name,e.name):s}makePost(n,e){const r=gr(n),o=bn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pn(e,o)}maxPost(){const n=bn.EMPTY_NODE.updateChild(this.indexPath_,rp);return new Pn(Ya,n)}toString(){return $v(this.indexPath_,0).join("/")}}const mg=new class z1 extends np{compare(n,e){const r=n.node.compareTo(e.node);return 0===r?Sc(n.name,e.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Pn.MIN}maxPost(){return Pn.MAX}makePost(n,e){const r=gr(n);return new Pn(e,r)}toString(){return".value"}};function ty(i){return{type:"value",snapshotNode:i}}function op(i,n){return{type:"child_added",snapshotNode:n,childName:i}}function sp(i,n){return{type:"child_removed",snapshotNode:n,childName:i}}function mh(i,n,e){return{type:"child_changed",snapshotNode:n,childName:i,oldSnap:e}}class kw{constructor(n){this.index_=n}updateChild(n,e,r,o,s,l){(0,j.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=n.getImmediateChild(e);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(null!=l&&(r.isEmpty()?n.hasChild(e)?l.trackChildChange(sp(e,h)):(0,j.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(op(e,r)):l.trackChildChange(mh(e,r,h))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(n,e,r){return null!=r&&(n.isLeafNode()||n.forEachChild(Si,(o,s)=>{e.hasChild(o)||r.trackChildChange(sp(o,s))}),e.isLeafNode()||e.forEachChild(Si,(o,s)=>{if(n.hasChild(o)){const l=n.getImmediateChild(o);l.equals(s)||r.trackChildChange(mh(o,s,l))}else r.trackChildChange(op(o,s))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?bn.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ap{constructor(n){this.indexedFilter_=new kw(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ap.getStartPost_(n),this.endPost_=ap.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&r}updateChild(n,e,r,o,s,l){return this.matches(new Pn(e,r))||(r=bn.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,r,o,s,l)}updateFullNode(n,e,r){e.isLeafNode()&&(e=bn.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(bn.EMPTY_NODE);const s=this;return e.forEachChild(Si,(l,h)=>{s.matches(new Pn(l,h))||(o=o.updateImmediateChild(l,bn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class j1{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=e=>{const r=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ap(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,r,o,s,l){return this.rangedFilter_.matches(new Pn(e,r))||(r=bn.EMPTY_NODE),n.getImmediateChild(e).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,r,o,s,l):this.fullLimitUpdateChild_(n,e,r,s,l)}updateFullNode(n,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=bn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;o=bn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;o=o.updateImmediateChild(h.name,h.node),l++}}}else{let s;o=e.withIndex(this.index_),o=o.updatePriority(bn.EMPTY_NODE),s=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let l=0;for(;s.hasNext();){const h=s.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:o=o.updateImmediateChild(h.name,bn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,r,o,s){let l;if(this.reverse_){const E=this.index_.getCompare();l=(S,O)=>E(O,S)}else l=this.index_.getCompare();const h=n;(0,j.hu)(h.numChildren()===this.limit_,"");const p=new Pn(e,r),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(h.hasChild(e)){const E=h.getImmediateChild(e);let S=o.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=S&&(S.name===e||h.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const O=null==S?1:l(S,p);if(w&&!r.isEmpty()&&O>=0)return s?.trackChildChange(mh(e,r,E)),h.updateImmediateChild(e,r);{s?.trackChildChange(sp(e,E));const G=h.updateImmediateChild(e,bn.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(s?.trackChildChange(op(S.name,S.node)),G.updateImmediateChild(S.name,S.node)):G}}return r.isEmpty()?n:w&&l(g,p)>=0?(null!=s&&(s.trackChildChange(sp(g.name,g.node)),s.trackChildChange(op(e,r))),h.updateImmediateChild(e,r).updateImmediateChild(g.name,bn.EMPTY_NODE)):n}}class gg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Si}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:kl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ya}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Si}copy(){const n=new gg;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Tw(i,n,e){const r=i.copy();return r.startSet_=!0,void 0===n&&(n=null),r.indexStartValue_=n,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function gh(i,n,e){const r=i.copy();return r.endSet_=!0,void 0===n&&(n=null),r.indexEndValue_=n,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function vg(i,n){const e=i.copy();return e.index_=n,e}function _I(i){const n={};if(i.isDefault())return n;let e;if(i.index_===Si?e="$priority":i.index_===mg?e="$value":i.index_===Ka?e="$key":((0,j.hu)(i.index_ instanceof gI,"Unrecognized index type!"),e=i.index_.toString()),n.orderBy=(0,j.Wl)(e),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";n[r]=(0,j.Wl)(i.indexStartValue_),i.startNameSet_&&(n[r]+=","+(0,j.Wl)(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";n[r]=(0,j.Wl)(i.indexEndValue_),i.endNameSet_&&(n[r]+=","+(0,j.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?n.limitToFirst=i.limit_:n.limitToLast=i.limit_),n}function vI(i){const n={};if(i.startSet_&&(n.sp=i.indexStartValue_,i.startNameSet_&&(n.sn=i.indexStartName_),n.sin=!i.startAfterSet_),i.endSet_&&(n.ep=i.indexEndValue_,i.endNameSet_&&(n.en=i.indexEndName_),n.ein=!i.endBeforeSet_),i.limitSet_){n.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),n.vf=e}return i.index_!==Si&&(n.i=i.index_.toString()),n}class iy extends F1{constructor(n,e,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Kf("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,j.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,r,o){const s=n._path.toString();this.log_("Listen called for "+s+" "+n._queryIdentifier);const l=iy.getListenId_(n,r),h={};this.listens_[l]=h;const p=_I(n._queryParams);this.restRequest_(s+".json",p,(g,w)=>{let E=w;if(404===g&&(E=null,g=null),null===g&&this.onDataUpdate_(s,E,!1,r),(0,j.DV)(this.listens_,l)===h){let S;S=g?401===g?"permission_denied":"rest_error:"+g:"ok",o(S,null)}})}unlisten(n,e){const r=iy.getListenId_(n,e);delete this.listens_[r]}get(n){const e=_I(n._queryParams),r=n._path.toString(),o=new j.BH;return this.restRequest_(r+".json",e,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(n){}restRequest_(n,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,s])=>{o&&o.accessToken&&(e.auth=o.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,j.xO)(e);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,j.cI)(h.responseText)}catch{po("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&po("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class yI{constructor(){this.rootNode_=bn.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function yg(){return{value:null,children:new Map}}function Fd(i,n,e){if(Cn(n))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(n,e);else{const r=In(n);i.children.has(r)||i.children.set(r,yg()),Fd(i.children.get(r),n=Ei(n),e)}}function _h(i,n){if(Cn(n))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Si,(r,o)=>{Fd(i,new ii(r),o)}),_h(i,n)}}if(i.children.size>0){const e=In(n);return n=Ei(n),i.children.has(e)&&_h(i.children.get(e),n)&&i.children.delete(e),0===i.children.size}return!0}function ry(i,n,e){null!==i.value?e(n,i.value):function sB(i,n){i.children.forEach((e,r)=>{n(r,e)})}(i,(r,o)=>{ry(o,new ii(n.toString()+"/"+r),e)})}class Sw{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Jr(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=n,e}}class wI{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Sw(n);const r=1e4+2e4*Math.random();Lv(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),e={};let r=!1;Jr(n,(o,s)=>{s>0&&(0,j.r3)(this.statsToReport_,o)&&(e[o]=s,r=!0)}),r&&this.server_.reportStats(e),Lv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qr=(()=>((qr=qr||{})[qr.OVERWRITE=0]="OVERWRITE",qr[qr.MERGE=1]="MERGE",qr[qr.ACK_USER_WRITE=2]="ACK_USER_WRITE",qr[qr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",qr))();function Rw(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class sy{constructor(n,e,r){this.path=n,this.affectedTree=e,this.revert=r,this.type=qr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Cn(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ii(n));return new sy(jn(),e,this.revert)}}return(0,j.hu)(In(this.path)===n,"operationForChild called for unrelated child."),new sy(Ei(this.path),this.affectedTree,this.revert)}}class lp{constructor(n,e){this.source=n,this.path=e,this.type=qr.LISTEN_COMPLETE}operationForChild(n){return Cn(this.path)?new lp(this.source,jn()):new lp(this.source,Ei(this.path))}}class Ld{constructor(n,e,r){this.source=n,this.path=e,this.snap=r,this.type=qr.OVERWRITE}operationForChild(n){return Cn(this.path)?new Ld(this.source,jn(),this.snap.getImmediateChild(n)):new Ld(this.source,Ei(this.path),this.snap)}}class Qa{constructor(n,e,r){this.source=n,this.path=e,this.children=r,this.type=qr.MERGE}operationForChild(n){if(Cn(this.path)){const e=this.children.subtree(new ii(n));return e.isEmpty()?null:e.value?new Ld(this.source,jn(),e.value):new Qa(this.source,jn(),e)}return(0,j.hu)(In(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Qa(this.source,Ei(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $o{constructor(n,e,r){this.node_=n,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Cn(n))return this.isFullyInitialized()&&!this.filtered_;const e=In(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class xI{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function bg(i,n,e,r,o,s){const l=r.filter(h=>h.type===e);l.sort((h,p)=>function lB(i,n,e){if(null==n.childName||null==e.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new Pn(n.childName,n.snapshotNode),o=new Pn(e.childName,e.snapshotNode);return i.index_.compare(r,o)}(i,h,p)),l.forEach(h=>{const p=function cB(i,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,i.index_)),n}(i,h,s);o.forEach(g=>{g.respondsTo(h.type)&&n.push(g.createEvent(p,i.query_))})})}function wg(i,n){return{eventCache:i,serverCache:n}}function dp(i,n,e,r){return wg(new $o(n,e,r),i.serverCache)}function q1(i,n,e,r){return wg(i.eventCache,new $o(n,e,r))}function xg(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Nc(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let ay;class Ai{constructor(n,e=(()=>(ay||(ay=new Ms(HD)),ay))()){this.value=n,this.children=e}static fromObject(n){let e=new Ai(null);return Jr(n,(r,o)=>{e=e.set(new ii(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:jn(),value:this.value};if(Cn(n))return null;{const r=In(n),o=this.children.get(r);if(null!==o){const s=o.findRootMostMatchingPathAndValue(Ei(n),e);return null!=s?{path:or(new ii(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Cn(n))return this;{const e=In(n),r=this.children.get(e);return null!==r?r.subtree(Ei(n)):new Ai(null)}}set(n,e){if(Cn(n))return new Ai(e,this.children);{const r=In(n),s=(this.children.get(r)||new Ai(null)).set(Ei(n),e),l=this.children.insert(r,s);return new Ai(this.value,l)}}remove(n){if(Cn(n))return this.children.isEmpty()?new Ai(null):new Ai(null,this.children);{const e=In(n),r=this.children.get(e);if(r){const o=r.remove(Ei(n));let s;return s=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&s.isEmpty()?new Ai(null):new Ai(this.value,s)}return this}}get(n){if(Cn(n))return this.value;{const e=In(n),r=this.children.get(e);return r?r.get(Ei(n)):null}}setTree(n,e){if(Cn(n))return e;{const r=In(n),s=(this.children.get(r)||new Ai(null)).setTree(Ei(n),e);let l;return l=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ai(this.value,l)}}fold(n){return this.fold_(jn(),n)}fold_(n,e){const r={};return this.children.inorderTraversal((o,s)=>{r[o]=s.fold_(or(n,o),e)}),e(n,this.value,r)}findOnPath(n,e){return this.findOnPath_(n,jn(),e)}findOnPath_(n,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(Cn(n))return null;{const s=In(n),l=this.children.get(s);return l?l.findOnPath_(Ei(n),or(e,s),r):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,jn(),e)}foreachOnPath_(n,e,r){if(Cn(n))return this;{this.value&&r(e,this.value);const o=In(n),s=this.children.get(o);return s?s.foreachOnPath_(Ei(n),or(e,o),r):new Ai(null)}}foreach(n){this.foreach_(jn(),n)}foreach_(n,e){this.children.inorderTraversal((r,o)=>{o.foreach_(or(n,r),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,r)=>{r.value&&n(e,r.value)})}}class Kt{constructor(n){this.writeTree_=n}static empty(){return new Kt(new Ai(null))}}function up(i,n,e){if(Cn(n))return new Kt(new Ai(e));{const r=i.writeTree_.findRootMostValueAndPath(n);if(null!=r){const o=r.path;let s=r.value;const l=jo(o,n);return s=s.updateChild(l,e),new Kt(i.writeTree_.set(o,s))}{const o=new Ai(e),s=i.writeTree_.setTree(n,o);return new Kt(s)}}}function cy(i,n,e){let r=i;return Jr(e,(o,s)=>{r=up(r,or(n,o),s)}),r}function W1(i,n){if(Cn(n))return Kt.empty();{const e=i.writeTree_.setTree(n,new Ai(null));return new Kt(e)}}function Ow(i,n){return null!=Bd(i,n)}function Bd(i,n){const e=i.writeTree_.findRootMostValueAndPath(n);return null!=e?i.writeTree_.get(e.path).getChild(jo(e.path,n)):null}function EI(i){const n=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Si,(r,o)=>{n.push(new Pn(r,o))}):i.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&n.push(new Pn(r,o.value))}),n}function Vd(i,n){if(Cn(n))return i;{const e=Bd(i,n);return new Kt(null!=e?new Ai(e):i.writeTree_.subtree(n))}}function ly(i){return i.writeTree_.isEmpty()}function hp(i,n){return Pw(jn(),i.writeTree_,n)}function Pw(i,n,e){if(null!=n.value)return e.updateChild(i,n.value);{let r=null;return n.children.inorderTraversal((o,s)=>{".priority"===o?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):e=Pw(or(i,o),s,e)}),!e.getChild(i).isEmpty()&&null!==r&&(e=e.updateChild(or(i,".priority"),r)),e}}function dy(i,n){return AI(n,i)}function Ud(i,n){if(i.snap)return wa(i.path,n);for(const e in i.children)if(i.children.hasOwnProperty(e)&&wa(or(i.path,e),n))return!0;return!1}function kI(i){return i.visible}function TI(i,n,e){let r=Kt.empty();for(let o=0;o<i.length;++o){const s=i[o];if(n(s)){const l=s.path;let h;if(s.snap)wa(e,l)?(h=jo(e,l),r=up(r,h,s.snap)):wa(l,e)&&(h=jo(l,e),r=up(r,jn(),s.snap.getChild(h)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(wa(e,l))h=jo(e,l),r=cy(r,h,s.children);else if(wa(l,e))if(h=jo(l,e),Cn(h))r=cy(r,jn(),s.children);else{const p=(0,j.DV)(s.children,In(h));if(p){const g=p.getChild(Ei(h));r=up(r,jn(),g)}}}}}return r}function Cg(i,n,e,r,o){if(r||o){const s=Vd(i.visibleWrites,n);return!o&&ly(s)?e:o||null!=e||Ow(s,jn())?hp(TI(i.allWrites,function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(wa(g.path,n)||wa(n,g.path))},n),e||bn.EMPTY_NODE):null}{const s=Bd(i.visibleWrites,n);if(null!=s)return s;{const l=Vd(i.visibleWrites,n);return ly(l)?e:null!=e||Ow(l,jn())?hp(l,e||bn.EMPTY_NODE):null}}}function mp(i,n,e,r){return Cg(i.writeTree,i.treePath,n,e,r)}function uy(i,n){return function pp(i,n,e){let r=bn.EMPTY_NODE;const o=Bd(i.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Si,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(e){const s=Vd(i.visibleWrites,n);return e.forEachChild(Si,(l,h)=>{const p=hp(Vd(s,new ii(l)),h);r=r.updateImmediateChild(l,p)}),EI(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return EI(Vd(i.visibleWrites,n)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(i.writeTree,i.treePath,n)}function hy(i,n,e,r){return function Nw(i,n,e,r,o){(0,j.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const s=or(n,e);if(Ow(i.visibleWrites,s))return null;{const l=Vd(i.visibleWrites,s);return ly(l)?o.getChild(e):hp(l,o.getChild(e))}}(i.writeTree,i.treePath,n,e,r)}function fy(i,n){return function SI(i,n){return Bd(i.visibleWrites,n)}(i.writeTree,or(i.treePath,n))}function Bw(i,n,e){return function Eg(i,n,e,r){const o=or(n,e),s=Bd(i.visibleWrites,o);return null!=s?s:r.isCompleteForChild(e)?hp(Vd(i.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,n,e)}function Vw(i,n){return AI(or(i.treePath,n),i.writeTree)}function AI(i,n){return{treePath:i,writeTree:n}}class K1{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,r=n.childName;(0,j.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const s=o.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(r,mh(r,n.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(r,sp(r,o.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(r,op(r,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(r,mh(r,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}const MI=new class Q1{getCompleteChild(n){return null}getChildAfterChild(n,e,r){return null}};class py{constructor(n,e,r=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const r=null!=this.optCompleteServerCache_?new $o(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bw(this.writes_,n,r)}}getChildAfterChild(n,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nc(this.viewCache_),s=function Y1(i,n,e,r,o,s){return function Fw(i,n,e,r,o,s,l){let h;const p=Vd(i.visibleWrites,n),g=Bd(p,jn());if(null!=g)h=g;else{if(null==e)return[];h=hp(p,e)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const w=[],E=l.getCompare(),S=s?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let O=S.getNext();for(;O&&w.length<o;)0!==E(O,r)&&w.push(O),O=S.getNext();return w}}(i.writeTree,i.treePath,n,e,r,o,s)}(this.writes_,o,e,1,r,n);return 0===s.length?null:s[0]}}function OI(i,n,e,r,o,s){const l=n.eventCache;if(null!=fy(r,e))return n;{let h,p;if(Cn(e))if((0,j.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Nc(n),E=uy(r,g instanceof bn?g:bn.EMPTY_NODE);h=i.filter.updateFullNode(n.eventCache.getNode(),E,s)}else{const g=mp(r,Nc(n));h=i.filter.updateFullNode(n.eventCache.getNode(),g,s)}else{const g=In(e);if(".priority"===g){(0,j.hu)(1===Pd(e),"Can't have a priority with additional path components");const w=l.getNode();p=n.serverCache.getNode();const E=hy(r,e,w,p);h=null!=E?i.filter.updatePriority(w,E):l.getNode()}else{const w=Ei(e);let E;if(l.isCompleteForChild(g)){p=n.serverCache.getNode();const S=hy(r,e,l.getNode(),p);E=null!=S?l.getNode().getImmediateChild(g).updateChild(w,S):l.getNode().getImmediateChild(g)}else E=Bw(r,g,n.serverCache);h=null!=E?i.filter.updateChild(l.getNode(),g,E,w,o,s):l.getNode()}}return dp(n,h,l.isFullyInitialized()||Cn(e),i.filter.filtersNodes())}}function my(i,n,e,r,o,s,l,h){const p=n.serverCache;let g;const w=l?i.filter:i.filter.getIndexedFilter();if(Cn(e))g=w.updateFullNode(p.getNode(),r,null);else if(w.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(e,r);g=w.updateFullNode(p.getNode(),O,null)}else{const O=In(e);if(!p.isCompleteForPath(e)&&Pd(e)>1)return n;const F=Ei(e),Q=p.getNode().getImmediateChild(O).updateChild(F,r);g=".priority"===O?w.updatePriority(p.getNode(),Q):w.updateChild(p.getNode(),O,Q,F,MI,null)}const E=q1(n,g,p.isFullyInitialized()||Cn(e),w.filtersNodes());return OI(i,E,e,o,new py(o,E,s),h)}function PI(i,n,e,r,o,s,l){const h=n.eventCache;let p,g;const w=new py(o,n,s);if(Cn(e))g=i.filter.updateFullNode(n.eventCache.getNode(),r,l),p=dp(n,g,!0,i.filter.filtersNodes());else{const E=In(e);if(".priority"===E)g=i.filter.updatePriority(n.eventCache.getNode(),r),p=dp(n,g,h.isFullyInitialized(),h.isFiltered());else{const S=Ei(e),O=h.getNode().getImmediateChild(E);let F;if(Cn(S))F=r;else{const G=w.getCompleteChild(E);F=null!=G?".priority"===jv(S)&&G.getChild(Gv(S)).isEmpty()?G:G.updateChild(S,r):bn.EMPTY_NODE}p=O.equals(F)?n:dp(n,i.filter.updateChild(h.getNode(),E,F,S,w,l),h.isFullyInitialized(),i.filter.filtersNodes())}}return p}function gy(i,n){return i.eventCache.isCompleteForChild(n)}function FI(i,n,e){return e.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function Uw(i,n,e,r,o,s,l,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g,p=n;g=Cn(e)?r:new Ai(null).setTree(e,r);const w=n.serverCache.getNode();return g.children.inorderTraversal((E,S)=>{if(w.hasChild(E)){const F=FI(0,n.serverCache.getNode().getImmediateChild(E),S);p=my(i,p,new ii(E),F,o,s,l,h)}}),g.children.inorderTraversal((E,S)=>{const O=!n.serverCache.isCompleteForChild(E)&&null===S.value;if(!w.hasChild(E)&&!O){const G=FI(0,n.serverCache.getNode().getImmediateChild(E),S);p=my(i,p,new ii(E),G,o,s,l,h)}}),p}class nR{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new kw(r.getIndex()),s=function oB(i){return i.loadsAllData()?new kw(i.getIndex()):i.hasLimit()?new j1(i):new ap(i)}(r);this.processor_=function RI(i){return{filter:i}}(s);const l=e.serverCache,h=e.eventCache,p=o.updateFullNode(bn.EMPTY_NODE,l.getNode(),null),g=s.updateFullNode(bn.EMPTY_NODE,h.getNode(),null),w=new $o(p,l.isFullyInitialized(),o.filtersNodes()),E=new $o(g,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=wg(E,w),this.eventGenerator_=new xI(this.query_)}get query(){return this.query_}}function rR(i,n){const e=Nc(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Cn(n)&&!e.getImmediateChild(In(n)).isEmpty())?e.getChild(n):null}function BI(i){return 0===i.eventRegistrations_.length}function VI(i,n,e){const r=[];if(e){(0,j.hu)(null==n,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(e,o);l&&r.push(l)})}if(n){let o=[];for(let s=0;s<i.eventRegistrations_.length;++s){const l=i.eventRegistrations_[s];if(l.matches(n)){if(n.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(s+1));break}}else o.push(l)}i.eventRegistrations_=o}else i.eventRegistrations_=[];return r}function Xa(i,n,e,r){n.type===qr.MERGE&&null!==n.source.queryId&&((0,j.hu)(Nc(i.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(xg(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,s=function J1(i,n,e,r,o){const s=new K1;let l,h;if(e.type===qr.OVERWRITE){const g=e;g.source.fromUser?l=PI(i,n,g.path,g.snap,r,o,s):((0,j.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||n.serverCache.isFiltered()&&!Cn(g.path),l=my(i,n,g.path,g.snap,r,o,h,s))}else if(e.type===qr.MERGE){const g=e;g.source.fromUser?l=function NI(i,n,e,r,o,s,l){let h=n;return r.foreach((p,g)=>{const w=or(e,p);gy(n,In(w))&&(h=PI(i,h,w,g,o,s,l))}),r.foreach((p,g)=>{const w=or(e,p);gy(n,In(w))||(h=PI(i,h,w,g,o,s,l))}),h}(i,n,g.path,g.children,r,o,s):((0,j.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||n.serverCache.isFiltered(),l=Uw(i,n,g.path,g.children,r,o,h,s))}else if(e.type===qr.ACK_USER_WRITE){const g=e;l=g.revert?function tR(i,n,e,r,o,s){let l;if(null!=fy(r,e))return n;{const h=new py(r,n,o),p=n.eventCache.getNode();let g;if(Cn(e)||".priority"===In(e)){let w;if(n.serverCache.isFullyInitialized())w=mp(r,Nc(n));else{const E=n.serverCache.getNode();(0,j.hu)(E instanceof bn,"serverChildren would be complete if leaf node"),w=uy(r,E)}g=i.filter.updateFullNode(p,w,s)}else{const w=In(e);let E=Bw(r,w,n.serverCache);null==E&&n.serverCache.isCompleteForChild(w)&&(E=p.getImmediateChild(w)),g=null!=E?i.filter.updateChild(p,w,E,Ei(e),h,s):n.eventCache.getNode().hasChild(w)?i.filter.updateChild(p,w,bn.EMPTY_NODE,Ei(e),h,s):p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(l=mp(r,Nc(n)),l.isLeafNode()&&(g=i.filter.updateFullNode(g,l,s)))}return l=n.serverCache.isFullyInitialized()||null!=fy(r,jn()),dp(n,g,l,i.filter.filtersNodes())}}(i,n,g.path,r,o,s):function eR(i,n,e,r,o,s,l){if(null!=fy(o,e))return n;const h=n.serverCache.isFiltered(),p=n.serverCache;if(null!=r.value){if(Cn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return my(i,n,e,p.getNode().getChild(e),o,s,h,l);if(Cn(e)){let g=new Ai(null);return p.getNode().forEachChild(Ka,(w,E)=>{g=g.set(new ii(w),E)}),Uw(i,n,e,g,o,s,h,l)}return n}{let g=new Ai(null);return r.foreach((w,E)=>{const S=or(e,w);p.isCompleteForPath(S)&&(g=g.set(w,p.getNode().getChild(S)))}),Uw(i,n,e,g,o,s,h,l)}}(i,n,g.path,g.affectedTree,r,o,s)}else{if(e.type!==qr.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+e.type);l=function LI(i,n,e,r,o){const s=n.serverCache;return OI(i,q1(n,s.getNode(),s.isFullyInitialized()||Cn(e),s.isFiltered()),e,r,MI,o)}(i,n,e.path,r,s)}const p=s.getChanges();return function qs(i,n,e){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=xg(i);(e.length>0||!i.eventCache.isFullyInitialized()||o&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&e.push(ty(xg(n)))}}(n,l,p),{viewCache:l,changes:p}}(i.processor_,o,n,e,r);return function X1(i,n){(0,j.hu)(n.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(n.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=s.viewCache,UI(i,s.changes,s.viewCache.eventCache.getNode(),null)}function UI(i,n,e,r){return function aB(i,n,e,r){const o=[],s=[];return n.forEach(l=>{"child_changed"===l.type&&i.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function ny(i,n){return{type:"child_moved",snapshotNode:n,childName:i}}(l.childName,l.snapshotNode))}),bg(i,o,"child_removed",n,r,e),bg(i,o,"child_added",n,r,e),bg(i,o,"child_moved",s,r,e),bg(i,o,"child_changed",n,r,e),bg(i,o,"value",n,r,e),o}(i.eventGenerator_,n,e,r?[r]:i.eventRegistrations_)}let Dg,gp;class HI{constructor(){this.views=new Map}}function Ig(i,n,e,r){const o=n.source.queryId;if(null!==o){const s=i.views.get(o);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Xa(s,n,e,r)}{let s=[];for(const l of i.views.values())s=s.concat(Xa(l,n,e,r));return s}}function sR(i,n,e,r,o){const l=i.views.get(n._queryIdentifier);if(!l){let h=mp(e,o?r:null),p=!1;h?p=!0:r instanceof bn?(h=uy(e,r),p=!1):(h=bn.EMPTY_NODE,p=!1);const g=wg(new $o(h,p,!1),new $o(r,o,!1));return new nR(n,g)}return l}function jw(i){const n=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Ml(i,n){let e=null;for(const r of i.views.values())e=e||rR(r,n);return e}function vy(i,n){return n._queryParams.loadsAllData()?yy(i):i.views.get(n._queryIdentifier)}function Fc(i,n){return null!=vy(i,n)}function Hd(i){return null!=yy(i)}function yy(i){for(const n of i.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let lR=1;class dR{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ai(null),this.pendingWriteTree_=function Lw(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function by(i,n,e,r,o){return function Z1(i,n,e,r,o){(0,j.hu)(r>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),i.allWrites.push({path:n,snap:e,writeId:r,visible:o}),o&&(i.visibleWrites=up(i.visibleWrites,n,e)),i.lastWriteId=r}(i.pendingWriteTree_,n,e,r,o),o?Lc(i,new Ld({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function Ja(i,n,e=!1){const r=function DI(i,n){for(let e=0;e<i.allWrites.length;e++){const r=i.allWrites[e];if(r.writeId===n)return r}return null}(i.pendingWriteTree_,n);if(function II(i,n){const e=i.allWrites.findIndex(h=>h.writeId===n);(0,j.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[e];i.allWrites.splice(e,1);let o=r.visible,s=!1,l=i.allWrites.length-1;for(;o&&l>=0;){const h=i.allWrites[l];h.visible&&(l>=e&&Ud(h,r.path)?o=!1:wa(r.path,h.path)&&(s=!0)),l--}return!!o&&(s?(function fp(i){i.visibleWrites=TI(i.allWrites,kI,jn()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(r.snap?i.visibleWrites=W1(i.visibleWrites,r.path):Jr(r.children,p=>{i.visibleWrites=W1(i.visibleWrites,or(r.path,p))}),!0))}(i.pendingWriteTree_,n)){let s=new Ai(null);return null!=r.snap?s=s.set(jn(),!0):Jr(r.children,l=>{s=s.set(new ii(l),!0)}),Lc(i,new sy(r.path,s,e))}return[]}function Rl(i,n,e){return Lc(i,new Ld({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function kg(i,n,e,r,o=!1){const s=n._path,l=i.syncPointTree_.get(s);let h=[];if(l&&("default"===n._queryIdentifier||Fc(l,n))){const p=function GI(i,n,e,r){const o=n._queryIdentifier,s=[];let l=[];const h=Hd(i);if("default"===o)for(const[p,g]of i.views.entries())l=l.concat(VI(g,e,r)),BI(g)&&(i.views.delete(p),g.query._queryParams.loadsAllData()||s.push(g.query));else{const p=i.views.get(o);p&&(l=l.concat(VI(p,e,r)),BI(p)&&(i.views.delete(o),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!Hd(i)&&s.push(new(function jI(){return(0,j.hu)(Dg,"Reference.ts has not been loaded"),Dg}())(n._repo,n._path)),{removed:s,events:l}}(l,n,e,r);(function _y(i){return 0===i.views.size})(l)&&(i.syncPointTree_=i.syncPointTree_.remove(s));const g=p.removed;if(h=p.events,!o){const w=-1!==g.findIndex(S=>S._queryParams.loadsAllData()),E=i.syncPointTree_.findOnPath(s,(S,O)=>Hd(O));if(w&&!E){const S=i.syncPointTree_.subtree(s);if(!S.isEmpty()){const O=function pR(i){return i.fold((n,e,r)=>{if(e&&Hd(e))return[yy(e)];{let o=[];return e&&(o=jw(e)),Jr(r,(s,l)=>{o=o.concat(l)}),o}})}(S);for(let F=0;F<O.length;++F){const G=O[F],Q=G.query,ve=Ww(i,G);i.listenProvider_.startListening(Ag(Q),Sg(i,Q),ve.hashFn,ve.onComplete)}}}!E&&g.length>0&&!r&&(w?i.listenProvider_.stopListening(Ag(n),null):g.forEach(S=>{const O=i.queryToTagMap.get(xy(S));i.listenProvider_.stopListening(Ag(S),O)}))}!function mR(i,n){for(let e=0;e<n.length;++e){const r=n[e];if(!r._queryParams.loadsAllData()){const o=xy(r),s=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(s)}}}(i,g)}return h}function $w(i,n,e,r){const o=yh(i,r);if(null!=o){const s=Zw(o),l=s.path,h=s.queryId,p=jo(l,n);return ZI(i,l,new Ld(Rw(h),p,e))}return[]}function Gw(i,n,e,r=!1){const o=n._path;let s=null,l=!1;i.syncPointTree_.foreachOnPath(o,(S,O)=>{const F=jo(S,o);s=s||Ml(O,F),l=l||Hd(O)});let p,h=i.syncPointTree_.get(o);h?(l=l||Hd(h),s=s||Ml(h,jn())):(h=new HI,i.syncPointTree_=i.syncPointTree_.set(o,h)),null!=s?p=!0:(p=!1,s=bn.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((O,F)=>{const G=Ml(F,jn());G&&(s=s.updateImmediateChild(O,G))}));const g=Fc(h,n);if(!g&&!n._queryParams.loadsAllData()){const S=xy(n);(0,j.hu)(!i.queryToTagMap.has(S),"View does not exist, but we have a tag");const O=function gR(){return lR++}();i.queryToTagMap.set(S,O),i.tagToQueryMap.set(O,S)}let E=function $I(i,n,e,r,o,s){const l=sR(i,n,r,o,s);return i.views.has(n._queryIdentifier)||i.views.set(n._queryIdentifier,l),function oR(i,n){i.eventRegistrations_.push(n)}(l,e),function zw(i,n){const e=i.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Si,(s,l)=>{r.push(op(s,l))}),e.isFullyInitialized()&&r.push(ty(e.getNode())),UI(i,r,e.getNode(),n)}(l,e)}(h,n,e,dy(i.pendingWriteTree_,o),s,p);if(!g&&!l&&!r){const S=vy(h,n);E=E.concat(function _R(i,n,e){const r=n._path,o=Sg(i,n),s=Ww(i,e),l=i.listenProvider_.startListening(Ag(n),o,s.hashFn,s.onComplete),h=i.syncPointTree_.subtree(r);if(o)(0,j.hu)(!Hd(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,w,E)=>{if(!Cn(g)&&w&&Hd(w))return[yy(w).query];{let S=[];return w&&(S=S.concat(jw(w).map(O=>O.query))),Jr(E,(O,F)=>{S=S.concat(F)}),S}});for(let g=0;g<p.length;++g){const w=p[g];i.listenProvider_.stopListening(Ag(w),Sg(i,w))}}return l}(i,n,S))}return E}function Tg(i,n,e){const o=i.pendingWriteTree_,s=i.syncPointTree_.findOnPath(n,(l,h)=>{const g=Ml(h,jo(l,n));if(g)return g});return Cg(o,n,s,e,!0)}function Lc(i,n){return WI(n,i.syncPointTree_,null,dy(i.pendingWriteTree_,jn()))}function WI(i,n,e,r){if(Cn(i.path))return qw(i,n,e,r);{const o=n.get(jn());null==e&&null!=o&&(e=Ml(o,jn()));let s=[];const l=In(i.path),h=i.operationForChild(l),p=n.children.get(l);if(p&&h){const g=e?e.getImmediateChild(l):null,w=Vw(r,l);s=s.concat(WI(h,p,g,w))}return o&&(s=s.concat(Ig(o,i,r,e))),s}}function qw(i,n,e,r){const o=n.get(jn());null==e&&null!=o&&(e=Ml(o,jn()));let s=[];return n.children.inorderTraversal((l,h)=>{const p=e?e.getImmediateChild(l):null,g=Vw(r,l),w=i.operationForChild(l);w&&(s=s.concat(qw(w,h,p,g)))}),o&&(s=s.concat(Ig(o,i,r,e))),s}function Ww(i,n){const e=n.query,r=Sg(i,e);return{hashFn:()=>(function Hw(i){return i.viewCache_.serverCache.getNode()}(n)||bn.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function hR(i,n,e){const r=yh(i,e);if(r){const o=Zw(r),s=o.path,l=o.queryId,h=jo(s,n);return ZI(i,s,new lp(Rw(l),h))}return[]}(i,e._path,r):function uB(i,n){return Lc(i,new lp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(i,e._path);{const s=function $D(i,n){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const r=new Error(i+" at "+n._path.toString()+": "+e);return r.code=i.toUpperCase(),r}(o,e);return kg(i,e,null,s)}}}}function Sg(i,n){const e=xy(n);return i.queryToTagMap.get(e)}function xy(i){return i._path.toString()+"$"+i._queryIdentifier}function yh(i,n){return i.tagToQueryMap.get(n)}function Zw(i){const n=i.indexOf("$");return(0,j.hu)(-1!==n&&n<i.length-1,"Bad queryKey."),{queryId:i.substr(n+1),path:new ii(i.substr(0,n))}}function ZI(i,n,e){const r=i.syncPointTree_.get(n);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),Ig(r,e,dy(i.pendingWriteTree_,n),null)}function Ag(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function cR(){return(0,j.hu)(gp,"Reference.ts has not been loaded"),gp}())(i._repo,i._path):i}class Yw{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new Yw(e)}node(){return this.node_}}class Kw{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=or(this.path_,n);return new Kw(this.syncTree_,e)}node(){return Tg(this.syncTree_,this.path_)}}const YI=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},Cy=function(i,n,e){return i&&"object"==typeof i?((0,j.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?vR(i[".sv"],n,e):"object"==typeof i[".sv"]?Ey(i[".sv"],n):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},vR=function(i,n,e){if("timestamp"===i)return e.timestamp;(0,j.hu)(!1,"Unexpected server value: "+i)},Ey=function(i,n,e){i.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const o=n.node();if((0,j.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const l=o.getValue();return"number"!=typeof l?r:l+r},KI=function(i,n,e,r){return Xw(n,new Kw(e,i),r)},Qw=function(i,n,e){return Xw(i,new Yw(n),e)};function Xw(i,n,e){const r=i.getPriority().val(),o=Cy(r,n.getImmediateChild(".priority"),e);let s;if(i.isLeafNode()){const l=i,h=Cy(l.getValue(),n,e);return h!==l.getValue()||o!==l.getPriority().val()?new Oc(h,gr(o)):i}{const l=i;return s=l,o!==l.getPriority().val()&&(s=s.updatePriority(new Oc(o))),l.forEachChild(Si,(h,p)=>{const g=Xw(p,n.getImmediateChild(h),e);g!==p&&(s=s.updateImmediateChild(h,g))}),s}}class Jw{constructor(n="",e=null,r={children:{},childCount:0}){this.name=n,this.parent=e,this.node=r}}function Dy(i,n){let e=n instanceof ii?n:new ii(n),r=i,o=In(e);for(;null!==o;){const s=(0,j.DV)(r.node.children,o)||{children:{},childCount:0};r=new Jw(o,r,s),e=Ei(e),o=In(e)}return r}function bh(i){return i.node.value}function ex(i,n){i.node.value=n,JI(i)}function tx(i){return i.node.childCount>0}function Iy(i,n){Jr(i.node.children,(e,r)=>{n(new Jw(e,i,r))})}function yR(i,n,e,r){e&&!r&&n(i),Iy(i,o=>{yR(o,n,!0,r)}),e&&r&&n(i)}function _p(i){return new ii(null===i.parent?i.name:_p(i.parent)+"/"+i.name)}function JI(i){null!==i.parent&&function ky(i,n,e){const r=function QI(i){return void 0===bh(i)&&!tx(i)}(e),o=(0,j.r3)(i.node.children,n);r&&o?(delete i.node.children[n],i.node.childCount--,JI(i)):!r&&!o&&(i.node.children[n]=e.node,i.node.childCount++,JI(i))}(i.parent,i.name,i)}const bR=/[\[\].#$\/\u0000-\u001F\u007F]/,wR=/[\[\].#$\u0000-\u001F\u007F]/,Mg=10485760,Ty=function(i){return"string"==typeof i&&0!==i.length&&!bR.test(i)},ec=function(i){return"string"==typeof i&&0!==i.length&&!wR.test(i)},Wr=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!ah(i)||i&&"object"==typeof i&&(0,j.r3)(i,".sv")},Go=function(i,n,e,r){r&&void 0===n||zd((0,j.gK)(i,"value"),n,e)},zd=function(i,n,e){const r=e instanceof ii?new Cw(e,i):e;if(void 0===n)throw new Error(i+"contains undefined "+Mc(r));if("function"==typeof n)throw new Error(i+"contains a function "+Mc(r)+" with contents = "+n.toString());if(ah(n))throw new Error(i+"contains "+n.toString()+" "+Mc(r));if("string"==typeof n&&n.length>Mg/3&&(0,j.ug)(n)>Mg)throw new Error(i+"contains a string greater than "+Mg+" utf8 bytes "+Mc(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,s=!1;if(Jr(n,(l,h)=>{if(".value"===l)o=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!Ty(l)))throw new Error(i+" contains an invalid key ("+l+") "+Mc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function qv(i,n){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(n),i.byteLength_+=(0,j.ug)(n),Wv(i)})(r,l),zd(i,h,r),function L1(i){const n=i.parts_.pop();i.byteLength_-=(0,j.ug)(n),i.parts_.length>0&&(i.byteLength_-=1)}(r)}),o&&s)throw new Error(i+' contains ".value" child '+Mc(r)+" in addition to actual children.")}},Sy=function(i,n,e,r){if(r&&void 0===n)return;const o=(0,j.gK)(i,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const s=[];Jr(n,(l,h)=>{const p=new ii(l);if(zd(o,h,or(e,p)),".priority"===jv(p)&&!Wr(h))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(i,n){let e,r;for(e=0;e<n.length;e++){r=n[e];const s=$v(r);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!Ty(s[l]))throw new Error(i+"contains an invalid key ("+s[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(aI);let o=null;for(e=0;e<n.length;e++){if(r=n[e],null!==o&&wa(o,r))throw new Error(i+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,s)},jd=function(i,n,e){if(!e||void 0!==n){if(ah(n))throw new Error((0,j.gK)(i,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wr(n))throw new Error((0,j.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Bc=function(i,n,e,r){if(!(r&&void 0===e||Ty(e)))throw new Error((0,j.gK)(i,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vc=function(i,n,e,r){if(!(r&&void 0===e||ec(e)))throw new Error((0,j.gK)(i,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vp=function(i,n,e,r){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vc(i,n,e,r)},Io=function(i,n){if(".info"===In(n))throw new Error(i+" failed = Can't modify data under /.info/")},wh=function(i,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ty(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ec(i)}(e))throw new Error((0,j.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class yp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ol(i,n){let e=null;for(let r=0;r<n.length;r++){const o=n[r],s=o.getPath();null!==e&&!Sl(s,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(o)}e&&i.eventLists_.push(e)}function xh(i,n,e){Ol(i,e),nx(i,r=>Sl(r,n))}function Rs(i,n,e){Ol(i,e),nx(i,r=>wa(r,n)||wa(n,r))}function nx(i,n){i.recursionDepth_++;let e=!0;for(let r=0;r<i.eventLists_.length;r++){const o=i.eventLists_[r];o&&(n(o.path)?(ek(i.eventLists_[r]),i.eventLists_[r]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function ek(i){for(let n=0;n<i.events.length;n++){const e=i.events[n];if(null!==e){i.events[n]=null;const r=e.getEventRunner();sh&&fo("event: "+e.toString()),Qf(r)}}}const ix="repo_interrupt",tk=25;class nk{constructor(n,e,r,o){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yg(),this.transactionQueueTree_=new Jw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rx(i){const e=i.infoData_.getNode(new ii(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function bp(i){return YI({timestamp:rx(i)})}function Ay(i,n,e,r,o){i.dataUpdateCount++;const s=new ii(n);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(n,e):e;let l=[];if(o)if(r){const p=(0,j.UI)(e,g=>gr(g));l=function fR(i,n,e,r){const o=yh(i,r);if(o){const s=Zw(o),l=s.path,h=s.queryId,p=jo(l,n),g=Ai.fromObject(e);return ZI(i,l,new Qa(Rw(h),p,g))}return[]}(i.serverSyncTree_,s,p,o)}else{const p=gr(e);l=$w(i.serverSyncTree_,s,p,o)}else if(r){const p=(0,j.UI)(e,g=>gr(g));l=function wy(i,n,e){const r=Ai.fromObject(e);return Lc(i,new Qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}(i.serverSyncTree_,s,p)}else{const p=gr(e);l=Rl(i.serverSyncTree_,s,p)}let h=s;l.length>0&&(h=wp(i,s)),Rs(i.eventQueue_,h,l)}function rk(i,n){ok(i,"connected",n),!1===n&&function fB(i){Uc(i,"onDisconnectEvents");const n=bp(i),e=yg();ry(i.onDisconnect_,jn(),(o,s)=>{const l=KI(o,s,i.serverSyncTree_,n);Fd(e,o,l)});let r=[];ry(e,jn(),(o,s)=>{r=r.concat(Rl(i.serverSyncTree_,o,s));const l=ax(i,o);wp(i,l)}),i.onDisconnect_=yg(),Rs(i.eventQueue_,jn(),r)}(i)}function ok(i,n,e){const r=new ii("/.info/"+n),o=gr(e);i.infoData_.updateSnapshot(r,o);const s=Rl(i.infoSyncTree_,r,o);Rs(i.eventQueue_,r,s)}function My(i){return i.nextWriteId_++}function sk(i,n,e,r,o){Uc(i,"set",{path:n.toString(),value:e,priority:r});const s=bp(i),l=gr(e,r),h=Tg(i.serverSyncTree_,n),p=Qw(l,h,s),g=My(i),w=by(i.serverSyncTree_,n,p,g,!0);Ol(i.eventQueue_,w),i.server_.put(n.toString(),l.val(!0),(S,O)=>{const F="ok"===S;F||po("set at "+n+" failed: "+S);const G=Ja(i.serverSyncTree_,g,!F);Rs(i.eventQueue_,n,G),Pl(0,o,S,O)});const E=ax(i,n);wp(i,E),Rs(i.eventQueue_,E,[])}function ER(i,n,e){i.server_.onDisconnectCancel(n.toString(),(r,o)=>{"ok"===r&&_h(i.onDisconnect_,n),Pl(0,e,r,o)})}function ak(i,n,e,r){const o=gr(e);i.server_.onDisconnectPut(n.toString(),o.val(!0),(s,l)=>{"ok"===s&&Fd(i.onDisconnect_,n,o),Pl(0,r,s,l)})}function Pg(i,n,e){let r;r=".info"===In(n._path)?kg(i.infoSyncTree_,n,e):kg(i.serverSyncTree_,n,e),xh(i.eventQueue_,n._path,r)}function Ng(i){i.persistentConnection_&&i.persistentConnection_.interrupt(ix)}function Uc(i,...n){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),fo(e,...n)}function Pl(i,n,e,r){n&&Qf(()=>{if("ok"===e)n(null);else{const o=(e||"error").toUpperCase();let s=o;r&&(s+=": "+r);const l=new Error(s);l.code=o,n(l)}})}function Ch(i,n,e){return Tg(i.serverSyncTree_,n,e)||bn.EMPTY_NODE}function Ry(i,n=i.transactionQueueTree_){if(n||sx(i,n),bh(n)){const e=Fg(i,n);(0,j.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function kR(i,n,e){const r=e.map(g=>g.currentWriteId),o=Ch(i,n,r);let s=o;const l=o.hash();for(let g=0;g<e.length;g++){const w=e[g];(0,j.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const E=jo(n,w.path);s=s.updateChild(E,w.currentOutputSnapshotRaw)}const h=s.val(!0),p=n;i.server_.put(p.toString(),h,g=>{Uc(i,"transaction put response",{path:p.toString(),status:g});let w=[];if("ok"===g){const E=[];for(let S=0;S<e.length;S++)e[S].status=2,w=w.concat(Ja(i.serverSyncTree_,e[S].currentWriteId)),e[S].onComplete&&E.push(()=>e[S].onComplete(null,!0,e[S].currentOutputSnapshotResolved)),e[S].unwatcher();sx(i,Dy(i.transactionQueueTree_,n)),Ry(i,i.transactionQueueTree_),Rs(i.eventQueue_,n,w);for(let S=0;S<E.length;S++)Qf(E[S])}else{if("datastale"===g)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{po("transaction at "+p.toString()+" failed: "+g);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=g}wp(i,n)}},l)}(i,_p(n),e)}else tx(n)&&Iy(n,e=>{Ry(i,e)})}function wp(i,n){const e=Oy(i,n),r=_p(e);return function TR(i,n,e){if(0===n.length)return;const r=[];let o=[];const l=n.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<n.length;h++){const p=n[h],g=jo(e,p.path);let E,w=!1;if((0,j.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,E=p.abortReason,o=o.concat(Ja(i.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=tk)w=!0,E="maxretry",o=o.concat(Ja(i.serverSyncTree_,p.currentWriteId,!0));else{const S=Ch(i,p.path,l);p.currentInputSnapshot=S;const O=n[h].update(S.val());if(void 0!==O){zd("transaction failed: Data returned ",O,p.path);let F=gr(O);"object"==typeof O&&null!=O&&(0,j.r3)(O,".priority")||(F=F.updatePriority(S.getPriority()));const Q=p.currentWriteId,ve=bp(i),Se=Qw(F,S,ve);p.currentOutputSnapshotRaw=F,p.currentOutputSnapshotResolved=Se,p.currentWriteId=My(i),l.splice(l.indexOf(Q),1),o=o.concat(by(i.serverSyncTree_,p.path,Se,p.currentWriteId,p.applyLocally)),o=o.concat(Ja(i.serverSyncTree_,Q,!0))}else w=!0,E="nodata",o=o.concat(Ja(i.serverSyncTree_,p.currentWriteId,!0))}Rs(i.eventQueue_,e,o),o=[],w&&(n[h].status=2,setTimeout(n[h].unwatcher,Math.floor(0)),n[h].onComplete&&r.push("nodata"===E?()=>n[h].onComplete(null,!1,n[h].currentInputSnapshot):()=>n[h].onComplete(new Error(E),!1,null)))}sx(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)Qf(r[h]);Ry(i,i.transactionQueueTree_)}(i,Fg(i,e),r),r}function Oy(i,n){let e,r=i.transactionQueueTree_;for(e=In(n);null!==e&&void 0===bh(r);)r=Dy(r,e),e=In(n=Ei(n));return r}function Fg(i,n){const e=[];return Lg(i,n,e),e.sort((r,o)=>r.order-o.order),e}function Lg(i,n,e){const r=bh(n);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);Iy(n,o=>{Lg(i,o,e)})}function sx(i,n){const e=bh(n);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,ex(n,e.length>0?e:void 0)}Iy(n,r=>{sx(i,r)})}function ax(i,n){const e=_p(Oy(i,n)),r=Dy(i.transactionQueueTree_,n);return function XI(i,n,e){let r=e?i:i.parent;for(;null!==r;){if(n(r))return!0;r=r.parent}}(r,o=>{cx(i,o)}),cx(i,r),yR(r,o=>{cx(i,o)}),e}function cx(i,n){const e=bh(n);if(e){const r=[];let o=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,j.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,j.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),o=o.concat(Ja(i.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&r.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?ex(n,void 0):e.length=s+1,Rs(i.eventQueue_,_p(n),o);for(let l=0;l<r.length;l++)Qf(r[l])}}const Py=function(i,n){const e=AR(i),r=e.namespace;return"firebase.com"===e.domain&&Za(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Za("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&po("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hw(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,n,"",r!==e.subdomain),path:new ii(e.pathString)}},AR=function(i){let n="",e="",r="",o="",s="",l=!0,h="https",p=443;if("string"==typeof i){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");-1===w&&(w=i.length);let E=i.indexOf("?");-1===E&&(E=i.length),n=i.substring(0,Math.min(w,E)),w<E&&(o=function lx(i){let n="";const e=i.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(i.substring(w,E)));const S=function SR(i){const n={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):po(`Invalid query segment '${e}' in query '${i}'`)}return n}(i.substring(Math.min(i.length,E)));g=n.indexOf(":"),g>=0?(l="https"===h||"wss"===h,p=parseInt(n.substring(g+1),10)):g=n.length;const O=n.slice(0,g);if("localhost"===O.toLowerCase())e="localhost";else if(O.split(".").length<=2)e=O;else{const F=n.indexOf(".");r=n.substring(0,F).toLowerCase(),e=n.substring(F+1),s=r}"ns"in S&&(s=S.ns)}return{host:n,port:p,domain:e,subdomain:r,secure:l,scheme:h,pathString:o,namespace:s}},lk="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dk=function(){let i=0;const n=[];return function(e){const r=e===i;let o;i=e;const s=new Array(8);for(o=7;o>=0;o--)s[o]=lk.charAt(e%64),e=Math.floor(e/64);(0,j.hu)(0===e,"Cannot push at time == 0");let l=s.join("");if(r){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)l+=lk.charAt(n[o]);return(0,j.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class dx{constructor(n,e,r,o){this.eventType=n,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.Wl)(this.snapshot.exportVal())}}class ux{constructor(n,e,r){this.eventRegistration=n,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hx{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,j.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class uk{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new j.BH;return ER(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Io("OnDisconnect.remove",this._path);const n=new j.BH;return ak(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Io("OnDisconnect.set",this._path),Go("OnDisconnect.set",n,this._path,!1);const e=new j.BH;return ak(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Io("OnDisconnect.setWithPriority",this._path),Go("OnDisconnect.setWithPriority",n,this._path,!1),jd("OnDisconnect.setWithPriority",e,!1);const r=new j.BH;return function DR(i,n,e,r,o){const s=gr(e,r);i.server_.onDisconnectPut(n.toString(),s.val(!0),(l,h)=>{"ok"===l&&Fd(i.onDisconnect_,n,s),Pl(0,o,l,h)})}(this._repo,this._path,n,e,r.wrapCallback(()=>{})),r.promise}update(n){Io("OnDisconnect.update",this._path),Sy("OnDisconnect.update",n,this._path,!1);const e=new j.BH;return function ox(i,n,e,r){if((0,j.xb)(e))return fo("onDisconnect().update() called with empty data.  Don't do anything."),void Pl(0,r,"ok",void 0);i.server_.onDisconnectMerge(n.toString(),e,(o,s)=>{"ok"===o&&Jr(e,(l,h)=>{const p=gr(h);Fd(i.onDisconnect_,or(n,l),p)}),Pl(0,r,o,s)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Os{constructor(n,e,r,o){this._repo=n,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return Cn(this._path)?null:jv(this._path)}get ref(){return new Ca(this._repo,this._path)}get _queryIdentifier(){const n=vI(this._queryParams),e=lh(n);return"{}"===e?"default":e}get _queryObject(){return vI(this._queryParams)}isEqual(n){if(!((n=(0,j.m9)(n))instanceof Os))return!1;const e=this._repo===n._repo,r=Sl(this._path,n._path);return e&&r&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xw(i){let n="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(n+="/"+encodeURIComponent(String(i.pieces_[e])));return n||"/"}(this._path)}}function Bg(i,n){if(!0===i._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Hc(i){let n=null,e=null;if(i.hasStart()&&(n=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Ka){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==kl)throw new Error(r);if("string"!=typeof n)throw new Error(o)}if(i.hasEnd()){if(i.getIndexEndName()!==Ya)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(i.getIndex()===Si){if(null!=n&&!Wr(n)||null!=e&&!Wr(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.hu)(i.getIndex()instanceof gI||i.getIndex()===mg,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xp(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ca extends Os{constructor(n,e){super(n,e,new gg,!1)}get parent(){const n=Gv(this._path);return null===n?null:new Ca(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class zc{constructor(n,e,r){this._node=n,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new ii(n),r=$d(this.ref,n);return new zc(this._node.getChild(e),r,Si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>n(new zc(o,$d(this.ref,r),Si)))}hasChild(n){const e=new ii(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vg(i,n){return(i=(0,j.m9)(i))._checkNotDeleted("ref"),void 0!==n?$d(i._root,n):i._root}function Ny(i,n){(i=(0,j.m9)(i))._checkNotDeleted("refFromURL");const e=Py(n,i._repo.repoInfo_.nodeAdmin);wh("refFromURL",e);const r=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&r.host!==i._repo.repoInfo_.host&&Za("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+i._repo.repoInfo_.host+")"),Vg(i,e.path.toString())}function $d(i,n){return null===In((i=(0,j.m9)(i))._path)?vp("child","path",n,!1):Vc("child","path",n,!1),new Ca(i._repo,or(i._path,n))}function Cp(i,n){i=(0,j.m9)(i),Io("set",i._path),Go("set",n,i._path,!1);const e=new j.BH;return sk(i._repo,i._path,n,null,e.wrapCallback(()=>{})),e.promise}function hk(i,n){Sy("update",n,i._path,!1);const e=new j.BH;return function CR(i,n,e,r){Uc(i,"update",{path:n.toString(),value:e});let o=!0;const s=bp(i),l={};if(Jr(e,(h,p)=>{o=!1,l[h]=KI(or(n,h),gr(p),i.serverSyncTree_,s)}),o)fo("update() called with empty data.  Don't do anything."),Pl(0,r,"ok",void 0);else{const h=My(i),p=function uR(i,n,e,r){!function dB(i,n,e,r){(0,j.hu)(r>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:n,children:e,writeId:r,visible:!0}),i.visibleWrites=cy(i.visibleWrites,n,e),i.lastWriteId=r}(i.pendingWriteTree_,n,e,r);const o=Ai.fromObject(e);return Lc(i,new Qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(i.serverSyncTree_,n,l,h);Ol(i.eventQueue_,p),i.server_.merge(n.toString(),e,(g,w)=>{const E="ok"===g;E||po("update at "+n+" failed: "+g);const S=Ja(i.serverSyncTree_,h,!E),O=S.length>0?wp(i,n):n;Rs(i.eventQueue_,O,S),Pl(0,r,g,w)}),Jr(e,g=>{const w=ax(i,or(n,g));wp(i,w)}),Rs(i.eventQueue_,n,[])}}(i._repo,i._path,n,e.wrapCallback(()=>{})),e.promise}function OR(i){i=(0,j.m9)(i);const n=new hx(()=>{}),e=new Ug(n);return function xR(i,n,e){const r=function qI(i,n){const e=n._path;let r=null;i.syncPointTree_.foreachOnPath(e,(g,w)=>{const E=jo(g,e);r=r||Ml(w,E)});let o=i.syncPointTree_.get(e);o?r=r||Ml(o,jn()):(o=new HI,i.syncPointTree_=i.syncPointTree_.set(e,o));const s=null!=r,l=s?new $o(r,!0,!1):null;return function iR(i){return xg(i.viewCache_)}(sR(o,n,dy(i.pendingWriteTree_,n._path),s?l.getNode():bn.EMPTY_NODE,s))}(i.serverSyncTree_,n);return null!=r?Promise.resolve(r):i.server_.get(n).then(o=>{const s=gr(o).withIndex(n._queryParams.getIndex());let l;if(Gw(i.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())l=Rl(i.serverSyncTree_,n._path,s);else{const h=Sg(i.serverSyncTree_,n);l=$w(i.serverSyncTree_,n._path,s,h)}return Rs(i.eventQueue_,n._path,l),kg(i.serverSyncTree_,n,e,null,!0),s},o=>(Uc(i,"get for query "+(0,j.Wl)(n)+" failed: "+o),Promise.reject(new Error(o))))}(i._repo,i,e).then(r=>new zc(r,new Ca(i._repo,i._path),i._queryParams.getIndex()))}class Ug{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const r=e._queryParams.getIndex();return new dx("value",this,new zc(n.snapshotNode,new Ca(e._repo,e._path),r))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ux(this,n,e):null}matches(n){return n instanceof Ug&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Hg{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ux(this,n,e):null}createEvent(n,e){(0,j.hu)(null!=n.childName,"Child events should have a childName.");const r=$d(new Ca(e._repo,e._path),n.childName),o=e._queryParams.getIndex();return new dx(n.type,this,new zc(n.snapshotNode,r,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof Hg&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Eh(i,n,e,r,o){let s;if("object"==typeof r&&(s=void 0,o=r),"function"==typeof r&&(s=r),o&&o.onlyOnce){const p=e,g=(w,E)=>{Pg(i._repo,i,h),p(w,E)};g.userCallback=e.userCallback,g.context=e.context,e=g}const l=new hx(e,s||void 0),h="value"===n?new Ug(l):new Hg(n,l);return function Og(i,n,e){let r;r=".info"===In(n._path)?Gw(i.infoSyncTree_,n,e):Gw(i.serverSyncTree_,n,e),xh(i.eventQueue_,n._path,r)}(i._repo,i,h),()=>Pg(i._repo,i,h)}function Ly(i,n,e,r){return Eh(i,"value",n,e,r)}function By(i,n,e,r){return Eh(i,"child_added",n,e,r)}function Vy(i,n,e,r){return Eh(i,"child_changed",n,e,r)}function fk(i,n,e,r){return Eh(i,"child_moved",n,e,r)}function px(i,n,e,r){return Eh(i,"child_removed",n,e,r)}function mx(i,n,e){let r=null;const o=e?new hx(e):null;"value"===n?r=new Ug(o):n&&(r=new Hg(n,o)),Pg(i._repo,i,r)}class Ea{}class gx extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Go("endAt",this._value,n._path,!0);const e=gh(n._queryParams,this._value,this._key);if(xp(e),Hc(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Os(n._repo,n._path,e,n._orderByCalled)}}class pk extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Go("endBefore",this._value,n._path,!1);const e=function G1(i,n,e){let r;return r=gh(i,n,i.index_===Ka||e?e:kl),r.endBeforeSet_=!0,r}(n._queryParams,this._value,this._key);if(xp(e),Hc(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Os(n._repo,n._path,e,n._orderByCalled)}}class _x extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Go("startAt",this._value,n._path,!0);const e=Tw(n._queryParams,this._value,this._key);if(xp(e),Hc(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Os(n._repo,n._path,e,n._orderByCalled)}}class gk extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Go("startAfter",this._value,n._path,!1);const e=function cp(i,n,e){let r;return r=Tw(i,n,i.index_===Ka||e?e:Ya),r.startAfterSet_=!0,r}(n._queryParams,this._value,this._key);if(xp(e),Hc(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Os(n._repo,n._path,e,n._orderByCalled)}}class vk extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Os(n._repo,n._path,function $1(i,n){const e=i.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class bk extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Os(n._repo,n._path,function _g(i,n){const e=i.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class xk extends Ea{constructor(n){super(),this._path=n}_apply(n){Bg(n,"orderByChild");const e=new ii(this._path);if(Cn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new gI(e),o=vg(n._queryParams,r);return Hc(o),new Os(n._repo,n._path,o,!0)}}class Uy extends Ea{_apply(n){Bg(n,"orderByKey");const e=vg(n._queryParams,Ka);return Hc(e),new Os(n._repo,n._path,e,!0)}}class NR extends Ea{_apply(n){Bg(n,"orderByPriority");const e=vg(n._queryParams,Si);return Hc(e),new Os(n._repo,n._path,e,!0)}}class yx extends Ea{_apply(n){Bg(n,"orderByValue");const e=vg(n._queryParams,mg);return Hc(e),new Os(n._repo,n._path,e,!0)}}class bx extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(Go("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gx(this._value,this._key)._apply(new _x(this._value,this._key)._apply(n))}}function Ws(i,...n){let e=(0,j.m9)(i);for(const r of n)e=r._apply(e);return e}(function zI(i){(0,j.hu)(!Dg,"__referenceConstructor has already been defined"),Dg=i})(Ca),function aR(i){(0,j.hu)(!gp,"__referenceConstructor has already been defined"),gp=i}(Ca);const Ek={};function wx(i,n,e,r,o){let s=r||i.options.databaseURL;void 0===s&&(i.options.projectId||Za("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fo("Using default host for project ",i.options.projectId),s=`${i.options.projectId}-default-rtdb.firebaseio.com`);let p,g,l=Py(s,o),h=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(p=!0,s=`http://${g}?ns=${h.namespace}`,l=Py(s,o),h=l.repoInfo):p=!l.repoInfo.secure;const w=o&&p?new sg(sg.OWNER):new aw(i.name,i.options,n);wh("Invalid Firebase Database URL",l),Cn(l.path)||Za("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function eo(i,n,e,r){let o=Ek[n.name];o||(o={},Ek[n.name]=o);let s=o[i.toURLString()];return s&&Za("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nk(i,false,e,r),o[i.toURLString()]=s,s}(h,i,w,new x1(i.name,e));return new UR(E,i)}class UR{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ik(i,n,e){if(i.stats_=mw(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new iy(i.repoInfo_,(r,o,s,l)=>{Ay(i,r,o,s,l)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>rk(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new ph(i.repoInfo_,n,(r,o,s,l)=>{Ay(i,r,o,s,l)},r=>{rk(i,r)},r=>{!function hB(i,n){Jr(n,(e,r)=>{ok(i,e,r)})}(i,r)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=function E1(i,n){const e=i.toString();return pw[e]||(pw[e]=n()),pw[e]}(i.repoInfo_,()=>new wI(i.stats_,i.server_)),i.infoData_=new yI,i.infoSyncTree_=new dR({startListening:(r,o,s,l)=>{let h=[];const p=i.infoData_.getNode(r._path);return p.isEmpty()||(h=Rl(i.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),ok(i,"connected",!1),i.serverSyncTree_=new dR({startListening:(r,o,s,l)=>(i.server_.listen(r,s,o,(h,p)=>{const g=l(h,p);Rs(i.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{i.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ca(this._repo,jn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function VR(i,n){const e=Ek[n];(!e||e[i.key]!==i)&&Za(`Database ${n}(${i.repoInfo_}) has already been deleted.`),Ng(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Za("Cannot call "+n+" on a deleted database.")}}function kk(){yw.IS_TRANSPORT_INITIALIZED&&po("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Tk(){kk(),hh.forceDisallow()}function HR(){kk(),Xf.forceDisallow(),hh.forceAllow()}function $R(i,n){rg(i,n)}const GR={".sv":"timestamp"};class Cx{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ph.prototype.simpleListen=function(i,n){this.sendRequest("q",{p:i},n)},ph.prototype.echo=function(i,n){this.sendRequest("echo",{d:i},n)},function Sk(i){Pv(wi.SDK_VERSION),(0,wi._registerComponent)(new ir.wA("database",(n,{instanceIdentifier:e})=>wx(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,wi.registerVersion)(FD,"0.14.4",i),(0,wi.registerVersion)(FD,"0.14.4","esm2017")}();const tc=new Xr.Yd("@firebase/database-compat"),Da=function(i){tc.warn("FIREBASE WARNING: "+i)};class WR{constructor(n){this._delegate=n}cancel(n){(0,j.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,j.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),r=>n(r)),e}remove(n){(0,j.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,j.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),r=>n(r)),e}set(n,e){(0,j.Dv)("OnDisconnect.set",1,2,arguments.length),(0,j.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(n);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(n,e,r){(0,j.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(n,e);return r&&o.then(()=>r(null),s=>r(s)),o}update(n,e){if((0,j.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let s=0;s<n.length;++s)o[""+s]=n[s];n=o,Da("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(n);return e&&r.then(()=>e(null),o=>e(o)),r}}class ZR{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,j.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qd{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,j.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,j.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Vc("DataSnapshot.child","path",n,!1),new qd(this._database,this._delegate.child(n))}hasChild(n){return(0,j.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vc("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,j.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,j.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,j.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new qd(this._database,e)))}hasChildren(){return(0,j.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.Dv)("DataSnapshot.ref",0,0,arguments.length),new ls(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ko{constructor(n,e){this.database=n,this._delegate=e}on(n,e,r,o){var s;(0,j.Dv)("Query.on",2,4,arguments.length),(0,j.Wj)("Query.on","callback",e,!1);const l=ko.getCancelAndContextArgs_("Query.on",r,o),h=(g,w)=>{e.call(l.context,new qd(this.database,g),w)};h.userCallback=e,h.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(n){case"value":return Ly(this._delegate,h,p),e;case"child_added":return By(this._delegate,h,p),e;case"child_removed":return px(this._delegate,h,p),e;case"child_changed":return Vy(this._delegate,h,p),e;case"child_moved":return fk(this._delegate,h,p),e;default:throw new Error((0,j.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,r){if((0,j.Dv)("Query.off",0,3,arguments.length),function(i,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,j.Wj)("Query.off","callback",e,!0),(0,j.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,mx(this._delegate,n,o)}else mx(this._delegate,n)}get(){return OR(this._delegate).then(n=>new qd(this.database,n))}once(n,e,r,o){(0,j.Dv)("Query.once",1,4,arguments.length),(0,j.Wj)("Query.once","callback",e,!0);const s=ko.getCancelAndContextArgs_("Query.once",r,o),l=new j.BH,h=(g,w)=>{const E=new qd(this.database,g);e&&e.call(s.context,E,w),l.resolve(E)};h.userCallback=e,h.context=s.context;const p=g=>{s.cancel&&s.cancel.call(s.context,g),l.reject(g)};switch(n){case"value":Ly(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":By(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":px(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":Vy(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":fk(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,j.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(n){return(0,j.Dv)("Query.limitToFirst",1,1,arguments.length),new ko(this.database,Ws(this._delegate,function yk(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vk(i)}(n)))}limitToLast(n){return(0,j.Dv)("Query.limitToLast",1,1,arguments.length),new ko(this.database,Ws(this._delegate,function wk(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bk(i)}(n)))}orderByChild(n){return(0,j.Dv)("Query.orderByChild",1,1,arguments.length),new ko(this.database,Ws(this._delegate,function Ck(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vc("orderByChild","path",i,!1),new xk(i)}(n)))}orderByKey(){return(0,j.Dv)("Query.orderByKey",0,0,arguments.length),new ko(this.database,Ws(this._delegate,function Gd(){return new Uy}()))}orderByPriority(){return(0,j.Dv)("Query.orderByPriority",0,0,arguments.length),new ko(this.database,Ws(this._delegate,function FR(){return new NR}()))}orderByValue(){return(0,j.Dv)("Query.orderByValue",0,0,arguments.length),new ko(this.database,Ws(this._delegate,function Dh(){return new yx}()))}startAt(n=null,e){return(0,j.Dv)("Query.startAt",0,2,arguments.length),new ko(this.database,Ws(this._delegate,function vx(i=null,n){return Bc("startAt","key",n,!0),new _x(i,n)}(n,e)))}startAfter(n=null,e){return(0,j.Dv)("Query.startAfter",0,2,arguments.length),new ko(this.database,Ws(this._delegate,function _k(i,n){return Bc("startAfter","key",n,!0),new gk(i,n)}(n,e)))}endAt(n=null,e){return(0,j.Dv)("Query.endAt",0,2,arguments.length),new ko(this.database,Ws(this._delegate,function PR(i,n){return Bc("endAt","key",n,!0),new gx(i,n)}(n,e)))}endBefore(n=null,e){return(0,j.Dv)("Query.endBefore",0,2,arguments.length),new ko(this.database,Ws(this._delegate,function mk(i,n){return Bc("endBefore","key",n,!0),new pk(i,n)}(n,e)))}equalTo(n,e){return(0,j.Dv)("Query.equalTo",1,2,arguments.length),new ko(this.database,Ws(this._delegate,function LR(i,n){return Bc("equalTo","key",n,!0),new bx(i,n)}(n,e)))}toString(){return(0,j.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,j.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof ko))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,j.Wj)(n,"cancel",o.cancel,!0),o.context=r,(0,j.lb)(n,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,j.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new ls(this.database,new Ca(this._delegate._repo,this._delegate._path))}}class ls extends ko{constructor(n,e){super(n,new Os(e._repo,e._path,new gg,!1)),this.database=n,this._delegate=e}getKey(){return(0,j.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,j.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new ls(this.database,$d(this._delegate,n))}getParent(){(0,j.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new ls(this.database,n):null}getRoot(){return(0,j.Dv)("Reference.root",0,0,arguments.length),new ls(this.database,this._delegate.root)}set(n,e){(0,j.Dv)("Reference.set",1,2,arguments.length),(0,j.Wj)("Reference.set","onComplete",e,!0);const r=Cp(this._delegate,n);return e&&r.then(()=>e(null),o=>e(o)),r}update(n,e){if((0,j.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let s=0;s<n.length;++s)o[""+s]=n[s];n=o,Da("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Io("Reference.update",this._delegate._path),(0,j.Wj)("Reference.update","onComplete",e,!0);const r=hk(this._delegate,n);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(n,e,r){(0,j.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,j.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function fx(i,n,e){if(Io("setWithPriority",i._path),Go("setWithPriority",n,i._path,!1),jd("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const r=new j.BH;return sk(i._repo,i._path,n,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,n,e);return r&&o.then(()=>r(null),s=>r(s)),o}remove(n){(0,j.Dv)("Reference.remove",0,1,arguments.length),(0,j.Wj)("Reference.remove","onComplete",n,!0);const e=function RR(i){return Io("remove",i._path),Cp(i,null)}(this._delegate);return n&&e.then(()=>n(null),r=>n(r)),e}transaction(n,e,r){(0,j.Dv)("Reference.transaction",1,3,arguments.length),(0,j.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,j.Wj)("Reference.transaction","onComplete",e,!0),function(i,n,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,j.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function Ex(i,n,e){var r;if(i=(0,j.m9)(i),Io("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const o=null===(r=e?.applyLocally)||void 0===r||r,s=new j.BH,h=Ly(i,()=>{});return function IR(i,n,e,r,o,s){Uc(i,"transaction on "+n);const l={path:n,update:e,onComplete:r,status:null,order:Md(),applyLocally:s,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=Ch(i,n,void 0);l.currentInputSnapshot=h;const p=l.update(h.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{zd("transaction failed: Data returned ",p,l.path),l.status=0;const g=Dy(i.transactionQueueTree_,n),w=bh(g)||[];let E;w.push(l),ex(g,w),"object"==typeof p&&null!==p&&(0,j.r3)(p,".priority")?(E=(0,j.DV)(p,".priority"),(0,j.hu)(Wr(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(Tg(i.serverSyncTree_,n)||bn.EMPTY_NODE).getPriority().val();const S=bp(i),O=gr(p,E),F=Qw(O,h,S);l.currentOutputSnapshotRaw=O,l.currentOutputSnapshotResolved=F,l.currentWriteId=My(i);const G=by(i.serverSyncTree_,n,F,l.currentWriteId,l.applyLocally);Rs(i.eventQueue_,n,G),Ry(i,i.transactionQueueTree_)}}(i._repo,i._path,n,(p,g,w)=>{let E=null;p?s.reject(p):(E=new zc(w,new Ca(i._repo,i._path),Si),s.resolve(new Cx(g,E)))},h,o),s.promise}(this._delegate,n,{applyLocally:r}).then(s=>new ZR(s.committed,new qd(this.database,s.snapshot)));return e&&o.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),o}setPriority(n,e){(0,j.Dv)("Reference.setPriority",1,2,arguments.length),(0,j.Wj)("Reference.setPriority","onComplete",e,!0);const r=function Fy(i,n){i=(0,j.m9)(i),Io("setPriority",i._path),jd("setPriority",n,!1);const e=new j.BH;return sk(i._repo,or(i._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&r.then(()=>e(null),o=>e(o)),r}push(n,e){(0,j.Dv)("Reference.push",0,2,arguments.length),(0,j.Wj)("Reference.push","onComplete",e,!0);const r=function MR(i,n){i=(0,j.m9)(i),Io("push",i._path),Go("push",n,i._path,!0);const e=rx(i._repo),r=dk(e),o=$d(i,r),s=$d(i,r);let l;return l=null!=n?Cp(s,n).then(()=>s):Promise.resolve(s),o.then=l.then.bind(l),o.catch=l.then.bind(l,void 0),o}(this._delegate,n),o=r.then(l=>new ls(this.database,l));e&&o.then(()=>e(null),l=>e(l));const s=new ls(this.database,r);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s}onDisconnect(){return Io("Reference.onDisconnect",this._delegate._path),new WR(new uk(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Fl{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Tk,forceLongPolling:HR}}useEmulator(n,e,r={}){!function xx(i,n,e,r={}){(i=(0,j.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Za("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Za('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new sg(sg.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,i.app.options.projectId);s=new sg(l)}!function BR(i,n,e,r){i.repoInfo_=new hw(`${n}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),r&&(i.authTokenProvider_=r)}(o,n,e,s)}(this._delegate,n,e,r)}ref(n){if((0,j.Dv)("database.ref",0,1,arguments.length),n instanceof ls){const e=Ny(this._delegate,n.toString());return new ls(this,e)}{const e=Vg(this._delegate,n);return new ls(this,e)}}refFromURL(n){(0,j.Dv)("database.refFromURL",1,1,arguments.length);const r=Ny(this._delegate,n);return new ls(this,r)}goOffline(){return(0,j.Dv)("database.goOffline",0,0,arguments.length),function Ep(i){(i=(0,j.m9)(i))._checkNotDeleted("goOffline"),Ng(i._repo)}(this._delegate)}goOnline(){return(0,j.Dv)("database.goOnline",0,0,arguments.length),function jR(i){(i=(0,j.m9)(i))._checkNotDeleted("goOnline"),function ck(i){i.persistentConnection_&&i.persistentConnection_.resume(ix)}(i._repo)}(this._delegate)}}Fl.ServerValue={TIMESTAMP:function Ak(){return GR}(),increment:i=>function gB(i){return{".sv":{increment:i}}}(i)};var Ok=Object.freeze({__proto__:null,initStandalone:function YR({app:i,url:n,version:e,customAuthImpl:r,namespace:o,nodeAdmin:s=!1}){Pv(e);const l=new ir.zt("auth-internal",new ir.H0("database-standalone"));return l.setComponent(new ir.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Fl(wx(i,l,void 0,n,s),i),namespace:o}}});const KR=Fl.ServerValue;function zg(i){return null==i}function Fk(i){return"function"==typeof i.set}function Dx(i,n){return Fk(n)?n:i.ref(n)}function Ix(i,n){if(function Pk(i){return"string"==typeof i}(i))return n.stringCase();if(Fk(i))return n.firebaseCase();if(function Nk(i){return"function"==typeof i.exportVal}(i))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Dp(i,n,e="on",r=Zf.z){return new Bn.y(o=>{let s=null;return s=i[e](n,(l,h)=>{r.schedule(()=>{o.next({snapshot:l,prevKey:h})}),"once"===e&&r.schedule(()=>o.complete())},l=>{r.schedule(()=>o.error(l))}),"on"===e?{unsubscribe(){null!=s&&i.off(n,s)}}:{unsubscribe(){}}}).pipe((0,tt.U)(o=>{const{snapshot:s,prevKey:l}=o;let h=null;return s.exists()&&(h=s.key),{type:n,payload:s,prevKey:l,key:h}}),(0,_a.B)())}function Lk(i,n){const e=i.length;for(let r=0;r<e;r++)if(i[r].payload.key===n)return r;return-1}function Hy(i,n){const{payload:e,prevKey:r,key:o}=n,s=Lk(i,o),l=function kx(i,n){if(zg(n))return 0;{const e=Lk(i,n);return-1===e?i.length:e+1}}(i,r);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let h=null;n.payload.forEach(p=>{const g={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,i=[...i,g],!1})}return i;case"child_added":if(s>-1){const h=i[s-1];(h&&h.key||null)!==r&&(i=i.filter(p=>p.payload.key!==e.key)).splice(l,0,n)}else{if(null==r)return[n,...i];(i=i.slice()).splice(l,0,n)}return i;case"child_removed":return i.filter(h=>h.payload.key!==e.key);case"child_changed":return i.map(h=>h.payload.key===o?n:h);case"child_moved":if(s>-1){const h=i.splice(s,1)[0];return(i=i.slice()).splice(l,0,h),i}return i;default:return i}}function zy(i){return(zg(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function Tx(i,n,e){return function XR(i,n,e){return Dp(i,"value","once",e).pipe((0,bi.w)(r=>{const o=[(0,Dt.of)(r)];return n.forEach(s=>o.push(Dp(i,s,"on",e))),(0,Ir.T)(...o).pipe(Wa(Hy,[]))}),(0,El.x)())}(i,n=zy(n),e)}function Sx(i,n,e){const r=(n=zy(n)).map(o=>Dp(i,o,"on",e));return(0,Ir.T)(...r)}function Ax(i,n){return function(r,o){return Ix(r,{stringCase:()=>i.child(r)[n](o),firebaseCase:()=>r[n](o),snapshotCase:()=>r.ref[n](o)})}}function Hk(i){return function(e){return e?Ix(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function jk(i,n){return function(){return Dp(i,"value","on",n)}}!function QR(i){i.INTERNAL.registerComponent(new ir.wA("database-compat",(n,{instanceIdentifier:e})=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:e});return new Fl(o,r)},"PUBLIC").setServiceProps({Reference:ls,Query:ko,Database:Fl,DataSnapshot:qd,enableLogging:$R,INTERNAL:Ok,ServerValue:KR}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.4")}(iw.Z);const eO=new a.OlP("angularfire2.realtimeDatabaseURL"),tO=new a.OlP("angularfire2.database.use-emulator");let nO=(()=>{class i{constructor(e,r,o,s,l,h,p,g,w,E,S,O,F,G,Q){this.schedulers=h;const ve=p,Se=(0,zn.on)(e,l,r);g&&nw(Se,l,w,S,O,F,E,G),this.database=(0,zn.cc)(`${Se.name}.database.${o}`,"AngularFireDatabase",Se.name,()=>{const Oe=l.runOutsideAngular(()=>Se.database(o||void 0));return ve&&Oe.useEmulator(...ve),Oe},[ve])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>Dx(this.database,e));let s=o;return r&&(s=r(o)),function zk(i,n){const e=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>i.ref);return{query:i,update:Ax(r,"update"),set:Ax(r,"set"),push:o=>r.push(o),remove:Hk(r),snapshotChanges:o=>Tx(i,o,e).pipe(an.iC),stateChanges:o=>Sx(i,o,e).pipe(an.iC),auditTrail:o=>function Bk(i,n,e){return function Uk(i,n,e){return function Vk(i,n){return Dp(i,"value","on",n).pipe((0,tt.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(i,e).pipe(function g1(...i){const n=(0,Il.jO)(i);return(0,fr.e)((e,r)=>{const o=i.length,s=new Array(o);let l=i.map(()=>!1),h=!1;for(let p=0;p<o;p++)(0,Dl.Xf)(i[p]).subscribe((0,ci.x)(r,g=>{s[p]=g,!h&&!l[p]&&(l[p]=!0,(h=l.every(va.y))&&(l=null))},ng.Z));e.subscribe((0,ci.x)(r,p=>{if(h){const g=[p,...s];r.next(n?n(...g):g)}}))})}(n),(0,tt.U)(([o,s])=>{const l=o.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:h}}),function _1(i){return(0,fr.e)((n,e)=>{let r=!1,o=0;n.subscribe((0,ci.x)(e,s=>(r||(r=!i(s,o++)))&&e.next(s)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,tt.U)(o=>o.actions))}(i,Sx(i,n).pipe(Wa((o,s)=>[...o,s],[])),e)}(i,o,e).pipe(an.iC),valueChanges:(o,s)=>Tx(i,o,e).pipe((0,tt.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),an.iC)}}(s,this)}object(e){return function JR(i,n){return{query:i,snapshotChanges:()=>jk(i,n.schedulers.outsideAngular)().pipe(an.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>jk(i,n.schedulers.outsideAngular)().pipe(an.iC,(0,tt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dx(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zn.Dh),a.LFG(zn.xv,8),a.LFG(eO,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(an.HU),a.LFG(tO,8),a.LFG(tg,8),a.LFG(J0,8),a.LFG(ew,8),a.LFG(Jm,8),a.LFG(eg,8),a.LFG(tw,8),a.LFG(ih,8),a.LFG(Wf,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),iO=(()=>{class i{constructor(){Rv.Z.registerVersion("angularfire",an.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[nO]}),i})();var jg=z(7537);function jy(...i){return function rO(){return(0,jg.J)(1)}()((0,An.D)(i,(0,Il.yG)(i)))}function ds(...i){const n=(0,Il.yG)(i);return(0,fr.e)((e,r)=>{(n?jy(i,e,n):jy(i,e)).subscribe(r)})}function Mx(){return(0,fr.e)((i,n)=>{let e,r=!1;i.subscribe((0,ci.x)(n,o=>{const s=e;e=o,r&&n.next([s,o]),r=!0}))})}var wt,oO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nc={},Rx=Rx||{},mn=oO||self;function $y(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Ip(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Gy="closure_uid_"+(1e9*Math.random()>>>0),Gk=0;function qk(i,n,e){return i.call.apply(i.bind,arguments)}function Wk(i,n,e){if(!i)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),i.apply(n,o)}}return function(){return i.apply(n,arguments)}}function To(i,n,e){return(To=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qk:Wk).apply(null,arguments)}function $g(i,n){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),i.apply(this,r)}}function to(i,n){function e(){}e.prototype=n.prototype,i.$=n.prototype,i.prototype=new e,i.prototype.constructor=i,i.ac=function(r,o,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return n.prototype[o].apply(r,l)}}function $c(){this.s=this.s,this.o=this.o}$c.prototype.s=!1,$c.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function $k(i){Object.prototype.hasOwnProperty.call(i,Gy)&&i[Gy]||(i[Gy]=++Gk)}(this)},$c.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wd=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===n)return e;return-1};function Px(i){const n=i.length;if(0<n){const e=Array(n);for(let r=0;r<n;r++)e[r]=i[r];return e}return[]}function Zk(i,n){for(let e=1;e<arguments.length;e++){const r=arguments[e];if($y(r)){const o=i.length||0,s=r.length||0;i.length=o+s;for(let l=0;l<s;l++)i[o+l]=r[l]}else i.push(r)}}function Lr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}Lr.prototype.h=function(){this.defaultPrevented=!0};var vB=function(){if(!mn.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{mn.addEventListener("test",()=>{},n),mn.removeEventListener("test",()=>{},n)}catch{}return i}();function Ih(i){return/^[\s\xa0]*$/.test(i)}function Nx(){var i=mn.navigator;return i&&(i=i.userAgent)?i:""}function ic(i){return-1!=Nx().indexOf(i)}function qy(i){return qy[" "](i),i}qy[" "]=function(){};var Tp,i,Xt=ic("Opera"),kp=ic("Trident")||ic("MSIE"),Yk=ic("Edge"),Fx=Yk||kp,kh=ic("Gecko")&&!(-1!=Nx().toLowerCase().indexOf("webkit")&&!ic("Edge"))&&!(ic("Trident")||ic("MSIE"))&&!ic("Edge"),sO=-1!=Nx().toLowerCase().indexOf("webkit")&&!ic("Edge");function Gg(){var i=mn.document;return i?i.documentMode:void 0}e:{var sr="",Kk=(i=Nx(),kh?/rv:([^\);]+)(\)|;)/.exec(i):Yk?/Edge\/([\d\.]+)/.exec(i):kp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):sO?/WebKit\/(\S+)/.exec(i):Xt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Kk&&(sr=Kk?Kk[1]:""),kp){var Wy=Gg();if(null!=Wy&&Wy>parseFloat(sr)){Tp=String(Wy);break e}}Tp=sr}var Xk=mn.document&&kp&&(Gg()||parseInt(Tp,10))||void 0;function Sp(i,n){if(Lr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,r=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(kh){e:{try{qy(n.nodeName);var o=!0;break e}catch{}o=!1}o||(n=null)}}else"mouseover"==e?n=i.fromElement:"mouseout"==e&&(n=i.toElement);this.relatedTarget=n,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Jk[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Sp.$.h.call(this)}}to(Sp,Lr);var Jk={2:"touch",3:"pen",4:"mouse"};Sp.prototype.h=function(){Sp.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ap="closure_listenable_"+(1e6*Math.random()|0),aO=0;function cO(i,n,e,r,o){this.listener=i,this.proxy=null,this.src=n,this.type=e,this.capture=!!r,this.la=o,this.key=++aO,this.fa=this.ia=!1}function Yy(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Th(i,n,e){for(const r in i)n.call(e,i[r],r,i)}function eT(i){const n={};for(const e in i)n[e]=i[e];return n}const tT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qg(i,n){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)i[e]=r[e];for(let s=0;s<tT.length;s++)e=tT[s],Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}}function Wg(i){this.src=i,this.g={},this.h=0}function Ky(i,n){var e=n.type;if(e in i.g){var s,r=i.g[e],o=Wd(r,n);(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Yy(n),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Qy(i,n,e,r){for(var o=0;o<i.length;++o){var s=i[o];if(!s.fa&&s.listener==n&&s.capture==!!e&&s.la==r)return o}return-1}Wg.prototype.add=function(i,n,e,r,o){var s=i.toString();(i=this.g[s])||(i=this.g[s]=[],this.h++);var l=Qy(i,n,r,o);return-1<l?(n=i[l],e||(n.ia=!1)):((n=new cO(n,this.src,s,!!r,o)).ia=e,i.push(n)),n};var Lx="closure_lm_"+(1e6*Math.random()|0),Sh={};function Mp(i,n,e,r,o){if(r&&r.once)return iT(i,n,e,r,o);if(Array.isArray(n)){for(var s=0;s<n.length;s++)Mp(i,n[s],e,r,o);return null}return e=Hx(e),i&&i[Ap]?i.O(n,e,Ip(r)?!!r.capture:!!r,o):nT(i,n,e,!1,r,o)}function nT(i,n,e,r,o,s){if(!n)throw Error("Invalid event type");var l=Ip(o)?!!o.capture:!!o,h=Jy(i);if(h||(i[Lx]=h=new Wg(i)),(e=h.add(n,e,r,l,s)).proxy)return e;if(r=function dO(){const n=uO;return function i(e){return n.call(i.src,i.listener,e)}}(),e.proxy=r,r.src=i,r.listener=e,i.addEventListener)vB||(o=l),void 0===o&&(o=!1),i.addEventListener(n.toString(),r,o);else if(i.attachEvent)i.attachEvent(Vx(n.toString()),r);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(r)}return e}function iT(i,n,e,r,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)iT(i,n[s],e,r,o);return null}return e=Hx(e),i&&i[Ap]?i.P(n,e,Ip(r)?!!r.capture:!!r,o):nT(i,n,e,!0,r,o)}function Bx(i,n,e,r,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)Bx(i,n[s],e,r,o);else r=Ip(r)?!!r.capture:!!r,e=Hx(e),i&&i[Ap]?(i=i.i,(n=String(n).toString())in i.g&&-1<(e=Qy(s=i.g[n],e,r,o))&&(Yy(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete i.g[n],i.h--))):i&&(i=Jy(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Qy(n,e,r,o)),(e=-1<i?n[i]:null)&&Xy(e))}function Xy(i){if("number"!=typeof i&&i&&!i.fa){var n=i.src;if(n&&n[Ap])Ky(n.i,i);else{var e=i.type,r=i.proxy;n.removeEventListener?n.removeEventListener(e,r,i.capture):n.detachEvent?n.detachEvent(Vx(e),r):n.addListener&&n.removeListener&&n.removeListener(r),(e=Jy(n))?(Ky(e,i),0==e.h&&(e.src=null,n[Lx]=null)):Yy(i)}}}function Vx(i){return i in Sh?Sh[i]:Sh[i]="on"+i}function uO(i,n){if(i.fa)i=!0;else{n=new Sp(n,this);var e=i.listener,r=i.la||i.src;i.ia&&Xy(i),i=e.call(r,n)}return i}function Jy(i){return(i=i[Lx])instanceof Wg?i:null}var Ux="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hx(i){return"function"==typeof i?i:(i[Ux]||(i[Ux]=function(n){return i.handleEvent(n)}),i[Ux])}function So(){$c.call(this),this.i=new Wg(this),this.S=this,this.J=null}function qo(i,n){var e,r=i.J;if(r)for(e=[];r;r=r.J)e.push(r);if(i=i.S,r=n.type||n,"string"==typeof n)n=new Lr(n,i);else if(n instanceof Lr)n.target=n.target||i;else{var o=n;qg(n=new Lr(r,i),o)}if(o=!0,e)for(var s=e.length-1;0<=s;s--){var l=n.g=e[s];o=zx(l,r,!0,n)&&o}if(o=zx(l=n.g=i,r,!0,n)&&o,o=zx(l,r,!1,n)&&o,e)for(s=0;s<e.length;s++)o=zx(l=n.g=e[s],r,!1,n)&&o}function zx(i,n,e,r){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var o=!0,s=0;s<n.length;++s){var l=n[s];if(l&&!l.fa&&l.capture==e){var h=l.listener,p=l.la||l.src;l.ia&&Ky(i.i,l),o=!1!==h.call(p,r)&&o}}return o&&!r.defaultPrevented}to(So,$c),So.prototype[Ap]=!0,So.prototype.removeEventListener=function(i,n,e,r){Bx(this,i,n,e,r)},So.prototype.N=function(){if(So.$.N.call(this),this.i){var n,i=this.i;for(n in i.g){for(var e=i.g[n],r=0;r<e.length;r++)Yy(e[r]);delete i.g[n],i.h--}}this.J=null},So.prototype.O=function(i,n,e,r){return this.i.add(String(i),n,!1,e,r)},So.prototype.P=function(i,n,e,r){return this.i.add(String(i),n,!0,e,r)};var rT=mn.JSON.stringify;function eb(){var i=jx;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var sT=new class oT{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new aT,i=>i.reset());class aT{constructor(){this.next=this.g=this.h=null}set(n,e){this.h=n,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Zg(i){var n=1;i=i.split(":");const e=[];for(;0<n&&i.length;)e.push(i.shift()),n--;return i.length&&e.push(i.join(":")),e}function fO(i){mn.setTimeout(()=>{throw i},0)}let Yg,Kg=!1,jx=new class hO{constructor(){this.h=this.g=null}add(n,e){const r=sT.get();r.set(n,e),this.h?this.h.next=r:this.g=r,this.h=r}},pO=()=>{const i=mn.Promise.resolve(void 0);Yg=()=>{i.then(mO)}};var mO=()=>{for(var i;i=eb();){try{i.h.call(i.g)}catch(e){fO(e)}var n=sT;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Kg=!1};function Qg(i,n){So.call(this),this.h=i||1,this.g=n||mn,this.j=To(this.qb,this),this.l=Date.now()}function $x(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Gx(i,n,e){if("function"==typeof i)e&&(i=To(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=To(i.handleEvent,i)}return 2147483647<Number(n)?-1:mn.setTimeout(i,n||0)}function Rp(i){i.g=Gx(()=>{i.g=null,i.i&&(i.i=!1,Rp(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}to(Qg,So),(wt=Qg.prototype).ga=!1,wt.T=null,wt.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qo(this,"tick"),this.ga&&($x(this),this.start()))}},wt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.N=function(){Qg.$.N.call(this),$x(this),delete this.g};class gO extends $c{constructor(n,e){super(),this.m=n,this.j=e,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Rp(this)}N(){super.N(),this.g&&(mn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Op(i){$c.call(this),this.h=i,this.g={}}to(Op,$c);var cT=[];function qx(i,n,e,r){Array.isArray(e)||(e&&(cT[0]=e.toString()),e=cT);for(var o=0;o<e.length;o++){var s=Mp(n,e[o],r||i.handleEvent,!1,i.h||i);if(!s)break;i.g[s.key]=s}}function lT(i){Th(i.g,function(n,e){this.g.hasOwnProperty(e)&&Xy(n)},i),i.g={}}function Xg(){this.g=!0}function Pp(i,n,e,r){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function uT(i,n){if(!i.g)return n;if(!n)return null;try{var e=JSON.parse(n);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var r=e[i];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<o.length;l++)o[l]=""}}}return rT(e)}catch{return n}}(i,e)+(r?" "+r:"")})}Op.prototype.N=function(){Op.$.N.call(this),lT(this)},Op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xg.prototype.Ea=function(){this.g=!1},Xg.prototype.info=function(){};var Ah={},hT=null;function tb(){return hT=hT||new So}function nb(i){Lr.call(this,Ah.Ta,i)}function Jg(i){const n=tb();qo(n,new nb(n))}function Zx(i,n){Lr.call(this,Ah.STAT_EVENT,i),this.stat=n}function us(i){const n=tb();qo(n,new Zx(n,i))}function fT(i,n){Lr.call(this,Ah.Ua,i),this.size=n}function e_(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return mn.setTimeout(function(){i()},n)}Ah.Ta="serverreachability",to(nb,Lr),Ah.STAT_EVENT="statevent",to(Zx,Lr),Ah.Ua="timingevent",to(fT,Lr);var ib={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yx(){}function gT(){}Yx.prototype.h=null;var Qx,Np={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rb(){Lr.call(this,"d")}function Kx(){Lr.call(this,"c")}function t_(){}function n_(i,n,e,r){this.l=i,this.j=n,this.m=e,this.W=r||1,this.U=new Op(this),this.P=vO,this.V=new Qg(i=Fx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _T}function _T(){this.i=null,this.g="",this.h=!1}to(rb,Lr),to(Kx,Lr),to(t_,Yx),t_.prototype.g=function(){return new XMLHttpRequest},t_.prototype.i=function(){return{}},Qx=new t_;var vO=45e3,i_={},Fp={};function ob(i,n,e){i.L=1,i.v=s_(Gc(n)),i.s=e,i.S=!0,sb(i,null)}function sb(i,n){i.G=Date.now(),r_(i),i.A=Gc(i.v);var e=i.A,r=i.W;Array.isArray(r)||(r=[String(r)]),rC(e.i,"t",r),i.C=0,e=i.l.J,i.h=new _T,i.g=gC(i.l,e?n:null,!i.s),0<i.O&&(i.M=new gO(To(i.Pa,i,i.g),i.O)),qx(i.U,i.g,"readystatechange",i.nb),n=i.I?eT(i.I):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,n)):(i.u="GET",i.g.ha(i.A,i.u,null,n)),Jg(),function _O(i,n,e,r,o,s){i.info(function(){if(i.g)if(s)for(var l="",h=s.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var w=g[0];g=g[1];var E=w.split("_");l=2<=E.length&&"type"==E[1]?l+(w+"=")+g+"&":l+(w+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+n+"\n"+e+"\n"+l})}(i.j,i.u,i.A,i.m,i.W,i.s)}function vT(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function yT(i,n,e){let o,r=!0;for(;!i.J&&i.C<e.length;){if(o=Xx(i,e),o==Fp){4==n&&(i.o=4,us(14),r=!1),Pp(i.j,i.m,null,"[Incomplete Response]");break}if(o==i_){i.o=4,us(15),Pp(i.j,i.m,e,"[Invalid Chunk]"),r=!1;break}Pp(i.j,i.m,o,null),bT(i,o)}vT(i)&&o!=Fp&&o!=i_&&(i.h.g="",i.C=0),4!=n||0!=e.length||i.h.h||(i.o=1,us(16),r=!1),i.i=i.i&&r,r?0<e.length&&!i.ba&&(i.ba=!0,(n=i.l).g==i&&n.ca&&!n.M&&(n.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),hb(n),n.M=!0,us(11))):(Pp(i.j,i.m,e,"[Invalid Chunked Response]"),Mh(i),Lp(i))}function Xx(i,n){var e=i.C,r=n.indexOf("\n",e);return-1==r?Fp:(e=Number(n.substring(e,r)),isNaN(e)?i_:(r+=1)+e>n.length?Fp:(n=n.slice(r,r+e),i.C=r+e,n))}function r_(i){i.Y=Date.now()+i.P,Jx(i,i.P)}function Jx(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=e_(To(i.lb,i),n)}function Ll(i){i.B&&(mn.clearTimeout(i.B),i.B=null)}function Lp(i){0==i.l.H||i.J||mC(i.l,i)}function Mh(i){Ll(i);var n=i.M;n&&"function"==typeof n.sa&&n.sa(),i.M=null,$x(i.V),lT(i.U),i.g&&(n=i.g,i.g=null,n.abort(),n.sa())}function bT(i,n){try{var e=i.l;if(0!=e.H&&(e.g==i||sC(e.i,i)))if(!i.K&&sC(e.i,i)&&3==e.H){try{var r=e.Ja.g.parse(n)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<i.G))break e;y_(e),db(e)}v_(e),us(18)}}else e.Fa=o[1],0<e.Fa-e.V&&37500>o[2]&&e.G&&0==e.A&&!e.v&&(e.v=e_(To(e.ib,e),6e3));if(1>=MT(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Nh(e,11)}else if((i.K||e.g==i)&&y_(e),!Ih(n))for(o=e.Ja.g.parse(n),n=0;n<o.length;n++){let g=o[n];if(e.V=g[0],g=g[1],2==e.H)if("c"==g[0]){e.K=g[1],e.pa=g[2];const w=g[3];null!=w&&(e.ra=w,e.l.info("VER="+e.ra));const E=g[4];null!=E&&(e.Ga=E,e.l.info("SVER="+e.Ga));const S=g[5];null!=S&&"number"==typeof S&&0<S&&(e.L=r=1.5*S,e.l.info("backChannelRequestTimeoutMs_="+r)),r=e;const O=i.g;if(O){const F=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var s=r.i;s.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(aC(s,s.h),s.h=null))}if(r.F){const G=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,Hi(r.I,r.F,G))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-i.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=i;if((r=e).wa=pb(r,r.J?r.pa:null,r.Y),l.K){Vp(r.i,l);var h=l,p=r.L;p&&h.setTimeout(p),h.B&&(Ll(h),r_(h)),r.g=l}else pC(r);0<e.j.length&&g_(e)}else"stop"!=g[0]&&"close"!=g[0]||Nh(e,7);else 3==e.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Nh(e,7):lb(e):"noop"!=g[0]&&e.h&&e.h.Aa(g),e.A=0)}Jg()}catch{}}function wT(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if($y(i)||"string"==typeof i)Array.prototype.forEach.call(i,n,void 0);else for(var e=function tC(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if($y(i)||"string"==typeof i){var n=[];i=i.length;for(var e=0;e<i;e++)n.push(e);return n}n=[],e=0;for(const r in i)n[e++]=r;return n}}}(i),r=function eC(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if($y(i)){for(var n=[],e=i.length,r=0;r<e;r++)n.push(i[r]);return n}for(r in n=[],e=0,i)n[e++]=i[r];return n}(i),o=r.length,s=0;s<o;s++)n.call(void 0,r[s],e&&e[s],i)}(wt=n_.prototype).setTimeout=function(i){this.P=i},wt.nb=function(i){i=i.target;const n=this.M;n&&3==Zs(i)?n.l():this.Pa(i)},wt.Pa=function(i){try{if(i==this.g)e:{const w=Zs(this.g);var n=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||Fx||this.g&&(this.h.h||this.g.ja()||hC(this.g)))){this.J||4!=w||7==n||Jg(),Ll(this);var e=this.g.da();this.ca=e;t:if(vT(this)){var r=hC(this.g);i="";var o=r.length,s=4==Zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mh(this),Lp(this);var l="";break t}this.h.i=new mn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,i+=this.h.i.decode(r[n],{stream:s&&n==o-1});r.splice(0,o),this.h.g+=i,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function Wx(i,n,e,r,o,s,l){i.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+n+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,w,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ih(h)){var g=h;break t}}g=null}if(!(e=g)){this.i=!1,this.o=3,us(12),Mh(this),Lp(this);break e}Pp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bT(this,e)}this.S?(yT(this,w,l),Fx&&this.i&&3==w&&(qx(this.U,this.V,"tick",this.mb),this.V.start())):(Pp(this.j,this.m,l,null),bT(this,l)),4==w&&Mh(this),this.i&&!this.J&&(4==w?mC(this.l,this):(this.i=!1,r_(this)))}else(function EO(i){const n={};i=(i.g&&2<=Zs(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<i.length;r++){if(Ih(i[r]))continue;var e=Zg(i[r]);const o=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=n[o]||[];n[o]=s,s.push(e)}!function lO(i,n){for(const e in i)n.call(void 0,i[e],e,i)}(n,function(r){return r.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,us(12)):(this.o=0,us(13)),Mh(this),Lp(this)}}}catch{}},wt.mb=function(){if(this.g){var i=Zs(this.g),n=this.g.ja();this.C<n.length&&(Ll(this),yT(this,i,n),this.i&&4!=i&&r_(this))}},wt.cancel=function(){this.J=!0,Mh(this)},wt.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function dT(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.L&&(Jg(),us(17)),Mh(this),this.o=2,Lp(this)):Jx(this,this.Y-i)};var nC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Rh){this.h=i.h,Bp(this,i.j),this.s=i.s,this.g=i.g,o_(this,i.m),this.l=i.l;var n=i.i,e=new l_;e.i=n.i,n.g&&(e.g=new Map(n.g),e.h=n.h),iC(this,e),this.o=i.o}else i&&(n=String(i).match(nC))?(this.h=!1,Bp(this,n[1]||"",!0),this.s=a_(n[2]||""),this.g=a_(n[3]||"",!0),o_(this,n[4]),this.l=a_(n[5]||"",!0),iC(this,n[6]||"",!0),this.o=a_(n[7]||"")):(this.h=!1,this.i=new l_(null,this.h))}function Gc(i){return new Rh(i)}function Bp(i,n,e){i.j=e?a_(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function o_(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function iC(i,n,e){n instanceof l_?(i.i=n,function TT(i,n){n&&!i.j&&(Oh(i),i.i=null,i.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&(IT(this,r),rC(this,o,e))},i)),i.j=n}(i.i,i.h)):(e||(n=c_(n,DT)),i.i=new l_(n,i.h))}function Hi(i,n,e){i.i.set(n,e)}function s_(i){return Hi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function a_(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function c_(i,n,e){return"string"==typeof i?(i=encodeURI(i).replace(n,yO),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function yO(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Rh.prototype.toString=function(){var i=[],n=this.j;n&&i.push(c_(n,CT,!0),":");var e=this.g;return(e||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(c_(n,CT,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&i.push("/"),i.push(c_(e,"/"==e.charAt(0)?bB:ET,!0))),(e=this.i.toString())&&i.push("?",e),(e=this.o)&&i.push("#",c_(e,bO)),i.join("")};var CT=/[#\/\?@]/g,ET=/[#\?:]/g,bB=/[#\?]/g,DT=/[#\?@]/g,bO=/#/g;function l_(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Oh(i){i.g||(i.g=new Map,i.h=0,i.i&&function xT(i,n){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var r=i[e].indexOf("="),o=null;if(0<=r){var s=i[e].substring(0,r);o=i[e].substring(r+1)}else s=i[e];n(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(i.i,function(n,e){i.add(decodeURIComponent(n.replace(/\+/g," ")),e)}))}function IT(i,n){Oh(i),n=Ph(i,n),i.g.has(n)&&(i.i=null,i.h-=i.g.get(n).length,i.g.delete(n))}function kT(i,n){return Oh(i),n=Ph(i,n),i.g.has(n)}function rC(i,n,e){IT(i,n),0<e.length&&(i.i=null,i.g.set(Ph(i,n),Px(e)),i.h+=e.length)}function Ph(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function oC(i){this.l=i||wO,i=mn.PerformanceNavigationTiming?0<(i=mn.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(mn.g&&mn.g.Ka&&mn.g.Ka()&&mn.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=l_.prototype).add=function(i,n){Oh(this),this.i=null,i=Ph(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(n),this.h+=1,this},wt.forEach=function(i,n){Oh(this),this.g.forEach(function(e,r){e.forEach(function(o){i.call(n,o,r,this)},this)},this)},wt.ta=function(){Oh(this);const i=Array.from(this.g.values()),n=Array.from(this.g.keys()),e=[];for(let r=0;r<n.length;r++){const o=i[r];for(let s=0;s<o.length;s++)e.push(n[r])}return e},wt.Z=function(i){Oh(this);let n=[];if("string"==typeof i)kT(this,i)&&(n=n.concat(this.g.get(Ph(this,i))));else{i=Array.from(this.g.values());for(let e=0;e<i.length;e++)n=n.concat(i[e])}return n},wt.set=function(i,n){return Oh(this),this.i=null,kT(this,i=Ph(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},wt.get=function(i,n){return i&&0<(i=this.Z(i)).length?String(i[0]):n},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],n=Array.from(this.g.keys());for(var e=0;e<n.length;e++){var r=n[e];const s=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=s;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),i.push(o)}}return this.i=i.join("&")};var wO=10;function AT(i){return!!i.h||!!i.g&&i.g.size>=i.j}function MT(i){return i.h?1:i.g?i.g.size:0}function sC(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function aC(i,n){i.g?i.g.add(n):i.h=n}function Vp(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function cC(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const e of i.g.values())n=n.concat(e.F);return n}return Px(i.i)}oC.prototype.cancel=function(){if(this.i=cC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var RT=class{stringify(i){return mn.JSON.stringify(i,void 0)}parse(i){return mn.JSON.parse(i,void 0)}};function OT(){this.g=new RT}function PT(i,n,e){const r=e||"";try{wT(i,function(o,s){let l=o;Ip(o)&&(l=rT(o)),n.push(r+s+"="+encodeURIComponent(l))})}catch(o){throw n.push(r+"type="+encodeURIComponent("_badmap")),o}}function d_(i,n,e,r,o){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,o(r)}catch{}}function u_(i){this.l=i.fc||null,this.j=i.ob||!1}function lC(i,n){So.call(this),this.F=i,this.u=n,this.m=void 0,this.readyState=ab,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}to(u_,Yx),u_.prototype.g=function(){return new lC(this.l,this.j)},u_.prototype.i=function(i){return function(){return i}}({}),to(lC,So);var ab=0;function dC(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Up(i){i.readyState=4,i.l=null,i.j=null,i.A=null,h_(i)}function h_(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(wt=lC.prototype).open=function(i,n){if(this.readyState!=ab)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,h_(this)},wt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.F||mn).fetch(new Request(this.B,n)).then(this.$a.bind(this),this.ka.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Up(this)),this.readyState=ab},wt.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,h_(this)),this.g&&(this.readyState=3,h_(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof mn.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dC(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},wt.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?Up(this):h_(this),3==this.readyState&&dC(this)}},wt.Za=function(i){this.g&&(this.response=this.responseText=i,Up(this))},wt.Ya=function(i){this.g&&(this.response=i,Up(this))},wt.ka=function(){this.g&&Up(this)},wt.setRequestHeader=function(i,n){this.v.append(i,n)},wt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var e=n.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=n.next();return i.join("\r\n")},Object.defineProperty(lC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xO=mn.JSON.parse;function zi(i){So.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FT,this.L=this.M=!1}to(zi,So);var FT="",uC=/^https?$/i,qc=["POST","PUT"];function f_(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Hp(i),cb(i)}function Hp(i){i.F||(i.F=!0,qo(i,"complete"),qo(i,"error"))}function LT(i){if(i.h&&typeof Rx<"u"&&(!i.C[1]||4!=Zs(i)||2!=i.da()))if(i.v&&4==Zs(i))Gx(i.La,0,i);else if(qo(i,"readystatechange"),4==Zs(i)){i.h=!1;try{const l=i.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var e;if(!(e=n)){var r;if(r=0===l){var o=String(i.I).match(nC)[1]||null;!o&&mn.self&&mn.self.location&&(o=mn.self.location.protocol.slice(0,-1)),r=!uC.test(o?o.toLowerCase():"")}e=r}if(e)qo(i,"complete"),qo(i,"success");else{i.m=6;try{var s=2<Zs(i)?i.g.statusText:""}catch{s=""}i.j=s+" ["+i.da()+"]",Hp(i)}}finally{cb(i)}}}function cb(i,n){if(i.g){BT(i);const e=i.g,r=i.C[0]?()=>{}:null;i.g=null,i.C=null,n||qo(i,"ready");try{e.onreadystatechange=r}catch{}}}function BT(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(mn.clearTimeout(i.A),i.A=null)}function Zs(i){return i.g?i.g.readyState:0}function hC(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case FT:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function VT(i){let n="";return Th(i,function(e,r){n+=r,n+=":",n+=e,n+="\r\n"}),n}function p_(i,n,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=VT(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Hi(i,n,e))}function m_(i,n,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||n}function UT(i){this.Ga=0,this.j=[],this.l=new Xg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=m_("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=m_("baseRetryDelayMs",5e3,i),this.hb=m_("retryDelaySeedMs",1e4,i),this.eb=m_("forwardChannelMaxRetries",2,i),this.xa=m_("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new oC(i&&i.concurrentRequestLimit),this.Ja=new OT,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lb(i){if(HT(i),3==i.H){var n=i.W++,e=Gc(i.I);if(Hi(e,"SID",i.K),Hi(e,"RID",n),Hi(e,"TYPE","terminate"),__(i,e),(n=new n_(i,i.l,n)).L=2,n.v=s_(Gc(e)),e=!1,mn.navigator&&mn.navigator.sendBeacon)try{e=mn.navigator.sendBeacon(n.v.toString(),"")}catch{}!e&&mn.Image&&((new Image).src=n.v,e=!0),e||(n.g=gC(n.l,null),n.g.ha(n.v)),n.G=Date.now(),r_(n)}fb(i)}function db(i){i.g&&(hb(i),i.g.cancel(),i.g=null)}function HT(i){db(i),i.u&&(mn.clearTimeout(i.u),i.u=null),y_(i),i.i.cancel(),i.m&&("number"==typeof i.m&&mn.clearTimeout(i.m),i.m=null)}function g_(i){if(!AT(i.i)&&!i.m){i.m=!0;var n=i.Na;Yg||pO(),Kg||(Yg(),Kg=!0),jx.add(n,i),i.C=0}}function zT(i,n){var e;e=n?n.m:i.W++;const r=Gc(i.I);Hi(r,"SID",i.K),Hi(r,"RID",e),Hi(r,"AID",i.V),__(i,r),i.o&&i.s&&p_(r,i.o,i.s),e=new n_(i,i.l,e,i.C+1),null===i.o&&(e.I=i.s),n&&(i.j=n.F.concat(i.j)),n=fC(i,e,1e3),e.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),aC(i.i,e),ob(e,r,n)}function __(i,n){i.na&&Th(i.na,function(e,r){Hi(n,r,e)}),i.h&&wT({},function(e,r){Hi(n,r,e)})}function fC(i,n,e){e=Math.min(i.j.length,e);var r=i.h?To(i.h.Va,i.h,i):null;e:{var o=i.j;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=o[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let p=0;p<e;p++){let g=o[p].g;const w=o[p].map;if(g-=s,0>g)s=Math.max(0,o[p].g-100),h=!1;else try{PT(w,l,"req"+g+"_")}catch{r&&r(w)}}if(h){r=l.join("&");break e}}}return i=i.j.splice(0,e),n.F=i,r}function pC(i){if(!i.g&&!i.u){i.ba=1;var n=i.Ma;Yg||pO(),Kg||(Yg(),Kg=!0),jx.add(n,i),i.A=0}}function v_(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=e_(To(i.Ma,i),$T(i,i.A)),i.A++,0))}function hb(i){null!=i.B&&(mn.clearTimeout(i.B),i.B=null)}function jT(i){i.g=new n_(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var n=Gc(i.wa);Hi(n,"RID","rpc"),Hi(n,"SID",i.K),Hi(n,"AID",i.V),Hi(n,"CI",i.G?"0":"1"),!i.G&&i.qa&&Hi(n,"TO",i.qa),Hi(n,"TYPE","xmlhttp"),__(i,n),i.o&&i.s&&p_(n,i.o,i.s),i.L&&i.g.setTimeout(i.L);var e=i.g;i=i.pa,e.L=1,e.v=s_(Gc(n)),e.s=null,e.S=!0,sb(e,i)}function y_(i){null!=i.v&&(mn.clearTimeout(i.v),i.v=null)}function mC(i,n){var e=null;if(i.g==n){y_(i),hb(i),i.g=null;var r=2}else{if(!sC(i.i,n))return;e=n.F,Vp(i.i,n),r=1}if(0!=i.H)if(n.i)if(1==r){e=n.s?n.s.length:0,n=Date.now()-n.G;var o=i.C;qo(r=tb(),new fT(r,e)),g_(i)}else pC(i);else if(3==(o=n.o)||0==o&&0<n.ca||!(1==r&&function ub(i,n){return!(MT(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=n.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=e_(To(i.Na,i,n),$T(i,i.C)),i.C++,0)))}(i,n)||2==r&&v_(i)))switch(e&&0<e.length&&(n=i.i,n.i=n.i.concat(e)),o){case 1:Nh(i,5);break;case 4:Nh(i,10);break;case 3:Nh(i,6);break;default:Nh(i,2)}}function $T(i,n){let e=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(e*=2),e*n}function Nh(i,n){if(i.l.info("Error code "+n),2==n){var e=null;i.h&&(e=null);var r=To(i.pb,i);e||(e=new Rh("//www.google.com/images/cleardot.gif"),mn.location&&"http"==mn.location.protocol||Bp(e,"https"),s_(e)),function NT(i,n){const e=new Xg;if(mn.Image){const r=new Image;r.onload=$g(d_,e,r,"TestLoadImage: loaded",!0,n),r.onerror=$g(d_,e,r,"TestLoadImage: error",!1,n),r.onabort=$g(d_,e,r,"TestLoadImage: abort",!1,n),r.ontimeout=$g(d_,e,r,"TestLoadImage: timeout",!1,n),mn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=i}else n(!1)}(e.toString(),r)}else us(2);i.H=0,i.h&&i.h.za(n),fb(i),HT(i)}function fb(i){if(i.H=0,i.ma=[],i.h){const n=cC(i.i);(0!=n.length||0!=i.j.length)&&(Zk(i.ma,n),Zk(i.ma,i.j),i.i.i.length=0,Px(i.j),i.j.length=0),i.h.ya()}}function pb(i,n,e){var r=e instanceof Rh?Gc(e):new Rh(e);if(""!=r.g)n&&(r.g=n+"."+r.g),o_(r,r.m);else{var o=mn.location;r=o.protocol,n=n?n+"."+o.hostname:o.hostname,o=+o.port;var s=new Rh(null);r&&Bp(s,r),n&&(s.g=n),o&&o_(s,o),e&&(s.l=e),r=s}return n=i.Da,(e=i.F)&&n&&Hi(r,e,n),Hi(r,"VER",i.ra),__(i,r),r}function gC(i,n,e){if(n&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new zi(e&&i.Ha&&!i.va?new u_({ob:!0}):i.va)).Oa(i.J),n}function mb(){}function zp(){if(kp&&!(10<=Number(Xk)))throw Error("Environmental error: no available transport.")}function Ys(i,n){So.call(this),this.g=new UT(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.Ca&&(i?i["X-WebChannel-Client-Profile"]=n.Ca:i={"X-WebChannel-Client-Profile":n.Ca}),this.g.U=i,(i=n&&n.cc)&&!Ih(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ih(n)&&(this.g.F=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new jp(this)}function GT(i){rb.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var n=i.__sm__;if(n){e:{for(const e in n){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function qT(){Kx.call(this),this.status=1}function jp(i){this.g=i}function Ks(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gb(i,n,e){e||(e=0);var r=Array(16);if("string"==typeof n)for(var o=0;16>o;++o)r[o]=n.charCodeAt(e++)|n.charCodeAt(e++)<<8|n.charCodeAt(e++)<<16|n.charCodeAt(e++)<<24;else for(o=0;16>o;++o)r[o]=n[e++]|n[e++]<<8|n[e++]<<16|n[e++]<<24;var s=i.g[3],l=(n=i.g[0])+(s^(e=i.g[1])&((o=i.g[2])^s))+r[0]+3614090360&4294967295;l=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=(e=(o=(s=(n=e+(l<<7&4294967295|l>>>25))+((l=s+(o^n&(e^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^s&(n^e))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(s^n))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=n+(s^e&(o^s))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(o^n&(e^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^s&(n^e))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(s^n))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=n+(s^e&(o^s))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(o^n&(e^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^s&(n^e))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(s^n))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=n+(s^e&(o^s))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(o^n&(e^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(e^s&(n^e))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(n^o&(s^n))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=n+(o^s&(e^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^o&(n^e))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(s^n))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^n&(o^s))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=n+(o^s&(e^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^o&(n^e))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(s^n))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^n&(o^s))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=n+(o^s&(e^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^o&(n^e))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(s^n))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^n&(o^s))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=n+(o^s&(e^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^o&(n^e))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(n^e&(s^n))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^n&(o^s))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=n+(e^o^s)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(n^e^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(s^n^e)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^s^n)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=n+(e^o^s)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(n^e^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(s^n^e)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^s^n)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=n+(e^o^s)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(n^e^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(s^n^e)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^s^n)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=n+(e^o^s)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(n^e^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(s^n^e)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(o^s^n)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=n+(o^(e|~s))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(n|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(n^(s|~e))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(o|~n))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=n+(o^(e|~s))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(n|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(n^(s|~e))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(o|~n))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=n+(o^(e|~s))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(n|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(n^(s|~e))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(o|~n))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(n=e+((l=n+(o^(e|~s))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(n|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=s+((l=o+(n^(s|~e))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~n))+r[9]+3951481745&4294967295,i.g[0]=i.g[0]+n&4294967295,i.g[1]=i.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,i.g[2]=i.g[2]+o&4294967295,i.g[3]=i.g[3]+s&4294967295}function li(i,n){this.h=n;for(var e=[],r=!0,o=i.length-1;0<=o;o--){var s=0|i[o];r&&s==n||(e[o]=s,r=!1)}this.g=e}(wt=zi.prototype).Oa=function(i){this.M=i},wt.ha=function(i,n,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);n=n?n.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qx.g(),this.C=function mT(i){return i.h||(i.h=i.i())}(this.u?this.u:Qx),this.g.onreadystatechange=To(this.La,this);try{this.G=!0,this.g.open(n,String(i),!0),this.G=!1}catch(s){return void f_(this,s)}if(i=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)e.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())e.set(s,r.get(s))}r=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),o=mn.FormData&&i instanceof mn.FormData,!(0<=Wd(qc,n))||r||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of e)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{BT(this),0<this.B&&((this.L=function CO(i){return kp&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=To(this.ua,this)):this.A=Gx(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(s){f_(this,s)}},wt.ua=function(){typeof Rx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qo(this,"timeout"),this.abort(8))},wt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,qo(this,"complete"),qo(this,"abort"),cb(this))},wt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cb(this,!0)),zi.$.N.call(this)},wt.La=function(){this.s||(this.G||this.v||this.l?LT(this):this.kb())},wt.kb=function(){LT(this)},wt.isActive=function(){return!!this.g},wt.da=function(){try{return 2<Zs(this)?this.g.status:-1}catch{return-1}},wt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Wa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),xO(n)}},wt.Ia=function(){return this.m},wt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=UT.prototype).ra=8,wt.H=1,wt.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const o=new n_(this,this.l,i);let s=this.s;if(this.U&&(s?(s=eT(s),qg(s,this.U)):s=this.U),null!==this.o||this.O||(o.I=s,s=null),this.P)e:{for(var n=0,e=0;e<this.j.length;e++){var r=this.j[e];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(n+=r)){n=e;break e}if(4096===n||e===this.j.length-1){n=e+1;break e}}n=1e3}else n=1e3;n=fC(this,o,n),Hi(e=Gc(this.I),"RID",i),Hi(e,"CVER",22),this.F&&Hi(e,"X-HTTP-Session-Id",this.F),__(this,e),s&&(this.O?n="headers="+encodeURIComponent(String(VT(s)))+"&"+n:this.o&&p_(e,this.o,s)),aC(this.i,o),this.bb&&Hi(e,"TYPE","init"),this.P?(Hi(e,"$req",n),Hi(e,"SID","null"),o.aa=!0,ob(o,e,null)):ob(o,e,n),this.H=2}}else 3==this.H&&(i?zT(this,i):0==this.j.length||AT(this.i)||zT(this))},wt.Ma=function(){if(this.u=null,jT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=e_(To(this.jb,this),i)}},wt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,us(10),db(this),jT(this))},wt.ib=function(){null!=this.v&&(this.v=null,db(this),v_(this),us(19))},wt.pb=function(i){i?(this.l.info("Successfully pinged google.com"),us(2)):(this.l.info("Failed to ping google.com"),us(1))},wt.isActive=function(){return!!this.h&&this.h.isActive(this)},(wt=mb.prototype).Ba=function(){},wt.Aa=function(){},wt.za=function(){},wt.ya=function(){},wt.isActive=function(){return!0},wt.Va=function(){},zp.prototype.g=function(i,n){return new Ys(i,n)},to(Ys,So),Ys.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,n=this.l,e=this.h||void 0;us(0),i.Y=n,i.na=e||{},i.G=i.aa,i.I=pb(i,null,i.Y),g_(i)},Ys.prototype.close=function(){lb(this.g)},Ys.prototype.u=function(i){var n=this.g;if("string"==typeof i){var e={};e.__data__=i,i=e}else this.v&&((e={}).__data__=rT(i),i=e);n.j.push(new class{constructor(i,n){this.g=i,this.map=n}}(n.fb++,i)),3==n.H&&g_(n)},Ys.prototype.N=function(){this.g.h=null,delete this.j,lb(this.g),delete this.g,Ys.$.N.call(this)},to(GT,rb),to(qT,Kx),to(jp,mb),jp.prototype.Ba=function(){qo(this.g,"a")},jp.prototype.Aa=function(i){qo(this.g,new GT(i))},jp.prototype.za=function(i){qo(this.g,new qT)},jp.prototype.ya=function(){qo(this.g,"b")},to(Ks,function WT(){this.blockSize=-1}),Ks.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ks.prototype.j=function(i,n){void 0===n&&(n=i.length);for(var e=n-this.blockSize,r=this.m,o=this.h,s=0;s<n;){if(0==o)for(;s<=e;)gb(this,i,s),s+=this.blockSize;if("string"==typeof i){for(;s<n;)if(r[o++]=i.charCodeAt(s++),o==this.blockSize){gb(this,r),o=0;break}}else for(;s<n;)if(r[o++]=i[s++],o==this.blockSize){gb(this,r),o=0;break}}this.h=o,this.i+=n},Ks.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var n=1;n<i.length-8;++n)i[n]=0;var e=8*this.i;for(n=i.length-8;n<i.length;++n)i[n]=255&e,e/=256;for(this.j(i),i=Array(16),n=e=0;4>n;++n)for(var r=0;32>r;r+=8)i[e++]=this.g[n]>>>r&255;return i};var ZT={};function _b(i){return-128<=i&&128>i?function yB(i,n){var e=ZT;return Object.prototype.hasOwnProperty.call(e,i)?e[i]:e[i]=n(i)}(i,function(n){return new li([0|n],0>n?-1:0)}):new li([0|i],0>i?-1:0)}function Wc(i){if(isNaN(i)||!isFinite(i))return $p;if(0>i)return Mo(Wc(-i));for(var n=[],e=1,r=0;i>=e;r++)n[r]=i/e|0,e*=vb;return new li(n,0)}var vb=4294967296,$p=_b(0),yb=_b(1),vC=_b(16777216);function _r(i){if(0!=i.h)return!1;for(var n=0;n<i.g.length;n++)if(0!=i.g[n])return!1;return!0}function Ao(i){return-1==i.h}function Mo(i){for(var n=i.g.length,e=[],r=0;r<n;r++)e[r]=~i.g[r];return new li(e,~i.h).add(yb)}function bb(i,n){return i.add(Mo(n))}function yC(i,n){for(;(65535&i[n])!=i[n];)i[n+1]+=i[n]>>>16,i[n]&=65535,n++}function wb(i,n){this.g=i,this.h=n}function b_(i,n){if(_r(n))throw Error("division by zero");if(_r(i))return new wb($p,$p);if(Ao(i))return n=b_(Mo(i),n),new wb(Mo(n.g),Mo(n.h));if(Ao(n))return n=b_(i,Mo(n)),new wb(Mo(n.g),n.h);if(30<i.g.length){if(Ao(i)||Ao(n))throw Error("slowDivide_ only works with positive integers.");for(var e=yb,r=n;0>=r.X(i);)e=xb(e),r=xb(r);var o=Zc(e,1),s=Zc(r,1);for(r=Zc(r,2),e=Zc(e,2);!_r(r);){var l=s.add(r);0>=l.X(i)&&(o=o.add(e),s=l),r=Zc(r,1),e=Zc(e,1)}return n=bb(i,o.R(n)),new wb(o,n)}for(o=$p;0<=i.X(n);){for(e=Math.max(1,Math.floor(i.ea()/n.ea())),r=48>=(r=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,r-48),l=(s=Wc(e)).R(n);Ao(l)||0<l.X(i);)l=(s=Wc(e-=r)).R(n);_r(s)&&(s=yb),o=o.add(s),i=bb(i,l)}return new wb(o,i)}function xb(i){for(var n=i.g.length+1,e=[],r=0;r<n;r++)e[r]=i.D(r)<<1|i.D(r-1)>>>31;return new li(e,i.h)}function Zc(i,n){var e=n>>5;n%=32;for(var r=i.g.length-e,o=[],s=0;s<r;s++)o[s]=0<n?i.D(s+e)>>>n|i.D(s+e+1)<<32-n:i.D(s+e);return new li(o,i.h)}(wt=li.prototype).ea=function(){if(Ao(this))return-Mo(this).ea();for(var i=0,n=1,e=0;e<this.g.length;e++){var r=this.D(e);i+=(0<=r?r:vb+r)*n,n*=vb}return i},wt.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(_r(this))return"0";if(Ao(this))return"-"+Mo(this).toString(i);for(var n=Wc(Math.pow(i,6)),e=this,r="";;){var o=b_(e,n).g,s=((0<(e=bb(e,o.R(n))).g.length?e.g[0]:e.h)>>>0).toString(i);if(_r(e=o))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},wt.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},wt.X=function(i){return Ao(i=bb(this,i))?-1:_r(i)?0:1},wt.abs=function(){return Ao(this)?Mo(this):this},wt.add=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0,o=0;o<=n;o++){var s=r+(65535&this.D(o))+(65535&i.D(o)),l=(s>>>16)+(this.D(o)>>>16)+(i.D(o)>>>16);r=l>>>16,e[o]=(l&=65535)<<16|(s&=65535)}return new li(e,-2147483648&e[e.length-1]?-1:0)},wt.R=function(i){if(_r(this)||_r(i))return $p;if(Ao(this))return Ao(i)?Mo(this).R(Mo(i)):Mo(Mo(this).R(i));if(Ao(i))return Mo(this.R(Mo(i)));if(0>this.X(vC)&&0>i.X(vC))return Wc(this.ea()*i.ea());for(var n=this.g.length+i.g.length,e=[],r=0;r<2*n;r++)e[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<i.g.length;o++){var s=this.D(r)>>>16,l=65535&this.D(r),h=i.D(o)>>>16,p=65535&i.D(o);e[2*r+2*o]+=l*p,yC(e,2*r+2*o),e[2*r+2*o+1]+=s*p,yC(e,2*r+2*o+1),e[2*r+2*o+1]+=l*h,yC(e,2*r+2*o+1),e[2*r+2*o+2]+=s*h,yC(e,2*r+2*o+2)}for(r=0;r<n;r++)e[r]=e[2*r+1]<<16|e[2*r];for(r=n;r<2*n;r++)e[r]=0;return new li(e,0)},wt.gb=function(i){return b_(this,i).h},wt.and=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0;r<n;r++)e[r]=this.D(r)&i.D(r);return new li(e,this.h&i.h)},wt.or=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0;r<n;r++)e[r]=this.D(r)|i.D(r);return new li(e,this.h|i.h)},wt.xor=function(i){for(var n=Math.max(this.g.length,i.g.length),e=[],r=0;r<n;r++)e[r]=this.D(r)^i.D(r);return new li(e,this.h^i.h)},zp.prototype.createWebChannel=zp.prototype.g,Ys.prototype.send=Ys.prototype.u,Ys.prototype.open=Ys.prototype.m,Ys.prototype.close=Ys.prototype.close,ib.NO_ERROR=0,ib.TIMEOUT=8,ib.HTTP_ERROR=6,pT.COMPLETE="complete",gT.EventType=Np,Np.OPEN="a",Np.CLOSE="b",Np.ERROR="c",Np.MESSAGE="d",So.prototype.listen=So.prototype.O,zi.prototype.listenOnce=zi.prototype.P,zi.prototype.getLastError=zi.prototype.Sa,zi.prototype.getLastErrorCode=zi.prototype.Ia,zi.prototype.getStatus=zi.prototype.da,zi.prototype.getResponseJson=zi.prototype.Wa,zi.prototype.getResponseText=zi.prototype.ja,zi.prototype.send=zi.prototype.ha,zi.prototype.setWithCredentials=zi.prototype.Oa,Ks.prototype.digest=Ks.prototype.l,Ks.prototype.reset=Ks.prototype.reset,Ks.prototype.update=Ks.prototype.j,li.prototype.add=li.prototype.add,li.prototype.multiply=li.prototype.R,li.prototype.modulo=li.prototype.gb,li.prototype.compare=li.prototype.X,li.prototype.toNumber=li.prototype.ea,li.prototype.toString=li.prototype.toString,li.prototype.getBits=li.prototype.D,li.fromNumber=Wc,li.fromString=function _C(i,n){if(0==i.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==i.charAt(0))return Mo(_C(i.substring(1),n));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Wc(Math.pow(n,8)),r=$p,o=0;o<i.length;o+=8){var s=Math.min(8,i.length-o),l=parseInt(i.substring(o,o+s),n);8>s?(s=Wc(Math.pow(n,s)),r=r.R(s).add(Wc(l))):r=(r=r.R(e)).add(Wc(l))}return r};var DO=nc.createWebChannelTransport=function(){return new zp},bC=nc.getStatEventTarget=function(){return tb()},wC=nc.ErrorCode=ib,YT=nc.EventType=pT,IO=nc.Event=Ah,KT=nc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kO=nc.FetchXmlHttpFactory=u_,Gp=nc.WebChannel=gT,QT=nc.XhrIo=zi,TO=nc.Md5=Ks,Bl=nc.Integer=li;const Cb="@firebase/firestore";class Ro{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ro.UNAUTHENTICATED=new Ro(null),Ro.GOOGLE_CREDENTIALS=new Ro("google-credentials-uid"),Ro.FIRST_PARTY=new Ro("first-party-uid"),Ro.MOCK_USER=new Ro("mock-user");let Fh="9.23.0";const Zd=new Xr.Yd("@firebase/firestore");function Eb(){return Zd.logLevel}function Ke(i,...n){if(Zd.logLevel<=Xr.in.DEBUG){const e=n.map(XT);Zd.debug(`Firestore (${Fh}): ${i}`,...e)}}function Tr(i,...n){if(Zd.logLevel<=Xr.in.ERROR){const e=n.map(XT);Zd.error(`Firestore (${Fh}): ${i}`,...e)}}function Ps(i,...n){if(Zd.logLevel<=Xr.in.WARN){const e=n.map(XT);Zd.warn(`Firestore (${Fh}): ${i}`,...e)}}function XT(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function kt(i="Unexpected state"){const n=`FIRESTORE (${Fh}) INTERNAL ASSERTION FAILED: `+i;throw Tr(n),new Error(n)}function Ht(i,n){i||kt()}function bt(i,n){return i}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends j.ZR{constructor(n,e){super(n,e),this.code=n,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((n,e)=>{this.resolve=n,this.reject=e})}}class JT{constructor(n,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class eS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,e){n.enqueueRetryable(()=>e(Ro.UNAUTHENTICATED))}shutdown(){}}class tS{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,e){this.changeListener=e,n.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class AO{constructor(n){this.t=n,this.currentUser=Ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,e){var r=this;let o=this.i;const s=g=>this.i!==o?(o=this.i,e(g)):Promise.resolve();let l=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Zr,n.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=l;n.enqueueRetryable((0,Ee.Z)(function*(){yield g.promise,yield s(r.currentUser)}))},p=g=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Zr)}},0),h()}getToken(){const n=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==n?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new JT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Ht(null===n||"string"==typeof n),new Ro(n)}}class MO{constructor(n,e,r){this.h=n,this.l=e,this.m=r,this.type="FirstParty",this.user=Ro.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const n=this.p();return n&&this.g.set("Authorization",n),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nS{constructor(n,e,r){this.h=n,this.l=e,this.m=r}getToken(){return Promise.resolve(new MO(this.h,this.l,this.m))}start(n,e){n.enqueueRetryable(()=>e(Ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iS{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rS{constructor(n){this.I=n,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(n,e){const r=s=>{null!=s.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{n.enqueueRetryable(()=>r(s))};const o=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?o(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(e=>e?(Ht("string"==typeof e.token),this.T=e.token,new iS(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oS(i){const n=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class xC{static A(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=oS(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[s]%62))}return r}}function fn(i,n){return i<n?-1:i>n?1:0}function Wp(i,n,e){return i.length===n.length&&i.every((r,o)=>e(r,n[o]))}function OO(i){return i+"\0"}class Wi{constructor(n,e){if(this.seconds=n,this.nanoseconds=e,e<0)throw new ze(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(n<-62135596800)throw new ze(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ze(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Wi.fromMillis(Date.now())}static fromDate(n){return Wi.fromMillis(n.getTime())}static fromMillis(n){const e=Math.floor(n/1e3),r=Math.floor(1e6*(n-1e3*e));return new Wi(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?fn(this.nanoseconds,n.nanoseconds):fn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(n){this.timestamp=n}static fromTimestamp(n){return new $t(n)}static min(){return new $t(new Wi(0,0))}static max(){return new $t(new Wi(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Db{constructor(n,e,r){void 0===e?e=0:e>n.length&&kt(),void 0===r?r=n.length-e:r>n.length-e&&kt(),this.segments=n,this.offset=e,this.len=r}get length(){return this.len}isEqual(n){return 0===Db.comparator(this,n)}child(n){const e=this.segments.slice(this.offset,this.limit());return n instanceof Db?n.forEach(r=>{e.push(r)}):e.push(n),this.construct(e)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0}forEach(n){for(let e=this.offset,r=this.limit();e<r;e++)n(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,e){const r=Math.min(n.length,e.length);for(let o=0;o<r;o++){const s=n.get(o),l=e.get(o);if(s<l)return-1;if(s>l)return 1}return n.length<e.length?-1:n.length>e.length?1:0}}class $n extends Db{construct(n,e,r){return new $n(n,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const e=[];for(const r of n){if(r.indexOf("//")>=0)throw new ze(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new $n(e)}static emptyPath(){return new $n([])}}const wB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Db{construct(n,e,r){return new Br(n,e,r)}static isValidIdentifier(n){return wB.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(n){const e=[];let r="",o=0;const s=()=>{if(0===r.length)throw new ze(ye.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let l=!1;for(;o<n.length;){const h=n[o];if("\\"===h){if(o+1===n.length)throw new ze(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const p=n[o+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ze(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=p,o+=2}else"`"===h?(l=!l,o++):"."!==h||l?(r+=h,o++):(s(),o++)}if(s(),l)throw new ze(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Br(e)}static emptyPath(){return new Br([])}}class vt{constructor(n){this.path=n}static fromPath(n){return new vt($n.fromString(n))}static fromName(n){return new vt($n.fromString(n).popFirst(5))}static empty(){return new vt($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===$n.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,e){return $n.comparator(n.path,e.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new vt(new $n(n.slice()))}}class CC{constructor(n,e,r,o){this.indexId=n,this.collectionGroup=e,this.fields=r,this.indexState=o}}function sS(i){return i.fields.find(n=>2===n.kind)}function Zp(i){return i.fields.filter(n=>2!==n.kind)}CC.UNKNOWN_ID=-1;class Yp{constructor(n,e){this.fieldPath=n,this.kind=e}}class w_{constructor(n,e){this.sequenceNumber=n,this.offset=e}static empty(){return new w_(0,Ia.min())}}function x_(i,n){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=$t.fromTimestamp(1e9===r?new Wi(e+1,0):new Wi(e,r));return new Ia(o,vt.empty(),n)}function lS(i){return new Ia(i.readTime,i.key,-1)}class Ia{constructor(n,e,r){this.readTime=n,this.documentKey=e,this.largestBatchId=r}static min(){return new Ia($t.min(),vt.empty(),-1)}static max(){return new Ia($t.max(),vt.empty(),-1)}}function dS(i,n){let e=i.readTime.compareTo(n.readTime);return 0!==e?e:(e=vt.comparator(i.documentKey,n.documentKey),0!==e?e:fn(i.largestBatchId,n.largestBatchId))}const PO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Yd(i){return DC.apply(this,arguments)}function DC(){return DC=(0,Ee.Z)(function*(i){if(i.code!==ye.FAILED_PRECONDITION||i.message!==PO)throw i;Ke("LocalStore","Unexpectedly lost primary lease")}),DC.apply(this,arguments)}class ge{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(n){return this.next(void 0,n)}next(n,e){return this.callbackAttached&&kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(n,this.result):new ge((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(n,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,o)}})}toPromise(){return new Promise((n,e)=>{this.next(n,e)})}wrapUserFunction(n){try{const e=n();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(n,e){return n?this.wrapUserFunction(()=>n(e)):ge.resolve(e)}wrapFailure(n,e){return n?this.wrapUserFunction(()=>n(e)):ge.reject(e)}static resolve(n){return new ge((e,r)=>{e(n)})}static reject(n){return new ge((e,r)=>{r(n)})}static waitFor(n){return new ge((e,r)=>{let o=0,s=0,l=!1;n.forEach(h=>{++o,h.next(()=>{++s,l&&s===o&&e()},p=>r(p))}),l=!0,s===o&&e()})}static or(n){let e=ge.resolve(!1);for(const r of n)e=e.next(o=>o?ge.resolve(o):r());return e}static forEach(n,e){const r=[];return n.forEach((o,s)=>{r.push(e.call(this,o,s))}),this.waitFor(r)}static mapArray(n,e){return new ge((r,o)=>{const s=n.length,l=new Array(s);let h=0;for(let p=0;p<s;p++){const g=p;e(n[g]).next(w=>{l[g]=w,++h,h===s&&r(l)},w=>o(w))}})}static doWhile(n,e){return new ge((r,o)=>{const s=()=>{!0===n()?e().next(()=>{s()},o):r()};s()})}}class IC{constructor(n,e){this.action=n,this.transaction=e,this.aborted=!1,this.v=new Zr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Kp(n,e.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=kb(r.target.error);this.v.reject(new Kp(n,o))}}static open(n,e,r,o){try{return new IC(e,n.transaction(o,r))}catch(s){throw new Kp(e,s)}}get R(){return this.v.promise}abort(n){n&&this.v.reject(n),this.aborted||(Ke("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const e=this.transaction.objectStore(n);return new oc(e)}}class rc{constructor(n,e,r){this.name=n,this.version=e,this.V=r,12.2===rc.S((0,j.z$)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ke("SimpleDb","Removing database:",n),Bh(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,j.hl)())return!1;if(rc.C())return!0;const n=(0,j.z$)(),e=rc.S(n),r=0<e&&e<10,o=rc.N(n),s=0<o&&o<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||r||s)}static C(){var n;return typeof process<"u"&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.k)}static M(n,e){return n.store(e)}static S(n){const e=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(n){var e=this;return(0,Ee.Z)(function*(){return e.db||(Ke("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=l=>{r(l.target.result)},s.onblocked=()=>{o(new Kp(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;o("VersionError"===h.name?new ze(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ze(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Kp(n,h))},s.onupgradeneeded=l=>{Ke("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,s.transaction,l.oldVersion,e.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=r=>e.F(r)),e.db})()}B(n){this.F=n,this.db&&(this.db.onversionchange=e=>n(e))}runTransaction(n,e,r,o){var s=this;return(0,Ee.Z)(function*(){const l="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.$(n);const p=IC.open(s.db,n,l?"readonly":"readwrite",r),g=o(p).next(w=>(p.P(),w)).catch(w=>(p.abort(w),ge.reject(w))).toPromise();return g.catch(()=>{}),yield p.R,g}catch(p){const g=p,w="FirebaseError"!==g.name&&h<3;if(Ke("SimpleDb","Transaction failed with error:",g.message,"Retrying:",w),s.close(),!w)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uS{constructor(n){this.L=n,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(n){this.L=n}done(){this.q=!0}G(n){this.U=n}delete(){return Bh(this.L.delete())}}class Kp extends ze{constructor(n,e){super(ye.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Lh(i){return"IndexedDbTransactionError"===i.name}class oc{constructor(n){this.store=n}put(n,e){let r;return void 0!==e?(Ke("SimpleDb","PUT",this.store.name,n,e),r=this.store.put(e,n)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",n),r=this.store.put(n)),Bh(r)}add(n){return Ke("SimpleDb","ADD",this.store.name,n,n),Bh(this.store.add(n))}get(n){return Bh(this.store.get(n)).next(e=>(void 0===e&&(e=null),Ke("SimpleDb","GET",this.store.name,n,e),e))}delete(n){return Ke("SimpleDb","DELETE",this.store.name,n),Bh(this.store.delete(n))}count(){return Ke("SimpleDb","COUNT",this.store.name),Bh(this.store.count())}j(n,e){const r=this.options(n,e);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),s=[];return this.W(o,(l,h)=>{s.push(h)}).next(()=>s)}{const o=this.store.getAll(r.range);return new ge((s,l)=>{o.onerror=h=>{l(h.target.error)},o.onsuccess=h=>{s(h.target.result)}})}}H(n,e){const r=this.store.getAll(n,null===e?void 0:e);return new ge((o,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(n,e){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(n,e);r.Y=!1;const o=this.cursor(r);return this.W(o,(s,l,h)=>h.delete())}X(n,e){let r;e?r=n:(r={},e=n);const o=this.cursor(r);return this.W(o,e)}Z(n){const e=this.cursor({});return new ge((r,o)=>{e.onerror=s=>{const l=kb(s.target.error);o(l)},e.onsuccess=s=>{const l=s.target.result;l?n(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}W(n,e){const r=[];return new ge((o,s)=>{n.onerror=l=>{s(l.target.error)},n.onsuccess=l=>{const h=l.target.result;if(!h)return void o();const p=new uS(h),g=e(h.primaryKey,h.value,p);if(g instanceof ge){const w=g.catch(E=>(p.done(),ge.reject(E)));r.push(w)}p.isDone?o():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ge.waitFor(r))}options(n,e){let r;return void 0!==n&&("string"==typeof n?r=n:e=n),{index:r,range:e}}cursor(n){let e="next";if(n.reverse&&(e="prev"),n.index){const r=this.store.index(n.index);return n.Y?r.openKeyCursor(n.range,e):r.openCursor(n.range,e)}return this.store.openCursor(n.range,e)}}function Bh(i){return new ge((n,e)=>{i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{const o=kb(r.target.error);e(o)}})}let Ib=!1;function kb(i){const n=rc.S((0,j.z$)());if(n>=12.2&&n<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ib||(Ib=!0,setTimeout(()=>{throw r},0)),r}}return i}class NO{constructor(n,e){this.asyncQueue=n,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(n){var e=this;Ke("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ee.Z)(function*(){e.task=null;try{Ke("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(r){Lh(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Yd(r)}yield e.et(6e4)}))}}class xB{constructor(n,e){this.localStore=n,this.persistence=e}nt(n=50){var e=this;return(0,Ee.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,n))})()}st(n,e){const r=new Set;let o=e,s=!0;return ge.doWhile(()=>!0===s&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(l=>{if(null!==l&&!r.has(l))return Ke("IndexBackiller",`Processing collection: ${l}`),this.it(n,l,o).next(h=>{o-=h,r.add(l)});s=!1})).next(()=>e-o)}it(n,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,e).next(o=>this.localStore.localDocuments.getNextDocuments(n,e,o,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(n,l).next(()=>this.rt(o,s)).next(h=>(Ke("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(n,e,h))).next(()=>l.size)}))}rt(n,e){let r=n;return e.changes.forEach((o,s)=>{const l=lS(s);dS(l,r)>0&&(r=l)}),new Ia(r.readTime,r.documentKey,Math.max(e.batchId,n.largestBatchId))}}let Mi=(()=>{class i{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return i.ct=-1,i})();function C_(i){return null==i}function Vh(i){return 0===i&&1/i==-1/0}function hS(i){return"number"==typeof i&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Wo(i){let n="";for(let e=0;e<i.length;e++)n.length>0&&(n=TC(n)),n=kC(i.get(e),n);return TC(n)}function kC(i,n){let e=n;const r=i.length;for(let o=0;o<r;o++){const s=i.charAt(o);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function TC(i){return i+"\x01\x01"}function sc(i){const n=i.length;if(Ht(n>=2),2===n)return Ht("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),$n.emptyPath();const e=n-2,r=[];let o="";for(let s=0;s<n;){const l=i.indexOf("\x01",s);switch((l<0||l>e)&&kt(),i.charAt(l+1)){case"\x01":const h=i.substring(s,l);let p;0===o.length?p=h:(o+=h,p=o,o=""),r.push(p);break;case"\x10":o+=i.substring(s,l),o+="\0";break;case"\x11":o+=i.substring(s,l+1);break;default:kt()}s=l+2}return new $n(r)}const fS=["userId","batchId"];function E_(i,n){return[i,Wo(n)]}function SC(i,n,e){return[i,Wo(n),e]}const pS={},mS=["prefixPath","collectionGroup","readTime","documentId"],FO=["prefixPath","collectionGroup","documentId"],gS=["collectionGroup","readTime","prefixPath","documentId"],LO=["canonicalId","targetId"],AC=["targetId","path"],Kd=["path","targetId"],_S=["collectionId","parent"],MC=["indexId","uid"],RC=["uid","sequenceNumber"],BO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CB=["indexId","uid","orderedDocumentKey"],vS=["userId","collectionPath","documentId"],VO=["userId","collectionPath","largestBatchId"],UO=["userId","collectionGroup","largestBatchId"],yS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HO=[...yS,"documentOverlays"],OC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zO=OC,bS=[...zO,"indexConfiguration","indexState","indexEntries"];class PC extends EC{constructor(n,e){super(),this.ht=n,this.currentSequenceNumber=e}}function no(i,n){const e=bt(i);return rc.M(e.ht,n)}function jO(i){let n=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&n++;return n}function Yc(i,n){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&n(e,i[e])}function NC(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Ri{constructor(n,e){this.comparator=n,this.root=e||mo.EMPTY}insert(n,e){return new Ri(this.comparator,this.root.insert(n,e,this.comparator).copy(null,null,mo.BLACK,null,null))}remove(n){return new Ri(this.comparator,this.root.remove(n,this.comparator).copy(null,null,mo.BLACK,null,null))}get(n){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(n,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(n){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(n,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((e,r)=>(n(e,r),!1))}toString(){const n=[];return this.inorderTraversal((e,r)=>(n.push(`${e}:${r}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Tb(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Tb(this.root,n,this.comparator,!1)}getReverseIterator(){return new Tb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Tb(this.root,n,this.comparator,!0)}}class Tb{constructor(n,e,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!n.isEmpty();)if(s=e?r(n.key,e):1,e&&o&&(s*=-1),s<0)n=this.isReverse?n.left:n.right;else{if(0===s){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const e={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class mo{constructor(n,e,r,o,s){this.key=n,this.value=e,this.color=r??mo.RED,this.left=o??mo.EMPTY,this.right=s??mo.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,e,r,o,s){return new mo(n??this.key,e??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,e,r){let o=this;const s=r(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,e,r),null):0===s?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(n,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mo.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,e){let r,o=this;if(e(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(n,o.key)){if(o.right.isEmpty())return mo.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,mo.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,mo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,e)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kt();const n=this.left.check();if(n!==this.right.check())throw kt();return n+(this.isRed()?0:1)}}mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1,mo.EMPTY=new class{constructor(){this.size=0}get key(){throw kt()}get value(){throw kt()}get color(){throw kt()}get left(){throw kt()}get right(){throw kt()}copy(i,n,e,r,o){return this}insert(i,n,e){return new mo(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ji{constructor(n){this.comparator=n,this.data=new Ri(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((e,r)=>(n(e),!1))}forEachInRange(n,e){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,n[1])>=0)return;e(o.key)}}forEachWhile(n,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const e=this.data.getIteratorFrom(n);return e.hasNext()?e.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(n){return new Uh(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let e=this;return e.size<n.size&&(e=n,n=this),n.forEach(r=>{e=e.add(r)}),e}isEqual(n){if(!(n instanceof ji)||this.size!==n.size)return!1;const e=this.data.getIterator(),r=n.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,s=r.getNext().key;if(0!==this.comparator(o,s))return!1}return!0}toArray(){const n=[];return this.forEach(e=>{n.push(e)}),n}toString(){const n=[];return this.forEach(e=>n.push(e)),"SortedSet("+n.toString()+")"}copy(n){const e=new ji(this.comparator);return e.data=n,e}}class Uh{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vl(i){return i.hasNext()?i.getNext():void 0}class hs{constructor(n){this.fields=n,n.sort(Br.comparator)}static empty(){return new hs([])}unionWith(n){let e=new ji(Br.comparator);for(const r of this.fields)e=e.add(r);for(const r of n)e=e.add(r);return new hs(e.toArray())}covers(n){for(const e of this.fields)if(e.isPrefixOf(n))return!0;return!1}isEqual(n){return Wp(this.fields,n.fields,(e,r)=>e.isEqual(r))}}class FC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class io{constructor(n){this.binaryString=n}static fromBase64String(n){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FC("Invalid base64 string: "+o):o}}(n);return new io(e)}static fromUint8Array(n){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(n);return new io(e)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const e=new Uint8Array(n.length);for(let r=0;r<n.length;r++)e[r]=n.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return fn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}io.EMPTY_BYTE_STRING=new io("");const EB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(i){if(Ht(!!i),"string"==typeof i){let n=0;const e=EB.exec(i);if(Ht(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),n=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:Sr(i.seconds),nanos:Sr(i.nanos)}}function Sr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Hl(i){return"string"==typeof i?io.fromBase64String(i):io.fromUint8Array(i)}function LC(i){var n,e;return"server_timestamp"===(null===(e=((null===(n=i?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function BC(i){const n=i.mapValue.fields.__previous_value__;return LC(n)?BC(n):n}function Sb(i){const n=Ul(i.mapValue.fields.__local_write_time__.timestampValue);return new Wi(n.seconds,n.nanos)}class wS{constructor(n,e,r,o,s,l,h,p,g){this.databaseId=n,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}class Qd{constructor(n,e){this.projectId=n,this.database=e||"(default)"}static empty(){return new Qd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Qd&&n.projectId===this.projectId&&n.database===this.database}}const Xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ab={nullValue:"NULL_VALUE"};function Hh(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?LC(i)?4:Nb(i)?9007199254740991:10:kt()}function zl(i,n){if(i===n)return!0;const e=Hh(i);if(e!==Hh(n))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Sb(i).isEqual(Sb(n));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Ul(r.timestampValue),l=Ul(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return o=n,Hl(i.bytesValue).isEqual(Hl(o.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(r,o){return Sr(r.geoPointValue.latitude)===Sr(o.geoPointValue.latitude)&&Sr(r.geoPointValue.longitude)===Sr(o.geoPointValue.longitude)}(i,n);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Sr(r.integerValue)===Sr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Sr(r.doubleValue),l=Sr(o.doubleValue);return s===l?Vh(s)===Vh(l):isNaN(s)&&isNaN(l)}return!1}(i,n);case 9:return Wp(i.arrayValue.values||[],n.arrayValue.values||[],zl);case 10:return function(r,o){const s=r.mapValue.fields||{},l=o.mapValue.fields||{};if(jO(s)!==jO(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!zl(s[h],l[h])))return!1;return!0}(i,n);default:return kt()}var o}function Mb(i,n){return void 0!==(i.values||[]).find(e=>zl(e,n))}function zh(i,n){if(i===n)return 0;const e=Hh(i),r=Hh(n);if(e!==r)return fn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return fn(i.booleanValue,n.booleanValue);case 2:return function(o,s){const l=Sr(o.integerValue||o.doubleValue),h=Sr(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(i,n);case 3:return GO(i.timestampValue,n.timestampValue);case 4:return GO(Sb(i),Sb(n));case 5:return fn(i.stringValue,n.stringValue);case 6:return function(o,s){const l=Hl(o),h=Hl(s);return l.compareTo(h)}(i.bytesValue,n.bytesValue);case 7:return function(o,s){const l=o.split("/"),h=s.split("/");for(let p=0;p<l.length&&p<h.length;p++){const g=fn(l[p],h[p]);if(0!==g)return g}return fn(l.length,h.length)}(i.referenceValue,n.referenceValue);case 8:return function(o,s){const l=fn(Sr(o.latitude),Sr(s.latitude));return 0!==l?l:fn(Sr(o.longitude),Sr(s.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(o,s){const l=o.values||[],h=s.values||[];for(let p=0;p<l.length&&p<h.length;++p){const g=zh(l[p],h[p]);if(g)return g}return fn(l.length,h.length)}(i.arrayValue,n.arrayValue);case 10:return function(o,s){if(o===Xd.mapValue&&s===Xd.mapValue)return 0;if(o===Xd.mapValue)return 1;if(s===Xd.mapValue)return-1;const l=o.fields||{},h=Object.keys(l),p=s.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let w=0;w<h.length&&w<g.length;++w){const E=fn(h[w],g[w]);if(0!==E)return E;const S=zh(l[h[w]],p[g[w]]);if(0!==S)return S}return fn(h.length,g.length)}(i.mapValue,n.mapValue);default:throw kt()}}function GO(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return fn(i,n);const e=Ul(i),r=Ul(n),o=fn(e.seconds,r.seconds);return 0!==o?o:fn(e.nanos,r.nanos)}function Qp(i){return Xp(i)}function Xp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=Ul(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Hl(i.bytesValue).toBase64():"referenceValue"in i?vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(r){let o="[",s=!0;for(const l of r.values||[])s?s=!1:o+=",",o+=Xp(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const h of o)l?l=!1:s+=",",s+=`${h}:${Xp(r.fields[h])}`;return s+"}"}(i.mapValue):kt();var n}function jh(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function Ob(i){return!!i&&"integerValue"in i}function ac(i){return!!i&&"arrayValue"in i}function VC(i){return!!i&&"nullValue"in i}function Pb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Jp(i){return!!i&&"mapValue"in i}function D_(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Yc(i.mapValue.fields,(e,r)=>n.mapValue.fields[e]=D_(r)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)n.arrayValue.values[e]=D_(i.arrayValue.values[e]);return n}return Object.assign({},i)}function Nb(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function UC(i){return"nullValue"in i?Ab:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?jh(Qd.empty(),vt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:kt()}function Fb(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?jh(Qd.empty(),vt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Xd:kt()}function qO(i,n){const e=zh(i.value,n.value);return 0!==e?e:i.inclusive&&!n.inclusive?-1:!i.inclusive&&n.inclusive?1:0}function WO(i,n){const e=zh(i.value,n.value);return 0!==e?e:i.inclusive&&!n.inclusive?1:!i.inclusive&&n.inclusive?-1:0}class Zo{constructor(n){this.value=n}static empty(){return new Zo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let e=this.value;for(let r=0;r<n.length-1;++r)if(e=(e.mapValue.fields||{})[n.get(r)],!Jp(e))return null;return e=(e.mapValue.fields||{})[n.lastSegment()],e||null}}set(n,e){this.getFieldsMap(n.popLast())[n.lastSegment()]=D_(e)}setAll(n){let e=Br.emptyPath(),r={},o=[];n.forEach((l,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=h.popLast()}l?r[h.lastSegment()]=D_(l):o.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,o)}delete(n){const e=this.field(n.popLast());Jp(e)&&e.mapValue.fields&&delete e.mapValue.fields[n.lastSegment()]}isEqual(n){return zl(this.value,n.value)}getFieldsMap(n){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<n.length;++r){let o=e.mapValue.fields[n.get(r)];Jp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[n.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(n,e,r){Yc(e,(o,s)=>n[o]=s);for(const o of r)delete n[o]}clone(){return new Zo(D_(this.value))}}function HC(i){const n=[];return Yc(i.fields,(e,r)=>{const o=new Br([e]);if(Jp(r)){const s=HC(r.mapValue).fields;if(0===s.length)n.push(o);else for(const l of s)n.push(o.child(l))}else n.push(o)}),new hs(n)}class Zi{constructor(n,e,r,o,s,l,h){this.key=n,this.documentType=e,this.version=r,this.readTime=o,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(n){return new Zi(n,0,$t.min(),$t.min(),$t.min(),Zo.empty(),0)}static newFoundDocument(n,e,r,o){return new Zi(n,1,e,$t.min(),r,o,0)}static newNoDocument(n,e){return new Zi(n,2,e,$t.min(),$t.min(),Zo.empty(),0)}static newUnknownDocument(n,e){return new Zi(n,3,e,$t.min(),$t.min(),Zo.empty(),2)}convertToFoundDocument(n,e){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Zo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Zi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jd{constructor(n,e){this.position=n,this.inclusive=e}}function xS(i,n,e){let r=0;for(let o=0;o<i.position.length;o++){const s=n[o],l=i.position[o];if(r=s.field.isKeyField()?vt.comparator(vt.fromName(l.referenceValue),e.key):zh(l,e.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function CS(i,n){if(null===i)return null===n;if(null===n||i.inclusive!==n.inclusive||i.position.length!==n.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!zl(i.position[e],n.position[e]))return!1;return!0}class $h{constructor(n,e="asc"){this.field=n,this.dir=e}}function ES(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}class zC{}class Ln extends zC{constructor(n,e,r){super(),this.field=n,this.op=e,this.value=r}static create(n,e,r){return n.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(n,e,r):new DB(n,e,r):"array-contains"===e?new QO(n,r):"in"===e?new $C(n,r):"not-in"===e?new SS(n,r):"array-contains-any"===e?new IB(n,r):new Ln(n,e,r)}static createKeyFieldInFilter(n,e,r){return"in"===e?new YO(n,r):new KO(n,r)}matches(n){const e=n.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(zh(e,this.value)):null!==e&&Hh(this.value)===Hh(e)&&this.matchesComparison(zh(e,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hi extends zC{constructor(n,e){super(),this.filters=n,this.op=e,this.lt=null}static create(n,e){return new hi(n,e)}matches(n){return Gh(this)?void 0===this.filters.find(e=>!e.matches(n)):void 0!==this.filters.find(e=>e.matches(n))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((n,e)=>n.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const n=this.ft(e=>e.isInequality());return null!==n?n.field:null}ft(n){for(const e of this.getFlattenedFilters())if(n(e))return e;return null}}function Gh(i){return"and"===i.op}function I_(i){return"or"===i.op}function DS(i){return jC(i)&&Gh(i)}function jC(i){for(const n of i.filters)if(n instanceof hi)return!1;return!0}function k_(i){if(i instanceof Ln)return i.field.canonicalString()+i.op.toString()+Qp(i.value);if(DS(i))return i.filters.map(n=>k_(n)).join(",");{const n=i.filters.map(e=>k_(e)).join(",");return`${i.op}(${n})`}}function IS(i,n){return i instanceof Ln?(e=i,(r=n)instanceof Ln&&e.op===r.op&&e.field.isEqual(r.field)&&zl(e.value,r.value)):i instanceof hi?function(e,r){return r instanceof hi&&e.op===r.op&&e.filters.length===r.filters.length&&e.filters.reduce((o,s,l)=>o&&IS(s,r.filters[l]),!0)}(i,n):void kt();var e,r}function kS(i,n){const e=i.filters.concat(n);return hi.create(e,i.op)}function ZO(i){return i instanceof Ln?`${(n=i).field.canonicalString()} ${n.op} ${Qp(n.value)}`:i instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(ZO).join(" ,")+"}"}(i):"Filter";var n}class DB extends Ln{constructor(n,e,r){super(n,e,r),this.key=vt.fromName(r.referenceValue)}matches(n){const e=vt.comparator(n.key,this.key);return this.matchesComparison(e)}}class YO extends Ln{constructor(n,e){super(n,"in",e),this.keys=TS(0,e)}matches(n){return this.keys.some(e=>e.isEqual(n.key))}}class KO extends Ln{constructor(n,e){super(n,"not-in",e),this.keys=TS(0,e)}matches(n){return!this.keys.some(e=>e.isEqual(n.key))}}function TS(i,n){var e;return((null===(e=n.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>vt.fromName(r.referenceValue))}class QO extends Ln{constructor(n,e){super(n,"array-contains",e)}matches(n){const e=n.data.field(this.field);return ac(e)&&Mb(e.arrayValue,this.value)}}class $C extends Ln{constructor(n,e){super(n,"in",e)}matches(n){const e=n.data.field(this.field);return null!==e&&Mb(this.value.arrayValue,e)}}class SS extends Ln{constructor(n,e){super(n,"not-in",e)}matches(n){if(Mb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=n.data.field(this.field);return null!==e&&!Mb(this.value.arrayValue,e)}}class IB extends Ln{constructor(n,e){super(n,"array-contains-any",e)}matches(n){const e=n.data.field(this.field);return!(!ac(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Mb(this.value.arrayValue,r))}}class XO{constructor(n,e=null,r=[],o=[],s=null,l=null,h=null){this.path=n,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=l,this.endAt=h,this.dt=null}}function T_(i,n=null,e=[],r=[],o=null,s=null,l=null){return new XO(i,n,e,r,o,s,l)}function eu(i){const n=bt(i);if(null===n.dt){let e=n.path.canonicalString();null!==n.collectionGroup&&(e+="|cg:"+n.collectionGroup),e+="|f:",e+=n.filters.map(r=>k_(r)).join(","),e+="|ob:",e+=n.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),C_(n.limit)||(e+="|l:",e+=n.limit),n.startAt&&(e+="|lb:",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(r=>Qp(r)).join(",")),n.endAt&&(e+="|ub:",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(r=>Qp(r)).join(",")),n.dt=e}return n.dt}function em(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!ES(i.orderBy[e],n.orderBy[e]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!IS(i.filters[e],n.filters[e]))return!1;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!CS(i.startAt,n.startAt)&&CS(i.endAt,n.endAt)}function Lb(i){return vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function tm(i,n){return i.filters.filter(e=>e instanceof Ln&&e.field.isEqual(n))}function AS(i,n,e){let r=Ab,o=!0;for(const s of tm(i,n)){let l=Ab,h=!0;switch(s.op){case"<":case"<=":l=UC(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=Ab}qO({value:r,inclusive:o},{value:l,inclusive:h})<0&&(r=l,o=h)}if(null!==e)for(let s=0;s<i.orderBy.length;++s)if(i.orderBy[s].field.isEqual(n)){const l=e.position[s];qO({value:r,inclusive:o},{value:l,inclusive:e.inclusive})<0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}function MS(i,n,e){let r=Xd,o=!0;for(const s of tm(i,n)){let l=Xd,h=!0;switch(s.op){case">=":case">":l=Fb(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=Xd}WO({value:r,inclusive:o},{value:l,inclusive:h})>0&&(r=l,o=h)}if(null!==e)for(let s=0;s<i.orderBy.length;++s)if(i.orderBy[s].field.isEqual(n)){const l=e.position[s];WO({value:r,inclusive:o},{value:l,inclusive:e.inclusive})>0&&(r=l,o=e.inclusive);break}return{value:r,inclusive:o}}class Kc{constructor(n,e=null,r=[],o=[],s=null,l="F",h=null,p=null){this.path=n,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function GC(i,n,e,r,o,s,l,h){return new Kc(i,n,e,r,o,s,l,h)}function S_(i){return new Kc(i)}function RS(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function nm(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function qC(i){for(const n of i.filters){const e=n.getFirstInequalityField();if(null!==e)return e}return null}function WC(i){return null!==i.collectionGroup}function im(i){const n=bt(i);if(null===n.wt){n.wt=[];const e=qC(n),r=nm(n);if(null!==e&&null===r)e.isKeyField()||n.wt.push(new $h(e)),n.wt.push(new $h(Br.keyField(),"asc"));else{let o=!1;for(const s of n.explicitOrderBy)n.wt.push(s),s.field.isKeyField()&&(o=!0);if(!o){const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.wt.push(new $h(Br.keyField(),s))}}}return n.wt}function Ns(i){const n=bt(i);if(!n._t)if("F"===n.limitType)n._t=T_(n.path,n.collectionGroup,im(n),n.filters,n.limit,n.startAt,n.endAt);else{const e=[];for(const s of im(n))e.push(new $h(s.field,"desc"===s.dir?"asc":"desc"));const r=n.endAt?new Jd(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new Jd(n.startAt.position,n.startAt.inclusive):null;n._t=T_(n.path,n.collectionGroup,e,n.filters,n.limit,r,o)}return n._t}function ZC(i,n){n.getFirstInequalityField(),qC(i);const e=i.filters.concat([n]);return new Kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function YC(i,n,e){return new Kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,e,i.startAt,i.endAt)}function Bb(i,n){return em(Ns(i),Ns(n))&&i.limitType===n.limitType}function JO(i){return`${eu(Ns(i))}|lt:${i.limitType}`}function OS(i){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(r=>ZO(r)).join(", ")}]`),C_(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(r=>Qp(r)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(r=>Qp(r)).join(",")),`Target(${e})`}(Ns(i))}; limitType=${i.limitType})`}function Vb(i,n){return n.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):vt.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(i,n)&&function(e,r){for(const o of im(e))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(i,n)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(i,n)&&(r=n,!((e=i).startAt&&!function(o,s,l){const h=xS(o,s,l);return o.inclusive?h<=0:h<0}(e.startAt,im(e),r)||e.endAt&&!function(o,s,l){const h=xS(o,s,l);return o.inclusive?h>=0:h>0}(e.endAt,im(e),r)));var e,r}function PS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eP(i){return(n,e)=>{let r=!1;for(const o of im(i)){const s=kB(o,n,e);if(0!==s)return s;r=r||o.field.isKeyField()}return 0}}function kB(i,n,e){const r=i.field.isKeyField()?vt.comparator(n.key,e.key):function(o,s,l){const h=s.data.field(o),p=l.data.field(o);return null!==h&&null!==p?zh(h,p):kt()}(i.field,n,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return kt()}}class tu{constructor(n,e){this.mapKeyFn=n,this.equalsFn=e,this.inner={},this.innerSize=0}get(n){const e=this.mapKeyFn(n),r=this.inner[e];if(void 0!==r)for(const[o,s]of r)if(this.equalsFn(o,n))return s}has(n){return void 0!==this.get(n)}set(n,e){const r=this.mapKeyFn(n),o=this.inner[r];if(void 0===o)return this.inner[r]=[[n,e]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],n))return void(o[s]=[n,e]);o.push([n,e]),this.innerSize++}delete(n){const e=this.mapKeyFn(n),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],n))return 1===r.length?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(n){Yc(this.inner,(e,r)=>{for(const[o,s]of r)n(o,s)})}isEmpty(){return NC(this.inner)}size(){return this.innerSize}}const TB=new Ri(vt.comparator);function Qs(){return TB}const NS=new Ri(vt.comparator);function Ub(...i){let n=NS;for(const e of i)n=n.insert(e.key,e);return n}function c(i){let n=NS;return i.forEach((e,r)=>n=n.insert(e,r.overlayedDocument)),n}function d(){return f()}function u(){return f()}function f(){return new tu(i=>i.toString(),(i,n)=>i.isEqual(n))}const m=new Ri(vt.comparator),_=new ji(vt.comparator);function b(...i){let n=_;for(const e of i)n=n.add(e);return n}const C=new ji(fn);function k(){return C}function A(i,n){if(i.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(n)?"-0":n}}function P(i){return{integerValue:""+i}}function W(i,n){return hS(n)?P(n):A(i,n)}class ne{constructor(){this._=void 0}}function de(i,n,e){return i instanceof pt?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&LC(o)&&(o=BC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,n):i instanceof Mt?Ue(i,n):i instanceof Jt?Nn(i,n):function(r,o){const s=Ye(r,o),l=Oo(s)+Oo(r.gt);return Ob(s)&&Ob(r.gt)?P(l):A(r.serializer,l)}(i,n)}function Fe(i,n,e){return i instanceof Mt?Ue(i,n):i instanceof Jt?Nn(i,n):e}function Ye(i,n){return i instanceof kn?Ob(e=n)||(r=e)&&"doubleValue"in r?n:{integerValue:0}:null;var r,e}class pt extends ne{}class Mt extends ne{constructor(n){super(),this.elements=n}}function Ue(i,n){const e=A_(n);for(const r of i.elements)e.some(o=>zl(o,r))||e.push(r);return{arrayValue:{values:e}}}class Jt extends ne{constructor(n){super(),this.elements=n}}function Nn(i,n){let e=A_(n);for(const r of i.elements)e=e.filter(o=>!zl(o,r));return{arrayValue:{values:e}}}class kn extends ne{constructor(n,e){super(),this.serializer=n,this.gt=e}}function Oo(i){return Sr(i.integerValue||i.doubleValue)}function A_(i){return ac(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class M_{constructor(n,e){this.field=n,this.transform=e}}class Z5{constructor(n,e){this.version=n,this.transformResults=e}}class Ar{constructor(n,e){this.updateTime=n,this.exists=e}static none(){return new Ar}static exists(n){return new Ar(void 0,n)}static updateTime(n){return new Ar(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function FS(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class LS{}function SB(i,n){if(!i.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return i.isNoDocument()?new zb(i.key,Ar.none()):new Hb(i.key,i.data,Ar.none());{const e=i.data,r=Zo.empty();let o=new ji(Br.comparator);for(let s of n.fields)if(!o.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?r.delete(s):r.set(s,l),o=o.add(s)}return new qh(i.key,r,new hs(o.toArray()),Ar.none())}}function Y5(i,n,e){i instanceof Hb?function(r,o,s){const l=r.value.clone(),h=RB(r.fieldTransforms,o,s.transformResults);l.setAll(h),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(i,n,e):i instanceof qh?function(r,o,s){if(!FS(r.precondition,o))return void o.convertToUnknownDocument(s.version);const l=RB(r.fieldTransforms,o,s.transformResults),h=o.data;h.setAll(MB(r)),h.setAll(l),o.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(i,n,e):n.convertToNoDocument(e.version).setHasCommittedMutations()}function KC(i,n,e,r){return i instanceof Hb?function(o,s,l,h){if(!FS(o.precondition,s))return l;const p=o.value.clone(),g=OB(o.fieldTransforms,h,s);return p.setAll(g),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(i,n,e,r):i instanceof qh?function(o,s,l,h){if(!FS(o.precondition,s))return l;const p=OB(o.fieldTransforms,h,s),g=s.data;return g.setAll(MB(o)),g.setAll(p),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(i,n,e,r):(l=e,FS(i.precondition,s=n)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function K5(i,n){let e=null;for(const r of i.fieldTransforms){const o=n.data.field(r.field),s=Ye(r.transform,o||null);null!=s&&(null===e&&(e=Zo.empty()),e.set(r.field,s))}return e||null}function AB(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(r=n.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===r||e&&r&&Wp(e,r,(o,s)=>function tP(i,n){return i.field.isEqual(n.field)&&(r=n.transform,(e=i.transform)instanceof Mt&&r instanceof Mt||e instanceof Jt&&r instanceof Jt?Wp(e.elements,r.elements,zl):e instanceof kn&&r instanceof kn?zl(e.gt,r.gt):e instanceof pt&&r instanceof pt);var e,r}(o,s))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var e,r}class Hb extends LS{constructor(n,e,r,o=[]){super(),this.key=n,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qh extends LS{constructor(n,e,r,o,s=[]){super(),this.key=n,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MB(i){const n=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=i.data.field(e);n.set(e,r)}}),n}function RB(i,n,e){const r=new Map;Ht(i.length===e.length);for(let o=0;o<e.length;o++){const s=i[o],l=s.transform,h=n.data.field(s.field);r.set(s.field,Fe(l,h,e[o]))}return r}function OB(i,n,e){const r=new Map;for(const o of i){const s=o.transform,l=e.data.field(o.field);r.set(o.field,de(s,l,n))}return r}class zb extends LS{constructor(n,e){super(),this.key=n,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nP extends LS{constructor(n,e){super(),this.key=n,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iP{constructor(n,e,r,o){this.batchId=n,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(n,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(n.key)&&Y5(s,n,r[o])}}applyToLocalView(n,e){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(e=KC(r,n,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(e=KC(r,n,e,this.localWriteTime));return e}applyToLocalDocumentSet(n,e){const r=u();return this.mutations.forEach(o=>{const s=n.get(o.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=e.has(o.key)?null:h;const p=SB(l,h);null!==p&&r.set(o.key,p),l.isValidDocument()||l.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((n,e)=>n.add(e.key),b())}isEqual(n){return this.batchId===n.batchId&&Wp(this.mutations,n.mutations,(e,r)=>AB(e,r))&&Wp(this.baseMutations,n.baseMutations,(e,r)=>AB(e,r))}}class rP{constructor(n,e,r,o){this.batch=n,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(n,e,r){Ht(n.mutations.length===r.length);let o=m;const s=n.mutations;for(let l=0;l<s.length;l++)o=o.insert(s[l].key,r[l].version);return new rP(n,e,r,o)}}class oP{constructor(n,e){this.largestBatchId=n,this.mutation=e}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class X5{constructor(n,e){this.count=n,this.unchangedNames=e}}var go,Yn;function PB(i){switch(i){default:return kt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function NB(i){if(void 0===i)return Tr("GRPC error has no .code"),ye.UNKNOWN;switch(i){case go.OK:return ye.OK;case go.CANCELLED:return ye.CANCELLED;case go.UNKNOWN:return ye.UNKNOWN;case go.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case go.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case go.INTERNAL:return ye.INTERNAL;case go.UNAVAILABLE:return ye.UNAVAILABLE;case go.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case go.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case go.NOT_FOUND:return ye.NOT_FOUND;case go.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case go.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case go.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case go.ABORTED:return ye.ABORTED;case go.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case go.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case go.DATA_LOSS:return ye.DATA_LOSS;default:return kt()}}(Yn=go||(go={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";class sP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return BS}static getOrCreateInstance(){return null===BS&&(BS=new sP),BS}onExistenceFilterMismatch(n){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,n),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(n){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(n))}}let BS=null;function FB(){return new TextEncoder}const J5=new Bl([4294967295,4294967295],0);function LB(i){const n=FB().encode(i),e=new TO;return e.update(n),new Uint8Array(e.digest())}function BB(i){const n=new DataView(i.buffer),e=n.getUint32(0,!0),r=n.getUint32(4,!0),o=n.getUint32(8,!0),s=n.getUint32(12,!0);return[new Bl([e,r],0),new Bl([o,s],0)]}class aP{constructor(n,e,r){if(this.bitmap=n,this.padding=e,this.hashCount=r,e<0||e>=8)throw new QC(`Invalid padding: ${e}`);if(r<0)throw new QC(`Invalid hash count: ${r}`);if(n.length>0&&0===this.hashCount)throw new QC(`Invalid hash count: ${r}`);if(0===n.length&&0!==e)throw new QC(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*n.length-e,this.Tt=Bl.fromNumber(this.It)}Et(n,e,r){let o=n.add(e.multiply(Bl.fromNumber(r)));return 1===o.compare(J5)&&(o=new Bl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(n){return 0!=(this.bitmap[Math.floor(n/8)]&1<<n%8)}vt(n){if(0===this.It)return!1;const e=LB(n),[r,o]=BB(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(r,o,s);if(!this.At(l))return!1}return!0}static create(n,e,r){const o=n%8==0?0:8-n%8,s=new Uint8Array(Math.ceil(n/8)),l=new aP(s,o,e);return r.forEach(h=>l.insert(h)),l}insert(n){if(0===this.It)return;const e=LB(n),[r,o]=BB(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(r,o,s);this.Rt(l)}}Rt(n){const e=Math.floor(n/8);this.bitmap[e]|=1<<n%8}}class QC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class XC{constructor(n,e,r,o,s){this.snapshotVersion=n,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(n,e,r){const o=new Map;return o.set(n,JC.createSynthesizedTargetChangeForCurrentChange(n,e,r)),new XC($t.min(),o,new Ri(fn),Qs(),b())}}class JC{constructor(n,e,r,o,s){this.resumeToken=n,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(n,e,r){return new JC(r,e,b(),b(),b())}}class VS{constructor(n,e,r,o){this.Pt=n,this.removedTargetIds=e,this.key=r,this.bt=o}}class VB{constructor(n,e){this.targetId=n,this.Vt=e}}class UB{constructor(n,e,r=io.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=e,this.resumeToken=r,this.cause=o}}class HB{constructor(){this.St=0,this.Dt=jB(),this.Ct=io.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(n){n.approximateByteSize()>0&&(this.Nt=!0,this.Ct=n)}Ot(){let n=b(),e=b(),r=b();return this.Dt.forEach((o,s)=>{switch(s){case 0:n=n.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:kt()}}),new JC(this.Ct,this.xt,n,e,r)}Ft(){this.Nt=!1,this.Dt=jB()}Bt(n,e){this.Nt=!0,this.Dt=this.Dt.insert(n,e)}Lt(n){this.Nt=!0,this.Dt=this.Dt.remove(n)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class e${constructor(n){this.Gt=n,this.Qt=new Map,this.jt=Qs(),this.zt=zB(),this.Wt=new Ri(fn)}Ht(n){for(const e of n.Pt)n.bt&&n.bt.isFoundDocument()?this.Jt(e,n.bt):this.Yt(e,n.key,n.bt);for(const e of n.removedTargetIds)this.Yt(e,n.key,n.bt)}Xt(n){this.forEachTarget(n,e=>{const r=this.Zt(e);switch(n.state){case 0:this.te(e)&&r.$t(n.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(n.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(e);break;case 3:this.te(e)&&(r.Kt(),r.$t(n.resumeToken));break;case 4:this.te(e)&&(this.ee(e),r.$t(n.resumeToken));break;default:kt()}})}forEachTarget(n,e){n.targetIds.length>0?n.targetIds.forEach(e):this.Qt.forEach((r,o)=>{this.te(o)&&e(o)})}ne(n){var e;const r=n.targetId,o=n.Vt.count,s=this.se(r);if(s){const l=s.target;if(Lb(l))if(0===o){const h=new vt(l.path);this.Yt(r,h,Zi.newNoDocument(h,$t.min()))}else Ht(1===o);else{const h=this.ie(r);if(h!==o){const p=this.re(n,h);0!==p&&(this.ee(r),this.Wt=this.Wt.insert(r,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=sP.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(g,w,E){var S,O,F,G,Q,ve;const Se={localCacheCount:w,existenceFilterCount:E.count},Oe=E.unchangedNames;return Oe&&(Se.bloomFilter={applied:0===g,hashCount:null!==(S=Oe?.hashCount)&&void 0!==S?S:0,bitmapLength:null!==(G=null===(F=null===(O=Oe?.bits)||void 0===O?void 0:O.bitmap)||void 0===F?void 0:F.length)&&void 0!==G?G:0,padding:null!==(ve=null===(Q=Oe?.bits)||void 0===Q?void 0:Q.padding)&&void 0!==ve?ve:0}),Se}(p,h,n.Vt))}}}}re(n,e){const{unchangedNames:r,count:o}=n.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=r;let p,g;try{p=Hl(s).toUint8Array()}catch(w){if(w instanceof FC)return Ps("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{g=new aP(p,l,h)}catch(w){return Ps(w instanceof QC?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===g.It?1:o!==e-this.oe(n.targetId,g)?2:0}oe(n,e){const r=this.Gt.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.vt(h)||(this.Yt(n,s,null),o++)}),o}ce(n){const e=new Map;this.Qt.forEach((s,l)=>{const h=this.se(l);if(h){if(s.current&&Lb(h.target)){const p=new vt(h.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,Zi.newNoDocument(p,n))}s.Mt&&(e.set(l,s.Ot()),s.Ft())}});let r=b();this.zt.forEach((s,l)=>{let h=!0;l.forEachWhile(p=>{const g=this.se(p);return!g||"TargetPurposeLimboResolution"===g.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(n));const o=new XC(n,e,this.Wt,this.jt,r);return this.jt=Qs(),this.zt=zB(),this.Wt=new Ri(fn),o}Jt(n,e){if(!this.te(n))return;const r=this.ae(n,e.key)?2:0;this.Zt(n).Bt(e.key,r),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(n))}Yt(n,e,r){if(!this.te(n))return;const o=this.Zt(n);this.ae(n,e)?o.Bt(e,1):o.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(n)),r&&(this.jt=this.jt.insert(e,r))}removeTarget(n){this.Qt.delete(n)}ie(n){const e=this.Zt(n).Ot();return this.Gt.getRemoteKeysForTarget(n).size+e.addedDocuments.size-e.removedDocuments.size}qt(n){this.Zt(n).qt()}Zt(n){let e=this.Qt.get(n);return e||(e=new HB,this.Qt.set(n,e)),e}he(n){let e=this.zt.get(n);return e||(e=new ji(fn),this.zt=this.zt.insert(n,e)),e}te(n){const e=null!==this.se(n);return e||Ke("WatchChangeAggregator","Detected inactive target",n),e}se(n){const e=this.Qt.get(n);return e&&e.kt?null:this.Gt.le(n)}ee(n){this.Qt.set(n,new HB),this.Gt.getRemoteKeysForTarget(n).forEach(e=>{this.Yt(n,e,null)})}ae(n,e){return this.Gt.getRemoteKeysForTarget(n).has(e)}}function zB(){return new Ri(vt.comparator)}function jB(){return new Ri(vt.comparator)}const t$={asc:"ASCENDING",desc:"DESCENDING"},n$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i$={and:"AND",or:"OR"};class r${constructor(n,e){this.databaseId=n,this.useProto3Json=e}}function cP(i,n){return i.useProto3Json||C_(n)?n:{value:n}}function jb(i,n){return i.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function $B(i,n){return i.useProto3Json?n.toBase64():n.toUint8Array()}function o$(i,n){return jb(i,n.toTimestamp())}function ro(i){return Ht(!!i),$t.fromTimestamp(function(n){const e=Ul(n);return new Wi(e.seconds,e.nanos)}(i))}function lP(i,n){return(e=i,new $n(["projects",e.projectId,"databases",e.database])).child("documents").child(n).canonicalString();var e}function GB(i){const n=$n.fromString(i);return Ht(eV(n)),n}function eE(i,n){return lP(i.databaseId,n.path)}function nu(i,n){const e=GB(n);if(e.get(1)!==i.databaseId.projectId)throw new ze(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ze(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new vt(WB(e))}function dP(i,n){return lP(i.databaseId,n)}function qB(i){const n=GB(i);return 4===n.length?$n.emptyPath():WB(n)}function tE(i){return new $n(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WB(i){return Ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ZB(i,n,e){return{name:eE(i,n),fields:e.value.mapValue.fields}}function YB(i,n,e){const r=nu(i,n.name),o=ro(n.updateTime),s=n.createTime?ro(n.createTime):$t.min(),l=new Zo({mapValue:{fields:n.fields}}),h=Zi.newFoundDocument(r,o,s,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function nE(i,n){let e;if(n instanceof Hb)e={update:ZB(i,n.key,n.value)};else if(n instanceof zb)e={delete:eE(i,n.key)};else if(n instanceof qh)e={update:ZB(i,n.key,n.data),updateMask:f$(n.fieldMask)};else{if(!(n instanceof nP))return kt();e={verify:eE(i,n.key)}}return n.fieldTransforms.length>0&&(e.updateTransforms=n.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof pt)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mt)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Jt)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kn)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw kt()}(0,r))),n.precondition.isNone||(e.currentDocument=void 0!==(o=n.precondition).updateTime?{updateTime:o$(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:kt()),e;var o}function uP(i,n){const e=n.currentDocument?void 0!==(o=n.currentDocument).updateTime?Ar.updateTime(ro(o.updateTime)):void 0!==o.exists?Ar.exists(o.exists):Ar.none():Ar.none(),r=n.updateTransforms?n.updateTransforms.map(o=>function(s,l){let h=null;"setToServerValue"in l?(Ht("REQUEST_TIME"===l.setToServerValue),h=new pt):"appendMissingElements"in l?h=new Mt(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new Jt(l.removeAllFromArray.values||[]):"increment"in l?h=new kn(s,l.increment):kt();const p=Br.fromServerFormat(l.fieldPath);return new M_(p,h)}(i,o)):[];var o;if(n.update){const o=nu(i,n.update.name),s=new Zo({mapValue:{fields:n.update.fields}});if(n.updateMask){const l=new hs((n.updateMask.fieldPaths||[]).map(g=>Br.fromServerFormat(g)));return new qh(o,s,l,e,r)}return new Hb(o,s,e,r)}if(n.delete){const o=nu(i,n.delete);return new zb(o,e)}if(n.verify){const o=nu(i,n.verify);return new nP(o,e)}return kt()}function KB(i,n){return{documents:[dP(i,n.path)]}}function hP(i,n){const e={structuredQuery:{}},r=n.path;null!==n.collectionGroup?(e.parent=dP(i,r),e.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(e.parent=dP(i,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(p){if(0!==p.length)return JB(hi.create(p,"and"))}(n.filters);o&&(e.structuredQuery.where=o);const s=function(p){if(0!==p.length)return p.map(g=>{return{field:rm((w=g).field),direction:d$(w.dir)};var w})}(n.orderBy);s&&(e.structuredQuery.orderBy=s);const l=cP(i,n.limit);var h,p;return null!==l&&(e.structuredQuery.limit=l),n.startAt&&(e.structuredQuery.startAt={before:(h=n.startAt).inclusive,values:h.position}),n.endAt&&(e.structuredQuery.endAt={before:!(p=n.endAt).inclusive,values:p.position}),e}function QB(i){let n=qB(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Ht(1===r);const w=e.from[0];w.allDescendants?o=w.collectionId:n=n.child(w.collectionId)}let s=[];e.where&&(s=function(w){const E=XB(w);return E instanceof hi&&DS(E)?E.getFilters():[E]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(w=>{return new $h($b((E=w).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let h=null;e.limit&&(h=function(w){let E;return E="object"==typeof w?w.value:w,C_(E)?null:E}(e.limit));let p=null;var w;e.startAt&&(p=new Jd((w=e.startAt).values||[],!!w.before));let g=null;return e.endAt&&(g=function(w){return new Jd(w.values||[],!w.before)}(e.endAt)),GC(n,o,l,s,h,"F",p,g)}function XB(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const e=$b(n.unaryFilter.field);return Ln.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=$b(n.unaryFilter.field);return Ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$b(n.unaryFilter.field);return Ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$b(n.unaryFilter.field);return Ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return kt()}}(i):void 0!==i.fieldFilter?Ln.create($b((n=i).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return hi.create(n.compositeFilter.filters.map(e=>XB(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return kt()}}(n.compositeFilter.op))}(i):kt();var n}function d$(i){return t$[i]}function u$(i){return n$[i]}function h$(i){return i$[i]}function rm(i){return{fieldPath:i.canonicalString()}}function $b(i){return Br.fromServerFormat(i.fieldPath)}function JB(i){return i instanceof Ln?function(n){if("=="===n.op){if(Pb(n.value))return{unaryFilter:{field:rm(n.field),op:"IS_NAN"}};if(VC(n.value))return{unaryFilter:{field:rm(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Pb(n.value))return{unaryFilter:{field:rm(n.field),op:"IS_NOT_NAN"}};if(VC(n.value))return{unaryFilter:{field:rm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rm(n.field),op:u$(n.op),value:n.value}}}(i):i instanceof hi?function(n){const e=n.getFilters().map(r=>JB(r));return 1===e.length?e[0]:{compositeFilter:{op:h$(n.op),filters:e}}}(i):kt()}function f$(i){const n=[];return i.fields.forEach(e=>n.push(e.canonicalString())),{fieldPaths:n}}function eV(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Wh{constructor(n,e,r,o,s=$t.min(),l=$t.min(),h=io.EMPTY_BYTE_STRING,p=null){this.target=n,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(n){return new Wh(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,e){return new Wh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class tV{constructor(n){this.fe=n}}function nV(i,n){const e=n.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:US(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())r.document={name:eE(o=i.fe,(s=n).key),fields:s.data.value.mapValue.fields,updateTime:jb(o,s.version.toTimestamp()),createTime:jb(o,s.createTime.toTimestamp())};else if(n.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:R_(n.version)};else{if(!n.isUnknownDocument())return kt();r.unknownDocument={path:e.path.toArray(),version:R_(n.version)}}var o,s;return r}function US(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function R_(i){const n=i.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function O_(i){const n=new Wi(i.seconds,i.nanoseconds);return $t.fromTimestamp(n)}function P_(i,n){const e=(n.baseMutations||[]).map(s=>uP(i.fe,s));for(let s=0;s<n.mutations.length-1;++s)s+1<n.mutations.length&&void 0!==n.mutations[s+1].transform&&(n.mutations[s].updateTransforms=n.mutations[s+1].transform.fieldTransforms,n.mutations.splice(s+1,1),++s);const r=n.mutations.map(s=>uP(i.fe,s)),o=Wi.fromMillis(n.localWriteTimeMs);return new iP(n.batchId,o,e,r)}function iE(i){const n=O_(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?O_(i.lastLimboFreeSnapshotVersion):$t.min();let r;var o;return void 0!==i.query.documents?(Ht(1===(o=i.query).documents.length),r=Ns(S_(qB(o.documents[0])))):r=Ns(QB(i.query)),new Wh(r,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,n,e,io.fromBase64String(i.resumeToken))}function iV(i,n){const e=R_(n.snapshotVersion),r=R_(n.lastLimboFreeSnapshotVersion);let o;o=Lb(n.target)?KB(i.fe,n.target):hP(i.fe,n.target);const s=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:eu(n.target),readTime:e,resumeToken:s,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function fP(i){const n=QB({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?YC(n,n.limit,"L"):n}function pP(i,n){return new oP(n.largestBatchId,uP(i.fe,n.overlayMutation))}function rV(i,n){const e=n.path.lastSegment();return[i,Wo(n.path.popLast()),e]}function oV(i,n,e,r){return{indexId:i,uid:n.uid||"",sequenceNumber:e,readTime:R_(r.readTime),documentKey:Wo(r.documentKey.path),largestBatchId:r.largestBatchId}}class m${getBundleMetadata(n,e){return sV(n).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:O_(o.createTime),version:o.version};var o})}saveBundleMetadata(n,e){return sV(n).put({bundleId:(r=e).id,createTime:R_(ro(r.createTime)),version:r.version});var r}getNamedQuery(n,e){return aV(n).get(e).next(r=>{if(r)return{name:(o=r).name,query:fP(o.bundledQuery),readTime:O_(o.readTime)};var o})}saveNamedQuery(n,e){return aV(n).put({name:(r=e).name,readTime:R_(ro(r.readTime)),bundledQuery:r.bundledQuery});var r}}function sV(i){return no(i,"bundles")}function aV(i){return no(i,"namedQueries")}class HS{constructor(n,e){this.serializer=n,this.userId=e}static de(n,e){return new HS(n,e.uid||"")}getOverlay(n,e){return rE(n).get(rV(this.userId,e)).next(r=>r?pP(this.serializer,r):null)}getOverlays(n,e){const r=d();return ge.forEach(e,o=>this.getOverlay(n,o).next(s=>{null!==s&&r.set(o,s)})).next(()=>r)}saveOverlays(n,e,r){const o=[];return r.forEach((s,l)=>{const h=new oP(e,l);o.push(this.we(n,h))}),ge.waitFor(o)}removeOverlaysForBatchId(n,e,r){const o=new Set;e.forEach(l=>o.add(Wo(l.getCollectionPath())));const s=[];return o.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(rE(n).J("collectionPathOverlayIndex",h))}),ge.waitFor(s)}getOverlaysForCollection(n,e,r){const o=d(),s=Wo(e),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return rE(n).j("collectionPathOverlayIndex",l).next(h=>{for(const p of h){const g=pP(this.serializer,p);o.set(g.getKey(),g)}return o})}getOverlaysForCollectionGroup(n,e,r,o){const s=d();let l;const h=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return rE(n).X({index:"collectionGroupOverlayIndex",range:h},(p,g,w)=>{const E=pP(this.serializer,g);s.size()<o||E.largestBatchId===l?(s.set(E.getKey(),E),l=E.largestBatchId):w.done()}).next(()=>s)}we(n,e){return rE(n).put(function(r,o,s){const[l,h,p]=rV(o,s.mutation.key);return{userId:o,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:nE(r.fe,s.mutation)}}(this.serializer,this.userId,e))}}function rE(i){return no(i,"documentOverlays")}class N_{constructor(){}_e(n,e){this.me(n,e),e.ge()}me(n,e){if("nullValue"in n)this.ye(e,5);else if("booleanValue"in n)this.ye(e,10),e.pe(n.booleanValue?1:0);else if("integerValue"in n)this.ye(e,15),e.pe(Sr(n.integerValue));else if("doubleValue"in n){const r=Sr(n.doubleValue);isNaN(r)?this.ye(e,13):(this.ye(e,15),Vh(r)?e.pe(0):e.pe(r))}else if("timestampValue"in n){const r=n.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie(`${r.seconds||""}`),e.pe(r.nanos||0))}else if("stringValue"in n)this.Te(n.stringValue,e),this.Ee(e);else if("bytesValue"in n)this.ye(e,30),e.Ae(Hl(n.bytesValue)),this.Ee(e);else if("referenceValue"in n)this.ve(n.referenceValue,e);else if("geoPointValue"in n){const r=n.geoPointValue;this.ye(e,45),e.pe(r.latitude||0),e.pe(r.longitude||0)}else"mapValue"in n?Nb(n)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(n.mapValue,e),this.Ee(e)):"arrayValue"in n?(this.Pe(n.arrayValue,e),this.Ee(e)):kt()}Te(n,e){this.ye(e,25),this.be(n,e)}be(n,e){e.Ie(n)}Re(n,e){const r=n.fields||{};this.ye(e,55);for(const o of Object.keys(r))this.Te(o,e),this.me(r[o],e)}Pe(n,e){const r=n.values||[];this.ye(e,50);for(const o of r)this.me(o,e)}ve(n,e){this.ye(e,37),vt.fromName(n).path.forEach(r=>{this.ye(e,60),this.be(r,e)})}ye(n,e){n.pe(e)}Ee(n){n.pe(2)}}function g$(i){if(0===i)return 8;let n=0;return!(i>>4)&&(n+=4,i<<=4),!(i>>6)&&(n+=2,i<<=2),!(i>>7)&&(n+=1),n}function cV(i){const n=64-function(e){let r=0;for(let o=0;o<8;++o){const s=g$(255&e[o]);if(r+=s,8!==s)break}return r}(i);return Math.ceil(n/8)}N_.Ve=new N_;class _${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(n){const e=n[Symbol.iterator]();let r=e.next();for(;!r.done;)this.De(r.value),r=e.next();this.Ce()}xe(n){const e=n[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ne(r.value),r=e.next();this.ke()}Me(n){for(const e of n){const r=e.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=e.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(n){for(const e of n){const r=e.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=e.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(n){const e=this.Fe(n),r=cV(e);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Le(n){const e=this.Fe(n),r=cV(e);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(n){this.Be(n.length),this.buffer.set(n,this.position),this.position+=n.length}Qe(){return this.buffer.slice(0,this.position)}Fe(n){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(n),r=0!=(128&e[0]);e[0]^=r?255:128;for(let o=1;o<e.length;++o)e[o]^=r?255:0;return e}De(n){const e=255&n;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(n){const e=255&n;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(n)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(n){this.Be(1),this.buffer[this.position++]=n}Ge(n){this.Be(1),this.buffer[this.position++]=~n}Be(n){const e=n+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class v${constructor(n){this.je=n}Ae(n){this.je.Se(n)}Ie(n){this.je.Me(n)}pe(n){this.je.Oe(n)}ge(){this.je.qe()}}class y${constructor(n){this.je=n}Ae(n){this.je.xe(n)}Ie(n){this.je.$e(n)}pe(n){this.je.Le(n)}ge(){this.je.Ke()}}class oE{constructor(){this.je=new _$,this.ze=new v$(this.je),this.We=new y$(this.je)}seed(n){this.je.seed(n)}He(n){return 0===n?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class F_{constructor(n,e,r,o){this.indexId=n,this.documentKey=e,this.arrayValue=r,this.directionalValue=o}Je(){const n=this.directionalValue.length,e=0===n||255===this.directionalValue[n-1]?n+1:n,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==n?r.set([0],this.directionalValue.length):++r[r.length-1],new F_(this.indexId,this.documentKey,this.arrayValue,r)}}function om(i,n){let e=i.indexId-n.indexId;return 0!==e?e:(e=lV(i.arrayValue,n.arrayValue),0!==e?e:(e=lV(i.directionalValue,n.directionalValue),0!==e?e:vt.comparator(i.documentKey,n.documentKey)))}function lV(i,n){for(let e=0;e<i.length&&e<n.length;++e){const r=i[e]-n[e];if(0!==r)return r}return i.length-n.length}class b${constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ye=n.orderBy,this.Xe=[];for(const e of n.filters){const r=e;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(n){Ht(n.collectionGroup===this.collectionId);const e=sS(n);if(void 0!==e&&!this.en(e))return!1;const r=Zp(n);let o=new Set,s=0,l=0;for(;s<r.length&&this.en(r[s]);++s)o=o.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const h=r[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++s}for(;s<r.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[s]))return!1;return!0}en(n){for(const e of this.Xe)if(this.nn(e,n))return!0;return!1}nn(n,e){return!(void 0===n||!n.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===n.op||"array-contains-any"===n.op)}sn(n,e){return!!n.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===n.dir||1===e.kind&&"desc"===n.dir)}}function dV(i){var n,e;if(Ht(i instanceof Ln||i instanceof hi),i instanceof Ln){if(i instanceof $C){const o=(null===(e=null===(n=i.value.arrayValue)||void 0===n?void 0:n.values)||void 0===e?void 0:e.map(s=>Ln.create(i.field,"==",s)))||[];return hi.create(o,"or")}return i}const r=i.filters.map(o=>dV(o));return hi.create(r,i.op)}function w$(i){if(0===i.getFilters().length)return[];const n=_P(dV(i));return Ht(uV(n)),mP(n)||gP(n)?[n]:n.getFilters()}function mP(i){return i instanceof Ln}function gP(i){return i instanceof hi&&DS(i)}function uV(i){return mP(i)||gP(i)||function(n){if(n instanceof hi&&I_(n)){for(const e of n.getFilters())if(!mP(e)&&!gP(e))return!1;return!0}return!1}(i)}function _P(i){if(Ht(i instanceof Ln||i instanceof hi),i instanceof Ln)return i;if(1===i.filters.length)return _P(i.filters[0]);const n=i.filters.map(r=>_P(r));let e=hi.create(n,i.op);return e=zS(e),uV(e)?e:(Ht(e instanceof hi),Ht(Gh(e)),Ht(e.filters.length>1),e.filters.reduce((r,o)=>vP(r,o)))}function vP(i,n){let e;return Ht(i instanceof Ln||i instanceof hi),Ht(n instanceof Ln||n instanceof hi),e=i instanceof Ln?n instanceof Ln?hi.create([i,n],"and"):hV(i,n):n instanceof Ln?hV(n,i):function(r,o){if(Ht(r.filters.length>0&&o.filters.length>0),Gh(r)&&Gh(o))return kS(r,o.getFilters());const s=I_(r)?r:o,l=I_(r)?o:r,h=s.filters.map(p=>vP(p,l));return hi.create(h,"or")}(i,n),zS(e)}function hV(i,n){if(Gh(n))return kS(n,i.getFilters());{const e=n.filters.map(r=>vP(i,r));return hi.create(e,"or")}}function zS(i){if(Ht(i instanceof Ln||i instanceof hi),i instanceof Ln)return i;const n=i.getFilters();if(1===n.length)return zS(n[0]);if(jC(i))return i;const e=n.map(o=>zS(o)),r=[];return e.forEach(o=>{o instanceof Ln?r.push(o):o instanceof hi&&(o.op===i.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:hi.create(r,i.op)}class x${constructor(){this.rn=new yP}addToCollectionParentIndex(n,e){return this.rn.add(e),ge.resolve()}getCollectionParents(n,e){return ge.resolve(this.rn.getEntries(e))}addFieldIndex(n,e){return ge.resolve()}deleteFieldIndex(n,e){return ge.resolve()}getDocumentsMatchingTarget(n,e){return ge.resolve(null)}getIndexType(n,e){return ge.resolve(0)}getFieldIndexes(n,e){return ge.resolve([])}getNextCollectionGroupToUpdate(n){return ge.resolve(null)}getMinOffset(n,e){return ge.resolve(Ia.min())}getMinOffsetFromCollectionGroup(n,e){return ge.resolve(Ia.min())}updateCollectionGroup(n,e,r){return ge.resolve()}updateIndexEntries(n,e){return ge.resolve()}}class yP{constructor(){this.index={}}add(n){const e=n.lastSegment(),r=n.popLast(),o=this.index[e]||new ji($n.comparator),s=!o.has(r);return this.index[e]=o.add(r),s}has(n){const e=n.lastSegment(),r=n.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(n){return(this.index[n]||new ji($n.comparator)).toArray()}}const jS=new Uint8Array(0);class C${constructor(n,e){this.user=n,this.databaseId=e,this.on=new yP,this.un=new tu(r=>eu(r),(r,o)=>em(r,o)),this.uid=n.uid||""}addToCollectionParentIndex(n,e){if(!this.on.has(e)){const r=e.lastSegment(),o=e.popLast();n.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:r,parent:Wo(o)};return fV(n).put(s)}return ge.resolve()}getCollectionParents(n,e){const r=[],o=IDBKeyRange.bound([e,""],[OO(e),""],!1,!0);return fV(n).j(o).next(s=>{for(const l of s){if(l.collectionId!==e)break;r.push(sc(l.parent))}return r})}addFieldIndex(n,e){const r=$S(n),o={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete o.indexId;const s=r.add(o);if(e.indexState){const l=aE(n);return s.next(h=>{l.put(oV(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(n,e){const r=$S(n),o=aE(n),s=sE(n);return r.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,e){const r=sE(n);let o=!0;const s=new Map;return ge.forEach(this.cn(e),l=>this.an(n,l).next(h=>{o&&(o=!!h),s.set(l,h)})).next(()=>{if(o){let l=b();const h=[];return ge.forEach(s,(p,g)=>{var w;Ke("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${eu(e)}`);const E=function(Oe,Ae){const Le=sS(Ae);if(void 0===Le)return null;for(const Je of tm(Oe,Le.fieldPath))switch(Je.op){case"array-contains-any":return Je.value.arrayValue.values||[];case"array-contains":return[Je.value]}return null}(g,p),S=function(Oe,Ae){const Le=new Map;for(const Je of Zp(Ae))for(const ht of tm(Oe,Je.fieldPath))switch(ht.op){case"==":case"in":Le.set(Je.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return Le.set(Je.fieldPath.canonicalString(),ht.value),Array.from(Le.values())}return null}(g,p),O=function(Oe,Ae){const Le=[];let Je=!0;for(const ht of Zp(Ae)){const Bt=0===ht.kind?AS(Oe,ht.fieldPath,Oe.startAt):MS(Oe,ht.fieldPath,Oe.startAt);Le.push(Bt.value),Je&&(Je=Bt.inclusive)}return new Jd(Le,Je)}(g,p),F=function(Oe,Ae){const Le=[];let Je=!0;for(const ht of Zp(Ae)){const Bt=0===ht.kind?MS(Oe,ht.fieldPath,Oe.endAt):AS(Oe,ht.fieldPath,Oe.endAt);Le.push(Bt.value),Je&&(Je=Bt.inclusive)}return new Jd(Le,Je)}(g,p),G=this.hn(p,g,O),Q=this.hn(p,g,F),ve=this.ln(p,g,S),Se=this.fn(p.indexId,E,G,O.inclusive,Q,F.inclusive,ve);return ge.forEach(Se,Oe=>r.H(Oe,e.limit).next(Ae=>{Ae.forEach(Le=>{const Je=vt.fromSegments(Le.documentKey);l.has(Je)||(l=l.add(Je),h.push(Je))})}))}).next(()=>h)}return ge.resolve(null)})}cn(n){let e=this.un.get(n);return e||(e=0===n.filters.length?[n]:w$(hi.create(n.filters,"and")).map(r=>T_(n.path,n.collectionGroup,n.orderBy,r.getFilters(),n.limit,n.startAt,n.endAt)),this.un.set(n,e),e)}fn(n,e,r,o,s,l,h){const p=(null!=e?e.length:1)*Math.max(r.length,s.length),g=p/(null!=e?e.length:1),w=[];for(let E=0;E<p;++E){const S=e?this.dn(e[E/g]):jS,O=this.wn(n,S,r[E%g],o),F=this._n(n,S,s[E%g],l),G=h.map(Q=>this.wn(n,S,Q,!0));w.push(...this.createRange(O,F,G))}return w}wn(n,e,r,o){const s=new F_(n,vt.empty(),e,r);return o?s:s.Je()}_n(n,e,r,o){const s=new F_(n,vt.empty(),e,r);return o?s.Je():s}an(n,e){const r=new b$(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(n,o).next(s=>{let l=null;for(const h of s)r.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(n,e){let r=2;const o=this.cn(e);return ge.forEach(o,s=>this.an(n,s).next(l=>{l?0!==r&&l.fields.length<function(h){let p=new ji(Br.comparator),g=!1;for(const w of h.filters)for(const E of w.getFlattenedFilters())E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?g=!0:p=p.add(E.field));for(const w of h.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(g?1:0)}(s)&&(r=1):r=0})).next(()=>null!==e.limit&&o.length>1&&2===r?1:r)}mn(n,e){const r=new oE;for(const o of Zp(n)){const s=e.data.field(o.fieldPath);if(null==s)return null;const l=r.He(o.kind);N_.Ve._e(s,l)}return r.Qe()}dn(n){const e=new oE;return N_.Ve._e(n,e.He(0)),e.Qe()}gn(n,e){const r=new oE;return N_.Ve._e(jh(this.databaseId,e),r.He(function(o){const s=Zp(o);return 0===s.length?0:s[s.length-1].kind}(n))),r.Qe()}ln(n,e,r){if(null===r)return[];let o=[];o.push(new oE);let s=0;for(const l of Zp(n)){const h=r[s++];for(const p of o)if(this.yn(e,l.fieldPath)&&ac(h))o=this.pn(o,l,h);else{const g=p.He(l.kind);N_.Ve._e(h,g)}}return this.In(o)}hn(n,e,r){return this.ln(n,e,r.position)}In(n){const e=[];for(let r=0;r<n.length;++r)e[r]=n[r].Qe();return e}pn(n,e,r){const o=[...n],s=[];for(const l of r.arrayValue.values||[])for(const h of o){const p=new oE;p.seed(h.Qe()),N_.Ve._e(l,p.He(e.kind)),s.push(p)}return s}yn(n,e){return!!n.filters.find(r=>r instanceof Ln&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(n,e){const r=$S(n),o=aE(n);return(e?r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.j()).next(s=>{const l=[];return ge.forEach(s,h=>o.get([h.indexId,this.uid]).next(p=>{l.push(function(g,w){const E=w?new w_(w.sequenceNumber,new Ia(O_(w.readTime),new vt(sc(w.documentKey)),w.largestBatchId)):w_.empty(),S=g.fields.map(([O,F])=>new Yp(Br.fromServerFormat(O),F));return new CC(g.indexId,g.collectionGroup,S,E)}(h,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(e=>0===e.length?null:(e.sort((r,o)=>{const s=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==s?s:fn(r.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(n,e,r){const o=$S(n),s=aE(n);return this.Tn(n).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ge.forEach(h,p=>s.put(oV(p.indexId,this.user,l,r)))))}updateIndexEntries(n,e){const r=new Map;return ge.forEach(e,(o,s)=>{const l=r.get(o.collectionGroup);return(l?ge.resolve(l):this.getFieldIndexes(n,o.collectionGroup)).next(h=>(r.set(o.collectionGroup,h),ge.forEach(h,p=>this.En(n,o,p).next(g=>{const w=this.An(s,p);return g.isEqual(w)?ge.resolve():this.vn(n,s,p,g,w)}))))})}Rn(n,e,r,o){return sE(n).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,e.key),documentKey:e.key.path.toArray()})}Pn(n,e,r,o){return sE(n).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,e.key),e.key.path.toArray()])}En(n,e,r){const o=sE(n);let s=new ji(om);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,e)])},(l,h)=>{s=s.add(new F_(r.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}An(n,e){let r=new ji(om);const o=this.mn(e,n);if(null==o)return r;const s=sS(e);if(null!=s){const l=n.data.field(s.fieldPath);if(ac(l))for(const h of l.arrayValue.values||[])r=r.add(new F_(e.indexId,n.key,this.dn(h),o))}else r=r.add(new F_(e.indexId,n.key,jS,o));return r}vn(n,e,r,o,s){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(h,p,g,w,E){const S=h.getIterator(),O=p.getIterator();let F=Vl(S),G=Vl(O);for(;F||G;){let Q=!1,ve=!1;if(F&&G){const Se=g(F,G);Se<0?ve=!0:Se>0&&(Q=!0)}else null!=F?ve=!0:Q=!0;Q?(w(G),G=Vl(O)):ve?(E(F),F=Vl(S)):(F=Vl(S),G=Vl(O))}}(o,s,om,h=>{l.push(this.Rn(n,e,r,h))},h=>{l.push(this.Pn(n,e,r,h))}),ge.waitFor(l)}Tn(n){let e=1;return aE(n).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,s)=>{s.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(n,e,r){r=r.sort((l,h)=>om(l,h)).filter((l,h,p)=>!h||0!==om(l,p[h-1]));const o=[];o.push(n);for(const l of r){const h=om(l,n),p=om(l,e);if(0===h)o[0]=n.Je();else if(h>0&&p<0)o.push(l),o.push(l.Je());else if(p>0)break}o.push(e);const s=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];s.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,jS,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,jS,[]]))}return s}bn(n,e){return om(n,e)>0}getMinOffsetFromCollectionGroup(n,e){return this.getFieldIndexes(n,e).next(pV)}getMinOffset(n,e){return ge.mapArray(this.cn(e),r=>this.an(n,r).next(o=>o||kt())).next(pV)}}function fV(i){return no(i,"collectionParents")}function sE(i){return no(i,"indexEntries")}function $S(i){return no(i,"indexConfiguration")}function aE(i){return no(i,"indexState")}function pV(i){Ht(0!==i.length);let n=i[0].indexState.offset,e=n.largestBatchId;for(let r=1;r<i.length;r++){const o=i[r].indexState.offset;dS(o,n)<0&&(n=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Ia(n.readTime,n.documentKey,e)}const mV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(n,e,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(n){return new Fs(n,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gV(i,n,e){const r=i.store("mutations"),o=i.store("documentMutations"),s=[],l=IDBKeyRange.only(e.batchId);let h=0;const p=r.X({range:l},(w,E,S)=>(h++,S.delete()));s.push(p.next(()=>{Ht(1===h)}));const g=[];for(const w of e.mutations){const E=SC(n,w.key.path,e.batchId);s.push(o.delete(E)),g.push(w.key)}return ge.waitFor(s).next(()=>g)}function GS(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw kt();n=i.noDocument}return JSON.stringify(n).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class qS{constructor(n,e,r,o){this.userId=n,this.serializer=e,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(n,e,r,o){Ht(""!==n.uid);const s=n.isAuthenticated()?n.uid:"";return new qS(s,e,r,o)}checkEmpty(n){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sm(n).X({index:"userMutationsIndex",range:r},(o,s,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(n,e,r,o){const s=Gb(n),l=sm(n);return l.add({}).next(h=>{Ht("number"==typeof h);const p=new iP(h,e,r,o),g=function(S,O,F){const G=F.baseMutations.map(ve=>nE(S.fe,ve)),Q=F.mutations.map(ve=>nE(S.fe,ve));return{userId:O,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:G,mutations:Q}}(this.serializer,this.userId,p),w=[];let E=new ji((S,O)=>fn(S.canonicalString(),O.canonicalString()));for(const S of o){const O=SC(this.userId,S.key.path,h);E=E.add(S.key.path.popLast()),w.push(l.put(g)),w.push(s.put(O,pS))}return E.forEach(S=>{w.push(this.indexManager.addToCollectionParentIndex(n,S))}),n.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),ge.waitFor(w).next(()=>p)})}lookupMutationBatch(n,e){return sm(n).get(e).next(r=>r?(Ht(r.userId===this.userId),P_(this.serializer,r)):null)}Sn(n,e){return this.Vn[e]?ge.resolve(this.Vn[e]):this.lookupMutationBatch(n,e).next(r=>{if(r){const o=r.keys();return this.Vn[e]=o,o}return null})}getNextMutationBatchAfterBatchId(n,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return sm(n).X({index:"userMutationsIndex",range:o},(l,h,p)=>{h.userId===this.userId&&(Ht(h.batchId>=r),s=P_(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(n){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return sm(n).X({index:"userMutationsIndex",range:e,reverse:!0},(o,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(n){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sm(n).j("userMutationsIndex",e).next(r=>r.map(o=>P_(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(n,e){const r=E_(this.userId,e.path),o=IDBKeyRange.lowerBound(r),s=[];return Gb(n).X({range:o},(l,h,p)=>{const[g,w,E]=l,S=sc(w);if(g===this.userId&&e.path.isEqual(S))return sm(n).get(E).next(O=>{if(!O)throw kt();Ht(O.userId===this.userId),s.push(P_(this.serializer,O))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(n,e){let r=new ji(fn);const o=[];return e.forEach(s=>{const l=E_(this.userId,s.path),h=IDBKeyRange.lowerBound(l),p=Gb(n).X({range:h},(g,w,E)=>{const[S,O,F]=g,G=sc(O);S===this.userId&&s.path.isEqual(G)?r=r.add(F):E.done()});o.push(p)}),ge.waitFor(o).next(()=>this.Dn(n,r))}getAllMutationBatchesAffectingQuery(n,e){const r=e.path,o=r.length+1,s=E_(this.userId,r),l=IDBKeyRange.lowerBound(s);let h=new ji(fn);return Gb(n).X({range:l},(p,g,w)=>{const[E,S,O]=p,F=sc(S);E===this.userId&&r.isPrefixOf(F)?F.length===o&&(h=h.add(O)):w.done()}).next(()=>this.Dn(n,h))}Dn(n,e){const r=[],o=[];return e.forEach(s=>{o.push(sm(n).get(s).next(l=>{if(null===l)throw kt();Ht(l.userId===this.userId),r.push(P_(this.serializer,l))}))}),ge.waitFor(o).next(()=>r)}removeMutationBatch(n,e){return gV(n.ht,this.userId,e).next(r=>(n.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ge.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(n,o))))}Cn(n){delete this.Vn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(e=>{if(!e)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Gb(n).X({range:r},(s,l,h)=>{if(s[0]===this.userId){const p=sc(s[1]);o.push(p)}else h.done()}).next(()=>{Ht(0===o.length)})})}containsKey(n,e){return _V(n,this.userId,e)}xn(n){return vV(n).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _V(i,n,e){const r=E_(n,e.path),o=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Gb(i).X({range:s,Y:!0},(h,p,g)=>{const[w,E,S]=h;w===n&&E===o&&(l=!0),g.done()}).next(()=>l)}function sm(i){return no(i,"mutations")}function Gb(i){return no(i,"documentMutations")}function vV(i){return no(i,"mutationQueues")}class L_{constructor(n){this.Nn=n}next(){return this.Nn+=2,this.Nn}static kn(){return new L_(0)}static Mn(){return new L_(-1)}}class E${constructor(n,e){this.referenceDelegate=n,this.serializer=e}allocateTargetId(n){return this.$n(n).next(e=>{const r=new L_(e.highestTargetId);return e.highestTargetId=r.next(),this.On(n,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.$n(n).next(e=>$t.fromTimestamp(new Wi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.$n(n).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(n,e,r){return this.$n(n).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.On(n,o)))}addTargetData(n,e){return this.Fn(n,e).next(()=>this.$n(n).next(r=>(r.targetCount+=1,this.Bn(e,r),this.On(n,r))))}updateTargetData(n,e){return this.Fn(n,e)}removeTargetData(n,e){return this.removeMatchingKeysForTargetId(n,e.targetId).next(()=>qb(n).delete(e.targetId)).next(()=>this.$n(n)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.On(n,r)))}removeTargets(n,e,r){let o=0;const s=[];return qb(n).X((l,h)=>{const p=iE(h);p.sequenceNumber<=e&&null===r.get(p.targetId)&&(o++,s.push(this.removeTargetData(n,p)))}).next(()=>ge.waitFor(s)).next(()=>o)}forEachTarget(n,e){return qb(n).X((r,o)=>{const s=iE(o);e(s)})}$n(n){return yV(n).get("targetGlobalKey").next(e=>(Ht(null!==e),e))}On(n,e){return yV(n).put("targetGlobalKey",e)}Fn(n,e){return qb(n).put(iV(this.serializer,e))}Bn(n,e){let r=!1;return n.targetId>e.highestTargetId&&(e.highestTargetId=n.targetId,r=!0),n.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n.sequenceNumber,r=!0),r}getTargetCount(n){return this.$n(n).next(e=>e.targetCount)}getTargetData(n,e){const r=eu(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return qb(n).X({range:o,index:"queryTargetsIndex"},(l,h,p)=>{const g=iE(h);em(e,g.target)&&(s=g,p.done())}).next(()=>s)}addMatchingKeys(n,e,r){const o=[],s=am(n);return e.forEach(l=>{const h=Wo(l.path);o.push(s.put({targetId:r,path:h})),o.push(this.referenceDelegate.addReference(n,r,l))}),ge.waitFor(o)}removeMatchingKeys(n,e,r){const o=am(n);return ge.forEach(e,s=>{const l=Wo(s.path);return ge.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(n,r,s)])})}removeMatchingKeysForTargetId(n,e){const r=am(n),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(n,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=am(n);let s=b();return o.X({range:r,Y:!0},(l,h,p)=>{const g=sc(l[1]),w=new vt(g);s=s.add(w)}).next(()=>s)}containsKey(n,e){const r=Wo(e.path),o=IDBKeyRange.bound([r],[OO(r)],!1,!0);let s=0;return am(n).X({index:"documentTargetsIndex",Y:!0,range:o},([l,h],p,g)=>{0!==l&&(s++,g.done())}).next(()=>s>0)}le(n,e){return qb(n).get(e).next(r=>r?iE(r):null)}}function qb(i){return no(i,"targets")}function yV(i){return no(i,"targetGlobal")}function am(i){return no(i,"targetDocuments")}function bV([i,n],[e,r]){const o=fn(i,e);return 0===o?fn(n,r):o}class D${constructor(n){this.Ln=n,this.buffer=new ji(bV),this.qn=0}Un(){return++this.qn}Kn(n){const e=[n,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();bV(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class wV{constructor(n,e,r){this.garbageCollector=n,this.asyncQueue=e,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(n){var e=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ee.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Lh(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Yd(r)}yield e.Qn(3e5)}))}}class I${constructor(n,e){this.jn=n,this.params=e}calculateTargetCount(n,e){return this.jn.zn(n).next(r=>Math.floor(e/100*r))}nthSequenceNumber(n,e){if(0===e)return ge.resolve(Mi.ct);const r=new D$(e);return this.jn.forEachTarget(n,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(n,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(n,e,r){return this.jn.removeTargets(n,e,r)}removeOrphanedDocuments(n,e){return this.jn.removeOrphanedDocuments(n,e)}collect(n,e){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(mV)):this.getCacheSize(n).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mV):this.Hn(n,e))}getCacheSize(n){return this.jn.getCacheSize(n)}Hn(n,e){let r,o,s,l,h,p,g;const w=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,l=Date.now(),this.nthSequenceNumber(n,o))).next(E=>(r=E,h=Date.now(),this.removeTargets(n,r,e))).next(E=>(s=E,p=Date.now(),this.removeOrphanedDocuments(n,r))).next(E=>(g=Date.now(),Eb()<=Xr.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-w}ms\n\tDetermined least recently used ${o} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${E} documents in `+(g-p)+`ms\nTotal Duration: ${g-w}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:E})))}}class k${constructor(n,e){this.db=n,this.garbageCollector=function xV(i,n){return new I$(i,n)}(this,e)}zn(n){const e=this.Jn(n);return this.db.getTargetCache().getTargetCount(n).next(r=>e.next(o=>r+o))}Jn(n){let e=0;return this.Wn(n,r=>{e++}).next(()=>e)}forEachTarget(n,e){return this.db.getTargetCache().forEachTarget(n,e)}Wn(n,e){return this.Yn(n,(r,o)=>e(o))}addReference(n,e,r){return WS(n,r)}removeReference(n,e,r){return WS(n,r)}removeTargets(n,e,r){return this.db.getTargetCache().removeTargets(n,e,r)}markPotentiallyOrphaned(n,e){return WS(n,e)}Xn(n,e){return function(r,o){let s=!1;return vV(r).Z(l=>_V(r,l,o).next(h=>(h&&(s=!0),ge.resolve(!h)))).next(()=>s)}(n,e)}removeOrphanedDocuments(n,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let s=0;return this.Yn(n,(l,h)=>{if(h<=e){const p=this.Xn(n,l).next(g=>{if(!g)return s++,r.getEntry(n,l).next(()=>(r.removeEntry(l,$t.min()),am(n).delete([0,Wo(l.path)])))});o.push(p)}}).next(()=>ge.waitFor(o)).next(()=>r.apply(n)).next(()=>s)}removeTarget(n,e){const r=e.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,r)}updateLimboDocument(n,e){return WS(n,e)}Yn(n,e){const r=am(n);let o,s=Mi.ct;return r.X({index:"documentTargetsIndex"},([l,h],{path:p,sequenceNumber:g})=>{0===l?(s!==Mi.ct&&e(new vt(sc(o)),s),s=g,o=p):s=Mi.ct}).next(()=>{s!==Mi.ct&&e(new vt(sc(o)),s)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function WS(i,n){return am(i).put((r=i.currentSequenceNumber,{targetId:0,path:Wo(n.path),sequenceNumber:r}));var r}class CV{constructor(){this.changes=new tu(n=>n.toString(),(n,e)=>n.isEqual(e)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,e){this.assertNotApplied(),this.changes.set(n,Zi.newInvalidDocument(n).setReadTime(e))}getEntry(n,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ge.resolve(r):this.getFromCache(n,e)}getEntries(n,e){return this.getAllFromCache(n,e)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class T${constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,e,r){return B_(n).put(r)}removeEntry(n,e,r){return B_(n).delete(function(o,s){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],US(s),l[l.length-1]]}(e,r))}updateMetadata(n,e){return this.getMetadata(n).next(r=>(r.byteSize+=e,this.Zn(n,r)))}getEntry(n,e){let r=Zi.newInvalidDocument(e);return B_(n).X({index:"documentKeyIndex",range:IDBKeyRange.only(cE(e))},(o,s)=>{r=this.ts(e,s)}).next(()=>r)}es(n,e){let r={size:0,document:Zi.newInvalidDocument(e)};return B_(n).X({index:"documentKeyIndex",range:IDBKeyRange.only(cE(e))},(o,s)=>{r={document:this.ts(e,s),size:GS(s)}}).next(()=>r)}getEntries(n,e){let r=Qs();return this.ns(n,e,(o,s)=>{const l=this.ts(o,s);r=r.insert(o,l)}).next(()=>r)}ss(n,e){let r=Qs(),o=new Ri(vt.comparator);return this.ns(n,e,(s,l)=>{const h=this.ts(s,l);r=r.insert(s,h),o=o.insert(s,GS(l))}).next(()=>({documents:r,rs:o}))}ns(n,e,r){if(e.isEmpty())return ge.resolve();let o=new ji(kV);e.forEach(p=>o=o.add(p));const s=IDBKeyRange.bound(cE(o.first()),cE(o.last())),l=o.getIterator();let h=l.getNext();return B_(n).X({index:"documentKeyIndex",range:s},(p,g,w)=>{const E=vt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&kV(h,E)<0;)r(h,null),h=l.getNext();h&&h.isEqual(E)&&(r(h,g),h=l.hasNext()?l.getNext():null),h?w.G(cE(h)):w.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(n,e,r,o){const s=e.path,l=[s.popLast().toArray(),s.lastSegment(),US(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return B_(n).j(IDBKeyRange.bound(l,h,!0)).next(p=>{let g=Qs();for(const w of p){const E=this.ts(vt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);E.isFoundDocument()&&(Vb(e,E)||o.has(E.key))&&(g=g.insert(E.key,E))}return g})}getAllFromCollectionGroup(n,e,r,o){let s=Qs();const l=IV(e,r),h=IV(e,Ia.max());return B_(n).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(p,g,w)=>{const E=this.ts(vt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(E.key,E),s.size===o&&w.done()}).next(()=>s)}newChangeBuffer(n){return new S$(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(e=>e.byteSize)}getMetadata(n){return DV(n).get("remoteDocumentGlobalKey").next(e=>(Ht(!!e),e))}Zn(n,e){return DV(n).put("remoteDocumentGlobalKey",e)}ts(n,e){if(e){const r=function p$(i,n){let e;if(n.document)e=YB(i.fe,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const r=vt.fromSegments(n.noDocument.path),o=O_(n.noDocument.readTime);e=Zi.newNoDocument(r,o),n.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!n.unknownDocument)return kt();{const r=vt.fromSegments(n.unknownDocument.path),o=O_(n.unknownDocument.version);e=Zi.newUnknownDocument(r,o)}}return n.readTime&&e.setReadTime(function(r){const o=new Wi(r[0],r[1]);return $t.fromTimestamp(o)}(n.readTime)),e}(this.serializer,e);if(!r.isNoDocument()||!r.version.isEqual($t.min()))return r}return Zi.newInvalidDocument(n)}}function EV(i){return new T$(i)}class S$ extends CV{constructor(n,e){super(),this.os=n,this.trackRemovals=e,this.us=new tu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(n){const e=[];let r=0,o=new ji((s,l)=>fn(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.us.get(s);if(e.push(this.os.removeEntry(n,s,h.readTime)),l.isValidDocument()){const p=nV(this.os.serializer,l);o=o.add(s.path.popLast());const g=GS(p);r+=g-h.size,e.push(this.os.addEntry(n,s,p))}else if(r-=h.size,this.trackRemovals){const p=nV(this.os.serializer,l.convertToNoDocument($t.min()));e.push(this.os.addEntry(n,s,p))}}),o.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(n,s))}),e.push(this.os.updateMetadata(n,r)),ge.waitFor(e)}getFromCache(n,e){return this.os.es(n,e).next(r=>(this.us.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(n,e){return this.os.ss(n,e).next(({documents:r,rs:o})=>(o.forEach((s,l)=>{this.us.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function DV(i){return no(i,"remoteDocumentGlobal")}function B_(i){return no(i,"remoteDocumentsV14")}function cE(i){const n=i.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function IV(i,n){const e=n.documentKey.path.toArray();return[i,US(n.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function kV(i,n){const e=i.path.toArray(),r=n.path.toArray();let o=0;for(let s=0;s<e.length-2&&s<r.length-2;++s)if(o=fn(e[s],r[s]),o)return o;return o=fn(e.length,r.length),o||(o=fn(e[e.length-2],r[r.length-2]),o||fn(e[e.length-1],r[r.length-1]))}class A${constructor(n,e){this.overlayedDocument=n,this.mutatedFields=e}}class TV{constructor(n,e,r,o){this.remoteDocumentCache=n,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(n,e){let r=null;return this.documentOverlayCache.getOverlay(n,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(n,e))).next(o=>(null!==r&&KC(r.mutation,o,hs.empty(),Wi.now()),o))}getDocuments(n,e){return this.remoteDocumentCache.getEntries(n,e).next(r=>this.getLocalViewOfDocuments(n,r,b()).next(()=>r))}getLocalViewOfDocuments(n,e,r=b()){const o=d();return this.populateOverlays(n,o,e).next(()=>this.computeViews(n,e,o,r).next(s=>{let l=Ub();return s.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(n,e){const r=d();return this.populateOverlays(n,r,e).next(()=>this.computeViews(n,e,r,b()))}populateOverlays(n,e,r){const o=[];return r.forEach(s=>{e.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(n,o).next(s=>{s.forEach((l,h)=>{e.set(l,h)})})}computeViews(n,e,r,o){let s=Qs();const l=f(),h=f();return e.forEach((p,g)=>{const w=r.get(g.key);o.has(g.key)&&(void 0===w||w.mutation instanceof qh)?s=s.insert(g.key,g):void 0!==w?(l.set(g.key,w.mutation.getFieldMask()),KC(w.mutation,g,w.mutation.getFieldMask(),Wi.now())):l.set(g.key,hs.empty())}),this.recalculateAndSaveOverlays(n,s).next(p=>(p.forEach((g,w)=>l.set(g,w)),e.forEach((g,w)=>{var E;return h.set(g,new A$(w,null!==(E=l.get(g))&&void 0!==E?E:null))}),h))}recalculateAndSaveOverlays(n,e){const r=f();let o=new Ri((l,h)=>l-h),s=b();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,e).next(l=>{for(const h of l)h.keys().forEach(p=>{const g=e.get(p);if(null===g)return;let w=r.get(p)||hs.empty();w=h.applyToLocalView(g,w),r.set(p,w);const E=(o.get(h.batchId)||b()).add(p);o=o.insert(h.batchId,E)})}).next(()=>{const l=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,w=p.value,E=u();w.forEach(S=>{if(!s.has(S)){const O=SB(e.get(S),r.get(S));null!==O&&E.set(S,O),s=s.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(n,g,E))}return ge.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(n,e){return this.remoteDocumentCache.getEntries(n,e).next(r=>this.recalculateAndSaveOverlays(n,r))}getDocumentsMatchingQuery(n,e,r){return vt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(n,e.path):WC(e)?this.getDocumentsMatchingCollectionGroupQuery(n,e,r):this.getDocumentsMatchingCollectionQuery(n,e,r);var o}getNextDocuments(n,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(n,e,r,o).next(s=>{const l=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,e,r.largestBatchId,o-s.size):ge.resolve(d());let h=-1,p=s;return l.next(g=>ge.forEach(g,(w,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),s.get(w)?ge.resolve():this.remoteDocumentCache.getEntry(n,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(n,g,s)).next(()=>this.computeViews(n,p,g,b())).next(w=>({batchId:h,changes:c(w)})))})}getDocumentsMatchingDocumentQuery(n,e){return this.getDocument(n,new vt(e)).next(r=>{let o=Ub();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(n,e,r){const o=e.collectionGroup;let s=Ub();return this.indexManager.getCollectionParents(n,o).next(l=>ge.forEach(l,h=>{const p=(g=e,w=h.child(o),new Kc(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,w;return this.getDocumentsMatchingCollectionQuery(n,p,r).next(g=>{g.forEach((w,E)=>{s=s.insert(w,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(n,e,r){let o;return this.documentOverlayCache.getOverlaysForCollection(n,e.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(n,e,r,o))).next(s=>{o.forEach((h,p)=>{const g=p.getKey();null===s.get(g)&&(s=s.insert(g,Zi.newInvalidDocument(g)))});let l=Ub();return s.forEach((h,p)=>{const g=o.get(h);void 0!==g&&KC(g.mutation,p,hs.empty(),Wi.now()),Vb(e,p)&&(l=l.insert(h,p))}),l})}}class M${constructor(n){this.serializer=n,this.cs=new Map,this.hs=new Map}getBundleMetadata(n,e){return ge.resolve(this.cs.get(e))}saveBundleMetadata(n,e){var r;return this.cs.set(e.id,{id:(r=e).id,version:r.version,createTime:ro(r.createTime)}),ge.resolve()}getNamedQuery(n,e){return ge.resolve(this.hs.get(e))}saveNamedQuery(n,e){return this.hs.set(e.name,{name:(r=e).name,query:fP(r.bundledQuery),readTime:ro(r.readTime)}),ge.resolve();var r}}class R${constructor(){this.overlays=new Ri(vt.comparator),this.ls=new Map}getOverlay(n,e){return ge.resolve(this.overlays.get(e))}getOverlays(n,e){const r=d();return ge.forEach(e,o=>this.getOverlay(n,o).next(s=>{null!==s&&r.set(o,s)})).next(()=>r)}saveOverlays(n,e,r){return r.forEach((o,s)=>{this.we(n,e,s)}),ge.resolve()}removeOverlaysForBatchId(n,e,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ge.resolve()}getOverlaysForCollection(n,e,r){const o=d(),s=e.length+1,l=new vt(e.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===s&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ge.resolve(o)}getOverlaysForCollectionGroup(n,e,r,o){let s=new Ri((g,w)=>g-w);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let w=s.get(g.largestBatchId);null===w&&(w=d(),s=s.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const h=d(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,w)=>h.set(g,w)),!(h.size()>=o)););return ge.resolve(h)}we(n,e,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new oP(e,r));let s=this.ls.get(e);void 0===s&&(s=b(),this.ls.set(e,s)),this.ls.set(e,s.add(r.key))}}class bP{constructor(){this.fs=new ji(Yo.ds),this.ws=new ji(Yo._s)}isEmpty(){return this.fs.isEmpty()}addReference(n,e){const r=new Yo(n,e);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(n,e){n.forEach(r=>this.addReference(r,e))}removeReference(n,e){this.ys(new Yo(n,e))}ps(n,e){n.forEach(r=>this.removeReference(r,e))}Is(n){const e=new vt(new $n([])),r=new Yo(e,n),o=new Yo(e,n+1),s=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(n=>this.ys(n))}ys(n){this.fs=this.fs.delete(n),this.ws=this.ws.delete(n)}Es(n){const e=new vt(new $n([])),r=new Yo(e,n),o=new Yo(e,n+1);let s=b();return this.ws.forEachInRange([r,o],l=>{s=s.add(l.key)}),s}containsKey(n){const e=new Yo(n,0),r=this.fs.firstAfterOrEqual(e);return null!==r&&n.isEqual(r.key)}}class Yo{constructor(n,e){this.key=n,this.As=e}static ds(n,e){return vt.comparator(n.key,e.key)||fn(n.As,e.As)}static _s(n,e){return fn(n.As,e.As)||vt.comparator(n.key,e.key)}}class O${constructor(n,e){this.indexManager=n,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new ji(Yo.ds)}checkEmpty(n){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(n,e,r,o){const s=this.vs;this.vs++;const l=new iP(s,e,r,o);this.mutationQueue.push(l);for(const h of o)this.Rs=this.Rs.add(new Yo(h.key,s)),this.indexManager.addToCollectionParentIndex(n,h.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(n,e){return ge.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(n,e){const o=this.bs(e+1),s=o<0?0:o;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(n){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,e){const r=new Yo(e,0),o=new Yo(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,o],l=>{const h=this.Ps(l.As);s.push(h)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(n,e){let r=new ji(fn);return e.forEach(o=>{const s=new Yo(o,0),l=new Yo(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],h=>{r=r.add(h.As)})}),ge.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(n,e){const r=e.path,o=r.length+1;let s=r;vt.isDocumentKey(s)||(s=s.child(""));const l=new Yo(new vt(s),0);let h=new ji(fn);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(h=h.add(p.As)),!0)},l),ge.resolve(this.Vs(h))}Vs(n){const e=[];return n.forEach(r=>{const o=this.Ps(r);null!==o&&e.push(o)}),e}removeMutationBatch(n,e){Ht(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ge.forEach(e.mutations,o=>{const s=new Yo(o.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)}).next(()=>{this.Rs=r})}Cn(n){}containsKey(n,e){const r=new Yo(e,0),o=this.Rs.firstAfterOrEqual(r);return ge.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(n){return ge.resolve()}Ss(n,e){return this.bs(n)}bs(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Ps(n){const e=this.bs(n);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class P${constructor(n){this.Ds=n,this.docs=new Ri(vt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,e){const r=e.key,o=this.docs.get(r),s=o?o.size:0,l=this.Ds(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const e=this.docs.get(n);e&&(this.docs=this.docs.remove(n),this.size-=e.size)}getEntry(n,e){const r=this.docs.get(e);return ge.resolve(r?r.document.mutableCopy():Zi.newInvalidDocument(e))}getEntries(n,e){let r=Qs();return e.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():Zi.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(n,e,r,o){let s=Qs();const l=e.path,h=new vt(l.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:w}}=p.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||dS(lS(w),r)<=0||(o.has(w.key)||Vb(e,w))&&(s=s.insert(w.key,w.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(n,e,r,o){kt()}Cs(n,e){return ge.forEach(this.docs,r=>e(r))}newChangeBuffer(n){return new N$(this)}getSize(n){return ge.resolve(this.size)}}class N$ extends CV{constructor(n){super(),this.os=n}applyChanges(n){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.os.addEntry(n,o)):this.os.removeEntry(r)}),ge.waitFor(e)}getFromCache(n,e){return this.os.getEntry(n,e)}getAllFromCache(n,e){return this.os.getEntries(n,e)}}class F${constructor(n){this.persistence=n,this.xs=new tu(e=>eu(e),em),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new bP,this.targetCount=0,this.Ms=L_.kn()}forEachTarget(n,e){return this.xs.forEach((r,o)=>e(o)),ge.resolve()}getLastRemoteSnapshotVersion(n){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ge.resolve(this.Ns)}allocateTargetId(n){return this.highestTargetId=this.Ms.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(n,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Ns&&(this.Ns=e),ge.resolve()}Fn(n){this.xs.set(n.target,n);const e=n.targetId;e>this.highestTargetId&&(this.Ms=new L_(e),this.highestTargetId=e),n.sequenceNumber>this.Ns&&(this.Ns=n.sequenceNumber)}addTargetData(n,e){return this.Fn(e),this.targetCount+=1,ge.resolve()}updateTargetData(n,e){return this.Fn(e),ge.resolve()}removeTargetData(n,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(n,e,r){let o=0;const s=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=e&&null===r.get(h.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(n,h.targetId)),o++)}),ge.waitFor(s).next(()=>o)}getTargetCount(n){return ge.resolve(this.targetCount)}getTargetData(n,e){const r=this.xs.get(e)||null;return ge.resolve(r)}addMatchingKeys(n,e,r){return this.ks.gs(e,r),ge.resolve()}removeMatchingKeys(n,e,r){this.ks.ps(e,r);const o=this.persistence.referenceDelegate,s=[];return o&&e.forEach(l=>{s.push(o.markPotentiallyOrphaned(n,l))}),ge.waitFor(s)}removeMatchingKeysForTargetId(n,e){return this.ks.Is(e),ge.resolve()}getMatchingKeysForTargetId(n,e){const r=this.ks.Es(e);return ge.resolve(r)}containsKey(n,e){return ge.resolve(this.ks.containsKey(e))}}class wP{constructor(n,e){this.$s={},this.overlays={},this.Os=new Mi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=n(this),this.Bs=new F$(this),this.indexManager=new x$,this.remoteDocumentCache=new P$(r=>this.referenceDelegate.Ls(r)),this.serializer=new tV(e),this.qs=new M$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let e=this.overlays[n.toKey()];return e||(e=new R$,this.overlays[n.toKey()]=e),e}getMutationQueue(n,e){let r=this.$s[n.toKey()];return r||(r=new O$(e,this.referenceDelegate),this.$s[n.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(n,e,r){Ke("MemoryPersistence","Starting transaction:",n);const o=new L$(this.Os.next());return this.referenceDelegate.Us(),r(o).next(s=>this.referenceDelegate.Ks(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Gs(n,e){return ge.or(Object.values(this.$s).map(r=>()=>r.containsKey(n,e)))}}class L$ extends EC{constructor(n){super(),this.currentSequenceNumber=n}}class ZS{constructor(n){this.persistence=n,this.Qs=new bP,this.js=null}static zs(n){return new ZS(n)}get Ws(){if(this.js)return this.js;throw kt()}addReference(n,e,r){return this.Qs.addReference(r,e),this.Ws.delete(r.toString()),ge.resolve()}removeReference(n,e,r){return this.Qs.removeReference(r,e),this.Ws.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(n,e){return this.Ws.add(e.toString()),ge.resolve()}removeTarget(n,e){this.Qs.Is(e.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,e.targetId).next(o=>{o.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(n,e))}Us(){this.js=new Set}Ks(n){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ws,r=>{const o=vt.fromPath(r);return this.Hs(n,o).next(s=>{s||e.removeEntry(o,$t.min())})}).next(()=>(this.js=null,e.apply(n)))}updateLimboDocument(n,e){return this.Hs(n,e).next(r=>{r?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(n){return 0}Hs(n,e){return ge.or([()=>ge.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(n,e),()=>this.persistence.Gs(n,e)])}}class B${constructor(n){this.serializer=n}O(n,e,r,o){const s=new IC("createOrUpgrade",e);var h;r<1&&o>=1&&(n.createObjectStore("owner"),(h=n).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fS,{unique:!0}),h.createObjectStore("documentMutations"),SV(n),function(h){h.createObjectStore("remoteDocuments")}(n));let l=ge.resolve();return r<3&&o>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(n),SV(n)),l=l.next(()=>function(h){const p=h.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",g)}(s))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(h,p){return p.store("mutations").j().next(g=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fS,{unique:!0});const w=p.store("mutations"),E=g.map(S=>w.put(S));return ge.waitFor(E)})}(n,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(s))),r<6&&o>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(n),this.Xs(s)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(s))),r<8&&o>=8&&(l=l.next(()=>this.ti(n,s))),r<9&&o>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(n)})),r<10&&o>=10&&(l=l.next(()=>this.ei(s))),r<11&&o>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),r<12&&o>=12&&(l=l.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:vS});p.createIndex("collectionPathOverlayIndex",VO,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",UO,{unique:!1})}(n)})),r<13&&o>=13&&(l=l.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:mS});p.createIndex("documentKeyIndex",FO),p.createIndex("collectionGroupIndex",gS)}(n)).next(()=>this.ni(n,s)).next(()=>n.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(n,s))),r<15&&o>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:MC}).createIndex("sequenceNumberIndex",RC,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:BO}).createIndex("documentKeyIndex",CB,{unique:!1})}(n))),l}Xs(n){let e=0;return n.store("remoteDocuments").X((r,o)=>{e+=GS(o)}).next(()=>{const r={byteSize:e};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(n){const e=n.store("mutationQueues"),r=n.store("mutations");return e.j().next(o=>ge.forEach(o,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(h=>ge.forEach(h,p=>{Ht(p.userId===s.userId);const g=P_(this.serializer,p);return gV(n,s.userId,g).next(()=>{})}))}))}Zs(n){const e=n.store("targetDocuments"),r=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(o=>{const s=[];return r.X((l,h)=>{const p=new $n(l),g=[0,Wo(p)];s.push(e.get(g).next(w=>w?ge.resolve():e.put({targetId:0,path:Wo(p),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ge.waitFor(s))})}ti(n,e){n.createObjectStore("collectionParents",{keyPath:_S});const r=e.store("collectionParents"),o=new yP,s=l=>{if(o.add(l)){const h=l.lastSegment(),p=l.popLast();return r.put({collectionId:h,parent:Wo(p)})}};return e.store("remoteDocuments").X({Y:!0},(l,h)=>{const p=new $n(l);return s(p.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,h,p],g)=>{const w=sc(h);return s(w.popLast())}))}ei(n){const e=n.store("targets");return e.X((r,o)=>{const s=iE(o),l=iV(this.serializer,s);return e.put(l)})}ni(n,e){const r=e.store("remoteDocuments"),o=[];return r.X((s,l)=>{const h=e.store("remoteDocumentsV14"),p=(g=l,g.document?new vt($n.fromString(g.document.name).popFirst(5)):g.noDocument?vt.fromSegments(g.noDocument.path):g.unknownDocument?vt.fromSegments(g.unknownDocument.path):kt()).path.toArray();var g;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(h.put(w))}).next(()=>ge.waitFor(o))}si(n,e){const r=e.store("mutations"),o=EV(this.serializer),s=new wP(ZS.zs,this.serializer.fe);return r.j().next(l=>{const h=new Map;return l.forEach(p=>{var g;let w=null!==(g=h.get(p.userId))&&void 0!==g?g:b();P_(this.serializer,p).keys().forEach(E=>w=w.add(E)),h.set(p.userId,w)}),ge.forEach(h,(p,g)=>{const w=new Ro(g),E=HS.de(this.serializer,w),S=s.getIndexManager(w),O=qS.de(w,this.serializer,S,s.referenceDelegate);return new TV(o,O,E,S).recalculateAndSaveOverlaysForDocumentKeys(new PC(e,Mi.ct),p).next()})})}}function SV(i){i.createObjectStore("targetDocuments",{keyPath:AC}).createIndex("documentTargetsIndex",Kd,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LO,{unique:!0}),i.createObjectStore("targetGlobal")}const xP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CP{constructor(n,e,r,o,s,l,h,p,g,w,E=15){if(this.allowTabSynchronization=n,this.persistenceKey=e,this.clientId=r,this.ii=s,this.window=l,this.document=h,this.ri=g,this.oi=w,this.ui=E,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=S=>Promise.resolve(),!CP.D())throw new ze(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k$(this,o),this.di=e+"main",this.serializer=new tV(p),this.wi=new rc(this.di,this.ui,new B$(this.serializer)),this.Bs=new E$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EV(this.serializer),this.qs=new m$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(ye.FAILED_PRECONDITION,xP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Bs.getHighestSequenceNumber(n))}).then(n=>{this.Os=new Mi(n,this.ri)}).then(()=>{this.Fs=!0}).catch(n=>(this.wi&&this.wi.close(),Promise.reject(n)))}Ii(n){var e=this;return this.fi=function(){var r=(0,Ee.Z)(function*(o){if(e.started)return n(o)});return function(o){return r.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.wi.B(function(){var e=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield n())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(n){var e=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ii.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>KS(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(n).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(n)).next(e=>this.isPrimary&&!e?this.Ai(n).next(()=>!1):!!e&&this.vi(n).next(()=>!0))).catch(n=>{if(Lh(n))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ii.enqueueRetryable(()=>this.fi(n)),this.isPrimary=n})}Ti(n){return lE(n).get("owner").next(e=>ge.resolve(this.Ri(e)))}Pi(n){return KS(n).delete(this.clientId)}bi(){var n=this;return(0,Ee.Z)(function*(){if(n.isPrimary&&!n.Vi(n.li,18e5)){n.li=Date.now();const e=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=no(r,"clientMetadata");return o.j().next(s=>{const l=n.Si(s,18e5),h=s.filter(p=>-1===l.indexOf(p));return ge.forEach(h,p=>o.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(n._i)for(const r of e)n._i.removeItem(n.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(n){return!!n&&n.ownerId===this.clientId}Ei(n){return this.oi?ge.resolve(!0):lE(n).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new ze(ye.FAILED_PRECONDITION,xP);return!1}}return!(!this.networkEnabled||!this.inForeground)||KS(n).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ke("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var n=this;return(0,Ee.Z)(function*(){n.Fs=!1,n.xi(),n.hi&&(n.hi.cancel(),n.hi=null),n.Ni(),n.ki(),yield n.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new PC(e,Mi.ct);return n.Ai(r).next(()=>n.Pi(r))}),n.wi.close(),n.Mi()})()}Si(n,e){return n.filter(r=>this.Vi(r.updateTimeMs,e)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",n=>KS(n).j().next(e=>this.Si(e,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(n,e){return qS.de(n,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new C$(n,this.serializer.fe.databaseId)}getDocumentOverlayCache(n){return HS.de(this.serializer,n)}getBundleCache(){return this.qs}runTransaction(n,e,r){Ke("IndexedDbPersistence","Starting transaction:",n);const o="readonly"===e?"readonly":"readwrite",s=15===(l=this.ui)?bS:14===l?zO:13===l?OC:12===l?HO:11===l?yS:void kt();var l;let h;return this.wi.runTransaction(n,o,s,p=>(h=new PC(p,this.Os?this.Os.next():Mi.ct),"readwrite-primary"===e?this.Ti(h).next(g=>!!g||this.Ei(h)).next(g=>{if(!g)throw Tr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ze(ye.FAILED_PRECONDITION,PO);return r(h)}).next(g=>this.vi(h).next(()=>g)):this.Oi(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(n){return lE(n).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ze(ye.FAILED_PRECONDITION,xP)})}vi(n){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lE(n).put("owner",e)}static D(){return rc.D()}Ai(n){const e=lE(n);return e.get("owner").next(r=>this.Ri(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}Vi(n,e){const r=Date.now();return!(n<r-e||n>r&&(Tr(`Detected an update time that is in the future: ${n} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,j.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(n){var e;try{const r=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(n)));return Ke("IndexedDbPersistence",`Client '${n}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(n){Tr("Failed to set zombie client id.",n)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function lE(i){return no(i,"owner")}function KS(i){return no(i,"clientMetadata")}function EP(i,n){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+n+"/"+e+"/"}class DP{constructor(n,e,r,o){this.targetId=n,this.fromCache=e,this.Fi=r,this.Bi=o}static Li(n,e){let r=b(),o=b();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new DP(n,e.fromCache,r,o)}}class AV{constructor(){this.qi=!1}initialize(n,e){this.Ui=n,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(n,e,r,o){return this.Ki(n,e).next(s=>s||this.Gi(n,e,o,r)).next(s=>s||this.Qi(n,e))}Ki(n,e){if(RS(e))return ge.resolve(null);let r=Ns(e);return this.indexManager.getIndexType(n,r).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=YC(e,null,"F"),r=Ns(e)),this.indexManager.getDocumentsMatchingTarget(n,r).next(s=>{const l=b(...s);return this.Ui.getDocuments(n,l).next(h=>this.indexManager.getMinOffset(n,r).next(p=>{const g=this.ji(e,h);return this.zi(e,g,l,p.readTime)?this.Ki(n,YC(e,null,"F")):this.Wi(n,g,e,p)}))})))}Gi(n,e,r,o){return RS(e)||o.isEqual($t.min())?this.Qi(n,e):this.Ui.getDocuments(n,r).next(s=>{const l=this.ji(e,s);return this.zi(e,l,r,o)?this.Qi(n,e):(Eb()<=Xr.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),OS(e)),this.Wi(n,l,e,x_(o,-1)))})}ji(n,e){let r=new ji(eP(n));return e.forEach((o,s)=>{Vb(n,s)&&(r=r.add(s))}),r}zi(n,e,r,o){if(null===n.limit)return!1;if(r.size!==e.size)return!0;const s="F"===n.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Qi(n,e){return Eb()<=Xr.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",OS(e)),this.Ui.getDocumentsMatchingQuery(n,e,Ia.min())}Wi(n,e,r,o){return this.Ui.getDocumentsMatchingQuery(n,r,o).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class V${constructor(n,e,r,o){this.persistence=n,this.Hi=e,this.serializer=o,this.Ji=new Ri(fn),this.Yi=new tu(s=>eu(s),em),this.Xi=new Map,this.Zi=n.getRemoteDocumentCache(),this.Bs=n.getTargetCache(),this.qs=n.getBundleCache(),this.tr(r)}tr(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new TV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>n.collect(e,this.Ji))}}function MV(i,n,e,r){return new V$(i,n,e,r)}function RV(i,n){return IP.apply(this,arguments)}function IP(){return IP=(0,Ee.Z)(function*(i,n){const e=bt(i);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,e.tr(n),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],h=[];let p=b();for(const g of o){l.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}for(const g of s){h.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}return e.localDocuments.getDocuments(r,p).next(g=>({er:g,removedBatchIds:l,addedBatchIds:h}))})})}),IP.apply(this,arguments)}function OV(i){const n=bt(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",e=>n.Bs.getLastRemoteSnapshotVersion(e))}function PV(i,n,e){let r=b(),o=b();return e.forEach(s=>r=r.add(s)),n.getEntries(i,r).next(s=>{let l=Qs();return e.forEach((h,p)=>{const g=s.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual($t.min())?(n.removeEntry(h,p.readTime),l=l.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||0===p.version.compareTo(g.version)&&g.hasPendingWrites?(n.addEntry(p),l=l.insert(h,p)):Ke("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{nr:l,sr:o}})}function z$(i,n){const e=bt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===n&&(n=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,n)))}function Wb(i,n){const e=bt(i);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Bs.getTargetData(r,n).next(s=>s?(o=s,ge.resolve(o)):e.Bs.allocateTargetId(r).next(l=>(o=new Wh(n,l,"TargetPurposeListen",r.currentSequenceNumber),e.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(r.targetId,r),e.Yi.set(n,r.targetId)),r})}function Zb(i,n,e){return kP.apply(this,arguments)}function kP(){return kP=(0,Ee.Z)(function*(i,n,e){const r=bt(i),o=r.Ji.get(n),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Lh(l))throw l;Ke("LocalStore",`Failed to update sequence numbers for target ${n}: ${l}`)}r.Ji=r.Ji.remove(n),r.Yi.delete(o.target)}),kP.apply(this,arguments)}function QS(i,n,e){const r=bt(i);let o=$t.min(),s=b();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,p,g){const w=bt(h),E=w.Yi.get(g);return void 0!==E?ge.resolve(w.Ji.get(E)):w.Bs.getTargetData(p,g)}(r,l,Ns(n)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,h.targetId).next(p=>{s=p})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,n,e?o:$t.min(),e?s:b())).next(h=>(LV(r,PS(n),h),{documents:h,ir:s})))}function NV(i,n){const e=bt(i),r=bt(e.Bs),o=e.Ji.get(n);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",s=>r.le(s,n).next(l=>l?l.target:null))}function FV(i,n){const e=bt(i),r=e.Xi.get(n)||$t.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Zi.getAllFromCollectionGroup(o,n,x_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(LV(e,n,o),o))}function LV(i,n,e){let r=i.Xi.get(n)||$t.min();e.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),i.Xi.set(n,r)}function TP(){return TP=(0,Ee.Z)(function*(i,n,e,r){const o=bt(i);let s=b(),l=Qs();for(const g of e){const w=n.rr(g.metadata.name);g.document&&(s=s.add(w));const E=n.ur(g);E.setReadTime(n.cr(g.metadata.readTime)),l=l.insert(w,E)}const h=o.Zi.newChangeBuffer({trackRemovals:!0}),p=yield Wb(o,(g=r,Ns(S_($n.fromString(`__bundle__/docs/${g}`)))));var g;return o.persistence.runTransaction("Apply bundle documents","readwrite",g=>PV(g,h,l).next(w=>(h.apply(g),w)).next(w=>o.Bs.removeMatchingKeysForTargetId(g,p.targetId).next(()=>o.Bs.addMatchingKeys(g,s,p.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(g,w.nr,w.sr)).next(()=>w.nr)))}),TP.apply(this,arguments)}function $$(i,n){return SP.apply(this,arguments)}function SP(){return SP=(0,Ee.Z)(function*(i,n,e=b()){const r=yield Wb(i,Ns(fP(n.bundledQuery))),o=bt(i);return o.persistence.runTransaction("Save named query","readwrite",s=>{const l=ro(n.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(s,n);const h=r.withResumeToken(io.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(h.targetId,h),o.Bs.updateTargetData(s,h).next(()=>o.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>o.Bs.addMatchingKeys(s,e,r.targetId)).next(()=>o.qs.saveNamedQuery(s,n))})}),SP.apply(this,arguments)}function BV(i,n){return`firestore_clients_${i}_${n}`}function VV(i,n,e){let r=`firestore_mutations_${i}_${e}`;return n.isAuthenticated()&&(r+=`_${n.uid}`),r}function AP(i,n){return`firestore_targets_${i}_${n}`}class XS{constructor(n,e,r,o){this.user=n,this.batchId=e,this.state=r,this.error=o}static ar(n,e,r){const o=JSON.parse(r);let s,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(s=new ze(o.error.code,o.error.message))),l?new XS(n,e,o.state,s):(Tr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}hr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class dE{constructor(n,e,r){this.targetId=n,this.state=e,this.error=r}static ar(n,e){const r=JSON.parse(e);let o,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ze(r.error.code,r.error.message))),s?new dE(n,r.state,o):(Tr("SharedClientState",`Failed to parse target state for ID '${n}': ${e}`),null)}hr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class JS{constructor(n,e){this.clientId=n,this.activeTargetIds=e}static ar(n,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,s=k();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=hS(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return o?new JS(n,s):(Tr("SharedClientState",`Failed to parse client data for instance '${n}': ${e}`),null)}}class MP{constructor(n,e){this.clientId=n,this.onlineState=e}static ar(n){const e=JSON.parse(n);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new MP(e.clientId,e.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class RP{constructor(){this.activeTargetIds=k()}lr(n){this.activeTargetIds=this.activeTargetIds.add(n)}dr(n){this.activeTargetIds=this.activeTargetIds.delete(n)}hr(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class OP{constructor(n,e,r,o,s){this.window=n,this.ii=e,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ri(fn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=BV(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new RP),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ee.Z)(function*(){const e=yield n.syncEngine.$i();for(const o of e){if(o===n.wr)continue;const s=n.getItem(BV(n.persistenceKey,o));if(s){const l=JS.ar(o,s);l&&(n.gr=n.gr.insert(l.clientId,l))}}n.Pr();const r=n.storage.getItem(n.vr);if(r){const o=n.br(r);o&&n.Vr(o)}for(const o of n.yr)n.mr(o);n.yr=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Ir,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(n){let e=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(n)&&(e=!0)}),e}addPendingMutation(n){this.Dr(n,"pending")}updateMutationState(n,e,r){this.Dr(n,e,r),this.Cr(n)}addLocalQueryTarget(n){let e="not-current";if(this.isActiveQueryTarget(n)){const r=this.storage.getItem(AP(this.persistenceKey,n));if(r){const o=dE.ar(n,r);o&&(e=o.state)}}return this.Nr.lr(n),this.Pr(),e}removeLocalQueryTarget(n){this.Nr.dr(n),this.Pr()}isLocalQueryTarget(n){return this.Nr.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(AP(this.persistenceKey,n))}updateQueryState(n,e,r){this.kr(n,e,r)}handleUserChange(n,e,r){e.forEach(o=>{this.Cr(o)}),this.currentUser=n,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(n){this.Mr(n)}notifyBundleLoaded(n){this.$r(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(n){const e=this.storage.getItem(n);return Ke("SharedClientState","READ",n,e),e}setItem(n,e){Ke("SharedClientState","SET",n,e),this.storage.setItem(n,e)}removeItem(n){Ke("SharedClientState","REMOVE",n),this.storage.removeItem(n)}mr(n){var e=this;const r=n;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==r.key)if(e.Tr.test(r.key)){if(null==r.newValue){const o=e.Or(r.key);return e.Fr(o,null)}{const o=e.Br(r.key,r.newValue);if(o)return e.Fr(o.clientId,o)}}else if(e.Er.test(r.key)){if(null!==r.newValue){const o=e.Lr(r.key,r.newValue);if(o)return e.qr(o)}}else if(e.Ar.test(r.key)){if(null!==r.newValue){const o=e.Ur(r.key,r.newValue);if(o)return e.Kr(o)}}else if(r.key===e.vr){if(null!==r.newValue){const o=e.br(r.newValue);if(o)return e.Vr(o)}}else if(r.key===e.Ir){const o=function(s){let l=Mi.ct;if(null!=s)try{const h=JSON.parse(s);Ht("number"==typeof h),l=h}catch(h){Tr("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);o!==Mi.ct&&e.sequenceNumberHandler(o)}else if(r.key===e.Rr){const o=e.Gr(r.newValue);yield Promise.all(o.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(n,e,r){const o=new XS(this.currentUser,n,e,r),s=VV(this.persistenceKey,this.currentUser,n);this.setItem(s,o.hr())}Cr(n){const e=VV(this.persistenceKey,this.currentUser,n);this.removeItem(e)}Mr(n){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:n}))}kr(n,e,r){const o=AP(this.persistenceKey,n),s=new dE(n,e,r);this.setItem(o,s.hr())}$r(n){const e=JSON.stringify(Array.from(n));this.setItem(this.Rr,e)}Or(n){const e=this.Tr.exec(n);return e?e[1]:null}Br(n,e){const r=this.Or(n);return JS.ar(r,e)}Lr(n,e){const r=this.Er.exec(n),o=Number(r[1]);return XS.ar(new Ro(void 0!==r[2]?r[2]:null),o,e)}Ur(n,e){const r=this.Ar.exec(n),o=Number(r[1]);return dE.ar(o,e)}br(n){return MP.ar(n)}Gr(n){return JSON.parse(n)}qr(n){var e=this;return(0,Ee.Z)(function*(){if(n.user.uid===e.currentUser.uid)return e.syncEngine.jr(n.batchId,n.state,n.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Kr(n){return this.syncEngine.zr(n.targetId,n.state,n.error)}Fr(n,e){const r=e?this.gr.insert(n,e):this.gr.remove(n),o=this.Sr(this.gr),s=this.Sr(r),l=[],h=[];return s.forEach(p=>{o.has(p)||l.push(p)}),o.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=r})}Vr(n){this.gr.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Sr(n){let e=k();return n.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class UV{constructor(){this.Hr=new RP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,e,r){}addLocalQueryTarget(n){return this.Hr.lr(n),this.Jr[n]||"not-current"}updateQueryState(n,e,r){this.Jr[n]=e}removeLocalQueryTarget(n){this.Hr.dr(n)}isLocalQueryTarget(n){return this.Hr.activeTargetIds.has(n)}clearQueryState(n){delete this.Jr[n]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(n){return this.Hr.activeTargetIds.has(n)}start(){return this.Hr=new RP,Promise.resolve()}handleUserChange(n,e,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class G${Yr(n){}shutdown(){}}class HV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(n){this.so.push(n)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.so)n(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.so)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eA=null;function PP(){return null===eA?eA=268435456+Math.round(2147483648*Math.random()):eA++,"0x"+eA.toString(16)}const q$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W${constructor(n){this.ro=n.ro,this.oo=n.oo}uo(n){this.co=n}ao(n){this.ho=n}onMessage(n){this.lo=n}close(){this.oo()}send(n){this.ro(n)}fo(){this.co()}wo(n){this.ho(n)}_o(n){this.lo(n)}}const Ls="WebChannelConnection";class Z$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.mo=(n.ssl?"https":"http")+"://"+n.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(n,e,r,o,s){const l=PP(),h=this.To(n,e);Ke("RestConnection",`Sending RPC '${n}' ${l}:`,h,r);const p={};return this.Eo(p,o,s),this.Ao(n,h,p,r).then(g=>(Ke("RestConnection",`Received RPC '${n}' ${l}: `,g),g),g=>{throw Ps("RestConnection",`RPC '${n}' ${l} failed with error: `,g,"url: ",h,"request:",r),g})}vo(n,e,r,o,s,l){return this.Io(n,e,r,o,s)}Eo(n,e,r){n["X-Goog-Api-Client"]="gl-js/ fire/"+Fh,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}To(n,e){return`${this.mo}/v1/${e}:${q$[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Ao(n,e,r,o){const s=PP();return new Promise((l,h)=>{const p=new QT;p.setWithCredentials(!0),p.listenOnce(YT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wC.NO_ERROR:const w=p.getResponseJson();Ke(Ls,`XHR for RPC '${n}' ${s} received:`,JSON.stringify(w)),l(w);break;case wC.TIMEOUT:Ke(Ls,`RPC '${n}' ${s} timed out`),h(new ze(ye.DEADLINE_EXCEEDED,"Request time out"));break;case wC.HTTP_ERROR:const E=p.getStatus();if(Ke(Ls,`RPC '${n}' ${s} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S?.error;if(O&&O.status&&O.message){const F=function(G){const Q=G.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Q)>=0?Q:ye.UNKNOWN}(O.status);h(new ze(F,O.message))}else h(new ze(ye.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ze(ye.UNAVAILABLE,"Connection failed."));break;default:kt()}}finally{Ke(Ls,`RPC '${n}' ${s} completed.`)}});const g=JSON.stringify(o);Ke(Ls,`RPC '${n}' ${s} sending request:`,o),p.send(e,"POST",g,r,15)})}Ro(n,e,r){const o=PP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=DO(),h=bC(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new kO({})),this.Eo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const w=s.join("");Ke(Ls,`Creating RPC '${n}' stream ${o}: ${w}`,p);const E=l.createWebChannel(w,p);let S=!1,O=!1;const F=new W$({ro:Q=>{O?Ke(Ls,`Not sending because RPC '${n}' stream ${o} is closed:`,Q):(S||(Ke(Ls,`Opening RPC '${n}' stream ${o} transport.`),E.open(),S=!0),Ke(Ls,`RPC '${n}' stream ${o} sending:`,Q),E.send(Q))},oo:()=>E.close()}),G=(Q,ve,Se)=>{Q.listen(ve,Oe=>{try{Se(Oe)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return G(E,Gp.EventType.OPEN,()=>{O||Ke(Ls,`RPC '${n}' stream ${o} transport opened.`)}),G(E,Gp.EventType.CLOSE,()=>{O||(O=!0,Ke(Ls,`RPC '${n}' stream ${o} transport closed`),F.wo())}),G(E,Gp.EventType.ERROR,Q=>{O||(O=!0,Ps(Ls,`RPC '${n}' stream ${o} transport errored:`,Q),F.wo(new ze(ye.UNAVAILABLE,"The operation could not be completed")))}),G(E,Gp.EventType.MESSAGE,Q=>{var ve;if(!O){const Se=Q.data[0];Ht(!!Se);const Ae=Se.error||(null===(ve=Se[0])||void 0===ve?void 0:ve.error);if(Ae){Ke(Ls,`RPC '${n}' stream ${o} received error:`,Ae);const Le=Ae.status;let Je=function(Bt){const gn=go[Bt];if(void 0!==gn)return NB(gn)}(Le),ht=Ae.message;void 0===Je&&(Je=ye.INTERNAL,ht="Unknown error status: "+Le+" with message "+Ae.message),O=!0,F.wo(new ze(Je,ht)),E.close()}else Ke(Ls,`RPC '${n}' stream ${o} received:`,Se),F._o(Se)}}),G(h,IO.STAT_EVENT,Q=>{Q.stat===KT.PROXY?Ke(Ls,`RPC '${n}' stream ${o} detected buffering proxy`):Q.stat===KT.NOPROXY&&Ke(Ls,`RPC '${n}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.fo()},0),F}}function zV(){return typeof window<"u"?window:null}function tA(){return typeof document<"u"?document:null}function uE(i){return new r$(i,!0)}class NP{constructor(n,e,r=1e3,o=1.5,s=6e4){this.ii=n,this.timerId=e,this.Po=r,this.bo=o,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(n){this.cancel();const e=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,e-r);o>0&&Ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),n())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class jV{constructor(n,e,r,o,s,l,h,p){this.ii=n,this.$o=r,this.Oo=o,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new NP(n,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var n=this;return(0,Ee.Z)(function*(){n.Uo()&&(yield n.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(n){this.Ho(),this.stream.send(n)}zo(){var n=this;return(0,Ee.Z)(function*(){if(n.Ko())return n.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(n,e){var r=this;return(0,Ee.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==n?r.qo.reset():e&&e.code===ye.RESOURCE_EXHAUSTED?(Tr(e.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):e&&e.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=n,yield r.listener.ao(e)})()}Yo(){}auth(){this.state=1;const n=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===e&&this.Zo(r,o)},r=>{n(()=>{const o=new ze(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(n,e){const r=this.Xo(this.Fo);this.stream=this.eu(n,e),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var n=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){n.state=0,n.start()}))}tu(n){return Ke("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Xo(n){return e=>{this.ii.enqueueAndForget(()=>this.Fo===n?e():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y$ extends jV{constructor(n,e,r,o,s,l){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,l),this.serializer=s}eu(n,e){return this.connection.Ro("Listen",n,e)}onMessage(n){this.qo.reset();const e=function a$(i,n){let e;if("targetChange"in n){const r="NO_CHANGE"===(p=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:kt(),o=n.targetChange.targetIds||[],s=function(p,g){return p.useProto3Json?(Ht(void 0===g||"string"==typeof g),io.fromBase64String(g||"")):(Ht(void 0===g||g instanceof Uint8Array),io.fromUint8Array(g||new Uint8Array))}(i,n.targetChange.resumeToken),l=n.targetChange.cause,h=l&&function(p){const g=void 0===p.code?ye.UNKNOWN:NB(p.code);return new ze(g,p.message||"")}(l);e=new UB(r,o,s,h||null)}else if("documentChange"in n){const r=n.documentChange,o=nu(i,r.document.name),s=ro(r.document.updateTime),l=r.document.createTime?ro(r.document.createTime):$t.min(),h=new Zo({mapValue:{fields:r.document.fields}}),p=Zi.newFoundDocument(o,s,l,h);e=new VS(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in n){const r=n.documentDelete,o=nu(i,r.document),s=r.readTime?ro(r.readTime):$t.min(),l=Zi.newNoDocument(o,s);e=new VS([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in n){const r=n.documentRemove,o=nu(i,r.document);e=new VS([],r.removedTargetIds||[],o,null)}else{if(!("filter"in n))return kt();{const r=n.filter,{count:o=0,unchangedNames:s}=r,l=new X5(o,s);e=new VB(r.targetId,l)}}var p;return e}(this.serializer,n),r=function(o){if(!("targetChange"in o))return $t.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?$t.min():s.readTime?ro(s.readTime):$t.min()}(n);return this.listener.nu(e,r)}su(n){const e={};e.database=tE(this.serializer),e.addTarget=function(o,s){let l;const h=s.target;if(l=Lb(h)?{documents:KB(o,h)}:{query:hP(o,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=$B(o,s.resumeToken);const p=cP(o,s.expectedCount);null!==p&&(l.expectedCount=p)}else if(s.snapshotVersion.compareTo($t.min())>0){l.readTime=jb(o,s.snapshotVersion.toTimestamp());const p=cP(o,s.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,n);const r=function l$(i,n){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt()}}(n.purpose);return null==e?null:{"goog-listen-tags":e}}(0,n);r&&(e.labels=r),this.Wo(e)}iu(n){const e={};e.database=tE(this.serializer),e.removeTarget=n,this.Wo(e)}}class K$ extends jV{constructor(n,e,r,o,s,l){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(n,e){return this.connection.Ro("Write",n,e)}onMessage(n){if(Ht(!!n.streamToken),this.lastStreamToken=n.streamToken,this.ru){this.qo.reset();const e=function c$(i,n){return i&&i.length>0?(Ht(void 0!==n),i.map(e=>function(r,o){let s=ro(r.updateTime?r.updateTime:o);return s.isEqual($t.min())&&(s=ro(o)),new Z5(s,r.transformResults||[])}(e,n))):[]}(n.writeResults,n.commitTime),r=ro(n.commitTime);return this.listener.cu(r,e)}return Ht(!n.writeResults||0===n.writeResults.length),this.ru=!0,this.listener.au()}hu(){const n={};n.database=tE(this.serializer),this.Wo(n)}uu(n){const e={streamToken:this.lastStreamToken,writes:n.map(r=>nE(this.serializer,r))};this.Wo(e)}}class Q$ extends class{}{constructor(n,e,r,o){super(),this.authCredentials=n,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new ze(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(n,e,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Io(n,e,r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ye.UNKNOWN,o.toString())})}vo(n,e,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(n,e,r,s,l,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(ye.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class J${constructor(n,e){this.asyncQueue=n,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(n){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.yu("Offline")))}set(n){this.Tu(),this.wu=0,"Online"===n&&(this.mu=!1),this.yu(n)}yu(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}pu(n){const e=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Tr(e),this.mu=!1):Ke("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class eG{constructor(n,e,r,o,s){var l=this;this.localStore=n,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{r.enqueueAndForget((0,Ee.Z)(function*(){var p;cm(l)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ee.Z)(function*(g){const w=bt(g);w.vu.add(4),yield Yb(w),w.bu.set("Unknown"),w.vu.delete(4),yield hE(w)}),function(g){return p.apply(this,arguments)})(l))}))}),this.bu=new J$(r,o)}}function hE(i){return LP.apply(this,arguments)}function LP(){return LP=(0,Ee.Z)(function*(i){if(cm(i))for(const n of i.Ru)yield n(!0)}),LP.apply(this,arguments)}function Yb(i){return BP.apply(this,arguments)}function BP(){return BP=(0,Ee.Z)(function*(i){for(const n of i.Ru)yield n(!1)}),BP.apply(this,arguments)}function nA(i,n){const e=bt(i);e.Au.has(n.targetId)||(e.Au.set(n.targetId,n),HP(e)?UP(e):Qb(e).Ko()&&VP(e,n))}function fE(i,n){const e=bt(i),r=Qb(e);e.Au.delete(n),r.Ko()&&$V(e,n),0===e.Au.size&&(r.Ko()?r.jo():cm(e)&&e.bu.set("Unknown"))}function VP(i,n){if(i.Vu.qt(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo($t.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(e)}Qb(i).su(n)}function $V(i,n){i.Vu.qt(n),Qb(i).iu(n)}function UP(i){i.Vu=new e$({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),le:n=>i.Au.get(n)||null,ue:()=>i.datastore.serializer.databaseId}),Qb(i).start(),i.bu.gu()}function HP(i){return cm(i)&&!Qb(i).Uo()&&i.Au.size>0}function cm(i){return 0===bt(i).vu.size}function GV(i){i.Vu=void 0}function tG(i){return zP.apply(this,arguments)}function zP(){return zP=(0,Ee.Z)(function*(i){i.Au.forEach((n,e)=>{VP(i,n)})}),zP.apply(this,arguments)}function nG(i,n){return jP.apply(this,arguments)}function jP(){return jP=(0,Ee.Z)(function*(i,n){GV(i),HP(i)?(i.bu.Iu(n),UP(i)):i.bu.set("Unknown")}),jP.apply(this,arguments)}function iG(i,n,e){return $P.apply(this,arguments)}function $P(){return $P=(0,Ee.Z)(function*(i,n,e){if(i.bu.set("Online"),n instanceof UB&&2===n.state&&n.cause)try{yield(r=(0,Ee.Z)(function*(o,s){const l=s.cause;for(const h of s.targetIds)o.Au.has(h)&&(yield o.remoteSyncer.rejectListen(h,l),o.Au.delete(h),o.Vu.removeTarget(h))}),function(o,s){return r.apply(this,arguments)})(i,n)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),r),yield iA(i,r)}else if(n instanceof VS?i.Vu.Ht(n):n instanceof VB?i.Vu.ne(n):i.Vu.Xt(n),!e.isEqual($t.min()))try{const r=yield OV(i.localStore);e.compareTo(r)>=0&&(yield function(o,s){const l=o.Vu.ce(s);return l.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Au.get(p);g&&o.Au.set(p,g.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach((h,p)=>{const g=o.Au.get(h);if(!g)return;o.Au.set(h,g.withResumeToken(io.EMPTY_BYTE_STRING,g.snapshotVersion)),$V(o,h);const w=new Wh(g.target,h,p,g.sequenceNumber);VP(o,w)}),o.remoteSyncer.applyRemoteEvent(l)}(i,e))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield iA(i,r)}var r}),$P.apply(this,arguments)}function iA(i,n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,Ee.Z)(function*(i,n,e){if(!Lh(n))throw n;i.vu.add(1),yield Yb(i),i.bu.set("Offline"),e||(e=()=>OV(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield e(),i.vu.delete(1),yield hE(i)}))}),GP.apply(this,arguments)}function qV(i,n){return n().catch(e=>iA(i,e,n))}function Kb(i){return qP.apply(this,arguments)}function qP(){return qP=(0,Ee.Z)(function*(i){const n=bt(i),e=lm(n);let r=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;rG(n);)try{const o=yield z$(n.localStore,r);if(null===o){0===n.Eu.length&&e.jo();break}r=o.batchId,oG(n,o)}catch(o){yield iA(n,o)}WV(n)&&ZV(n)}),qP.apply(this,arguments)}function rG(i){return cm(i)&&i.Eu.length<10}function oG(i,n){i.Eu.push(n);const e=lm(i);e.Ko()&&e.ou&&e.uu(n.mutations)}function WV(i){return cm(i)&&!lm(i).Uo()&&i.Eu.length>0}function ZV(i){lm(i).start()}function sG(i){return WP.apply(this,arguments)}function WP(){return WP=(0,Ee.Z)(function*(i){lm(i).hu()}),WP.apply(this,arguments)}function aG(i){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Ee.Z)(function*(i){const n=lm(i);for(const e of i.Eu)n.uu(e.mutations)}),ZP.apply(this,arguments)}function cG(i,n,e){return YP.apply(this,arguments)}function YP(){return YP=(0,Ee.Z)(function*(i,n,e){const r=i.Eu.shift(),o=rP.from(r,n,e);yield qV(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),yield Kb(i)}),YP.apply(this,arguments)}function lG(i,n){return KP.apply(this,arguments)}function KP(){return KP=(0,Ee.Z)(function*(i,n){var e;n&&lm(i).ou&&(yield(e=(0,Ee.Z)(function*(r,o){if(PB(s=o.code)&&s!==ye.ABORTED){const l=r.Eu.shift();lm(r).Qo(),yield qV(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield Kb(r)}var s}),function(r,o){return e.apply(this,arguments)})(i,n)),WV(i)&&ZV(i)}),KP.apply(this,arguments)}function YV(i,n){return QP.apply(this,arguments)}function QP(){return QP=(0,Ee.Z)(function*(i,n){const e=bt(i);e.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=cm(e);e.vu.add(3),yield Yb(e),r&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(n),e.vu.delete(3),yield hE(e)}),QP.apply(this,arguments)}function XP(i,n){return JP.apply(this,arguments)}function JP(){return JP=(0,Ee.Z)(function*(i,n){const e=bt(i);n?(e.vu.delete(2),yield hE(e)):n||(e.vu.add(2),yield Yb(e),e.bu.set("Unknown"))}),JP.apply(this,arguments)}function Qb(i){return i.Su||(i.Su=function(n,e,r){const o=bt(n);return o.fu(),new Y$(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{uo:tG.bind(null,i),ao:nG.bind(null,i),nu:iG.bind(null,i)}),i.Ru.push(function(){var n=(0,Ee.Z)(function*(e){e?(i.Su.Qo(),HP(i)?UP(i):i.bu.set("Unknown")):(yield i.Su.stop(),GV(i))});return function(e){return n.apply(this,arguments)}}())),i.Su}function lm(i){return i.Du||(i.Du=function(n,e,r){const o=bt(n);return o.fu(),new K$(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{uo:sG.bind(null,i),ao:lG.bind(null,i),au:aG.bind(null,i),cu:cG.bind(null,i)}),i.Ru.push(function(){var n=(0,Ee.Z)(function*(e){e?(i.Du.Qo(),yield Kb(i)):(yield i.Du.stop(),i.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(e){return n.apply(this,arguments)}}())),i.Du}class eN{constructor(n,e,r,o,s){this.asyncQueue=n,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(n,e,r,o,s){const l=Date.now()+r,h=new eN(n,e,l,o,s);return h.start(r),h}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(ye.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xb(i,n){if(Tr("AsyncQueue",`${n}: ${i}`),Lh(i))return new ze(ye.UNAVAILABLE,`${n}: ${i}`);throw i}class Jb{constructor(n){this.comparator=n?(e,r)=>n(e,r)||vt.comparator(e.key,r.key):(e,r)=>vt.comparator(e.key,r.key),this.keyedMap=Ub(),this.sortedSet=new Ri(this.comparator)}static emptySet(n){return new Jb(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const e=this.keyedMap.get(n);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((e,r)=>(n(e),!1))}add(n){const e=this.delete(n.key);return e.copy(e.keyedMap.insert(n.key,n),e.sortedSet.insert(n,null))}delete(n){const e=this.get(n);return e?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(e)):this}isEqual(n){if(!(n instanceof Jb)||this.size!==n.size)return!1;const e=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const n=[];return this.forEach(e=>{n.push(e.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,e){const r=new Jb;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=e,r}}class KV{constructor(){this.Cu=new Ri(vt.comparator)}track(n){const e=n.doc.key,r=this.Cu.get(e);r?0!==n.type&&3===r.type?this.Cu=this.Cu.insert(e,n):3===n.type&&1!==r.type?this.Cu=this.Cu.insert(e,{type:r.type,doc:n.doc}):2===n.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:n.doc}):2===n.type&&0===r.type?this.Cu=this.Cu.insert(e,{type:0,doc:n.doc}):1===n.type&&0===r.type?this.Cu=this.Cu.remove(e):1===n.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:1,doc:r.doc}):0===n.type&&1===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:n.doc}):kt():this.Cu=this.Cu.insert(e,n)}xu(){const n=[];return this.Cu.inorderTraversal((e,r)=>{n.push(r)}),n}}class e0{constructor(n,e,r,o,s,l,h,p,g){this.query=n,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(n,e,r,o,s){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new e0(n,e,Jb.emptySet(e),l,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Bb(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const e=this.docChanges,r=n.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class dG{constructor(){this.Nu=void 0,this.listeners=[]}}class uG{constructor(){this.queries=new tu(n=>JO(n),Bb),this.onlineState="Unknown",this.ku=new Set}}function tN(i,n){return nN.apply(this,arguments)}function nN(){return nN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=n.query;let o=!1,s=e.queries.get(r);if(s||(o=!0,s=new dG),o)try{s.Nu=yield e.onListen(r)}catch(l){const h=Xb(l,`Initialization of query '${OS(n.query)}' failed`);return void n.onError(h)}e.queries.set(r,s),s.listeners.push(n),n.Mu(e.onlineState),s.Nu&&n.$u(s.Nu)&&oN(e)}),nN.apply(this,arguments)}function iN(i,n){return rN.apply(this,arguments)}function rN(){return rN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=n.query;let o=!1;const s=e.queries.get(r);if(s){const l=s.listeners.indexOf(n);l>=0&&(s.listeners.splice(l,1),o=0===s.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)}),rN.apply(this,arguments)}function hG(i,n){const e=bt(i);let r=!1;for(const o of n){const l=e.queries.get(o.query);if(l){for(const h of l.listeners)h.$u(o)&&(r=!0);l.Nu=o}}r&&oN(e)}function fG(i,n,e){const r=bt(i),o=r.queries.get(n);if(o)for(const s of o.listeners)s.onError(e);r.queries.delete(n)}function oN(i){i.ku.forEach(n=>{n.next()})}class sN{constructor(n,e,r){this.query=n,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(n){if(!this.options.includeMetadataChanges){const r=[];for(const o of n.docChanges)3!==o.type&&r.push(o);n=new e0(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let e=!1;return this.Fu?this.Lu(n)&&(this.Ou.next(n),e=!0):this.qu(n,this.onlineState)&&(this.Uu(n),e=!0),this.Bu=n,e}onError(n){this.Ou.error(n)}Mu(n){this.onlineState=n;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,n)&&(this.Uu(this.Bu),e=!0),e}qu(n,e){return!n.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===e)}Lu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(n){n=e0.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Fu=!0,this.Ou.next(n)}}class pG{constructor(n,e){this.Gu=n,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class QV{constructor(n){this.serializer=n}rr(n){return nu(this.serializer,n)}ur(n){return n.metadata.exists?YB(this.serializer,n.document,!1):Zi.newNoDocument(this.rr(n.metadata.name),this.cr(n.metadata.readTime))}cr(n){return ro(n)}}class mG{constructor(n,e,r){this.ju=n,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=XV(n)}zu(n){this.progress.bytesLoaded+=n.byteLength;let e=this.progress.documentsLoaded;if(n.Gu.namedQuery)this.queries.push(n.Gu.namedQuery);else if(n.Gu.documentMetadata){this.documents.push({metadata:n.Gu.documentMetadata}),n.Gu.documentMetadata.exists||++e;const r=$n.fromString(n.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else n.Gu.document&&(this.documents[this.documents.length-1].document=n.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(n){const e=new Map,r=new QV(this.serializer);for(const o of n)if(o.metadata.queries){const s=r.rr(o.metadata.name);for(const l of o.metadata.queries){const h=(e.get(l)||b()).add(s);e.set(l,h)}}return e}complete(){var n=this;return(0,Ee.Z)(function*(){const e=yield function j$(i,n,e,r){return TP.apply(this,arguments)}(n.localStore,new QV(n.serializer),n.documents,n.ju.id),r=n.Wu(n.documents);for(const o of n.queries)yield $$(n.localStore,o,r.get(o.name));return n.progress.taskState="Success",{progress:n.progress,Hu:n.collectionGroups,Ju:e}})()}}function XV(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class JV{constructor(n){this.key=n}}class e3{constructor(n){this.key=n}}class t3{constructor(n,e){this.query=n,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=b(),this.mutatedKeys=b(),this.tc=eP(n),this.ec=new Jb(this.tc)}get nc(){return this.Yu}sc(n,e){const r=e?e.ic:new KV,o=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,l=o,h=!1;const p="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,g="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal((w,E)=>{const S=o.get(w),O=Vb(this.query,E)?E:null,F=!!S&&this.mutatedKeys.has(S.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let Q=!1;S&&O?S.data.isEqual(O.data)?F!==G&&(r.track({type:3,doc:O}),Q=!0):this.rc(S,O)||(r.track({type:2,doc:O}),Q=!0,(p&&this.tc(O,p)>0||g&&this.tc(O,g)<0)&&(h=!0)):!S&&O?(r.track({type:0,doc:O}),Q=!0):S&&!O&&(r.track({type:1,doc:S}),Q=!0,(p||g)&&(h=!0)),Q&&(O?(l=l.add(O),s=G?s.add(w):s.delete(w)):(l=l.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{ec:l,ic:r,zi:h,mutatedKeys:s}}rc(n,e){return n.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(n,e,r){const o=this.ec;this.ec=n.ec,this.mutatedKeys=n.mutatedKeys;const s=n.ic.xu();s.sort((g,w)=>function(E,S){const O=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt()}};return O(E)-O(S)}(g.type,w.type)||this.tc(g.doc,w.doc)),this.oc(r);const l=e?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new e0(this.query,n.ec,o,s,n.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({ec:this.ec,ic:new KV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(n){return!this.Yu.has(n)&&!!this.ec.has(n)&&!this.ec.get(n).hasLocalMutations}oc(n){n&&(n.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),n.modifiedDocuments.forEach(e=>{}),n.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=n.current)}uc(){if(!this.current)return[];const n=this.Zu;this.Zu=b(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const e=[];return n.forEach(r=>{this.Zu.has(r)||e.push(new e3(r))}),this.Zu.forEach(r=>{n.has(r)||e.push(new JV(r))}),e}hc(n){this.Yu=n.ir,this.Zu=b();const e=this.sc(n.documents);return this.applyChanges(e,!0)}lc(){return e0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gG{constructor(n,e,r){this.query=n,this.targetId=e,this.view=r}}class _G{constructor(n){this.key=n,this.fc=!1}}class vG{constructor(n,e,r,o,s,l){this.localStore=n,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new tu(h=>JO(h),Bb),this._c=new Map,this.mc=new Set,this.gc=new Ri(vt.comparator),this.yc=new Map,this.Ic=new bP,this.Tc={},this.Ec=new Map,this.Ac=L_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yG(i,n){return aN.apply(this,arguments)}function aN(){return aN=(0,Ee.Z)(function*(i,n){const e=AN(i);let r,o;const s=e.wc.get(n);if(s)r=s.targetId,e.sharedClientState.addLocalQueryTarget(r),o=s.view.lc();else{const l=yield Wb(e.localStore,Ns(n)),h=e.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield cN(e,n,r,"current"===h,l.resumeToken),e.isPrimaryClient&&nA(e.remoteStore,l)}return o}),aN.apply(this,arguments)}function cN(i,n,e,r,o){return lN.apply(this,arguments)}function lN(){return lN=(0,Ee.Z)(function*(i,n,e,r,o){i.Rc=(E,S,O)=>{return(F=(0,Ee.Z)(function*(G,Q,ve,Se){let Oe=Q.view.sc(ve);Oe.zi&&(Oe=yield QS(G.localStore,Q.query,!1).then(({documents:Je})=>Q.view.sc(Je,Oe)));const Ae=Se&&Se.targetChanges.get(Q.targetId),Le=Q.view.applyChanges(Oe,G.isPrimaryClient,Ae);return yN(G,Q.targetId,Le.cc),Le.snapshot}),function(G,Q,ve,Se){return F.apply(this,arguments)})(i,E,S,O);var F};const s=yield QS(i.localStore,n,!0),l=new t3(n,s.ir),h=l.sc(s.documents),p=JC.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==i.onlineState,o),g=l.applyChanges(h,i.isPrimaryClient,p);yN(i,e,g.cc);const w=new gG(n,e,l);return i.wc.set(n,w),i._c.has(e)?i._c.get(e).push(n):i._c.set(e,[n]),g.snapshot}),lN.apply(this,arguments)}function bG(i,n){return dN.apply(this,arguments)}function dN(){return dN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=e.wc.get(n),o=e._c.get(r.targetId);if(o.length>1)return e._c.set(r.targetId,o.filter(s=>!Bb(s,n))),void e.wc.delete(n);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zb(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),fE(e.remoteStore,r.targetId),t0(e,r.targetId)}).catch(Yd))):(t0(e,r.targetId),yield Zb(e.localStore,r.targetId,!0))}),dN.apply(this,arguments)}function uN(){return uN=(0,Ee.Z)(function*(i,n,e){const r=MN(i);try{const o=yield function(s,l){const h=bt(s),p=Wi.now(),g=l.reduce((S,O)=>S.add(O.key),b());let w,E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let O=Qs(),F=b();return h.Zi.getEntries(S,g).next(G=>{O=G,O.forEach((Q,ve)=>{ve.isValidDocument()||(F=F.add(Q))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,O)).next(G=>{w=G;const Q=[];for(const ve of l){const Se=K5(ve,w.get(ve.key).overlayedDocument);null!=Se&&Q.push(new qh(ve.key,Se,HC(Se.value.mapValue),Ar.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,Q,l)}).next(G=>{E=G;const Q=G.applyToLocalDocumentSet(w,F);return h.documentOverlayCache.saveOverlays(S,G.batchId,Q)})}).then(()=>({batchId:E.batchId,changes:c(w)}))}(r.localStore,n);r.sharedClientState.addPendingMutation(o.batchId),function(s,l,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new Ri(fn)),p=p.insert(l,h),s.Tc[s.currentUser.toKey()]=p}(r,o.batchId,e),yield Zh(r,o.changes),yield Kb(r.remoteStore)}catch(o){const s=Xb(o,"Failed to persist write");e.reject(s)}}),uN.apply(this,arguments)}function n3(i,n){return hN.apply(this,arguments)}function hN(){return hN=(0,Ee.Z)(function*(i,n){const e=bt(i);try{const r=yield function H$(i,n){const e=bt(i),r=n.snapshotVersion;let o=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});o=e.Ji;const h=[];n.targetChanges.forEach((w,E)=>{const S=o.get(E);if(!S)return;h.push(e.Bs.removeMatchingKeys(s,w.removedDocuments,E).next(()=>e.Bs.addMatchingKeys(s,w.addedDocuments,E)));let O=S.withSequenceNumber(s.currentSequenceNumber);var F,G,Q;null!==n.targetMismatches.get(E)?O=O.withResumeToken(io.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,r)),o=o.insert(E,O),G=O,Q=w,(0===(F=S).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(s,O))});let p=Qs(),g=b();if(n.documentUpdates.forEach(w=>{n.resolvedLimboDocuments.has(w)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(PV(s,l,n.documentUpdates).next(w=>{p=w.nr,g=w.sr})),!r.isEqual($t.min())){const w=e.Bs.getLastRemoteSnapshotVersion(s).next(E=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(w)}return ge.waitFor(h).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,g)).next(()=>p)}).then(s=>(e.Ji=o,s))}(e.localStore,n);n.targetChanges.forEach((o,s)=>{const l=e.yc.get(s);l&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?Ht(l.fc):o.removedDocuments.size>0&&(Ht(l.fc),l.fc=!1))}),yield Zh(e,r,n)}catch(r){yield Yd(r)}}),hN.apply(this,arguments)}function r3(i,n,e){const r=bt(i);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.wc.forEach((s,l)=>{const h=l.view.Mu(n);h.snapshot&&o.push(h.snapshot)}),function(s,l){const h=bt(s);h.onlineState=l;let p=!1;h.queries.forEach((g,w)=>{for(const E of w.listeners)E.Mu(l)&&(p=!0)}),p&&oN(h)}(r.eventManager,n),o.length&&r.dc.nu(o),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}function xG(i,n,e){return fN.apply(this,arguments)}function fN(){return fN=(0,Ee.Z)(function*(i,n,e){const r=bt(i);r.sharedClientState.updateQueryState(n,"rejected",e);const o=r.yc.get(n),s=o&&o.key;if(s){let l=new Ri(vt.comparator);l=l.insert(s,Zi.newNoDocument(s,$t.min()));const h=b().add(s),p=new XC($t.min(),new Map,new Ri(fn),l,h);yield n3(r,p),r.gc=r.gc.remove(s),r.yc.delete(n),bN(r)}else yield Zb(r.localStore,n,!1).then(()=>t0(r,n,e)).catch(Yd)}),fN.apply(this,arguments)}function CG(i,n){return pN.apply(this,arguments)}function pN(){return pN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=n.batch.batchId;try{const o=yield function U$(i,n){const e=bt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=n.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,p,g){const w=p.batch,E=w.keys();let S=ge.resolve();return E.forEach(O=>{S=S.next(()=>g.getEntry(h,O)).next(F=>{const G=p.docVersions.get(O);Ht(null!==G),F.version.compareTo(G)<0&&(w.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),g.addEntry(F)))})}),S.next(()=>l.mutationQueue.removeMutationBatch(h,w))}(e,r,n,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,n.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=b();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(n))).next(()=>e.localDocuments.getDocuments(r,o))})}(e.localStore,n);vN(e,r,null),_N(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Zh(e,o)}catch(o){yield Yd(o)}}),pN.apply(this,arguments)}function EG(i,n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,Ee.Z)(function*(i,n,e){const r=bt(i);try{const o=yield function(s,l){const h=bt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,l).next(w=>(Ht(null!==w),g=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,n);vN(r,n,e),_N(r,n),r.sharedClientState.updateMutationState(n,"rejected",e),yield Zh(r,o)}catch(o){yield Yd(o)}}),mN.apply(this,arguments)}function gN(){return gN=(0,Ee.Z)(function*(i,n){const e=bt(i);cm(e.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const l=bt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===r)return void n.resolve();const o=e.Ec.get(r)||[];o.push(n),e.Ec.set(r,o)}catch(r){const o=Xb(r,"Initialization of waitForPendingWrites() operation failed");n.reject(o)}}),gN.apply(this,arguments)}function _N(i,n){(i.Ec.get(n)||[]).forEach(e=>{e.resolve()}),i.Ec.delete(n)}function vN(i,n,e){const r=bt(i);let o=r.Tc[r.currentUser.toKey()];if(o){const s=o.get(n);s&&(e?s.reject(e):s.resolve(),o=o.remove(n)),r.Tc[r.currentUser.toKey()]=o}}function t0(i,n,e=null){i.sharedClientState.removeLocalQueryTarget(n);for(const r of i._c.get(n))i.wc.delete(r),e&&i.dc.Pc(r,e);i._c.delete(n),i.isPrimaryClient&&i.Ic.Is(n).forEach(r=>{i.Ic.containsKey(r)||o3(i,r)})}function o3(i,n){i.mc.delete(n.path.canonicalString());const e=i.gc.get(n);null!==e&&(fE(i.remoteStore,e),i.gc=i.gc.remove(n),i.yc.delete(e),bN(i))}function yN(i,n,e){for(const r of e)r instanceof JV?(i.Ic.addReference(r.key,n),IG(i,r)):r instanceof e3?(Ke("SyncEngine","Document no longer in limbo: "+r.key),i.Ic.removeReference(r.key,n),i.Ic.containsKey(r.key)||o3(i,r.key)):kt()}function IG(i,n){const e=n.key,r=e.path.canonicalString();i.gc.get(e)||i.mc.has(r)||(Ke("SyncEngine","New document in limbo: "+e),i.mc.add(r),bN(i))}function bN(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const n=i.mc.values().next().value;i.mc.delete(n);const e=new vt($n.fromString(n)),r=i.Ac.next();i.yc.set(r,new _G(e)),i.gc=i.gc.insert(e,r),nA(i.remoteStore,new Wh(Ns(S_(e.path)),r,"TargetPurposeLimboResolution",Mi.ct))}}function Zh(i,n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,Ee.Z)(function*(i,n,e){const r=bt(i),o=[],s=[],l=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,p)=>{l.push(r.Rc(p,n,e).then(g=>{if((g||e)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g?.fromCache?"not-current":"current"),g){o.push(g);const w=DP.Li(p.targetId,g);s.push(w)}}))}),yield Promise.all(l),r.dc.nu(o),yield(h=(0,Ee.Z)(function*(p,g){const w=bt(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ge.forEach(g,S=>ge.forEach(S.Fi,O=>w.persistence.referenceDelegate.addReference(E,S.targetId,O)).next(()=>ge.forEach(S.Bi,O=>w.persistence.referenceDelegate.removeReference(E,S.targetId,O)))))}catch(E){if(!Lh(E))throw E;Ke("LocalStore","Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const O=w.Ji.get(S),G=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);w.Ji=w.Ji.insert(S,G)}}}),function(p,g){return h.apply(this,arguments)})(r.localStore,s))}),wN.apply(this,arguments)}function kG(i,n){return xN.apply(this,arguments)}function xN(){return xN=(0,Ee.Z)(function*(i,n){const e=bt(i);if(!e.currentUser.isEqual(n)){Ke("SyncEngine","User change. New user:",n.toKey());const r=yield RV(e.localStore,n);e.currentUser=n,(o=e).Ec.forEach(l=>{l.forEach(h=>{h.reject(new ze(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),e.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),yield Zh(e,r.er)}var o}),xN.apply(this,arguments)}function TG(i,n){const e=bt(i),r=e.yc.get(n);if(r&&r.fc)return b().add(r.key);{let o=b();const s=e._c.get(n);if(!s)return o;for(const l of s){const h=e.wc.get(l);o=o.unionWith(h.view.nc)}return o}}function SG(i,n){return CN.apply(this,arguments)}function CN(){return CN=(0,Ee.Z)(function*(i,n){const e=bt(i),r=yield QS(e.localStore,n.query,!0),o=n.view.hc(r);return e.isPrimaryClient&&yN(e,n.targetId,o.cc),o}),CN.apply(this,arguments)}function AG(i,n){return EN.apply(this,arguments)}function EN(){return EN=(0,Ee.Z)(function*(i,n){const e=bt(i);return FV(e.localStore,n).then(r=>Zh(e,r))}),EN.apply(this,arguments)}function MG(i,n,e,r){return DN.apply(this,arguments)}function DN(){return DN=(0,Ee.Z)(function*(i,n,e,r){const o=bt(i),s=yield function(l,h){const p=bt(l),g=bt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>g.Sn(w,h).next(E=>E?p.localDocuments.getDocuments(w,E):ge.resolve(null)))}(o.localStore,n);var h;null!==s?("pending"===e?yield Kb(o.remoteStore):"acknowledged"===e||"rejected"===e?(vN(o,n,r||null),_N(o,n),h=n,bt(bt(o.localStore).mutationQueue).Cn(h)):kt(),yield Zh(o,s)):Ke("SyncEngine","Cannot apply mutation batch with id: "+n)}),DN.apply(this,arguments)}function IN(){return IN=(0,Ee.Z)(function*(i,n){const e=bt(i);if(AN(e),MN(e),!0===n&&!0!==e.vc){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield s3(e,r.toArray());e.vc=!0,yield XP(e.remoteStore,!0);for(const s of o)nA(e.remoteStore,s)}else if(!1===n&&!1!==e.vc){const r=[];let o=Promise.resolve();e._c.forEach((s,l)=>{e.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(t0(e,l),Zb(e.localStore,l,!0))),fE(e.remoteStore,l)}),yield o,yield s3(e,r),function(s){const l=bt(s);l.yc.forEach((h,p)=>{fE(l.remoteStore,p)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Ri(vt.comparator)}(e),e.vc=!1,yield XP(e.remoteStore,!1)}}),IN.apply(this,arguments)}function s3(i,n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,Ee.Z)(function*(i,n,e){const r=bt(i),o=[],s=[];for(const l of n){let h;const p=r._c.get(l);if(p&&0!==p.length){h=yield Wb(r.localStore,Ns(p[0]));for(const g of p){const w=r.wc.get(g),E=yield SG(r,w);E.snapshot&&s.push(E.snapshot)}}else{const g=yield NV(r.localStore,l);h=yield Wb(r.localStore,g),yield cN(r,a3(g),l,!1,h.resumeToken)}o.push(h)}return r.dc.nu(s),o}),kN.apply(this,arguments)}function a3(i){return GC(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function OG(i){const n=bt(i);return bt(bt(n.localStore).persistence).$i()}function PG(i,n,e,r){return TN.apply(this,arguments)}function TN(){return TN=(0,Ee.Z)(function*(i,n,e,r){const o=bt(i);if(o.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const s=o._c.get(n);if(s&&s.length>0)switch(e){case"current":case"not-current":{const l=yield FV(o.localStore,PS(s[0])),h=XC.createSynthesizedRemoteEventForCurrentChange(n,"current"===e,io.EMPTY_BYTE_STRING);yield Zh(o,l,h);break}case"rejected":yield Zb(o.localStore,n,!0),t0(o,n,r);break;default:kt()}}),TN.apply(this,arguments)}function NG(i,n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,Ee.Z)(function*(i,n,e){const r=AN(i);if(r.vc){for(const o of n){if(r._c.has(o)){Ke("SyncEngine","Adding an already active target "+o);continue}const s=yield NV(r.localStore,o),l=yield Wb(r.localStore,s);yield cN(r,a3(s),l.targetId,!1,l.resumeToken),nA(r.remoteStore,l)}for(const o of e)r._c.has(o)&&(yield Zb(r.localStore,o,!1).then(()=>{fE(r.remoteStore,o),t0(r,o)}).catch(Yd))}}),SN.apply(this,arguments)}function AN(i){const n=bt(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=n3.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=TG.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=xG.bind(null,n),n.dc.nu=hG.bind(null,n.eventManager),n.dc.Pc=fG.bind(null,n.eventManager),n}function MN(i){const n=bt(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=CG.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=EG.bind(null,n),n}class pE{constructor(){this.synchronizeTabs=!1}initialize(n){var e=this;return(0,Ee.Z)(function*(){e.serializer=uE(n.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(n),e.persistence=e.createPersistence(n),yield e.persistence.start(),e.localStore=e.createLocalStore(n),e.gcScheduler=e.createGarbageCollectionScheduler(n,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(n,e.localStore)})()}createGarbageCollectionScheduler(n,e){return null}createIndexBackfillerScheduler(n,e){return null}createLocalStore(n){return MV(this.persistence,new AV,n.initialUser,this.serializer)}createPersistence(n){return new wP(ZS.zs,this.serializer)}createSharedClientState(n){return new UV}terminate(){var n=this;return(0,Ee.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class RN extends pE{constructor(n,e,r){super(),this.Vc=n,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(n){var e=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield e().call(r,n),yield r.Vc.initialize(r,n),yield MN(r.Vc.syncEngine),yield Kb(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return MV(this.persistence,new AV,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,e){return new wV(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,e)}createIndexBackfillerScheduler(n,e){const r=new xB(e,this.persistence);return new NO(n.asyncQueue,r)}createPersistence(n){const e=EP(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new CP(this.synchronizeTabs,e,n.clientId,r,n.asyncQueue,zV(),tA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new UV}}class c3 extends RN{constructor(n,e){super(n,e,!1),this.Vc=n,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(n){var e=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield e().call(r,n);const o=r.Vc.syncEngine;r.sharedClientState instanceof OP&&(r.sharedClientState.syncEngine={jr:MG.bind(null,o),zr:PG.bind(null,o),Wr:NG.bind(null,o),$i:OG.bind(null,o),Qr:AG.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var s=(0,Ee.Z)(function*(l){yield function RG(i,n){return IN.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(n){const e=zV();if(!OP.D(e))throw new ze(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=EP(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new OP(e,n.asyncQueue,r,n.clientId,n.initialUser)}}class n0{initialize(n,e){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=n.localStore,r.sharedClientState=n.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!n.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>r3(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=kG.bind(null,r.syncEngine),yield XP(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(n){return new uG}createDatastore(n){const e=uE(n.databaseInfo.databaseId),r=new Z$(n.databaseInfo);return new Q$(n.authCredentials,n.appCheckCredentials,r,e)}createRemoteStore(n){return e=this.localStore,r=this.datastore,o=n.asyncQueue,s=h=>r3(this.syncEngine,h,0),l=HV.D()?new HV:new G$,new eG(e,r,o,s,l);var e,r,o,s,l}createSyncEngine(n,e){return function(r,o,s,l,h,p,g){const w=new vG(r,o,s,l,h,p);return g&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,e)}terminate(){return(n=(0,Ee.Z)(function*(e){const r=bt(e);Ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Yb(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(e){return n.apply(this,arguments)})(this.remoteStore);var n}}function l3(i,n=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<i.byteLength){const r={value:i.slice(e,e+n),done:!1};return e+=n,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rA{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Sc(this.observer.next,n)}error(n){this.observer.error?this.Sc(this.observer.error,n):Tr("Uncaught Error in snapshot listener:",n.toString())}Dc(){this.muted=!0}Sc(n,e){this.muted||setTimeout(()=>{this.muted||n(e)},0)}}class BG{constructor(n,e){this.Cc=n,this.serializer=e,this.metadata=new Zr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var n=this;return(0,Ee.Z)(function*(){return n.metadata.promise})()}bc(){var n=this;return(0,Ee.Z)(function*(){return yield n.getMetadata(),n.Nc()})()}Nc(){var n=this;return(0,Ee.Z)(function*(){const e=yield n.kc();if(null===e)return null;const r=n.xc.decode(e),o=Number(r);isNaN(o)&&n.Mc(`length string (${r}) is not valid number`);const s=yield n.$c(o);return new pG(JSON.parse(s),e.length+o)})()}Oc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}kc(){var n=this;return(0,Ee.Z)(function*(){for(;n.Oc()<0&&!(yield n.Fc()););if(0===n.buffer.length)return null;const e=n.Oc();e<0&&n.Mc("Reached the end of bundle when a length string is expected.");const r=n.buffer.slice(0,e);return n.buffer=n.buffer.slice(e),r})()}$c(n){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<n;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const r=e.xc.decode(e.buffer.slice(0,n));return e.buffer=e.buffer.slice(n),r})()}Mc(n){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${n}`)}Fc(){var n=this;return(0,Ee.Z)(function*(){const e=yield n.Cc.read();if(!e.done){const r=new Uint8Array(n.buffer.length+e.value.length);r.set(n.buffer),r.set(e.value,n.buffer.length),n.buffer=r}return e.done})()}}class VG{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ze(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ee.Z)(function*(s,l){const h=bt(s),p=tE(h.serializer)+"/documents",g={documents:l.map(O=>eE(h.serializer,O))},w=yield h.vo("BatchGetDocuments",p,g,l.length),E=new Map;w.forEach(O=>{const F=function s$(i,n){return"found"in n?function(e,r){Ht(!!r.found);const o=nu(e,r.found.name),s=ro(r.found.updateTime),l=r.found.createTime?ro(r.found.createTime):$t.min(),h=new Zo({mapValue:{fields:r.found.fields}});return Zi.newFoundDocument(o,s,l,h)}(i,n):"missing"in n?function(e,r){Ht(!!r.missing),Ht(!!r.readTime);const o=nu(e,r.missing),s=ro(r.readTime);return Zi.newNoDocument(o,s)}(i,n):kt()}(h.serializer,O);E.set(F.key.toString(),F)});const S=[];return l.forEach(O=>{const F=E.get(O.toString());Ht(!!F),S.push(F)}),S}),function(s,l){return o.apply(this,arguments)})(e.datastore,n);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(n,e){this.write(e.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,e){try{this.write(e.toMutation(n,this.preconditionForUpdate(n)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(n.toString())}delete(n){this.write(new zb(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ee.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const e=n.readVersions;var r;n.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const s=vt.fromPath(o);n.mutations.push(new nP(s,n.precondition(s)))}),yield(r=(0,Ee.Z)(function*(o,s){const l=bt(o),h=tE(l.serializer)+"/documents",p={writes:s.map(g=>nE(l.serializer,g))};yield l.Io("Commit",h,p)}),function(o,s){return r.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let e;if(n.isFoundDocument())e=n.version;else{if(!n.isNoDocument())throw kt();e=$t.min()}const r=this.readVersions.get(n.key.toString());if(r){if(!e.isEqual(r))throw new ze(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),e)}precondition(n){const e=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&e?e.isEqual($t.min())?Ar.exists(!1):Ar.updateTime(e):Ar.none()}preconditionForUpdate(n){const e=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&e){if(e.isEqual($t.min()))throw new ze(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(e)}return Ar.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class UG{constructor(n,e,r,o,s){this.asyncQueue=n,this.datastore=e,this.options=r,this.updateFunction=o,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new NP(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var n=this;this.qo.No((0,Ee.Z)(function*(){const e=new VG(n.datastore),r=n.qc(e);r&&r.then(o=>{n.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{n.deferred.resolve(o)}).catch(s=>{n.Uc(s)}))}).catch(o=>{n.Uc(o)})}))}qc(n){try{const e=this.updateFunction(n);return!C_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(n){this.Bc>0&&this.Kc(n)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(n)}Kc(n){if("FirebaseError"===n.name){const e=n.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!PB(e)}return!1}}class HG{constructor(n,e,r,o){var s=this;this.authCredentials=n,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Ro.UNAUTHENTICATED,this.clientId=xC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ee.Z)(function*(h){Ke("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var n=this;return(0,Ee.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Xb(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function oA(i,n){return ON.apply(this,arguments)}function ON(){return ON=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const e=yield i.getConfiguration();yield n.initialize(e);let r=e.initialUser;i.setCredentialChangeListener(function(){var o=(0,Ee.Z)(function*(s){r.isEqual(s)||(yield RV(n.localStore,s),r=s)});return function(s){return o.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=n}),ON.apply(this,arguments)}function PN(i,n){return NN.apply(this,arguments)}function NN(){return NN=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const e=yield FN(i);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(e,r),i.setCredentialChangeListener(o=>YV(n.remoteStore,o)),i.setAppCheckTokenChangeListener((o,s)=>YV(n.remoteStore,s)),i._onlineComponents=n}),NN.apply(this,arguments)}function d3(i){return"FirebaseError"===i.name?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function FN(i){return LN.apply(this,arguments)}function LN(){return LN=(0,Ee.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oA(i,i._uninitializedComponentsProvider._offline)}catch(n){const e=n;if(!d3(e))throw e;Ps("Error using user provided cache. Falling back to memory cache: "+e),yield oA(i,new pE)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield oA(i,new pE);return i._offlineComponents}),LN.apply(this,arguments)}function sA(i){return BN.apply(this,arguments)}function BN(){return BN=(0,Ee.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield PN(i,i._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield PN(i,new n0))),i._onlineComponents}),BN.apply(this,arguments)}function u3(i){return FN(i).then(n=>n.persistence)}function aA(i){return FN(i).then(n=>n.localStore)}function h3(i){return sA(i).then(n=>n.remoteStore)}function VN(i){return sA(i).then(n=>n.syncEngine)}function r0(i){return UN.apply(this,arguments)}function UN(){return UN=(0,Ee.Z)(function*(i){const n=yield sA(i),e=n.eventManager;return e.onListen=yG.bind(null,n.syncEngine),e.onUnlisten=bG.bind(null,n.syncEngine),e}),UN.apply(this,arguments)}function p3(i,n,e={}){const r=new Zr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(o,s,l,h,p){const g=new rA({next:E=>{s.enqueueAndForget(()=>iN(o,w));const S=E.docs.has(l);!S&&E.fromCache?p.reject(new ze(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&"server"===h.source?p.reject(new ze(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new sN(S_(l.path),g,{includeMetadataChanges:!0,Ku:!0});return tN(o,w)}(yield r0(i),i.asyncQueue,n,e,r)})),r.promise}function m3(i,n,e={}){const r=new Zr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(o,s,l,h,p){const g=new rA({next:E=>{s.enqueueAndForget(()=>iN(o,w)),E.fromCache&&"server"===h.source?p.reject(new ze(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new sN(l,g,{includeMetadataChanges:!0,Ku:!0});return tN(o,w)}(yield r0(i),i.asyncQueue,n,e,r)})),r.promise}function g3(i){const n={};return void 0!==i.timeoutSeconds&&(n.timeoutSeconds=i.timeoutSeconds),n}const _3=new Map;function HN(i,n,e){if(!e)throw new ze(ye.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function v3(i,n,e,r){if(!0===n&&!0===r)throw new ze(ye.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function y3(i){if(!vt.isDocumentKey(i))throw new ze(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function b3(i){if(vt.isDocumentKey(i))throw new ze(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cA(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(e=i).constructor?e.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var e;return"function"==typeof i?"a function":kt()}function Hn(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new ze(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cA(i);throw new ze(ye.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${e}`)}}return i}function w3(i,n){if(n<=0)throw new ze(ye.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class x3{constructor(n){var e,r;if(void 0===n.host){if(void 0!==n.ssl)throw new ze(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(e=n.ssl)||void 0===e||e;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.cache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ze(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}v3("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=g3(null!==(r=n.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class mE{constructor(n,e,r,o){this._authCredentials=n,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ze(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x3(n),void 0!==n.credentials&&(this._authCredentials=function(e){if(!e)return new eS;switch(e.type){case"firstParty":return new nS(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ze(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const e=_3.get(n);e&&(Ke("ComponentProvider","Removing Datastore"),_3.delete(n),e.terminate())}(this),Promise.resolve()}}function C3(i,n,e,r={}){var o;const s=(i=Hn(i,mE))._getSettings(),l=`${n}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=Ro.MOCK_USER;else{h=(0,j.Sg)(r.mockUserToken,null===(o=i._app)||void 0===o?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ze(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ro(g)}i._authCredentials=new tS(new JT(h,p))}}class vr{constructor(n,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new vr(this.firestore,n,this._key)}}class fs{constructor(n,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new fs(this.firestore,n,this._query)}}class iu extends fs{constructor(n,e,r){super(n,e,S_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new vr(this.firestore,null,new vt(n))}withConverter(n){return new iu(this.firestore,n,this._path)}}function E3(i,n,...e){if(i=(0,j.m9)(i),HN("collection","path",n),i instanceof mE){const r=$n.fromString(n,...e);return b3(r),new iu(i,null,r)}{if(!(i instanceof vr||i instanceof iu))throw new ze(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child($n.fromString(n,...e));return b3(r),new iu(i.firestore,null,r)}}function lA(i,n,...e){if(i=(0,j.m9)(i),1===arguments.length&&(n=xC.A()),HN("doc","path",n),i instanceof mE){const r=$n.fromString(n,...e);return y3(r),new vr(i,null,new vt(r))}{if(!(i instanceof vr||i instanceof iu))throw new ze(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child($n.fromString(n,...e));return y3(r),new vr(i.firestore,i instanceof iu?i.converter:null,new vt(r))}}function D3(i,n){return i=(0,j.m9)(i),n=(0,j.m9)(n),(i instanceof vr||i instanceof iu)&&(n instanceof vr||n instanceof iu)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function zN(i,n){return i=(0,j.m9)(i),n=(0,j.m9)(n),i instanceof fs&&n instanceof fs&&i.firestore===n.firestore&&Bb(i._query,n._query)&&i.converter===n.converter}class QG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new NP(this,"async_queue_retry"),this.Xc=()=>{const e=tA();e&&Ke("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const n=tA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Zc(),this.ta(n)}enterRestrictedMode(n){if(!this.jc){this.jc=!0,this.Jc=n||!1;const e=tA();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(n){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Zr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(n().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Qc.push(n),this.ea()))}ea(){var n=this;return(0,Ee.Z)(function*(){if(0!==n.Qc.length){try{yield n.Qc[0](),n.Qc.shift(),n.qo.reset()}catch(e){if(!Lh(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}n.Qc.length>0&&n.qo.No(()=>n.ea())}})()}ta(n){const e=this.Gc.then(()=>(this.Hc=!0,n().catch(r=>{throw this.Wc=r,this.Hc=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=e,e}enqueueAfterDelay(n,e,r){this.Zc(),this.Yc.indexOf(n)>-1&&(e=0);const o=eN.createAndSchedule(this,n,e,r,s=>this.na(s));return this.zc.push(o),o}Zc(){this.Wc&&kt()}verifyOperationInProgress(){}sa(){var n=this;return(0,Ee.Z)(function*(){let e;do{e=n.Gc,yield e}while(e!==n.Gc)})()}ia(n){for(const e of this.zc)if(e.timerId===n)return!0;return!1}ra(n){return this.sa().then(()=>{this.zc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==n&&e.timerId===n)break;return this.sa()})}oa(n){this.Yc.push(n)}na(n){const e=this.zc.indexOf(n);this.zc.splice(e,1)}}function jN(i){return function(n,e){if("object"!=typeof n||null===n)return!1;const r=n;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class XG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,e,r){this._progressObserver={next:n,error:e,complete:r}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,e){return this._taskCompletionResolver.promise.then(n,e)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class yr extends mE{constructor(n,e,r,o){super(n,e,r,o),this.type="firestore",this._queue=new QG,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||I3(this),this._firestoreClient.terminate()}}function e8(i,n){const e="object"==typeof i?i:(0,wi.getApp)(),r="string"==typeof i?i:n||"(default)",o=(0,wi._getProvider)(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=(0,j.P0)("firestore");s&&C3(o,...s)}return o}function oo(i){return i._firestoreClient||I3(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function I3(i){var n,e,r;const o=i._freezeSettings(),s=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new wS(i._databaseId,h,i._persistenceKey,(g=o).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g3(g.experimentalLongPollingOptions),g.useFetchStreams));var h,g;i._firestoreClient=new HG(i._authCredentials,i._appCheckCredentials,i._queue,s),null!==(e=o.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function k3(i,n,e){const r=new Zr;return i.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield oA(i,e),yield PN(i,n),r.resolve()}catch(o){const s=o;if(!d3(s))throw s;Ps("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function T3(i){if(i._initialized||i._terminated)throw new ze(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ru(io.fromBase64String(n))}catch(e){throw new ze(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(n){return new ru(io.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Yh{constructor(...n){for(let e=0;e<n.length;++e)if(0===n[e].length)throw new ze(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class V_{constructor(n){this._methodName=n}}class dA{constructor(n,e){if(!isFinite(n)||n<-90||n>90)throw new ze(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(e)||e<-180||e>180)throw new ze(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=n,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return fn(this._lat,n._lat)||fn(this._long,n._long)}}const d8=/^__.*__$/;class u8{constructor(n,e,r){this.data=n,this.fieldMask=e,this.fieldTransforms=r}toMutation(n,e){return null!==this.fieldMask?new qh(n,this.data,this.fieldMask,e,this.fieldTransforms):new Hb(n,this.data,e,this.fieldTransforms)}}class S3{constructor(n,e,r){this.data=n,this.fieldMask=e,this.fieldTransforms=r}toMutation(n,e){return new qh(n,this.data,this.fieldMask,e,this.fieldTransforms)}}function A3(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt()}}class uA{constructor(n,e,r,o,s,l){this.settings=n,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(n){return new uA(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(n){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(n),o=this.aa({path:r,la:!1});return o.fa(n),o}da(n){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(n),o=this.aa({path:r,la:!1});return o.ua(),o}wa(n){return this.aa({path:void 0,la:!0})}_a(n){return pA(n,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(n){return void 0!==this.fieldMask.find(e=>n.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>n.isPrefixOf(e.field))}ua(){if(this.path)for(let n=0;n<this.path.length;n++)this.fa(this.path.get(n))}fa(n){if(0===n.length)throw this._a("Document fields must not be empty");if(A3(this.ca)&&d8.test(n))throw this._a('Document fields cannot begin and end with "__"')}}class h8{constructor(n,e,r){this.databaseId=n,this.ignoreUndefinedProperties=e,this.serializer=r||uE(n)}ya(n,e,r,o=!1){return new uA({ca:n,methodName:e,ga:r,path:Br.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U_(i){const n=i._freezeSettings(),e=uE(i._databaseId);return new h8(i._databaseId,!!n.ignoreUndefinedProperties,e)}function hA(i,n,e,r,o,s={}){const l=i.ya(s.merge||s.mergeFields?2:0,n,e,o);WN("Data must be an object, but it was:",l,r);const h=O3(r,l);let p,g;if(s.merge)p=new hs(l.fieldMask),g=l.fieldTransforms;else if(s.mergeFields){const w=[];for(const E of s.mergeFields){const S=vE(n,E,e);if(!l.contains(S))throw new ze(ye.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);N3(w,S)||w.push(S)}p=new hs(w),g=l.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=l.fieldTransforms;return new u8(new Zo(h),p,g)}class _E extends V_{_toFieldTransform(n){if(2!==n.ca)throw n._a(1===n.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof _E}}function M3(i,n,e){return new uA({ca:3,ga:n.settings.ga,methodName:i._methodName,la:e},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class $N extends V_{_toFieldTransform(n){return new M_(n.path,new pt)}isEqual(n){return n instanceof $N}}class f8 extends V_{constructor(n,e){super(n),this.pa=e}_toFieldTransform(n){const e=M3(this,n,!0),r=this.pa.map(s=>H_(s,e)),o=new Mt(r);return new M_(n.path,o)}isEqual(n){return this===n}}class p8 extends V_{constructor(n,e){super(n),this.pa=e}_toFieldTransform(n){const e=M3(this,n,!0),r=this.pa.map(s=>H_(s,e)),o=new Jt(r);return new M_(n.path,o)}isEqual(n){return this===n}}class m8 extends V_{constructor(n,e){super(n),this.Ia=e}_toFieldTransform(n){const e=new kn(n.serializer,W(n.serializer,this.Ia));return new M_(n.path,e)}isEqual(n){return this===n}}function GN(i,n,e,r){const o=i.ya(1,n,e);WN("Data must be an object, but it was:",o,r);const s=[],l=Zo.empty();Yc(r,(p,g)=>{const w=fA(n,p,e);g=(0,j.m9)(g);const E=o.da(w);if(g instanceof _E)s.push(w);else{const S=H_(g,E);null!=S&&(s.push(w),l.set(w,S))}});const h=new hs(s);return new S3(l,h,o.fieldTransforms)}function qN(i,n,e,r,o,s){const l=i.ya(1,n,e),h=[vE(n,r,e)],p=[o];if(s.length%2!=0)throw new ze(ye.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)h.push(vE(n,s[S])),p.push(s[S+1]);const g=[],w=Zo.empty();for(let S=h.length-1;S>=0;--S)if(!N3(g,h[S])){const O=h[S];let F=p[S];F=(0,j.m9)(F);const G=l.da(O);if(F instanceof _E)g.push(O);else{const Q=H_(F,G);null!=Q&&(g.push(O),w.set(O,Q))}}const E=new hs(g);return new S3(w,E,l.fieldTransforms)}function R3(i,n,e,r=!1){return H_(e,i.ya(r?4:3,n))}function H_(i,n){if(P3(i=(0,j.m9)(i)))return WN("Unsupported field value:",n,i),O3(i,n);if(i instanceof V_)return function(e,r){if(!A3(r.ca))throw r._a(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.la&&4!==n.ca)throw n._a("Nested arrays are not supported");return function(e,r){const o=[];let s=0;for(const l of e){let h=H_(l,r.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),o.push(h),s++}return{arrayValue:{values:o}}}(i,n)}return function(e,r){if(null===(e=(0,j.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return W(r.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=Wi.fromDate(e);return{timestampValue:jb(r.serializer,o)}}if(e instanceof Wi){const o=new Wi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jb(r.serializer,o)}}if(e instanceof dA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ru)return{bytesValue:$B(r.serializer,e._byteString)};if(e instanceof vr){const o=r.databaseId,s=e.firestore._databaseId;if(!s.isEqual(o))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lP(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r._a(`Unsupported field value: ${cA(e)}`)}(i,n)}function O3(i,n){const e={};return NC(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Yc(i,(r,o)=>{const s=H_(o,n.ha(r));null!=s&&(e[r]=s)}),{mapValue:{fields:e}}}function P3(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wi||i instanceof dA||i instanceof ru||i instanceof vr||i instanceof V_)}function WN(i,n,e){if(!P3(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cA(e);throw n._a("an object"===r?i+" a custom object":i+" "+r)}var r}function vE(i,n,e){if((n=(0,j.m9)(n))instanceof Yh)return n._internalPath;if("string"==typeof n)return fA(i,n);throw pA("Field path arguments must be of type string or ",i,!1,void 0,e)}const g8=new RegExp("[~\\*/\\[\\]]");function fA(i,n,e){if(n.search(g8)>=0)throw pA(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Yh(...n.split("."))._internalPath}catch{throw pA(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function pA(i,n,e,r,o){const s=r&&!r.isEmpty(),l=void 0!==o;let h=`Function ${n}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${r}`),l&&(p+=` in document ${o}`),p+=")"),new ze(ye.INVALID_ARGUMENT,h+i+p)}function N3(i,n){return i.some(e=>e.isEqual(n))}class yE{constructor(n,e,r,o,s){this._firestore=n,this._userDataWriter=e,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new _8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const e=this._document.data.field(mA("DocumentSnapshot.get",n));if(null!==e)return this._userDataWriter.convertValue(e)}}}class _8 extends yE{data(){return super.data()}}function mA(i,n){return"string"==typeof n?fA(i,n):n instanceof Yh?n._internalPath:n._delegate._internalPath}function F3(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ze(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZN{}class bE extends ZN{}function dm(i,n,...e){let r=[];n instanceof ZN&&r.push(n),r=r.concat(e),function(o){const s=o.filter(h=>h instanceof o0).length,l=o.filter(h=>h instanceof wE).length;if(s>1||s>0&&l>0)throw new ze(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class wE extends bE{constructor(n,e,r){super(),this._field=n,this._op=e,this._value=r,this.type="where"}static _create(n,e,r){return new wE(n,e,r)}_apply(n){const e=this._parse(n);return U3(n._query,e),new fs(n.firestore,n.converter,ZC(n._query,e))}_parse(n){const e=U_(n.firestore);return function(o,s,l,h,p,g,w){let E;if(p.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new ze(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){V3(w,g);const S=[];for(const O of w)S.push(B3(h,o,O));E={arrayValue:{values:S}}}else E=B3(h,o,w)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||V3(w,g),E=R3(l,"where",w,"in"===g||"not-in"===g);return Ln.create(p,g,E)}(n._query,0,e,n.firestore._databaseId,this._field,this._op,this._value)}}class o0 extends ZN{constructor(n,e){super(),this.type=n,this._queryConstraints=e}static _create(n,e){return new o0(n,e)}_parse(n){const e=this._queryConstraints.map(r=>r._parse(n)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:hi.create(e,this._getOperator())}_apply(n){const e=this._parse(n);return 0===e.getFilters().length?n:(function(r,o){let s=r;const l=o.getFlattenedFilters();for(const h of l)U3(s,h),s=ZC(s,h)}(n._query,e),new fs(n.firestore,n.converter,ZC(n._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YN extends bE{constructor(n,e){super(),this._field=n,this._direction=e,this.type="orderBy"}static _create(n,e){return new YN(n,e)}_apply(n){const e=function(r,o,s){if(null!==r.startAt)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new $h(o,s);return function(h,p){if(null===nm(h)){const g=qC(h);null!==g&&H3(0,g,p.field)}}(r,l),l}(n._query,this._field,this._direction);return new fs(n.firestore,n.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Kc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(n._query,e))}}class gA extends bE{constructor(n,e,r){super(),this.type=n,this._limit=e,this._limitType=r}static _create(n,e,r){return new gA(n,e,r)}_apply(n){return new fs(n.firestore,n.converter,YC(n._query,this._limit,this._limitType))}}class _A extends bE{constructor(n,e,r){super(),this.type=n,this._docOrFields=e,this._inclusive=r}static _create(n,e,r){return new _A(n,e,r)}_apply(n){const e=L3(n,this.type,this._docOrFields,this._inclusive);return new fs(n.firestore,n.converter,(o=e,new Kc((r=n._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class vA extends bE{constructor(n,e,r){super(),this.type=n,this._docOrFields=e,this._inclusive=r}static _create(n,e,r){return new vA(n,e,r)}_apply(n){const e=L3(n,this.type,this._docOrFields,this._inclusive);return new fs(n.firestore,n.converter,(o=e,new Kc((r=n._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function L3(i,n,e,r){if(e[0]=(0,j.m9)(e[0]),e[0]instanceof yE)return function(o,s,l,h,p){if(!h)throw new ze(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const g=[];for(const w of im(o))if(w.field.isKeyField())g.push(jh(s,h.key));else{const E=h.data.field(w.field);if(LC(E))throw new ze(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const S=w.field.canonicalString();throw new ze(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(E)}return new Jd(g,p)}(i._query,i.firestore._databaseId,n,e[0]._document,r);{const o=U_(i.firestore);return function(s,l,h,p,g,w){const E=s.explicitOrderBy;if(g.length>E.length)throw new ze(ye.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let O=0;O<g.length;O++){const F=g[O];if(E[O].field.isKeyField()){if("string"!=typeof F)throw new ze(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof F}`);if(!WC(s)&&-1!==F.indexOf("/"))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${F}' contains a slash.`);const G=s.path.child($n.fromString(F));if(!vt.isDocumentKey(G))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${G}' is not because it contains an odd number of segments.`);const Q=new vt(G);S.push(jh(l,Q))}else{const G=R3(h,p,F);S.push(G)}}return new Jd(S,w)}(i._query,i.firestore._databaseId,o,n,e,r)}}function B3(i,n,e){if("string"==typeof(e=(0,j.m9)(e))){if(""===e)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WC(n)&&-1!==e.indexOf("/"))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=n.path.child($n.fromString(e));if(!vt.isDocumentKey(r))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jh(i,new vt(r))}if(e instanceof vr)return jh(i,e._key);throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cA(e)}.`)}function V3(i,n){if(!Array.isArray(i)||0===i.length)throw new ze(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function U3(i,n){if(n.isInequality()){const r=qC(i),o=n.field;if(null!==r&&!r.isEqual(o))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const s=nm(i);null!==s&&H3(0,o,s)}const e=function(r,o){for(const s of r)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(i.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==e)throw new ze(ye.INVALID_ARGUMENT,e===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${e.toString()}' filters.`)}function H3(i,n,e){if(!e.isEqual(n))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class KN{convertValue(n,e="none"){switch(Hh(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Sr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,e);case 5:return n.stringValue;case 6:return this.convertBytes(Hl(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,e);case 10:return this.convertObject(n.mapValue,e);default:throw kt()}}convertObject(n,e){return this.convertObjectMap(n.fields,e)}convertObjectMap(n,e="none"){const r={};return Yc(n,(o,s)=>{r[o]=this.convertValue(s,e)}),r}convertGeoPoint(n){return new dA(Sr(n.latitude),Sr(n.longitude))}convertArray(n,e){return(n.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(n,e){switch(e){case"previous":const r=BC(n);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Sb(n));default:return null}}convertTimestamp(n){const e=Ul(n);return new Wi(e.seconds,e.nanos)}convertDocumentKey(n,e){const r=$n.fromString(n);Ht(eV(r));const o=new Qd(r.get(1),r.get(3)),s=new vt(r.popFirst(5));return o.isEqual(e)||Tr(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function yA(i,n,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(n,e):i.toFirestore(n):n,r}class I8 extends KN{constructor(n){super(),this.firestore=n}convertBytes(n){return new ru(n)}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return new vr(this.firestore,null,e)}}class z_{constructor(n,e){this.hasPendingWrites=n,this.fromCache=e}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Kh extends yE{constructor(n,e,r,o,s,l){super(n,e,r,o,l),this._firestore=n,this._firestoreImpl=n,this.metadata=s}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const e=new xE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,e={}){if(this._document){const r=this._document.data.field(mA("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class xE extends Kh{data(n={}){return super.data(n)}}class um{constructor(n,e,r,o){this._firestore=n,this._userDataWriter=e,this._snapshot=o,this.metadata=new z_(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const n=[];return this.forEach(e=>n.push(e)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,e){this._snapshot.docs.forEach(r=>{n.call(e,new xE(this._firestore,this._userDataWriter,r.key,r,new z_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const e=!!n.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new xE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new z_(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const h=new xE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new z_(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,g=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:T8(l.type),doc:h,oldIndex:p,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function T8(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt()}}function j3(i,n){return i instanceof Kh&&n instanceof Kh?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof um&&n instanceof um&&i._firestore===n._firestore&&zN(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}class hm extends KN{constructor(n){super(),this.firestore=n}convertBytes(n){return new ru(n)}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return new vr(this.firestore,null,e)}}function $3(i,n,e){i=Hn(i,vr);const r=Hn(i.firestore,yr),o=yA(i.converter,n,e);return s0(r,[hA(U_(r),"setDoc",i._key,o,null!==i.converter,e).toMutation(i._key,Ar.none())])}function G3(i,n,e,...r){i=Hn(i,vr);const o=Hn(i.firestore,yr),s=U_(o);let l;return l="string"==typeof(n=(0,j.m9)(n))||n instanceof Yh?qN(s,"updateDoc",i._key,n,e,r):GN(s,"updateDoc",i._key,n),s0(o,[l.toMutation(i._key,Ar.exists(!0))])}function q3(i,...n){var e,r,o;i=(0,j.m9)(i);let s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||jN(n[l])||(s=n[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(jN(n[l])){const E=n[l];n[l]=null===(e=E.next)||void 0===e?void 0:e.bind(E),n[l+1]=null===(r=E.error)||void 0===r?void 0:r.bind(E),n[l+2]=null===(o=E.complete)||void 0===o?void 0:o.bind(E)}let p,g,w;if(i instanceof vr)g=Hn(i.firestore,yr),w=S_(i._key.path),p={next:E=>{n[l]&&n[l](QN(g,i,E))},error:n[l+1],complete:n[l+2]};else{const E=Hn(i,fs);g=Hn(E.firestore,yr),w=E._query;const S=new hm(g);p={next:O=>{n[l]&&n[l](new um(g,S,E,O))},error:n[l+1],complete:n[l+2]},F3(i._query)}return function(E,S,O,F){const G=new rA(F),Q=new sN(S,G,O);return E.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return tN(yield r0(E),Q)})),()=>{G.Dc(),E.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return iN(yield r0(E),Q)}))}}(oo(g),w,h,p)}function s0(i,n){return function(e,r){const o=new Zr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function wG(i,n,e){return uN.apply(this,arguments)}(yield VN(e),r,o)})),o.promise}(oo(i),n)}function QN(i,n,e){const r=e.docs.get(n._key),o=new hm(i);return new Kh(i,o,n._key,r,new z_(e.hasPendingWrites,e.fromCache),n.converter)}const q8={maxAttempts:5};class W3{constructor(n,e){this._firestore=n,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=U_(n)}set(n,e,r){this._verifyNotCommitted();const o=fm(n,this._firestore),s=yA(o.converter,e,r),l=hA(this._dataReader,"WriteBatch.set",o._key,s,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,Ar.none())),this}update(n,e,r,...o){this._verifyNotCommitted();const s=fm(n,this._firestore);let l;return l="string"==typeof(e=(0,j.m9)(e))||e instanceof Yh?qN(this._dataReader,"WriteBatch.update",s._key,e,r,o):GN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(l.toMutation(s._key,Ar.exists(!0))),this}delete(n){this._verifyNotCommitted();const e=fm(n,this._firestore);return this._mutations=this._mutations.concat(new zb(e._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fm(i,n){if((i=(0,j.m9)(i)).firestore!==n)throw new ze(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class W8 extends class{constructor(n,e){this._firestore=n,this._transaction=e,this._dataReader=U_(n)}get(n){const e=fm(n,this._firestore),r=new I8(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return kt();const s=o[0];if(s.isFoundDocument())return new yE(this._firestore,r,s.key,s,e.converter);if(s.isNoDocument())return new yE(this._firestore,r,e._key,null,e.converter);throw kt()})}set(n,e,r){const o=fm(n,this._firestore),s=yA(o.converter,e,r),l=hA(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(n,e,r,...o){const s=fm(n,this._firestore);let l;return l="string"==typeof(e=(0,j.m9)(e))||e instanceof Yh?qN(this._dataReader,"Transaction.update",s._key,e,r,o):GN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,l),this}delete(n){const e=fm(n,this._firestore);return this._transaction.delete(e._key),this}}{constructor(n,e){super(n,e),this._firestore=n}get(n){const e=fm(n,this._firestore),r=new hm(this._firestore);return super.get(n).then(o=>new Kh(this._firestore,r,e._key,o._document,new z_(!1,!1),e.converter))}}function XN(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new ze("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function Y3(){if(typeof Uint8Array>"u")throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function K3(){if(!function $O(){return typeof atob<"u"}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,n=!0){Fh=wi.SDK_VERSION,(0,wi._registerComponent)(new ir.wA("firestore",(e,{instanceIdentifier:r,options:o})=>{const s=e.getProvider("app").getImmediate(),l=new yr(new AO(e.getProvider("auth-internal")),new rS(e.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ze(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qd(h.options.projectId,p)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,wi.registerVersion)(Cb,"3.13.0",i),(0,wi.registerVersion)(Cb,"3.13.0","esm2017")}();class CE{constructor(n){this._delegate=n}static fromBase64String(n){return K3(),new CE(ru.fromBase64String(n))}static fromUint8Array(n){return Y3(),new CE(ru.fromUint8Array(n))}toBase64(){return K3(),this._delegate.toBase64()}toUint8Array(){return Y3(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JN(i){return function nq(i,n){if("object"!=typeof i||null===i)return!1;const e=i;for(const r of n)if(r in e&&"function"==typeof e[r])return!0;return!1}(i,["next","error","complete"])}class iq{enableIndexedDbPersistence(n,e){return function t8(i,n){T3(i=Hn(i,yr));const e=oo(i);if(e._uninitializedComponentsProvider)throw new ze(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ps("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),o=new n0;return k3(e,o,new RN(o,r.cacheSizeBytes,n?.forceOwnership))}(n._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(n){return function n8(i){T3(i=Hn(i,yr));const n=oo(i);if(n._uninitializedComponentsProvider)throw new ze(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ps("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings(),r=new n0;return k3(n,r,new c3(r,e.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function i8(i){if(i._initialized&&!i._terminated)throw new ze(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Zr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(r){if(!rc.D())return Promise.resolve();const o=r+"main";yield rc.delete(o)}),function(r){return e.apply(this,arguments)})(EP(i._databaseId,i._persistenceKey)),n.resolve()}catch(e){n.reject(e)}var e})),n.promise}(n._delegate)}}class Q3{constructor(n,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},n instanceof Qd||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const e=this._delegate._getSettings();!n.merge&&e.host!==n.host&&Ps("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},e),n)).merge,this._delegate._setSettings(n)}useEmulator(n,e,r={}){C3(this._delegate,n,e,r)}enableNetwork(){return function o8(i){return function zG(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield u3(i),e=yield h3(i);return n.setNetworkEnabled(!0),function(r){const o=bt(r);return o.vu.delete(0),hE(o)}(e)}))}(oo(i=Hn(i,yr)))}(this._delegate)}disableNetwork(){return function s8(i){return function jG(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield u3(i),e=yield h3(i);return n.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(o){const s=bt(o);s.vu.add(0),yield Yb(s),s.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(oo(i=Hn(i,yr)))}(this._delegate)}enablePersistence(n){let e=!1,r=!1;return n&&(e=!!n.synchronizeTabs,r=!!n.experimentalForceOwningTab,v3("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function r8(i){return function(n){const e=new Zr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function DG(i,n){return gN.apply(this,arguments)}(yield VN(n),e)})),e.promise}(oo(i=Hn(i,yr)))}(this._delegate)}onSnapshotsInSync(n){return function L8(i,n){return function qG(i,n){const e=new rA(n);return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield r0(i),o=e,bt(r).ku.add(o),void o.next();var r,o})),()=>{e.Dc(),i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield r0(i),o=e,void bt(r).ku.delete(o);var r,o}))}}(oo(i=Hn(i,yr)),jN(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new a0(this,E3(this._delegate,n))}catch(e){throw Xs(e,"collection()","Firestore.collection()")}}doc(n){try{return new Qc(this,lA(this._delegate,n))}catch(e){throw Xs(e,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Js(this,function KG(i,n){if(i=Hn(i,mE),HN("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new ze(ye.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fs(i,null,(e=n,new Kc($n.emptyPath(),e)));var e}(this._delegate,n))}catch(e){throw Xs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function Z8(i,n,e){i=Hn(i,yr);const r=Object.assign(Object.assign({},q8),e);return function(o){if(o.maxAttempts<1)throw new ze(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,l){const h=new Zr;return o.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const p=yield function f3(i){return sA(i).then(n=>n.datastore)}(o);new UG(o.asyncQueue,p,l,s,h).run()})),h.promise}(oo(i),o=>n(new W8(i,o)),r)}(this._delegate,e=>n(new X3(this,e)))}batch(){return oo(this._delegate),new J3(new W3(this._delegate,n=>s0(this._delegate,n)))}loadBundle(n){return function a8(i,n){const e=oo(i=Hn(i,yr)),r=new XG;return function WG(i,n,e,r){const o=function(s,l){let h;return h="string"==typeof s?FB().encode(s):s,p=function(p,g){if(p instanceof Uint8Array)return l3(p,g);if(p instanceof ArrayBuffer)return l3(new Uint8Array(p),g);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new BG(p,l);var p}(e,uE(n));i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function FG(i,n,e){const r=bt(i);var o;(o=(0,Ee.Z)(function*(s,l,h){try{const p=yield l.getMetadata();if(yield function(S,O){const F=bt(S),G=ro(O.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",Q=>F.qs.getBundleMetadata(Q,O.id)).then(Q=>!!Q&&Q.createTime.compareTo(G)>=0)}(s.localStore,p))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(S=p).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);h._updateProgress(XV(p));const g=new mG(p,s.localStore,l.serializer);let w=yield l.bc();for(;w;){const S=yield g.zu(w);S&&h._updateProgress(S),w=yield l.bc()}const E=yield g.complete();return yield Zh(s,E.Ju,void 0),yield function(S,O){const F=bt(S);return F.persistence.runTransaction("Save bundle","readwrite",G=>F.qs.saveBundleMetadata(G,O))}(s.localStore,p),h._completeWith(E.progress),Promise.resolve(E.Hu)}catch(p){return Ps("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var S}),function(s,l,h){return o.apply(this,arguments)})(r,n,e).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield VN(i),o,r)}))}(e,i._databaseId,n,r),r}(this._delegate,n)}namedQuery(n){return function c8(i,n){return function ZG(i,n){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,r){const o=bt(e);return o.persistence.runTransaction("Get named query","readonly",s=>o.qs.getNamedQuery(s,r))}(yield aA(i),n)}))}(oo(i=Hn(i,yr)),n).then(e=>e?new fs(i,null,e.query):null)}(this._delegate,n).then(e=>e?new Js(this,e):null)}}class bA extends KN{constructor(n){super(),this.firestore=n}convertBytes(n){return new CE(new ru(n))}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return Qc.forKey(e,this.firestore,null)}}class X3{constructor(n,e){this._firestore=n,this._delegate=e,this._userDataWriter=new bA(n)}get(n){const e=$_(n);return this._delegate.get(e).then(r=>new EE(this._firestore,new Kh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(n,e,r){const o=$_(n);return r?(XN("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(n,e,r,...o){const s=$_(n);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...o),this}delete(n){const e=$_(n);return this._delegate.delete(e),this}}class J3{constructor(n){this._delegate=n}set(n,e,r){const o=$_(n);return r?(XN("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(n,e,r,...o){const s=$_(n);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...o),this}delete(n){const e=$_(n);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class j_{constructor(n,e,r){this._firestore=n,this._userDataWriter=e,this._delegate=r}fromFirestore(n,e){const r=new xE(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new DE(this._firestore,r),e??{})}toFirestore(n,e){return e?this._delegate.toFirestore(n,e):this._delegate.toFirestore(n)}static getInstance(n,e){const r=j_.INSTANCES;let o=r.get(n);o||(o=new WeakMap,r.set(n,o));let s=o.get(e);return s||(s=new j_(n,new bA(n),e),o.set(e,s)),s}}j_.INSTANCES=new WeakMap;class Qc{constructor(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new bA(n)}static forPath(n,e,r){if(n.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Qc(e,new vr(e._delegate,r,new vt(n)))}static forKey(n,e,r){return new Qc(e,new vr(e._delegate,r,n))}get id(){return this._delegate.id}get parent(){return new a0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new a0(this.firestore,E3(this._delegate,n))}catch(e){throw Xs(e,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,j.m9)(n))instanceof vr&&D3(this._delegate,n)}set(n,e){e=XN("DocumentReference.set",e);try{return e?$3(this._delegate,n,e):$3(this._delegate,n)}catch(r){throw Xs(r,"setDoc()","DocumentReference.set()")}}update(n,e,...r){try{return 1===arguments.length?G3(this._delegate,n):G3(this._delegate,n,e,...r)}catch(o){throw Xs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function N8(i){return s0(Hn(i.firestore,yr),[new zb(i._key,Ar.none())])}(this._delegate)}onSnapshot(...n){const e=eU(n),r=tU(n,o=>new EE(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return q3(this._delegate,e,r)}get(n){let e;return e="cache"===n?.source?function A8(i){i=Hn(i,vr);const n=Hn(i.firestore,yr),e=oo(n),r=new hm(n);return function $G(i,n){const e=new Zr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(o,s,l){try{const h=yield function(p,g){const w=bt(p);return w.persistence.runTransaction("read document","readonly",E=>w.localDocuments.getDocument(E,g))}(o,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new ze(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Xb(h,`Failed to get document '${s} from cache`);l.reject(p)}}),function(o,s,l){return r.apply(this,arguments)})(yield aA(i),n,e);var r})),e.promise}(e,i._key).then(o=>new Kh(n,r,i._key,o,new z_(null!==o&&o.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===n?.source?function M8(i){i=Hn(i,vr);const n=Hn(i.firestore,yr);return p3(oo(n),i._key,{source:"server"}).then(e=>QN(n,i,e))}(this._delegate):function S8(i){i=Hn(i,vr);const n=Hn(i.firestore,yr);return p3(oo(n),i._key).then(e=>QN(n,i,e))}(this._delegate),e.then(r=>new EE(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(n){return new Qc(this.firestore,this._delegate.withConverter(n?j_.getInstance(this.firestore,n):null))}}function Xs(i,n,e){return i.message=i.message.replace(n,e),i}function eU(i){for(const n of i)if("object"==typeof n&&!JN(n))return n;return{}}function tU(i,n){var e,r;let o;return o=JN(i[0])?i[0]:JN(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:s=>{o.next&&o.next(n(s))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class EE{constructor(n,e){this._firestore=n,this._delegate=e}get ref(){return new Qc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,e){return this._delegate.get(n,e)}isEqual(n){return j3(this._delegate,n._delegate)}}class DE extends EE{data(n){const e=this._delegate.data(n);return function SO(i,n){i||kt()}(void 0!==e),e}}class Js{constructor(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new bA(n)}where(n,e,r){try{return new Js(this.firestore,dm(this._delegate,function v8(i,n,e){const r=n,o=mA("where",i);return wE._create(o,r,e)}(n,e,r)))}catch(o){throw Xs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,e){try{return new Js(this.firestore,dm(this._delegate,function y8(i,n="asc"){const e=n,r=mA("orderBy",i);return YN._create(r,e)}(n,e)))}catch(r){throw Xs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Js(this.firestore,dm(this._delegate,function b8(i){return w3("limit",i),gA._create("limit",i,"F")}(n)))}catch(e){throw Xs(e,"limit()","Query.limit()")}}limitToLast(n){try{return new Js(this.firestore,dm(this._delegate,function w8(i){return w3("limitToLast",i),gA._create("limitToLast",i,"L")}(n)))}catch(e){throw Xs(e,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Js(this.firestore,dm(this._delegate,function x8(...i){return _A._create("startAt",i,!0)}(...n)))}catch(e){throw Xs(e,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Js(this.firestore,dm(this._delegate,function C8(...i){return _A._create("startAfter",i,!1)}(...n)))}catch(e){throw Xs(e,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Js(this.firestore,dm(this._delegate,function E8(...i){return vA._create("endBefore",i,!1)}(...n)))}catch(e){throw Xs(e,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Js(this.firestore,dm(this._delegate,function D8(...i){return vA._create("endAt",i,!0)}(...n)))}catch(e){throw Xs(e,"endAt()","Query.endAt()")}}isEqual(n){return zN(this._delegate,n._delegate)}get(n){let e;return e="cache"===n?.source?function O8(i){i=Hn(i,fs);const n=Hn(i.firestore,yr),e=oo(n),r=new hm(n);return function GG(i,n){const e=new Zr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(o,s,l){try{const h=yield QS(o,s,!0),p=new t3(s,h.ir),g=p.sc(h.documents),w=p.applyChanges(g,!1);l.resolve(w.snapshot)}catch(h){const p=Xb(h,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(o,s,l){return r.apply(this,arguments)})(yield aA(i),n,e);var r})),e.promise}(e,i._query).then(o=>new um(n,r,i,o))}(this._delegate):"server"===n?.source?function P8(i){i=Hn(i,fs);const n=Hn(i.firestore,yr),e=oo(n),r=new hm(n);return m3(e,i._query,{source:"server"}).then(o=>new um(n,r,i,o))}(this._delegate):function R8(i){i=Hn(i,fs);const n=Hn(i.firestore,yr),e=oo(n),r=new hm(n);return F3(i._query),m3(e,i._query).then(o=>new um(n,r,i,o))}(this._delegate),e.then(r=>new eF(this.firestore,new um(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...n){const e=eU(n),r=tU(n,o=>new eF(this.firestore,new um(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return q3(this._delegate,e,r)}withConverter(n){return new Js(this.firestore,this._delegate.withConverter(n?j_.getInstance(this.firestore,n):null))}}class oq{constructor(n,e){this._firestore=n,this._delegate=e}get type(){return this._delegate.type}get doc(){return new DE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eF{constructor(n,e){this._firestore=n,this._delegate=e}get query(){return new Js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new DE(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(e=>new oq(this._firestore,e))}forEach(n,e){this._delegate.forEach(r=>{n.call(e,new DE(this._firestore,r))})}isEqual(n){return j3(this._delegate,n._delegate)}}class a0 extends Js{constructor(n,e){super(n,e),this.firestore=n,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Qc(this.firestore,n):null}doc(n){try{return new Qc(this.firestore,void 0===n?lA(this._delegate):lA(this._delegate,n))}catch(e){throw Xs(e,"doc()","CollectionReference.doc()")}}add(n){return function F8(i,n){const e=Hn(i.firestore,yr),r=lA(i),o=yA(i.converter,n);return s0(e,[hA(U_(i.firestore),"addDoc",r._key,o,null!==i.converter,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}(this._delegate,n).then(e=>new Qc(this.firestore,e))}isEqual(n){return D3(this._delegate,n._delegate)}withConverter(n){return new a0(this.firestore,this._delegate.withConverter(n?j_.getInstance(this.firestore,n):null))}}function $_(i){return Hn(i,vr)}class tF{constructor(...n){this._delegate=new Yh(...n)}static documentId(){return new tF(Br.keyField().canonicalString())}isEqual(n){return(n=(0,j.m9)(n))instanceof Yh&&this._delegate._internalPath.isEqual(n._internalPath)}}class G_{constructor(n){this._delegate=n}static serverTimestamp(){const n=function K8(){return new $N("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new G_(n)}static delete(){const n=function Y8(){return new _E("deleteField")}();return n._methodName="FieldValue.delete",new G_(n)}static arrayUnion(...n){const e=function Q8(...i){return new f8("arrayUnion",i)}(...n);return e._methodName="FieldValue.arrayUnion",new G_(e)}static arrayRemove(...n){const e=function X8(...i){return new p8("arrayRemove",i)}(...n);return e._methodName="FieldValue.arrayRemove",new G_(e)}static increment(n){const e=function J8(i){return new m8("increment",i)}(n);return e._methodName="FieldValue.increment",new G_(e)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const sq={Firestore:Q3,GeoPoint:dA,Timestamp:Wi,Blob:CE,Transaction:X3,WriteBatch:J3,DocumentReference:Qc,DocumentSnapshot:EE,Query:Js,QueryDocumentSnapshot:DE,QuerySnapshot:eF,CollectionReference:a0,FieldPath:tF,FieldValue:G_,setLogLevel:function rq(i){!function qp(i){Zd.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function nU(i,n){return function lq(i,n=Zf.z){return new Bn.y(e=>{let r;return null!=n?n.schedule(()=>{r=i.onSnapshot({includeMetadataChanges:!0},e)}):r=i.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(i,n)}function nF(i,n){return nU(i,n).pipe((0,tt.U)(e=>({payload:e,type:"query"})))}function wA(i,n){return nF(i,n).pipe(ds(void 0),Mx(),(0,tt.U)(([e,r])=>{const o=r.payload.docChanges(),s=o.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const p=o.find(w=>w.doc.ref.isEqual(l.ref)),g=e?.payload.docs.find(w=>w.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&g&&JSON.stringify(g.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function iU(i,n,e){return wA(i,e).pipe(Wa((r,o)=>function uq(i,n,e){return n.forEach(r=>{e.indexOf(r.type)>-1&&(i=function hq(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return iF(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const e=i.slice();return e.splice(n.oldIndex,1),e.splice(n.newIndex,0,n),e}return iF(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return iF(i,n.oldIndex,1)}return i}(i,r))}),i}(r,o.map(s=>s.payload),n),[]),(0,El.x)(),(0,tt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function iF(i,n,e,...r){const o=i.slice();return o.splice(n,e,...r),o}function rU(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function cq(i){(function aq(i,n){i.INTERNAL.registerComponent(new ir.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return n(r,o)},"PUBLIC").setServiceProps(Object.assign({},sq)))})(i,(n,e)=>new Q3(n,e,new iq)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(iw.Z);class oU{constructor(n,e,r){this.ref=n,this.query=e,this.afs=r}stateChanges(n){let e=wA(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(e=e.pipe((0,tt.U)(r=>r.filter(o=>n.indexOf(o.type)>-1)))),e.pipe(ds(void 0),Mx(),Dn(([r,o])=>o.length>0||!r),(0,tt.U)(([r,o])=>o),an.iC)}auditTrail(n){return this.stateChanges(n).pipe(Wa((e,r)=>[...e,...r],[]))}snapshotChanges(n){const e=rU(n);return iU(this.query,e,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(n={}){return nF(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(e=>e.payload.docs.map(r=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data())),an.iC)}get(n){return(0,An.D)(this.query.get(n)).pipe(an.iC)}add(n){return this.ref.add(n)}doc(n){return new sU(this.ref.doc(n),this.afs)}}class sU{constructor(n,e){this.ref=n,this.afs=e}set(n,e){return this.ref.set(n,e)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,e){const r=this.ref.collection(n),{ref:o,query:s}=lU(r,e);return new oU(o,s,this.afs)}snapshotChanges(){return function dq(i,n){return nU(i,n).pipe(ds(void 0),Mx(),(0,tt.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:e})=>n.idField?Object.assign(Object.assign({},e.data()),{[n.idField]:e.id}):e.data()))}get(n){return(0,An.D)(this.ref.get(n)).pipe(an.iC)}}class fq{constructor(n,e){this.query=n,this.afs=e}stateChanges(n){return n&&0!==n.length?wA(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(e=>e.filter(r=>n.indexOf(r.type)>-1)),Dn(e=>e.length>0),an.iC):wA(this.query,this.afs.schedulers.outsideAngular).pipe(an.iC)}auditTrail(n){return this.stateChanges(n).pipe(Wa((e,r)=>[...e,...r],[]))}snapshotChanges(n){const e=rU(n);return iU(this.query,e,this.afs.schedulers.outsideAngular).pipe(an.iC)}valueChanges(n={}){return nF(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(r=>r.payload.docs.map(o=>n.idField?Object.assign({[n.idField]:o.id},o.data()):o.data())),an.iC)}get(n){return(0,An.D)(this.query.get(n)).pipe(an.iC)}}const aU=new a.OlP("angularfire2.enableFirestorePersistence"),cU=new a.OlP("angularfire2.firestore.persistenceSettings"),pq=new a.OlP("angularfire2.firestore.settings"),mq=new a.OlP("angularfire2.firestore.use-emulator");function lU(i,n=(e=>e)){return{query:n(i),ref:i}}let IE=(()=>{class i{constructor(e,r,o,s,l,h,p,g,w,E,S,O,F,G,Q,ve,Se){this.schedulers=p;const Oe=(0,zn.on)(e,h,r),Ae=w;E&&nw(Oe,h,S,F,G,Q,O,ve),[this.firestore,this.persistenceEnabled$]=(0,zn.cc)(`${Oe.name}.firestore`,"AngularFirestore",Oe.name,()=>{const Le=h.runOutsideAngular(()=>Oe.firestore());if(s&&Le.settings(s),Ae&&Le.useEmulator(...Ae),o&&!rs(l)){const Je=()=>{try{return(0,An.D)(Le.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),(0,Dt.of)(!1)}};return[Le,h.runOutsideAngular(Je)]}return[Le,(0,Dt.of)(!1)]},[s,Ae,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=lU(o,r),h=this.schedulers.ngZone.run(()=>s);return new oU(h,l,this)}collectionGroup(e,r){const o=r||(l=>l),s=this.firestore.collectionGroup(e);return new fq(o(s),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new sU(o,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zn.Dh),a.LFG(zn.xv,8),a.LFG(aU,8),a.LFG(pq,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(an.HU),a.LFG(cU,8),a.LFG(mq,8),a.LFG(tg,8),a.LFG(J0,8),a.LFG(ew,8),a.LFG(Jm,8),a.LFG(eg,8),a.LFG(tw,8),a.LFG(ih,8),a.LFG(Wf,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),gq=(()=>{class i{constructor(){Rv.Z.registerVersion("angularfire",an.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:aU,useValue:!0},{provide:cU,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[IE]}),i})();function kE(i,n=Zf.z){return(0,fr.e)((e,r)=>{let o=null,s=null,l=null;const h=()=>{if(o){o.unsubscribe(),o=null;const g=s;s=null,r.next(g)}};function p(){const g=l+i,w=n.now();if(w<g)return o=this.schedule(void 0,g-w),void r.add(o);h()}e.subscribe((0,ci.x)(r,g=>{s=g,l=n.now(),o||(o=n.schedule(p,i),r.add(o))},()=>{h(),r.complete()},void 0,()=>{s=o=null}))})}const dU="firebasestorage.googleapis.com",uU="storageBucket";class Vr extends j.ZR{constructor(n,e,r=0){super(rF(n),`Firebase Storage: ${e} (${rF(n)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return rF(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var cn=(()=>((cn=cn||{}).UNKNOWN="unknown",cn.OBJECT_NOT_FOUND="object-not-found",cn.BUCKET_NOT_FOUND="bucket-not-found",cn.PROJECT_NOT_FOUND="project-not-found",cn.QUOTA_EXCEEDED="quota-exceeded",cn.UNAUTHENTICATED="unauthenticated",cn.UNAUTHORIZED="unauthorized",cn.UNAUTHORIZED_APP="unauthorized-app",cn.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",cn.INVALID_CHECKSUM="invalid-checksum",cn.CANCELED="canceled",cn.INVALID_EVENT_NAME="invalid-event-name",cn.INVALID_URL="invalid-url",cn.INVALID_DEFAULT_BUCKET="invalid-default-bucket",cn.NO_DEFAULT_BUCKET="no-default-bucket",cn.CANNOT_SLICE_BLOB="cannot-slice-blob",cn.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",cn.NO_DOWNLOAD_URL="no-download-url",cn.INVALID_ARGUMENT="invalid-argument",cn.INVALID_ARGUMENT_COUNT="invalid-argument-count",cn.APP_DELETED="app-deleted",cn.INVALID_ROOT_OPERATION="invalid-root-operation",cn.INVALID_FORMAT="invalid-format",cn.INTERNAL_ERROR="internal-error",cn.UNSUPPORTED_ENVIRONMENT="unsupported-environment",cn))();function rF(i){return"storage/"+i}function oF(){return new Vr(cn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hU(){return new Vr(cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fU(){return new Vr(cn.CANCELED,"User canceled the upload/download.")}function pU(){return new Vr(cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function c0(i){return new Vr(cn.INVALID_ARGUMENT,i)}function mU(){return new Vr(cn.APP_DELETED,"The Firebase app was deleted.")}function gU(i){return new Vr(cn.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function TE(i,n){return new Vr(cn.INVALID_FORMAT,"String does not match format '"+i+"': "+n)}function SE(i){throw new Vr(cn.INTERNAL_ERROR,"Internal error: "+i)}class Bs{constructor(n,e){this.bucket=n,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,e){let r;try{r=Bs.makeFromUrl(n,e)}catch{return new Bs(n,"")}if(""===r.path)return r;throw function Iq(i){return new Vr(cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,e){let r=null;const o="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+o+"(/(.*))?$","i");function g(Ae){Ae.path_=decodeURIComponent(Ae.path)}const E=e.replace(/[.]/g,"\\."),Oe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ae){"/"===Ae.path.charAt(Ae.path.length-1)&&(Ae.path_=Ae.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${e===dU?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let Ae=0;Ae<Oe.length;Ae++){const Le=Oe[Ae],Je=Le.regex.exec(n);if(Je){let Bt=Je[Le.indices.path];Bt||(Bt=""),r=new Bs(Je[Le.indices.bucket],Bt),Le.postModify(r);break}}if(null==r)throw function Dq(i){return new Vr(cn.INVALID_URL,"Invalid URL '"+i+"'.")}(n);return r}}class Mq{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function xA(i){return"string"==typeof i||i instanceof String}function _U(i){return sF()&&i instanceof Blob}function sF(){return typeof Blob<"u"&&!(0,j.UG)()}function aF(i,n,e,r){if(r<n)throw c0(`Invalid value for '${i}'. Expected ${n} or greater.`);if(r>e)throw c0(`Invalid value for '${i}'. Expected ${e} or less.`)}function Qh(i,n,e){let r=n;return null==e&&(r=`https://${n}`),`${e}://${r}/v0${i}`}function vU(i){const n=encodeURIComponent;let e="?";for(const r in i)i.hasOwnProperty(r)&&(e=e+(n(r)+"=")+n(i[r])+"&");return e=e.slice(0,-1),e}var ka=(()=>((ka=ka||{})[ka.NO_ERROR=0]="NO_ERROR",ka[ka.NETWORK_ERROR=1]="NETWORK_ERROR",ka[ka.ABORT=2]="ABORT",ka))();function yU(i,n){const e=i>=500&&i<600,o=-1!==[408,429].indexOf(i),s=-1!==n.indexOf(i);return e||o||s}class Lq{constructor(n,e,r,o,s,l,h,p,g,w,E,S=!0){this.url_=n,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=w,this.connectionFactory_=E,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{const s=this.resolve_,l=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function Pq(i){return void 0!==i}(p)?s():s(p)}catch(p){l(p)}else if(null!==h){const p=oF();p.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,p):p)}else l(o.canceled?this.appDelete_?mU():fU():hU())};this.canceled_?e(0,new CA(!1,null,!0)):this.backoffId_=function Rq(i,n,e){let r=1,o=null,s=null,l=!1,h=0;function p(){return 2===h}let g=!1;function w(...Q){g||(g=!0,n.apply(null,Q))}function E(Q){o=setTimeout(()=>{o=null,i(O,p())},Q)}function S(){s&&clearTimeout(s)}function O(Q,...ve){if(g)return void S();if(Q)return S(),void w.call(null,Q,...ve);if(p()||l)return S(),void w.call(null,Q,...ve);let Oe;r<64&&(r*=2),1===h?(h=2,Oe=0):Oe=1e3*(r+Math.random()),E(Oe)}let F=!1;function G(Q){F||(F=!0,S(),!g&&(null!==o?(Q||(h=2),clearTimeout(o),E(0)):Q||(h=1)))}return E(0),s=setTimeout(()=>{l=!0,G(!0)},e),G}((r,o)=>{if(o)return void r(!1,new CA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===ka.NO_ERROR,p=s.getStatus();if(!h||yU(p,this.additionalRetryCodes_)&&this.retry){const w=s.getErrorCode()===ka.ABORT;return void r(!1,new CA(!1,null,w))}const g=-1!==this.successCodes_.indexOf(p);r(!0,new CA(g,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function Oq(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CA{constructor(n,e,r){this.wasSuccessCode=n,this.connection=e,this.canceled=!!r}}function $q(...i){const n=function jq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const e=new n;for(let r=0;r<i.length;r++)e.append(i[r]);return e.getBlob()}if(sF())return new Blob(i);throw new Vr(cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cF{constructor(n,e){this.data=n,this.contentType=e||null}}function lF(i,n){switch(i){case cc.RAW:return new cF(bU(n));case cc.BASE64:case cc.BASE64URL:return new cF(wU(i,n));case cc.DATA_URL:return new cF(function Zq(i){const n=new xU(i);return n.base64?wU(cc.BASE64,n.rest):function Wq(i){let n;try{n=decodeURIComponent(i)}catch{throw TE(cc.DATA_URL,"Malformed data URL.")}return bU(n)}(n.rest)}(n),function Yq(i){return new xU(i).contentType}(n))}throw oF()}function bU(i){const n=[];for(let e=0;e<i.length;e++){let r=i.charCodeAt(e);r<=127?n.push(r):r<=2047?n.push(192|r>>6,128|63&r):55296==(64512&r)?e<i.length-1&&56320==(64512&i.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&i.charCodeAt(++e),n.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):n.push(239,191,189):56320==(64512&r)?n.push(239,191,189):n.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(n)}function wU(i,n){switch(i){case cc.BASE64:{const o=-1!==n.indexOf("-"),s=-1!==n.indexOf("_");if(o||s)throw TE(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case cc.BASE64URL:{const o=-1!==n.indexOf("+"),s=-1!==n.indexOf("/");if(o||s)throw TE(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function qq(i){if(typeof atob>"u")throw function Aq(i){return new Vr(cn.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(i)}(n)}catch(o){throw o.message.includes("polyfill")?o:TE(i,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class xU{constructor(n){this.base64=!1,this.contentType=null;const e=n.match(/^data:([^,]+)?,/);if(null===e)throw TE(cc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function Kq(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=n.substring(n.indexOf(",")+1)}}class ou{constructor(n,e){let r=0,o="";_U(n)?(this.data_=n,r=n.size,o=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),r=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),r=n.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(n,e){if(_U(this.data_)){const o=function Gq(i,n,e){return i.webkitSlice?i.webkitSlice(n,e):i.mozSlice?i.mozSlice(n,e):i.slice?i.slice(n,e):null}(this.data_,n,e);return null===o?null:new ou(o)}{const r=new Uint8Array(this.data_.buffer,n,e-n);return new ou(r,!0)}}static getBlob(...n){if(sF()){const e=n.map(r=>r instanceof ou?r.data_:r);return new ou($q.apply(null,e))}{const e=n.map(l=>xA(l)?lF(cc.RAW,l).data:l.data_);let r=0;e.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let s=0;return e.forEach(l=>{for(let h=0;h<l.length;h++)o[s++]=l[h]}),new ou(o,!0)}}uploadData(){return this.data_}}function dF(i){let n;try{n=JSON.parse(i)}catch{return null}return function Fq(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function CU(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function Jq(i,n){return n}class ea{constructor(n,e,r,o){this.server=n,this.local=e||n,this.writable=!!r,this.xform=o||Jq}}let EA=null;function AE(){if(EA)return EA;const i=[];i.push(new ea("bucket")),i.push(new ea("generation")),i.push(new ea("metageneration")),i.push(new ea("name","fullPath",!0));const e=new ea("name");e.xform=function n(s,l){return function eW(i){return!xA(i)||i.length<2?i:CU(i)}(l)},i.push(e);const o=new ea("size");return o.xform=function r(s,l){return void 0!==l?Number(l):l},i.push(o),i.push(new ea("timeCreated")),i.push(new ea("updated")),i.push(new ea("md5Hash",null,!0)),i.push(new ea("cacheControl",null,!0)),i.push(new ea("contentDisposition",null,!0)),i.push(new ea("contentEncoding",null,!0)),i.push(new ea("contentLanguage",null,!0)),i.push(new ea("contentType",null,!0)),i.push(new ea("metadata","customMetadata",!0)),EA=i,EA}function EU(i,n,e){const r=dF(n);return null===r?null:function nW(i,n,e){const r={type:"file"},o=e.length;for(let s=0;s<o;s++){const l=e[s];r[l.local]=l.xform(r,n[l.server])}return function tW(i,n){Object.defineProperty(i,"ref",{get:function e(){const s=new Bs(i.bucket,i.fullPath);return n._makeStorageReference(s)}})}(r,i),r}(i,r,e)}function uF(i,n){const e={},r=n.length;for(let o=0;o<r;o++){const s=n[o];s.writable&&(e[s.server]=i[s.local])}return JSON.stringify(e)}const DU="prefixes",IU="items";class su{constructor(n,e,r,o){this.url=n,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function au(i){if(!i)throw oF()}function DA(i,n){return function e(r,o){const s=EU(i,o,n);return au(null!==s),s}}function l0(i){return function n(e,r){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Cq(){return new Vr(cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function xq(){return new Vr(cn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function wq(i){return new Vr(cn.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===e.getStatus()?function Eq(i){return new Vr(cn.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}(i.path):r,o.status=e.getStatus(),o.serverResponse=r.serverResponse,o}}function ME(i){const n=l0(i);return function e(r,o){let s=n(r,o);return 404===r.getStatus()&&(s=function bq(i){return new Vr(cn.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}(i.path)),s.serverResponse=o.serverResponse,s}}function kU(i,n,e){const o=Qh(n.fullServerUrl(),i.host,i._protocol),l=i.maxOperationRetryTime,h=new su(o,"GET",DA(i,e),l);return h.errorHandler=ME(n),h}function cW(i,n,e,r,o){const s={};s.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(s.delimiter=e),r&&(s.pageToken=r),o&&(s.maxResults=o);const h=Qh(n.bucketOnlyServerUrl(),i.host,i._protocol),g=i.maxOperationRetryTime,w=new su(h,"GET",function sW(i,n){return function e(r,o){const s=function oW(i,n,e){const r=dF(e);return null===r?null:function rW(i,n,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[DU])for(const o of e[DU]){const s=o.replace(/\/$/,""),l=i._makeStorageReference(new Bs(n,s));r.prefixes.push(l)}if(e[IU])for(const o of e[IU]){const s=i._makeStorageReference(new Bs(n,o.name));r.items.push(s)}return r}(i,n,r)}(i,n,o);return au(null!==s),s}}(i,n.bucket),g);return w.urlParams=s,w.errorHandler=l0(n),w}function SU(i,n,e){const r=Object.assign({},e);return r.fullPath=i.path,r.size=n.size(),r.contentType||(r.contentType=function hW(i,n){return i&&i.contentType||n&&n.type()||"application/octet-stream"}(null,n)),r}class IA{constructor(n,e,r,o){this.current=n,this.total=e,this.finalized=!!r,this.metadata=o||null}}function hF(i,n){let e=null;try{e=i.getResponseHeader("X-Goog-Upload-Status")}catch{au(!1)}return au(!!e&&-1!==(n||["active"]).indexOf(e)),e}const gW={STATE_CHANGED:"state_changed"},ta={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fF(i){switch(i){case"running":case"pausing":case"canceling":return ta.RUNNING;case"paused":return ta.PAUSED;case"success":return ta.SUCCESS;case"canceled":return ta.CANCELED;default:return ta.ERROR}}class _W{constructor(n,e,r){if(function Nq(i){return"function"==typeof i}(n)||null!=e||null!=r)this.next=n,this.error=e??void 0,this.complete=r??void 0;else{const s=n;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function d0(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}let RU=null;class vW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,e,r,o){if(this.sent_)throw SE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==o)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw SE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw SE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw SE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw SE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class yW extends vW{initXhr(){this.xhr_.responseType="text"}}function jl(){return RU?RU():new yW}class OU{constructor(n,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=r,this._mappings=AE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(cn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(yU(o.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=hU()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(cn.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,s)=>{this._resolve=o,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return e=>this._updateProgress(n+e)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":n(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,e)=>{const r=function fW(i,n,e,r,o){const s=n.bucketOnlyServerUrl(),l=SU(n,r,o),h={name:l.fullPath},p=Qh(s,i.host,i._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},E=uF(l,e),F=new su(p,"POST",function O(G){let Q;hF(G);try{Q=G.getResponseHeader("X-Goog-Upload-URL")}catch{au(!1)}return au(xA(Q)),Q},i.maxUploadRetryTime);return F.urlParams=h,F.headers=w,F.body=E,F.errorHandler=l0(n),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,jl,n,e);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((e,r)=>{const o=function pW(i,n,e,r){const p=new su(e,"POST",function s(g){const w=hF(g,["active","final"]);let E=null;try{E=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{au(!1)}E||au(!1);const S=Number(E);return au(!isNaN(S)),new IA(S,r.size(),"final"===w)},i.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=l0(n),p}(this._ref.storage,this._ref._location,n,this._blob),s=this._ref.storage._makeRequest(o,jl,e,r);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,e=new IA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,s)=>{let l;try{l=function mW(i,n,e,r,o,s,l,h){const p=new IA(0,0);if(l?(p.current=l.current,p.total=l.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function Tq(){return new Vr(cn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const g=p.total-p.current;let w=g;o>0&&(w=Math.min(w,o));const E=p.current;let O="";O=0===w?"finalize":g===w?"upload, finalize":"upload";const F={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${p.current}`},G=r.slice(E,E+w);if(null===G)throw pU();const Oe=new su(e,"POST",function Q(Ae,Le){const Je=hF(Ae,["active","final"]),ht=p.current+w,Bt=r.size();let gn;return gn="final"===Je?DA(n,s)(Ae,Le):null,new IA(ht,Bt,"final"===Je,gn)},n.maxUploadRetryTime);return Oe.headers=F,Oe.body=G.uploadData(),Oe.progressCallback=h||null,Oe.errorHandler=l0(i),Oe}(this._ref._location,this._ref.storage,r,this._blob,n,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(l,jl,o,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,e)=>{const r=kU(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,jl,n,e);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,e)=>{const r=function AU(i,n,e,r,o){const s=n.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Oe="";for(let Ae=0;Ae<2;Ae++)Oe+=Math.random().toString().slice(2);return Oe}();l["Content-Type"]="multipart/related; boundary="+p;const g=SU(n,r,o),w=uF(g,e),O=ou.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===O)throw pU();const F={name:g.fullPath},G=Qh(s,i.host,i._protocol),ve=i.maxUploadRetryTime,Se=new su(G,"POST",DA(i,e),ve);return Se.urlParams=F,Se.headers=l,Se.body=O.uploadData(),Se.errorHandler=l0(n),Se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,jl,n,e);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=fU(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=fF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,e,r,o){const s=new _W(e||void 0,r||void 0,o||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(n,e){return this._promise.then(n,e)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(fF(this._state)){case ta.SUCCESS:d0(this._resolve.bind(null,this.snapshot))();break;case ta.CANCELED:case ta.ERROR:d0(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(fF(this._state)){case ta.RUNNING:case ta.PAUSED:n.next&&d0(n.next.bind(n,this.snapshot))();break;case ta.SUCCESS:n.complete&&d0(n.complete.bind(n))();break;default:n.error&&d0(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class q_{constructor(n,e){this._service=n,this._location=e instanceof Bs?e:Bs.makeFromUrl(e,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,e){return new q_(n,e)}get root(){const n=new Bs(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CU(this._location.path)}get storage(){return this._service}get parent(){const n=function Qq(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const e=new Bs(this._location.bucket,n);return new q_(this._service,e)}_throwIfRoot(n){if(""===this._location.path)throw gU(n)}}function NU(i,n,e){return pF.apply(this,arguments)}function pF(){return pF=(0,Ee.Z)(function*(i,n,e){const o=yield FU(i,{pageToken:e});n.prefixes.push(...o.prefixes),n.items.push(...o.items),null!=o.nextPageToken&&(yield NU(i,n,o.nextPageToken))}),pF.apply(this,arguments)}function FU(i,n){null!=n&&"number"==typeof n.maxResults&&aF("options.maxResults",1,1e3,n.maxResults);const e=n||{},r=cW(i.storage,i._location,"/",e.pageToken,e.maxResults);return i.storage.makeRequestWithTokens(r,jl)}function MW(i){i._throwIfRoot("getDownloadURL");const n=function lW(i,n,e){const o=Qh(n.fullServerUrl(),i.host,i._protocol),l=i.maxOperationRetryTime,h=new su(o,"GET",function aW(i,n){return function e(r,o){const s=EU(i,o,n);return au(null!==s),function iW(i,n,e,r){const o=dF(n);if(null===o||!xA(o.downloadTokens))return null;const s=o.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(g=>{const E=i.fullPath;return Qh("/b/"+l(i.bucket)+"/o/"+l(E),e,r)+vU({alt:"media",token:g})})[0]}(s,o,i.host,i._protocol)}}(i,e),l);return h.errorHandler=ME(n),h}(i.storage,i._location,AE());return i.storage.makeRequestWithTokens(n,jl).then(e=>{if(null===e)throw function Sq(){return new Vr(cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function LU(i,n){const e=function Xq(i,n){const e=n.split("/").filter(r=>r.length>0).join("/");return 0===i.length?e:i+"/"+e}(i._location.path,n),r=new Bs(i._location.bucket,e);return new q_(i.storage,r)}function BU(i,n){if(i instanceof mF){const e=i;if(null==e._bucket)throw function kq(){return new Vr(cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uU+"' property when initializing the app?")}();const r=new q_(e,e._bucket);return null!=n?BU(r,n):r}return void 0!==n?LU(i,n):i}function NW(i,n){if(n&&function OW(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof mF)return function PW(i,n){return new q_(i,n)}(i,n);throw c0("To use ref(service, url), the first argument must be a Storage instance.")}return BU(i,n)}function VU(i,n){const e=n?.[uU];return null==e?null:Bs.makeFromBucketSpec(e,i)}class mF{constructor(n,e,r,o,s){this.app=n,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=dU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Bs.makeFromBucketSpec(o,this._host):VU(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Bs.makeFromBucketSpec(this._url,n):VU(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){aF("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){aF("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,Ee.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const e=n._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,Ee.Z)(function*(){const e=n._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new q_(this,n)}_makeRequest(n,e,r,o,s=!0){if(this._deleted)return new Mq(mU());{const l=function zq(i,n,e,r,o,s,l=!0){const h=vU(i.urlParams),p=i.url+h,g=Object.assign({},i.headers);return function Uq(i,n){n&&(i["X-Firebase-GMPID"]=n)}(g,n),function Bq(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(g,e),function Vq(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(g,s),function Hq(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(g,r),new Lq(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,l)}(n,this._appId,r,o,e,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(n,e){var r=this;return(0,Ee.Z)(function*(){const[o,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,e,o,s).getPromise()})()}}const UU="@firebase/storage";function jU(i,n){return NW(i=(0,j.m9)(i),n)}function GW(i,{instanceIdentifier:n}){const e=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new mF(e,r,o,n,wi.SDK_VERSION)}!function qW(){(0,wi._registerComponent)(new ir.wA("storage",GW,"PUBLIC").setMultipleInstances(!0)),(0,wi.registerVersion)(UU,"0.11.2",""),(0,wi.registerVersion)(UU,"0.11.2","esm2017")}();class kA{constructor(n,e,r){this._delegate=n,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class GU{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new kA(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(r=>{if(n)return n(new kA(r,this,this._ref))},e)}on(n,e,r,o){let s;return e&&(s="function"==typeof e?l=>e(new kA(l,this,this._ref)):{next:e.next?l=>e.next(new kA(l,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,s,r||void 0,o||void 0)}}class qU{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new Xh(n,this._service))}get items(){return this._delegate.items.map(n=>new Xh(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xh{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=function $W(i,n){return LU(i,n)}(this._delegate,n);return new Xh(e,this.storage)}get root(){return new Xh(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new Xh(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new GU(function LW(i,n,e){return function IW(i,n,e){return i._throwIfRoot("uploadBytesResumable"),new OU(i,new ou(n),e)}(i=(0,j.m9)(i),n,e)}(this._delegate,n,e),this)}putString(n,e=cc.RAW,r){this._throwIfRoot("putString");const o=lF(e,n),s=Object.assign({},r);return null==s.contentType&&null!=o.contentType&&(s.contentType=o.contentType),new GU(new OU(this._delegate,new ou(o.data,!0),s),this)}listAll(){return function HW(i){return function TW(i){const n={prefixes:[],items:[]};return NU(i,n).then(()=>n)}(i=(0,j.m9)(i))}(this._delegate).then(n=>new qU(n,this.storage))}list(n){return function UW(i,n){return FU(i=(0,j.m9)(i),n)}(this._delegate,n||void 0).then(e=>new qU(e,this.storage))}getMetadata(){return function BW(i){return function SW(i){i._throwIfRoot("getMetadata");const n=kU(i.storage,i._location,AE());return i.storage.makeRequestWithTokens(n,jl)}(i=(0,j.m9)(i))}(this._delegate)}updateMetadata(n){return function VW(i,n){return function AW(i,n){i._throwIfRoot("updateMetadata");const e=function dW(i,n,e,r){const s=Qh(n.fullServerUrl(),i.host,i._protocol),h=uF(e,r),g=i.maxOperationRetryTime,w=new su(s,"PATCH",DA(i,r),g);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=ME(n),w}(i.storage,i._location,n,AE());return i.storage.makeRequestWithTokens(e,jl)}(i=(0,j.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function zW(i){return MW(i=(0,j.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function jW(i){return function RW(i){i._throwIfRoot("deleteObject");const n=function uW(i,n){const r=Qh(n.fullServerUrl(),i.host,i._protocol),h=new su(r,"DELETE",function l(p,g){},i.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=ME(n),h}(i.storage,i._location);return i.storage.makeRequestWithTokens(n,jl)}(i=(0,j.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw gU(n)}}class WU{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(ZU(n))throw c0("ref() expected a child path but got a URL, use refFromURL instead.");return new Xh(jU(this._delegate,n),this)}refFromURL(n){if(!ZU(n))throw c0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bs.makeFromUrl(n,this._delegate.host)}catch{throw c0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xh(jU(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,r={}){!function $U(i,n,e,r={}){!function FW(i,n,e,r={}){i.host=`${n}:${e}`,i._protocol="http";const{mockUserToken:o}=r;o&&(i._overrideAuthToken="string"==typeof o?o:(0,j.Sg)(o,i.app.options.projectId))}(i,n,e,r)}(this._delegate,n,e,r)}}function ZU(i){return/^[A-Za-z]+:\/\//.test(i)}function KW(i,{instanceIdentifier:n}){const e=i.getProvider("app-compat").getImmediate(),r=i.getProvider("storage").getImmediate({identifier:n});return new WU(e,r)}function YU(i){const n=function XW(i){return new Bn.y(n=>{const e=l=>n.next(l);e(i.snapshot);const s=i.on("state_changed",e);return i.then(l=>{e(l),n.complete()},l=>{e(i.snapshot),(l=>{n.error(l)})(l)}),function(){s()}}).pipe(kE(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,tt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function TA(i){return{getDownloadURL:()=>(0,Dt.of)(void 0).pipe(an.fc,(0,bi.w)(()=>i.getDownloadURL()),an.iC),getMetadata:()=>(0,Dt.of)(void 0).pipe(an.fc,(0,bi.w)(()=>i.getMetadata()),an.iC),delete:()=>(0,An.D)(i.delete()),child:n=>TA(i.child(n)),updateMetadata:n=>(0,An.D)(i.updateMetadata(n)),put:(n,e)=>YU(i.put(n,e)),putString:(n,e,r)=>YU(i.putString(n,e,r)),list:n=>(0,An.D)(i.list(n)),listAll:()=>(0,An.D)(i.listAll())}}!function QW(i){const n={TaskState:ta,TaskEvent:gW,StringFormat:cc,Storage:WU,Reference:Xh};i.INTERNAL.registerComponent(new ir.wA("storage-compat",KW,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.3.2")}(iw.Z);const JW=new a.OlP("angularfire2.storageBucket"),e9=new a.OlP("angularfire2.storage.maxUploadRetryTime"),t9=new a.OlP("angularfire2.storage.maxOperationRetryTime"),n9=new a.OlP("angularfire2.storage.use-emulator");let KU=(()=>{class i{constructor(e,r,o,s,l,h,p,g,w,E){const S=(0,zn.on)(e,l,r);this.storage=(0,zn.cc)(`${S.name}.storage.${o}`,"AngularFireStorage",S.name,()=>{const O=l.runOutsideAngular(()=>S.storage(o||void 0)),F=w;return F&&O.useEmulator(...F),p&&O.setMaxUploadRetryTime(p),g&&O.setMaxOperationRetryTime(g),O},[p,g])}ref(e){return TA(this.storage.ref(e))}refFromURL(e){return TA(this.storage.refFromURL(e))}upload(e,r,o){return TA(this.storage.ref(e)).put(r,o)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zn.Dh),a.LFG(zn.xv,8),a.LFG(JW,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(an.HU),a.LFG(e9,8),a.LFG(t9,8),a.LFG(n9,8),a.LFG(Wf,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),i9=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),r9=(()=>{class i{constructor(){Rv.Z.registerVersion("angularfire",an.q4.full,"gcs-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[KU],imports:[i9]}),i})();var o9=z(6878);class XU{constructor(){return(0,an.vb)("auth")}}class vF{constructor(n){return n}}const JU="firestore",yF=new a.OlP("angularfire2.firestore-instances");function u9(i){return(n,e)=>{const r=n.runOutsideAngular(()=>i(e));return new vF(r)}}const h9={provide:class l9{constructor(){return(0,an.vb)(JU)}},deps:[[new a.FiY,yF]]},f9={provide:vF,useFactory:function d9(i,n){const e=(0,an.JM)(JU,i,n);return e&&new vF(e)},deps:[[new a.FiY,yF],Co]};let p9=(()=>{class i{constructor(){(0,Ds.KN)("angularfire",an.q4.full,"fst")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[f9,h9]}),i})();function m9(i,...n){return{ngModule:p9,providers:[{provide:yF,useFactory:u9(i),multi:!0,deps:[a.R0b,a.zs3,an.HU,pa,[new a.FiY,XU],[new a.FiY,Wf],...n]}]}}const g9=(0,an.u3)(e8,!0),{isArray:_9}=Array,{getPrototypeOf:v9,prototype:y9,keys:b9}=Object;function e4(i){if(1===i.length){const n=i[0];if(_9(n))return{args:n,keys:null};if(function w9(i){return i&&"object"==typeof i&&v9(i)===y9}(n)){const e=b9(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:i,keys:null}}const{isArray:x9}=Array;function bF(i){return(0,tt.U)(n=>function C9(i,n){return x9(n)?i(...n):i(n)}(i,n))}function t4(i,n){return i.reduce((e,r,o)=>(e[r]=n[o],e),{})}function n4(...i){const n=(0,Il.jO)(i),{args:e,keys:r}=e4(i),o=new Bn.y(s=>{const{length:l}=e;if(!l)return void s.complete();const h=new Array(l);let p=l,g=l;for(let w=0;w<l;w++){let E=!1;(0,Dl.Xf)(e[w]).subscribe((0,ci.x)(s,S=>{E||(E=!0,g--),h[w]=S},()=>p--,void 0,()=>{(!p||!E)&&(g||s.next(r?t4(r,h):h),s.complete())}))}});return n?o.pipe(bF(n)):o}let i4=(()=>{class i{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Qsj),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i}),i})(),W_=(()=>{class i extends i4{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,features:[a.qOj]}),i})();const Ta=new a.OlP("NgValueAccessor"),D9={provide:Ta,useExisting:(0,a.Gpc)(()=>pm),multi:!0},k9=new a.OlP("CompositionEventMode");let pm=(()=>{class i extends i4{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I9(){const i=B()?B().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(k9,8))},i.\u0275dir=a.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[a._Bn([D9]),a.qOj]}),i})();function mm(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function o4(i){return null!=i&&"number"==typeof i.length}const ps=new a.OlP("NgValidators"),gm=new a.OlP("NgAsyncValidators"),T9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wF{static min(n){return s4(n)}static max(n){return function a4(i){return n=>{if(mm(n.value)||mm(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function c4(i){return mm(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function l4(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function d4(i){return mm(i.value)||T9.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function u4(i){return n=>mm(n.value)||!o4(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function h4(i){return n=>o4(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function f4(i){if(!i)return SA;let n,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),r=>{if(mm(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return y4(n)}static composeAsync(n){return b4(n)}}function s4(i){return n=>{if(mm(n.value)||mm(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function SA(i){return null}function p4(i){return null!=i}function m4(i){return(0,a.QGY)(i)?(0,An.D)(i):i}function g4(i){let n={};return i.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function _4(i,n){return n.map(e=>e(i))}function v4(i){return i.map(n=>function S9(i){return!i.validate}(n)?n:e=>n.validate(e))}function y4(i){if(!i)return null;const n=i.filter(p4);return 0==n.length?null:function(e){return g4(_4(e,n))}}function xF(i){return null!=i?y4(v4(i)):null}function b4(i){if(!i)return null;const n=i.filter(p4);return 0==n.length?null:function(e){return n4(_4(e,n).map(m4)).pipe((0,tt.U)(g4))}}function CF(i){return null!=i?b4(v4(i)):null}function w4(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function x4(i){return i._rawValidators}function C4(i){return i._rawAsyncValidators}function EF(i){return i?Array.isArray(i)?i:[i]:[]}function AA(i,n){return Array.isArray(i)?i.includes(n):i===n}function E4(i,n){const e=EF(n);return EF(i).forEach(o=>{AA(e,o)||e.push(o)}),e}function D4(i,n){return EF(n).filter(e=>!AA(i,e))}class I4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=xF(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=CF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class na extends I4{get formDirective(){return null}get path(){return null}}class $l extends I4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class k4{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let u0=(()=>{class i extends k4{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36($l,2))},i.\u0275dir=a.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),i})();const RE="VALID",RA="INVALID",h0="PENDING",OE="DISABLED";function kF(i){return(OA(i)?i.validators:i)||null}function TF(i,n){return(OA(n)?n.asyncValidators:i)||null}function OA(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class M4{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===RE}get invalid(){return this.status===RA}get pending(){return this.status==h0}get disabled(){return this.status===OE}get enabled(){return this.status!==OE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(E4(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(E4(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(D4(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(D4(n,this._rawAsyncValidators))}hasValidator(n){return AA(this._rawValidators,n)}hasAsyncValidator(n){return AA(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=h0,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=OE,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=RE,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===RE||this.status===h0)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?OE:RE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=h0,this._hasOwnPendingAsyncValidator=!0;const e=m4(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?OE:this.errors?RA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(h0)?h0:this._anyControlsHaveStatus(RA)?RA:RE}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){OA(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function P9(i){return Array.isArray(i)?xF(i):i||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function N9(i){return Array.isArray(i)?CF(i):i||null}(this._rawAsyncValidators)}}class SF extends M4{constructor(n,e,r){super(kF(e),TF(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function A4(i,n,e){i._forEachChild((r,o)=>{if(void 0===e[o])throw new a.vHH(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function S4(i,n,e){const r=i.controls;if(!(n?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[e])throw new a.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,s)=>{r=e(r,o,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const f0=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>PA}),PA="always";function PE(i,n,e=PA){AF(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(i.disabled),function B9(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&R4(i,n)})}(i,n),function U9(i,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function V9(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&R4(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function L9(i,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function FA(i,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),BA(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function LA(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function AF(i,n){const e=x4(i);null!==n.validator?i.setValidators(w4(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const r=C4(i);null!==n.asyncValidator?i.setAsyncValidators(w4(r,n.asyncValidator)):"function"==typeof r&&i.setAsyncValidators([r]);const o=()=>i.updateValueAndValidity();LA(n._rawValidators,o),LA(n._rawAsyncValidators,o)}function BA(i,n){let e=!1;if(null!==i){if(null!==n.validator){const o=x4(i);if(Array.isArray(o)&&o.length>0){const s=o.filter(l=>l!==n.validator);s.length!==o.length&&(e=!0,i.setValidators(s))}}if(null!==n.asyncValidator){const o=C4(i);if(Array.isArray(o)&&o.length>0){const s=o.filter(l=>l!==n.asyncValidator);s.length!==o.length&&(e=!0,i.setAsyncValidators(s))}}}const r=()=>{};return LA(n._rawValidators,r),LA(n._rawAsyncValidators,r),e}function R4(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function O4(i,n){AF(i,n)}function P4(i,n){i._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const G9={provide:na,useExisting:(0,a.Gpc)(()=>p0)},NE=(()=>Promise.resolve())();let p0=(()=>{class i extends na{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new SF({},xF(e),CF(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){NE.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),PE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){NE.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){NE.then(()=>{const r=this._findContainer(e.path),o=new SF({});O4(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){NE.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){NE.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,P4(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ps,10),a.Y36(gm,10),a.Y36(f0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([G9]),a.qOj]}),i})();function N4(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}function F4(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const L4=class extends M4{constructor(n=null,e,r){super(kF(e),TF(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=F4(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){N4(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){N4(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){F4(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Z9={provide:$l,useExisting:(0,a.Gpc)(()=>Z_)},U4=(()=>Promise.resolve())();let Z_=(()=>{class i extends $l{constructor(e,r,o,s,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new L4,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function OF(i,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(s=>{s.constructor===pm?e=s:function j9(i){return Object.getPrototypeOf(i.constructor)===W_}(s)?r=s:o=s}),o||r||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function RF(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){PE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){U4.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,a.VuI)(r);U4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function NA(i,n){return[...n.path,i]}(e,this._parent):[e]}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(na,9),a.Y36(ps,10),a.Y36(gm,10),a.Y36(Ta,10),a.Y36(a.sBO,8),a.Y36(f0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Z9]),a.qOj,a.TTD]}),i})();const K9={provide:Ta,useExisting:(0,a.Gpc)(()=>PF),multi:!0};let PF=(()=>{class i extends W_{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([K9]),a.qOj]}),i})(),H4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const t7={provide:na,useExisting:(0,a.Gpc)(()=>m0)};let m0=(()=>{class i extends na{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(BA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return PE(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){FA(e.control||null,e,!1),function $9(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,P4(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(FA(r||null,e),(i=>i instanceof L4)(o)&&(PE(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);O4(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function H9(i,n){return BA(i,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AF(this.form,this),this._oldForm&&BA(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ps,10),a.Y36(gm,10),a.Y36(f0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([t7]),a.qOj,a.TTD]}),i})();let Y_=(()=>{class i{constructor(){this._validator=SA}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):SA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,features:[a.TTD]}),i})();const h7={provide:ps,useExisting:(0,a.Gpc)(()=>VF),multi:!0};let zF,VF=(()=>{class i extends Y_{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function Q4(i){return"number"==typeof i?i:parseFloat(i)}(e),this.createValidator=e=>s4(e)}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&a.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[a._Bn([h7]),a.qOj]}),i})(),y7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[H4]}),i})(),w7=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:f0,useValue:e.callSetDisabledState??PA}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[y7]}),i})();try{zF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zF=!1}let g0,br=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Kl(i){return i===_c}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.Lbi))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const i6=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function r6(){if(g0)return g0;if("object"!=typeof document||!document)return g0=new Set(i6),g0;let i=document.createElement("input");return g0=new Set(i6.filter(n=>(i.setAttribute("type",n),i.type===n))),g0}let FE,VA,K_,jF;function LE(i){return function x7(){if(null==FE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>FE=!0}))}finally{FE=FE||!1}return FE}()?i:!!i.capture}function o6(){if(null==K_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return K_=!1,K_;if("scrollBehavior"in document.documentElement.style)K_=!0;else{const i=Element.prototype.scrollTo;K_=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return K_}function BE(){if("object"!=typeof document||!document)return 0;if(null==VA){const i=document.createElement("div"),n=i.style;i.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",i.appendChild(e),document.body.appendChild(i),VA=0,0===i.scrollLeft&&(i.scrollLeft=1,VA=0===i.scrollLeft?1:2),i.remove()}return VA}function _m(i){return i.composedPath?i.composedPath()[0]:i.target}function $F(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ia=z(7394),Sa=z(5619);function cu(i,...n){return n.length?n.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var Po=z(9397);function l6(i){return Dn((n,e)=>i<=e)}function Mn(i){return(0,fr.e)((n,e)=>{(0,Dl.Xf)(i).subscribe((0,ci.x)(e,()=>e.complete(),ng.Z)),!e.closed&&n.subscribe(e)})}function Lt(i){return null!=i&&"false"!=`${i}`}function UA(i,n=0){return function V7(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function HA(i){return Array.isArray(i)?i:[i]}function _o(i){return null==i?"":"string"==typeof i?i:`${i}px`}function ef(i){return i instanceof a.SBq?i.nativeElement:i}var U7=z(7103);function zA(...i){const n=(0,Il.yG)(i),e=(0,Il.jO)(i),{args:r,keys:o}=e4(i);if(0===r.length)return(0,An.D)([],n);const s=new Bn.y(function H7(i,n,e=va.y){return r=>{d6(n,()=>{const{length:o}=i,s=new Array(o);let l=o,h=o;for(let p=0;p<o;p++)d6(n,()=>{const g=(0,An.D)(i[p],n);let w=!1;g.subscribe((0,ci.x)(r,E=>{s[p]=E,w||(w=!0,h--),h||r.next(e(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,n,o?l=>t4(o,l):va.y));return e?s.pipe(bF(e)):s}function d6(i,n,e){i?(0,U7.f)(e,i,n):n()}const u6=new Set;let X_,z7=(()=>{class i{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function j7(i,n){if(!u6.has(i))try{X_||(X_=document.createElement("style"),n&&(X_.nonce=n),X_.setAttribute("type","text/css"),document.head.appendChild(X_)),X_.sheet&&(X_.sheet.insertRule(`@media ${i} {body{ }}`,0),u6.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(br),a.LFG(a.Ojb,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $7(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let KF=(()=>{class i{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new At.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return h6(HA(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let s=zA(h6(HA(e)).map(l=>this._registerQuery(l).observable));return s=jy(s.pipe(Gi(1)),s.pipe(l6(1),kE(0))),s.pipe((0,tt.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:g})=>{h.matches=h.matches||p,h.breakpoints[g]=p}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new Bn.y(l=>{const h=p=>this._zone.run(()=>l.next(p));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(ds(r),(0,tt.U)(({matches:l})=>({query:e,matches:l})),Mn(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(z7),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function h6(i){return i.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function p6(i,n,e){const o=m6(i,n).filter(s=>s!=e.trim());o.length?i.setAttribute(n,o.join(" ")):i.removeAttribute(n)}function m6(i,n){return(i.getAttribute(n)||"").match(/\S+/g)||[]}class g6{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new At.x,this._typeaheadSubscription=ia.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new At.x,this.change=new At.x,n instanceof a.n_E&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Po.b)(e=>this._pressedLetters.push(e)),kE(n),Dn(()=>this._pressedLetters.length>0),(0,tt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let o=1;o<r.length+1;o++){const s=(this._activeItemIndex+o)%r.length,l=r[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((o||cu(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const o=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class Y7 extends g6{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class QF extends g6{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let _6=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Q7(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function K7(i){try{return i.frameElement}catch{return null}}(function oZ(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(r&&(-1===y6(r)||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),s=y6(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function iZ(i){let n=i.nodeName.toLowerCase(),e="input"===n&&i.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==s:"video"===o?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function rZ(i){return!function J7(i){return function tZ(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function X7(i){let n=i.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(i)||function eZ(i){return function nZ(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||v6(i))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(br))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function v6(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let n=i.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function y6(i){if(!v6(i))return null;const n=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class sZ{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,r,o,s=!1){this._element=n,this._checker=e,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(n),!!r}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=0;r<e.length;r++){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(o)return o}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=e.length-1;r>=0;r--){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(o)return o}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Gi(1)).subscribe(n)}}let aZ=(()=>{class i{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new sZ(e,this._checker,this._ngZone,this._document,r)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(_6),a.LFG(a.R0b),a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function b6(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function w6(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const cZ=new a.OlP("cdk-input-modality-detector-options"),lZ={ignoreKeys:[18,17,224,91,16]},_0=LE({passive:!0,capture:!0});let dZ=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,r,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Sa.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_m(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(b6(l)?"keyboard":"mouse"),this._mostRecentTarget=_m(l))},this._onTouchstart=l=>{w6(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_m(l))},this._options={...lZ,...s},this.modalityDetected=this._modality.pipe(l6(1)),this.modalityChanged=this.modalityDetected.pipe((0,El.x)()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,_0),o.addEventListener("mousedown",this._onMousedown,_0),o.addEventListener("touchstart",this._onTouchstart,_0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_0),document.removeEventListener("mousedown",this._onMousedown,_0),document.removeEventListener("touchstart",this._onTouchstart,_0))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(br),a.LFG(a.R0b),a.LFG(ue),a.LFG(cZ,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uZ=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function hZ(){return null}}),fZ=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pZ=0,XF=(()=>{class i{constructor(e,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){const o=this._defaultOptions;let s,l;return 1===r.length&&"number"==typeof r[0]?l=r[0]:[s,l]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),null==l&&o&&(l=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id="cdk-live-announcer-"+pZ++,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){const s=r[o],l=s.getAttribute("aria-owns");l?-1===l.indexOf(e)&&s.setAttribute("aria-owns",l+" "+e):s.setAttribute("aria-owns",e)}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(uZ,8),a.LFG(a.R0b),a.LFG(ue),a.LFG(fZ,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mZ=new a.OlP("cdk-focus-monitor-default-options"),jA=LE({passive:!0,capture:!0});let v0=(()=>{class i{constructor(e,r,o,s,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new At.x,this._rootNodeFocusAndBlurListener=h=>{for(let g=_m(h);g;g=g.parentElement)"focus"===h.type?this._onFocus(h,g):this._onBlur(h,g)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const o=ef(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Dt.of)(null);const s=function E7(i){if(function C7(){if(null==jF){const i=typeof document<"u"?document.head:null;jF=!(!i||!i.createShadowRoot&&!i.attachShadow)}return jF}()){const n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(o)||this._getDocument(),l=this._elementInfo.get(o);if(l)return r&&(l.checkChildren=!0),l.subject;const h={checkChildren:r,subject:new At.x,rootNode:s};return this._elementInfo.set(o,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const r=ef(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const s=ef(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),s=_m(e);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,jA),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,jA)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jA),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jA),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(r))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.R0b),a.LFG(br),a.LFG(dZ),a.LFG(ue,8),a.LFG(mZ,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const C6="cdk-high-contrast-black-on-white",E6="cdk-high-contrast-white-on-black",JF="cdk-high-contrast-active";let gZ=(()=>{class i{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,a.f3M)(KF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(JF,C6,E6),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(JF,C6):2===r&&e.add(JF,E6)}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(br),a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _Z=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function vZ(){return(0,a.f3M)(ue)}}),yZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tf=(()=>{class i{constructor(e){this.value="ltr",this.change=new a.vpe,e&&(this.value=function bZ(i){const n=i?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?yZ.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(_Z,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),VE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const wZ=["text"];function xZ(i,n){if(1&i&&a._UZ(0,"mat-pseudo-checkbox",6),2&i){const e=a.oxw();a.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function CZ(i,n){if(1&i&&a._UZ(0,"mat-pseudo-checkbox",7),2&i){const e=a.oxw();a.Q6J("disabled",e.disabled)}}function EZ(i,n){if(1&i&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const DZ=[[["mat-icon"]],"*"],IZ=["mat-icon","*"],TZ=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function kZ(){return!0}});let di=(()=>{class i{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!$F()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(gZ),a.LFG(TZ,8),a.LFG(ue))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[VE,VE]}),i})();function $A(i){return class extends i{get disabled(){return this._disabled}set disabled(n){this._disabled=Lt(n)}constructor(...n){super(...n),this._disabled=!1}}}function UE(i,n){return class extends i{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function HE(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Lt(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function y0(i,n=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?UA(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}function eL(i){return class extends i{updateErrorState(){const n=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==n&&(this.errorState=s,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}let GA=(()=>{class i{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class AZ{constructor(n,e,r,o=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const k6=LE({passive:!0,capture:!0});class MZ{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=_m(n);e&&this._events.get(n.type)?.forEach((r,o)=>{(o===e||o.contains(e))&&r.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,r,o){const s=this._events.get(e);if(s){const l=s.get(r);l?l.add(o):s.set(r,new Set([o]))}else this._events.set(e,new Map([[r,new Set([o])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,k6)})}removeHandler(n,e,r){const o=this._events.get(n);if(!o)return;const s=o.get(e);s&&(s.delete(r),0===s.size&&o.delete(e),0===o.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,k6)))}}const T6={enterDuration:225,exitDuration:150},S6=LE({passive:!0,capture:!0}),A6=["mousedown","touchstart"],M6=["mouseup","mouseleave","touchend","touchcancel"];class J_{constructor(n,e,r,o){this._target=n,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=ef(r))}fadeInRipple(n,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...T6,...r.animation};r.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const l=r.radius||function OZ(i,n,e){const r=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+o*o)}(n,e,o),h=n-o.left,p=e-o.top,g=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-l+"px",w.style.top=p-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=r.color&&(w.style.backgroundColor=r.color),w.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(w);const E=window.getComputedStyle(w),O=E.transitionDuration,F="none"===E.transitionProperty||"0s"===O||"0s, 0s"===O||0===o.width&&0===o.height,G=new AZ(this,w,r,F);w.style.transform="scale3d(1, 1, 1)",G.state=0,r.persistent||(this._mostRecentTransientRipple=G);let Q=null;return!F&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ve=()=>this._finishRippleTransition(G),Se=()=>this._destroyRipple(G);w.addEventListener("transitionend",ve),w.addEventListener("transitioncancel",Se),Q={onTransitionEnd:ve,onTransitionCancel:Se}}),this._activeRipples.set(G,Q),(F||!g)&&this._finishRippleTransition(G),G}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...T6,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=ef(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,A6.forEach(r=>{J_._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{M6.forEach(e=>{this._triggerElement.addEventListener(e,this,S6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=b6(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!w6(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(A6.forEach(e=>J_._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&M6.forEach(e=>n.removeEventListener(e,this,S6)))}}J_._eventManager=new MZ;const b0=new a.OlP("mat-ripple-global-options");let nf=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,o,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new J_(this,r,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(br),a.Y36(b0,8),a.Y36(a.QbO,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),w0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,di]}),i})(),PZ=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.QbO,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,r){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),i})(),R6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di]}),i})();const O6=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),P6=new a.OlP("MatOptgroup");let NZ=0;class FZ{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let LZ=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Lt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,o,s){this._element=e,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+NZ++,this.onSelectionChange=new a.vpe,this._stateChanges=new At.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,r){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!cu(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new FZ(this,e))}}return i.\u0275fac=function(e){a.$Z()},i.\u0275dir=a.lG2({type:i,viewQuery:function(e,r){if(1&e&&a.Gf(wZ,7),2&e){let o;a.iGM(o=a.CRH())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),N6=(()=>{class i extends LZ{constructor(e,r,o,s){super(e,r,o,s)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(O6,8),a.Y36(P6,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&e&&(a.Ikx("id",r.id),a.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),a.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:IZ,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,r){1&e&&(a.F$t(DZ),a.YNc(0,xZ,1,2,"mat-pseudo-checkbox",0),a.Hsn(1),a.TgZ(2,"span",1,2),a.Hsn(4,1),a.qZA(),a.YNc(5,CZ,1,1,"mat-pseudo-checkbox",3),a.YNc(6,EZ,2,1,"span",4),a._UZ(7,"div",5)),2&e&&(a.Q6J("ngIf",r.multiple),a.xp6(5),a.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),a.xp6(1),a.Q6J("ngIf",r.group&&r.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[nf,Fn,PZ],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),F6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[w0,Cr,di,R6]}),i})();const L6=["mat-button",""],tL=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],nL=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],B6=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",HZ=["mat-fab",""],zZ=["mat-icon-button",""],jZ=["*"],V6={capture:!0},U6=["focus","click","mouseenter","touchstart"],jE="mat-button-ripple-uninitialized";let $Z=(()=>{class i{constructor(){this._document=(0,a.f3M)(ue,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(b0,{optional:!0}),this._platform=(0,a.f3M)(br),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=e=>{if(e.target===this._document)return;const o=e.target.closest(`[${jE}]`);o&&(o.removeAttribute(jE),this._appendRipple(o))},this._ngZone.runOutsideAngular(()=>{for(const e of U6)this._document?.addEventListener(e,this._onInteraction,V6)})}ngOnDestroy(){for(const e of U6)this._document?.removeEventListener(e,this._onInteraction,V6)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const o=new GZ(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);o.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new J_(o,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(jE);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const o=new nf(new a.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,e.append(r),o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class GZ{constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const qZ=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],WZ=UE($A(HE(class{constructor(i){this._elementRef=i}})));let qA=(()=>{class i extends WZ{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,o,s){super(e),this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=(0,a.f3M)(v0),this._rippleLoader=(0,a.f3M)($Z),this._isFab=!1;const l=e.nativeElement.classList;for(const h of qZ)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(p=>{l.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return i.\u0275fac=function(e){a.$Z()},i.\u0275dir=a.lG2({type:i,features:[a.qOj,a.TTD]}),i})(),YZ=(()=>{class i extends qA{constructor(e,r,o,s){super(e,r,o,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return i.\u0275fac=function(e){a.$Z()},i.\u0275dir=a.lG2({type:i,features:[a.qOj]}),i})(),$E=(()=>{class i extends qA{constructor(e,r,o,s){super(e,r,o,s)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(br),a.Y36(a.R0b),a.Y36(a.QbO,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:L6,ngContentSelectors:nL,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(a.F$t(tL),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&e&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),KZ=(()=>{class i extends YZ{constructor(e,r,o,s){super(e,r,o,s)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(br),a.Y36(a.R0b),a.Y36(a.QbO,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(e,r){2&e&&(a.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:L6,ngContentSelectors:nL,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(a.F$t(tL),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&e&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',B6],encapsulation:2,changeDetection:0}),i})();const QZ=new a.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:H6});function H6(){return{color:"accent"}}const z6=H6();let XZ=(()=>{class i extends qA{get extended(){return this._extended}set extended(e){this._extended=Lt(e)}constructor(e,r,o,s,l){super(e,r,o,s),this._options=l,this._isFab=!0,this._options=this._options||z6,this.color=this.defaultColor=this._options.color||z6.color}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(br),a.Y36(a.R0b),a.Y36(a.QbO,8),a.Y36(QZ,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(e,r){2&e&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[a.qOj],attrs:HZ,ngContentSelectors:nL,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(a.F$t(tL),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&e&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),i})(),JZ=(()=>{class i extends qA{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,o,s){super(e,r,o,s)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(br),a.Y36(a.R0b),a.Y36(a.QbO,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:zZ,ngContentSelectors:jZ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(a.F$t(),a._UZ(0,"span",0),a.Hsn(1),a._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',B6],encapsulation:2,changeDetection:0}),i})(),j6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,w0,di]}),i})();function iL(){return(0,fr.e)((i,n)=>{let e=null;i._refCount++;const r=(0,ci.x)(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const o=i._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(r),r.closed||(e=i.connect())})}class rL extends Bn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,fr.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ia.w0;const e=this.getSubject();n.add(this.source.subscribe((0,ci.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ia.w0.EMPTY)}return n}refCount(){return iL()(this)}}function oL(i){return i&&"function"==typeof i.connect&&!(i instanceof rL)}class $6{applyChanges(n,e,r,o,s){n.forEachOperation((l,h,p)=>{let g,w;if(null==l.previousIndex){const E=r(l,h,p);g=e.createEmbeddedView(E.templateRef,E.context,E.index),w=1}else null==p?(e.remove(h),w=3):(g=e.get(h),e.move(g,p),w=2);s&&s({context:g?.context,operation:w,record:l})})}detach(){}}class WA{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,o){this._multiple=n,this._emitChanges=r,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new At.x,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}let q6=(()=>{class i{constructor(){this._listeners=[]}notify(e,r){for(let o of this._listeners)o(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const GE=new a.OlP("_ViewRepeater"),eY=["button"],tY=["*"],W6=new a.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),Z6=new a.OlP("MatButtonToggleGroup"),nY={provide:Ta,useExisting:(0,a.Gpc)(()=>Q6),multi:!0};let Y6=0;class K6{constructor(n,e){this.source=n,this.value=e}}let Q6=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=Lt(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(r=>r.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Lt(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=Lt(e),this._markButtonsForCheck()}constructor(e,r){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Y6++,this.valueChange=new a.vpe,this.change=new a.vpe,this.appearance=r&&r.appearance?r.appearance:"standard"}ngOnInit(){this._selectionModel=new WA(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const r=new K6(e,this.value);this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(e,r,o=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,o)):this._updateModelValue(e,o)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>null!=e.value&&r===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const r=this._buttonToggles.find(o=>null!=o.value&&o.value===e);r&&(r.checked=!0,this._selectionModel.select(r))}_updateModelValue(e,r){r&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO),a.Y36(W6,8))},i.\u0275dir=a.lG2({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,X6,5),2&e){let s;a.iGM(s=a.CRH())&&(r._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,r){2&e&&(a.uIk("aria-disabled",r.disabled),a.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[a._Bn([nY,{provide:Z6,useExisting:i}])]}),i})();const iY=HE(class{});let X6=(()=>{class i extends iY{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const r=Lt(e);r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Lt(e)}constructor(e,r,o,s,l,h){super(),this._changeDetectorRef=r,this._elementRef=o,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new a.vpe;const p=Number(l);this.tabIndex=p||0===p?p:null,this.buttonToggleGroup=e,this.appearance=h&&h.appearance?h.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Y6++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new K6(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Z6,8),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(v0),a.$8M("tabindex"),a.Y36(W6,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(e,r){if(1&e&&a.Gf(eY,5),2&e){let o;a.iGM(o=a.CRH())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,r){1&e&&a.NdJ("focus",function(){return r.focus()}),2&e&&(a.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),a.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[a.qOj],ngContentSelectors:tY,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,r){if(1&e&&(a.F$t(),a.TgZ(0,"button",0,1),a.NdJ("click",function(){return r._onButtonClick()}),a.TgZ(2,"span",2),a.Hsn(3),a.qZA()(),a._UZ(4,"span",3)(5,"span",4)),2&e){const o=a.MAs(1);a.Q6J("id",r.buttonId)("disabled",r.disabled||null),a.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),a.xp6(5),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[nf],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),i})(),rY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,w0,di]}),i})();const oY=["input"],sY=["label"],aY=["*"],cY=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:J6});function J6(){return{color:"accent",clickAction:"check-indeterminate"}}const lY={provide:Ta,useExisting:(0,a.Gpc)(()=>tH),multi:!0};class dY{}let uY=0;const eH=J6(),hY=y0(UE(HE($A(class{constructor(i){this._elementRef=i}}))));let fY=(()=>{class i extends hY{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Lt(e)}constructor(e,r,o,s,l,h,p){super(r),this._changeDetectorRef=o,this._ngZone=s,this._animationMode=h,this._options=p,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||eH,this.color=this.defaultColor=this._options.color||eH.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++uY}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const r=Lt(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=Lt(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=Lt(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(r!==e&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return i.\u0275fac=function(e){a.$Z()},i.\u0275dir=a.lG2({type:i,viewQuery:function(e,r){if(1&e&&(a.Gf(oY,5),a.Gf(sY,5),a.Gf(nf,5)),2&e){let o;a.iGM(o=a.CRH())&&(r._inputElement=o.first),a.iGM(o=a.CRH())&&(r._labelElement=o.first),a.iGM(o=a.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]}),i})(),tH=(()=>{class i extends fY{constructor(e,r,o,s,l,h){super("mat-mdc-checkbox-",e,r,o,s,l,h),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const r=new dY;return r.source=this,r.checked=e,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(cY,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,r){2&e&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([lY]),a.qOj],ngContentSelectors:aY,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(e,r){if(1&e&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(s){return r._preventBubblingFromLabel(s)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return r._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(s){return r._onInteractionEvent(s)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&e){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",r.checked),a.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),a.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),a.xp6(7),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",r.inputId)}},dependencies:[nf],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),nH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),gY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,w0,nH,di,nH]}),i})();class _Y{constructor(n){this._box=n,this._destroyed=new At.x,this._resizeSubject=new At.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Bn.y(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),r.unsubscribe(),this._elementObservables.delete(n)}}).pipe(Dn(e=>e.some(r=>r.target===n)),yl({bufferSize:1,refCount:!0}),Mn(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let vY=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new _Y(o)),this._observers.get(o).observe(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class iH{}class yY{}const rf="*";function ev(i,n){return{type:7,name:i,definitions:n,options:{}}}function sf(i,n=null){return{type:4,styles:n,timings:i}}function rH(i,n=null){return{type:2,steps:i,options:n}}function Vs(i){return{type:6,styles:i,offset:null}}function lu(i,n,e){return{type:0,name:i,styles:n,options:e}}function du(i,n,e=null){return{type:1,expr:i,animation:n,options:e}}function bY(i=null){return{type:9,options:i}}function wY(i,n,e=null){return{type:11,selector:i,animation:n,options:e}}function oH(i){Promise.resolve().then(i)}class qE{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class sH{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,o=0;const s=this.players.length;0==s?oH(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}let aH=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[aH]}),i})();const EY=["notch"],DY=["matFormFieldNotchedOutline",""],IY=["*"],kY=["textField"],TY=["iconPrefixContainer"],SY=["textPrefixContainer"];function AY(i,n){1&i&&a._UZ(0,"span",19)}function MY(i,n){if(1&i&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,AY,1,0,"span",18),a.qZA()),2&i){const e=a.oxw(2);a.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function RY(i,n){if(1&i&&a.YNc(0,MY,3,6,"label",16),2&i){const e=a.oxw();a.Q6J("ngIf",e._hasFloatingLabel())}}function OY(i,n){1&i&&a._UZ(0,"div",20)}function PY(i,n){}function NY(i,n){if(1&i&&a.YNc(0,PY,0,0,"ng-template",22),2&i){a.oxw(2);const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function FY(i,n){if(1&i&&(a.TgZ(0,"div",21),a.YNc(1,NY,1,1,"ng-template",9),a.qZA()),2&i){const e=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function LY(i,n){1&i&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function BY(i,n){1&i&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function VY(i,n){}function UY(i,n){if(1&i&&a.YNc(0,VY,0,0,"ng-template",22),2&i){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function HY(i,n){1&i&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function zY(i,n){1&i&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function jY(i,n){1&i&&a._UZ(0,"div",29)}function $Y(i,n){if(1&i&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function GY(i,n){if(1&i&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function qY(i,n){if(1&i&&(a.TgZ(0,"div",31),a.YNc(1,GY,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const WY=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZY=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let tv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-label"]]}),i})();const YY=new a.OlP("MatError");let KY=0,ZA=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+KY++}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(a.Ikx("id",r.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),i})();const QY=new a.OlP("MatPrefix"),lH=new a.OlP("MatSuffix");let dH=(()=>{class i{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[a._Bn([{provide:lH,useExisting:i}])]}),i})();const uH=new a.OlP("FloatingLabelParent");let hH=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(vY),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)(uH),this._resizeSubscription=new ia.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function XY(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),i})();const fH="mdc-line-ripple--active",YA="mdc-line-ripple--deactivating";let pH=(()=>{class i{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=o=>{const s=this._elementRef.nativeElement.classList,l=s.contains(YA);"opacity"===o.propertyName&&l&&s.remove(fH,YA)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(YA),e.add(fH)}deactivate(){this._elementRef.nativeElement.classList.add(YA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b))},i.\u0275dir=a.lG2({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),i})(),mH=(()=>{class i{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b))},i.\u0275cmp=a.Xpm({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,r){if(1&e&&a.Gf(EY,5),2&e){let o;a.iGM(o=a.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:DY,ngContentSelectors:IY,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),i})();const JY={transitionMessages:ev("transitionMessages",[lu("enter",Vs({opacity:1,transform:"translateY(0%)"})),du("void => enter",[Vs({opacity:0,transform:"translateY(-5px)"}),sf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let KA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i}),i})();const QA=new a.OlP("MatFormField"),eK=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gH=0,WE=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Lt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,o,s,l,h,p,g){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=l,this._defaults=h,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gH++,this._hintLabelId="mat-mdc-hint-"+gH++,this._subscriptAnimationState="",this._destroyed=new At.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Mn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ir.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Mn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Mn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,o=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(tf),a.Y36(br),a.Y36(eK,8),a.Y36(a.QbO,8),a.Y36(ue))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,r,o){if(1&e&&(a.Suo(o,tv,5),a.Suo(o,tv,7),a.Suo(o,KA,5),a.Suo(o,QY,5),a.Suo(o,lH,5),a.Suo(o,YY,5),a.Suo(o,ZA,5)),2&e){let s;a.iGM(s=a.CRH())&&(r._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(r._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(r._formFieldControl=s.first),a.iGM(s=a.CRH())&&(r._prefixChildren=s),a.iGM(s=a.CRH())&&(r._suffixChildren=s),a.iGM(s=a.CRH())&&(r._errorChildren=s),a.iGM(s=a.CRH())&&(r._hintChildren=s)}},viewQuery:function(e,r){if(1&e&&(a.Gf(kY,5),a.Gf(TY,5),a.Gf(SY,5),a.Gf(hH,5),a.Gf(mH,5),a.Gf(pH,5)),2&e){let o;a.iGM(o=a.CRH())&&(r._textField=o.first),a.iGM(o=a.CRH())&&(r._iconPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._textPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._floatingLabel=o.first),a.iGM(o=a.CRH())&&(r._notchedOutline=o.first),a.iGM(o=a.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&a.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:QA,useExisting:i},{provide:uH,useExisting:i}])],ngContentSelectors:ZY,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(a.F$t(WY),a.YNc(0,RY,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(s){return r._control.onContainerClick(s)}),a.YNc(4,OY,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,FY,2,2,"div",5),a.YNc(7,LY,3,0,"div",6),a.YNc(8,BY,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,UY,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,HY,2,0,"div",10),a.YNc(13,zY,2,0,"div",11),a.qZA(),a.YNc(14,jY,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,$Y,2,1,"div",14),a.YNc(17,qY,5,2,"div",15),a.qZA()),2&e&&(a.xp6(2),a.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),a.xp6(2),a.Q6J("ngIf",r._hasOutline()),a.xp6(1),a.Q6J("ngIf",r._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",r._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",r._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",r._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!r._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Fn,vs,yo,_s,ZA,hH,mH,pH],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[JY.transitionMessages]},changeDetection:0}),i})(),XA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,Cr,cH,di]}),i})();function iK(i,n){1&i&&(a.TgZ(0,"span",8),a.Hsn(1,1),a.qZA())}function rK(i,n){1&i&&(a.TgZ(0,"span",9),a.Hsn(1,2),a.qZA())}const yH=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],bH=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function aK(i,n){if(1&i&&(a.ynx(0),a._UZ(1,"span",9)(2,"span",10),a.BQk()),2&i){const e=a.oxw();a.xp6(1),a.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e._isRippleCentered)("matRippleTrigger",e._elementRef.nativeElement)}}function cK(i,n){1&i&&(a.TgZ(0,"span",11),a.Hsn(1),a.qZA())}function lK(i,n){1&i&&(a.ynx(0),a.Hsn(1,1),a.BQk())}function dK(i,n){1&i&&a.Hsn(0,2,["*ngIf","contentEditInput; else defaultMatChipEditInput"])}function uK(i,n){1&i&&a._UZ(0,"span",14)}function hK(i,n){if(1&i&&(a.ynx(0),a.YNc(1,dK,1,0,"ng-content",12),a.YNc(2,uK,1,0,"ng-template",null,13,a.W1O),a.BQk()),2&i){const e=a.MAs(3),r=a.oxw();a.xp6(1),a.Q6J("ngIf",r.contentEditInput)("ngIfElse",e)}}function fK(i,n){1&i&&(a.TgZ(0,"span",15),a.Hsn(1,3),a.qZA())}const pK=[[["mat-chip-avatar"],["","matChipAvatar",""]],"*",[["","matChipEditInput",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],mK=["mat-chip-avatar, [matChipAvatar]","*","[matChipEditInput]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],aL=["*"],JA=new a.OlP("mat-chips-default-options"),cL=new a.OlP("MatChipAvatar"),lL=new a.OlP("MatChipTrailingIcon"),dL=new a.OlP("MatChipRemove"),eM=new a.OlP("MatChip");class gK{}const _K=y0(gK,-1);let x0=(()=>{class i extends _K{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=Lt(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,r){super(),this._elementRef=e,this._parentChip=r,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(eM))},i.\u0275dir=a.lG2({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,r){1&e&&a.NdJ("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&e&&(a.uIk("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),a.ekj("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[a.qOj]}),i})(),CH=(()=>{class i extends x0{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(e,r){2&e&&a.uIk("aria-hidden",null)},features:[a._Bn([{provide:dL,useExisting:i}]),a.qOj]}),i})(),bK=0;const wK=y0(UE(HE($A(class{constructor(i){this._elementRef=i}})),"primary"),-1);let nv=(()=>{class i extends wK{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=Lt(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=Lt(e)}constructor(e,r,o,s,l,h,p,g){super(r),this._changeDetectorRef=e,this._ngZone=o,this._focusMonitor=s,this._globalRippleOptions=p,this._isRippleCentered=!1,this._onFocus=new At.x,this._onBlur=new At.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+bK++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new a.vpe,this.destroyed=new a.vpe,this.basicChipAttrName="mat-basic-chip",this._document=l,this._animationsDisabled="NoopAnimations"===h,null!=g&&(this.tabIndex=parseInt(g)??this.defaultTabIndex),this._monitorFocus()}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Ir.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{const o=r._elementRef.nativeElement;return o===e||o.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const r=null!==e;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(v0),a.Y36(ue),a.Y36(a.QbO,8),a.Y36(b0,8),a.$8M("tabindex"))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,o){if(1&e&&(a.Suo(o,cL,5),a.Suo(o,lL,5),a.Suo(o,dL,5),a.Suo(o,cL,5),a.Suo(o,lL,5),a.Suo(o,dL,5)),2&e){let s;a.iGM(s=a.CRH())&&(r.leadingIcon=s.first),a.iGM(s=a.CRH())&&(r.trailingIcon=s.first),a.iGM(s=a.CRH())&&(r.removeIcon=s.first),a.iGM(s=a.CRH())&&(r._allLeadingIcons=s),a.iGM(s=a.CRH())&&(r._allTrailingIcons=s),a.iGM(s=a.CRH())&&(r._allRemoveIcons=s)}},viewQuery:function(e,r){if(1&e&&(a.Gf(nf,5),a.Gf(x0,5)),2&e){let o;a.iGM(o=a.CRH())&&(r.ripple=o.first),a.iGM(o=a.CRH())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(e,r){1&e&&a.NdJ("keydown",function(s){return r._handleKeydown(s)}),2&e&&(a.Ikx("id",r.id),a.uIk("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),a.ekj("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[a._Bn([{provide:eM,useExisting:i}]),a.qOj],ngContentSelectors:bH,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,r){1&e&&(a.F$t(yH),a._UZ(0,"span",0)(1,"span",1),a.TgZ(2,"span",2)(3,"span",3),a.YNc(4,iK,2,0,"span",4),a.TgZ(5,"span",5),a.Hsn(6),a._UZ(7,"span",6),a.qZA()()(),a.YNc(8,rK,2,0,"span",7)),2&e&&(a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r._isRippleCentered)("matRippleTrigger",r._elementRef.nativeElement),a.xp6(3),a.Q6J("isInteractive",!1),a.xp6(1),a.Q6J("ngIf",r.leadingIcon),a.xp6(4),a.Q6J("ngIf",r._hasTrailingIcon()))},dependencies:[Fn,nf,x0],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),tM=(()=>{class i{constructor(e,r){this._elementRef=e,this._document=r}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);const r=window.getSelection();r.removeAllRanges(),r.addRange(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(ue))},i.\u0275dir=a.lG2({type:i,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]}),i})(),uL=(()=>{class i extends nv{constructor(e,r,o,s,l,h,p,g){super(e,r,o,s,l,h,p,g),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new a.vpe,this._isEditing=!1,this.role="row",this._onBlur.pipe(Mn(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){13!==e.keyCode||this.disabled?this._isEditing?e.stopPropagation():super._handleKeydown(e):this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;const r=this.value;this._isEditing=!0,this._editStartPending=!0,setTimeout(()=>{this._getEditInput().initialize(r),this._editStartPending=!1})}_onEditFinish(){this._isEditing=!1,this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_getEditInput(){return this.contentEditInput||this.defaultEditInput}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(v0),a.Y36(ue),a.Y36(a.QbO,8),a.Y36(b0,8),a.$8M("tabindex"))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,tM,5),2&e){let s;a.iGM(s=a.CRH())&&(r.contentEditInput=s.first)}},viewQuery:function(e,r){if(1&e&&a.Gf(tM,5),2&e){let o;a.iGM(o=a.CRH())&&(r.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(e,r){1&e&&a.NdJ("focus",function(s){return r._handleFocus(s)})("dblclick",function(s){return r._handleDoubleclick(s)}),2&e&&(a.Ikx("id",r.id),a.uIk("tabindex",r.disabled?null:-1)("aria-label",null)("aria-description",null)("role",r.role),a.ekj("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-editing",r._isEditing)("mat-mdc-chip-editable",r.editable)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",editable:"editable"},outputs:{edited:"edited"},features:[a._Bn([{provide:nv,useExisting:i},{provide:eM,useExisting:i}]),a.qOj],ngContentSelectors:mK,decls:11,vars:13,consts:[[4,"ngIf"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"tabIndex","disabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing","role","gridcell",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[4,"ngIf","ngIfElse"],["defaultMatChipEditInput",""],["matChipEditInput",""],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,r){1&e&&(a.F$t(pK),a.YNc(0,aK,3,3,"ng-container",0),a.TgZ(1,"span",1)(2,"span",2),a.YNc(3,cK,2,0,"span",3),a.TgZ(4,"span",4),a.YNc(5,lK,2,0,"ng-container",5),a.YNc(6,hK,4,2,"ng-container",5),a._UZ(7,"span",6),a.qZA()()(),a.YNc(8,fK,2,0,"span",7),a.TgZ(9,"span",8),a._uU(10),a.qZA()),2&e&&(a.Q6J("ngIf",!r._isEditing),a.xp6(2),a.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),a.uIk("role",r.editable?"button":null)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),a.xp6(1),a.Q6J("ngIf",r.leadingIcon),a.xp6(1),a.Q6J("ngSwitch",r._isEditing),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(2),a.Q6J("ngIf",r._hasTrailingIcon()),a.xp6(1),a.Q6J("id",r._ariaDescriptionId),a.xp6(1),a.Oqu(r.ariaDescription))},dependencies:[Fn,yo,_s,nf,x0,tM],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})();class xK{constructor(n){}}const CK=y0(xK);let nM=(()=>{class i extends CK{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=Lt(e),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,r,o){super(e),this._elementRef=e,this._changeDetectorRef=r,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new At.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new a.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(ds(null),(0,bi.w)(()=>(0,Ir.T)(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ds(this._chips)).subscribe(e=>{const r=[];e.forEach(o=>o._getActions().forEach(s=>r.push(s))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new QF(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Mn(this._destroyed)).subscribe(({chip:e})=>{const r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(Mn(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ds(null),Mn(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Mn(this._destroyed)).subscribe(e=>{const o=this._chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(tf,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-chip-set"]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,nv,5),2&e){let s;a.iGM(s=a.CRH())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,r){1&e&&a.NdJ("keydown",function(s){return r._handleKeydown(s)}),2&e&&a.uIk("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[a.qOj],ngContentSelectors:aL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),i})();class IK{constructor(n,e){this.source=n,this.value=e}}class kK extends nM{constructor(n,e,r,o,s,l,h){super(n,e,r),this._defaultErrorStateMatcher=o,this._parentForm=s,this._parentFormGroup=l,this.ngControl=h,this.stateChanges=new At.x}}const TK=eL(kK);let IH=(()=>{class i extends TK{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Lt(e),this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(wF.required)??!1}set required(e){this._required=Lt(e),this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}constructor(e,r,o,s,l,h,p){super(e,r,o,h,s,l,p),this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new a.vpe,this.valueChange=new a.vpe,this._chips=void 0,this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterContentInit(){this.chipBlurChanges.pipe(Mn(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,Ir.T)(this.chipFocusChanges,this._chips.changes).pipe(Mn(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?.setDescribedByIds(e)}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(e){9===e.keyCode?this._chipInput.focused&&cu(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),this._keyManager.activeItem?this._keyManager.setActiveItem(this._keyManager.activeItem):this._focusLastChip()):super._allowFocusEscape():this._chipInput.focused||super._handleKeydown(e),this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const e=this._chips.length?this._chips.toArray().map(r=>r.value):[];this._value=e,this.change.emit(new IK(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(tf,8),a.Y36(p0,8),a.Y36(m0,8),a.Y36(GA),a.Y36($l,10))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-chip-grid"]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,uL,5),2&e){let s;a.iGM(s=a.CRH())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(e,r){1&e&&a.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(a.Ikx("tabIndex",r._chips&&0===r._chips.length?-1:r.tabIndex),a.uIk("role",r.role)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState),a.ekj("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-invalid",r.errorState)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",disabled:"disabled",placeholder:"placeholder",required:"required",value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[a._Bn([{provide:KA,useExisting:i}]),a.qOj],ngContentSelectors:aL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),i})(),SK=0,kH=(()=>{class i{set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=Lt(e)}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=Lt(e)}get empty(){return!this.inputElement.value}constructor(e,r,o){this._elementRef=e,this.focused=!1,this._addOnBlur=!1,this.chipEnd=new a.vpe,this.placeholder="",this.id="mat-mdc-chip-list-input-"+SK++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=r.separatorKeyCodes,o&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipGrid._focusLastChip(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}setDescribedByIds(e){const r=this._elementRef.nativeElement;e.length?r.setAttribute("aria-describedby",e.join(" ")):r.removeAttribute("aria-describedby")}_isSeparatorKey(e){return!cu(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(JA),a.Y36(QA,8))},i.\u0275dir=a.lG2({type:i,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(e,r){1&e&&a.NdJ("keydown",function(s){return r._keydown(s)})("keyup",function(s){return r._keyup(s)})("blur",function(){return r._blur()})("focus",function(){return r._focus()})("input",function(){return r._onInput()}),2&e&&(a.Ikx("id",r.id),a.uIk("disabled",r.disabled||null)("placeholder",r.placeholder||null)("aria-invalid",r._chipGrid&&r._chipGrid.ngControl?r._chipGrid.ngControl.invalid:null)("aria-required",r._chipGrid&&r._chipGrid.required||null)("required",r._chipGrid&&r._chipGrid.required||null))},inputs:{chipGrid:["matChipInputFor","chipGrid"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[a.TTD]}),i})(),AK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[GA,{provide:JA,useValue:{separatorKeyCodes:[13]}}],imports:[di,Cr,w0,di]}),i})(),MK=0;const hL=new a.OlP("CdkAccordion");let RK=(()=>{class i{constructor(){this._stateChanges=new At.x,this._openCloseAllActions=new At.x,this.id="cdk-accordion-"+MK++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Lt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:hL,useExisting:i}]),a.TTD]}),i})(),OK=0,PK=(()=>{class i{get expanded(){return this._expanded}set expanded(e){e=Lt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Lt(e)}constructor(e,r,o){this.accordion=e,this._changeDetectorRef=r,this._expansionDispatcher=o,this._openCloseAllSubscription=ia.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+OK++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((s,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(hL,12),a.Y36(a.sBO),a.Y36(q6))},i.\u0275dir=a.lG2({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:hL,useValue:void 0}])]}),i})(),NK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();class fL{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class pL extends fL{constructor(n,e,r,o,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=o,this.projectableNodes=s}}class iM extends fL{constructor(n,e,r,o){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class FK extends fL{constructor(n){super(),this.element=n instanceof a.SBq?n.nativeElement:n}}class mL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof pL?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof iM?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof FK?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LK extends mL{constructor(n,e,r,o,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let o;return n.viewContainerRef?(o=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=r.create(n.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=n,o}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(r);-1!==o&&e.remove(o)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let gL=(()=>{class i extends mL{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const l=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(h,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ue))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),i})(),_L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const BK=["body"];function VK(i,n){}const UK=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],HK=["mat-expansion-panel-header","*","mat-action-row"];function zK(i,n){if(1&i&&a._UZ(0,"span",2),2&i){const e=a.oxw();a.Q6J("@indicatorRotate",e._getExpandedState())}}const jK=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],$K=["mat-panel-title","mat-panel-description","*"],vL=new a.OlP("MAT_ACCORDION"),TH="225ms cubic-bezier(0.4,0.0,0.2,1)",SH={indicatorRotate:ev("indicatorRotate",[lu("collapsed, void",Vs({transform:"rotate(0deg)"})),lu("expanded",Vs({transform:"rotate(180deg)"})),du("expanded <=> collapsed, void => collapsed",sf(TH))]),bodyExpansion:ev("bodyExpansion",[lu("collapsed, void",Vs({height:"0px",visibility:"hidden"})),lu("expanded",Vs({height:"*",visibility:"visible"})),du("expanded <=> collapsed, void => collapsed",sf(TH))])},AH=new a.OlP("MAT_EXPANSION_PANEL");let GK=(()=>{class i{constructor(e,r){this._template=e,this._expansionPanel=r}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc),a.Y36(AH,8))},i.\u0275dir=a.lG2({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),qK=0;const MH=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let RH=(()=>{class i extends PK{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Lt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,r,o,s,l,h,p){super(e,r,o),this._viewContainerRef=s,this._animationMode=h,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new At.x,this._headerId="mat-expansion-panel-header-"+qK++,this._bodyAnimationDone=new At.x,this.accordion=e,this._document=l,this._bodyAnimationDone.pipe((0,El.x)((g,w)=>g.fromState===w.fromState&&g.toState===w.toState)).subscribe(g=>{"void"!==g.fromState&&("expanded"===g.toState?this.afterExpand.emit():"collapsed"===g.toState&&this.afterCollapse.emit())}),p&&(this.hideToggle=p.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ds(null),Dn(()=>this.expanded&&!this._portal),Gi(1)).subscribe(()=>{this._portal=new iM(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,r=this._body.nativeElement;return e===r||r.contains(e)}return!1}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(vL,12),a.Y36(a.sBO),a.Y36(q6),a.Y36(a.s_b),a.Y36(ue),a.Y36(a.QbO,8),a.Y36(MH,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,GK,5),2&e){let s;a.iGM(s=a.CRH())&&(r._lazyContent=s.first)}},viewQuery:function(e,r){if(1&e&&a.Gf(BK,5),2&e){let o;a.iGM(o=a.CRH())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,r){2&e&&a.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:vL,useValue:void 0},{provide:AH,useExisting:i}]),a.qOj,a.TTD],ngContentSelectors:HK,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,r){1&e&&(a.F$t(UK),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,VK,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),a.uIk("aria-labelledby",r._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",r._portal))},dependencies:[gL],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[SH.bodyExpansion]},changeDetection:0}),i})();class WK{}const ZK=y0(WK);let OH=(()=>{class i extends ZK{constructor(e,r,o,s,l,h,p){super(),this.panel=e,this._element=r,this._focusMonitor=o,this._changeDetectorRef=s,this._animationMode=h,this._parentChangeSubscription=ia.w0.EMPTY;const g=e.accordion?e.accordion._stateChanges.pipe(Dn(w=>!(!w.hideToggle&&!w.togglePosition))):as.E;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,Ir.T)(e.opened,e.closed,g,e._inputChanges.pipe(Dn(w=>!!(w.hideToggle||w.disabled||w.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Dn(()=>e._containsFocus())).subscribe(()=>o.focusVia(r,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:cu(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,r){e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(RH,1),a.Y36(a.SBq),a.Y36(v0),a.Y36(a.sBO),a.Y36(MH,8),a.Y36(a.QbO,8),a.$8M("tabindex"))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&e&&(a.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),a.Udp("height",r._getHeaderHeight()),a.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:$K,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,r){1&e&&(a.F$t(jK),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,zK,1,1,"span",1)),2&e&&(a.ekj("mat-content-hide-toggle",!r._showToggle()),a.xp6(4),a.Q6J("ngIf",r._showToggle()))},dependencies:[Fn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[SH.indicatorRotate]},changeDetection:0}),i})(),YK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),i})(),KK=(()=>{class i extends RK{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Lt(e)}ngAfterContentInit(){this._headers.changes.pipe(ds(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new QF(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["mat-accordion"]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,OH,5),2&e){let s;a.iGM(s=a.CRH())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:vL,useExisting:i}]),a.qOj]}),i})(),QK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[Cr,di,NK,_L]}),i})();function C0(i,n){const e=(0,zo.m)(i)?i:()=>i,r=o=>o.error(e());return new Bn.y(n?o=>n.schedule(r,0,o):r)}function vm(i){return(0,fr.e)((n,e)=>{let s,r=null,o=!1;r=n.subscribe((0,ci.x)(e,void 0,void 0,l=>{s=(0,Dl.Xf)(i(l,vm(i)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(e))})}function rM(i){return(0,fr.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}var Ur=z(1631);function E0(i,n){return(0,zo.m)(n)?(0,Ur.z)(i,n,1):(0,Ur.z)(i,1)}class yL{}class af{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),s=o.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof af?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new af;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof af?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const s=n.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class XK{encodeKey(n){return PH(n)}encodeValue(n){return PH(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const eQ=/%(\d[a-f0-9])/gi,tQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PH(i){return encodeURIComponent(i).replace(eQ,(n,e)=>tQ[e]??n)}function oM(i){return`${i}`}class ym{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new XK,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JK(i,n){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[l,h]=-1==s?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,s)),n.decodeValue(o.slice(s+1))],p=e.get(l)||[];p.push(h),e.set(l,p)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(oM):[oM(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ym({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(oM(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(oM(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class nQ{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function NH(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function FH(i){return typeof Blob<"u"&&i instanceof Blob}function LH(i){return typeof FormData<"u"&&i instanceof FormData}class ZE{constructor(n,e,r,o){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function iQ(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new af),this.context||(this.context=new nQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+l}}else this.params=new ym,this.urlWithParams=e}serializeBody(){return null===this.body?null:NH(this.body)||FH(this.body)||LH(this.body)||function rQ(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ym?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LH(this.body)?null:FH(this.body)?this.body.type||null:NH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ym?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,l=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,h=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let p=n.headers||this.headers,g=n.params||this.params;const w=n.context??this.context;return void 0!==n.setHeaders&&(p=Object.keys(n.setHeaders).reduce((E,S)=>E.set(S,n.setHeaders[S]),p)),n.setParams&&(g=Object.keys(n.setParams).reduce((E,S)=>E.set(S,n.setParams[S]),g)),new ZE(e,r,s,{params:g,headers:p,context:w,reportProgress:h,responseType:o,withCredentials:l})}}var ms=(()=>((ms=ms||{})[ms.Sent=0]="Sent",ms[ms.UploadProgress=1]="UploadProgress",ms[ms.ResponseHeader=2]="ResponseHeader",ms[ms.DownloadProgress=3]="DownloadProgress",ms[ms.Response=4]="Response",ms[ms.User=5]="User",ms))();class oQ{constructor(n,e=200,r="OK"){this.headers=n.headers||new af,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class YE extends oQ{constructor(n={}){super(n),this.type=ms.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new YE({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function wL(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let xL=(()=>{class i{constructor(e){this.handler=e}request(e,r,o={}){let s;if(e instanceof ZE)s=e;else{let p,g;p=o.headers instanceof af?o.headers:new af(o.headers),o.params&&(g=o.params instanceof ym?o.params:new ym({fromObject:o.params})),s=new ZE(e,r,void 0!==o.body?o.body:null,{headers:p,context:o.context,params:g,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,Dt.of)(s).pipe(E0(p=>this.handler.handle(p)));if(e instanceof ZE||"events"===o.observe)return l;const h=l.pipe(Dn(p=>p instanceof YE));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,tt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,tt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,tt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,tt.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new ym).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,wL(o,r))}post(e,r,o={}){return this.request("POST",e,wL(o,r))}put(e,r,o={}){return this.request("PUT",e,wL(o,r))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(yL))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const DQ=["*"];let cM;function KE(i){return function IQ(){if(void 0===cM&&(cM=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(cM=i.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return cM}()?.createHTML(i)||i}function WH(i){return Error(`Unable to find icon with the name "${i}"`)}function ZH(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function YH(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class ov{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let lM=(()=>{class i{constructor(e,r,o,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,s){return this._addSvgIconConfig(e,r,new ov(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,s){const l=this._sanitizer.sanitize(a.q3G.HTML,o);if(!l)throw YH(o);const h=KE(l);return this._addSvgIconConfig(e,r,new ov("",h,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new ov(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const s=this._sanitizer.sanitize(a.q3G.HTML,r);if(!s)throw YH(r);const l=KE(s);return this._addSvgIconSetConfig(e,new ov("",l,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!r)throw ZH(e);const o=this._cachedIconsByUrl.get(r);return o?(0,Dt.of)(dM(o)):this._loadSvgIconFromConfig(new ov(e,null)).pipe((0,Po.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,tt.U)(s=>dM(s)))}getNamedSvgIcon(e,r=""){const o=KH(r,e);let s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):C0(WH(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Dt.of)(dM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,tt.U)(r=>dM(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);return o?(0,Dt.of)(o):n4(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(vm(h=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(g)),(0,Dt.of)(null)})))).pipe((0,tt.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw WH(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const s=r[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(l,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Po.b)(r=>e.svgText=r),(0,tt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Dt.of)(null):this._fetchIcon(e).pipe((0,Po.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,o);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),o);const h=this._svgElementFromString(KE("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(KE("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){const{name:l,value:h}=o[s];"id"!==l&&r.setAttribute(l,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:o}=e,s=o?.withCredentials??!1;if(!this._httpClient)throw function kQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!l)throw ZH(r);const h=this._inProgressUrlFetches.get(l);if(h)return h;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,tt.U)(g=>KE(g)),rM(()=>this._inProgressUrlFetches.delete(l)),(0,_a.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(KH(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const s=this._resolvers[o](r,e);if(s)return SQ(s)?new ov(s.url,null,s.options):new ov(s,null)}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(xL,8),a.LFG(Ic),a.LFG(ue,8),a.LFG(a.qLn))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dM(i){return i.cloneNode(!0)}function KH(i,n){return i+":"+n}function SQ(i){return!(!i.url||!i.options)}const AQ=UE(class{constructor(i){this._elementRef=i}}),MQ=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),RQ=new a.OlP("mat-icon-location",{providedIn:"root",factory:function OQ(){const i=(0,a.f3M)(ue),n=i?i.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),QH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],PQ=QH.map(i=>`[${i}]`).join(", "),NQ=/^url\(['"]?#(.*?)['"]?\)$/;let bm=(()=>{class i extends AQ{get inline(){return this._inline}set inline(e){this._inline=Lt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,o,s,l,h){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ia.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(PQ),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)QH.forEach(l=>{const h=r[s],p=h.getAttribute(l),g=p?p.match(NQ):null;if(g){let w=o.get(h);w||(w=[],o.set(h,w)),w.push({name:l,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Gi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${s.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(lM),a.$8M("aria-hidden"),a.Y36(RQ),a.Y36(a.qLn),a.Y36(MQ,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:DQ,decls:1,vars:0,template:function(e,r){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),FQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,di]}),i})();const XH=LE({passive:!0});let LQ=(()=>{class i{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return as.E;const r=ef(e),o=this._monitoredElements.get(r);if(o)return o.subject;const s=new At.x,l="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,XH),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",h,XH)}}),s}stopMonitoring(e){const r=ef(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(br),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const VQ=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),UQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let HQ=0;const zQ=eL(class{constructor(i,n,e,r){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new At.x}});let QE=(()=>{class i extends zQ{get disabled(){return this._disabled}set disabled(e){this._disabled=Lt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wF.required)??!1}set required(e){this._required=Lt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&r6().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Lt(e)}constructor(e,r,o,s,l,h,p,g,w,E){super(h,s,l,o),this._elementRef=e,this._platform=r,this._autofillMonitor=g,this._formField=E,this._uid="mat-input-"+HQ++,this.focused=!1,this.stateChanges=new At.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>r6().has(F)),this._iOSKeyupListener=F=>{const G=F.target;!G.value&&0===G.selectionStart&&0===G.selectionEnd&&(G.setSelectionRange(1,1),G.setSelectionRange(0,0))};const S=this._elementRef.nativeElement,O=S.nodeName.toLowerCase();this._inputValueAccessor=p||S,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){UQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(br),a.Y36($l,10),a.Y36(p0,8),a.Y36(m0,8),a.Y36(GA),a.Y36(VQ,10),a.Y36(LQ),a.Y36(a.R0b),a.Y36(QA,8))},i.\u0275dir=a.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:KA,useExisting:i}]),a.qOj,a.TTD]}),i})(),jQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,XA,XA,BQ,di]}),i})(),$Q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,di]}),i})(),bX=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[cH,Cr,di,w0,R6,$Q]}),i})();var wX=z(4266);const xX=["addListener","removeListener"],CX=["addEventListener","removeEventListener"],EX=["on","off"];function XE(i,n,e,r){if((0,zo.m)(e)&&(r=e,e=void 0),r)return XE(i,n,e).pipe(bF(r));const[o,s]=function kX(i){return(0,zo.m)(i.addEventListener)&&(0,zo.m)(i.removeEventListener)}(i)?CX.map(l=>h=>i[l](n,h,e)):function DX(i){return(0,zo.m)(i.addListener)&&(0,zo.m)(i.removeListener)}(i)?xX.map(iz(i,n)):function IX(i){return(0,zo.m)(i.on)&&(0,zo.m)(i.off)}(i)?EX.map(iz(i,n)):[];if(!o&&(0,wX.z)(i))return(0,Ur.z)(l=>XE(l,n,e))((0,Dl.Xf)(i));if(!o)throw new TypeError("Invalid event target");return new Bn.y(l=>{const h=(...p)=>l.next(1<p.length?p:p[0]);return o(h),()=>s(h)})}function iz(i,n){return e=>r=>i[e](n,r)}var rz=z(1954);const JE={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=JE;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=n(s=>{e=void 0,i(s)});return new ia.w0(()=>e?.(o))},requestAnimationFrame(...i){const{delegate:n}=JE;return(n?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=JE;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var oz=z(2631);new class SX extends oz.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;n=n||r.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,o){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw o}}}(class TX extends rz.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=JE.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(JE.cancelAnimationFrame(e),n._scheduled=void 0)}});let DL,MX=1;const uM={};function sz(i){return i in uM&&(delete uM[i],!0)}const RX={setImmediate(i){const n=MX++;return uM[n]=!0,DL||(DL=Promise.resolve()),DL.then(()=>sz(n)&&i()),n},clearImmediate(i){sz(i)}},{setImmediate:OX,clearImmediate:PX}=RX,hM={setImmediate(...i){const{delegate:n}=hM;return(n?.setImmediate||OX)(...i)},clearImmediate(i){const{delegate:n}=hM;return(n?.clearImmediate||PX)(i)},delegate:void 0};new class FX extends oz.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;n=n||r.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,o){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw o}}}(class NX extends rz.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=hM.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(hM.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});var VX=z(671);function az(i=0,n,e=Zf.P){let r=-1;return null!=n&&((0,VX.K)(n)?e=n:r=n),new Bn.y(o=>{let s=function UX(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;s<0&&(s=0);let l=0;return e.schedule(function(){o.closed||(o.next(l++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function cz(i,n=Zf.z){return function BX(i){return(0,fr.e)((n,e)=>{let r=!1,o=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const g=o;o=null,e.next(g)}l&&e.complete()},p=()=>{s=null,l&&e.complete()};n.subscribe((0,ci.x)(e,g=>{r=!0,o=g,s||(0,Dl.Xf)(i(g)).subscribe(s=(0,ci.x)(e,h,p))},()=>{l=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>az(i,n))}let IL=(()=>{class i{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new At.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Bn.y(r=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(cz(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Dt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Dn(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=ef(r),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>XE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.R0b),a.LFG(br),a.LFG(ue,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kL=(()=>{class i{constructor(e,r,o,s){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new At.x,this._elementScrolled=new Bn.y(l=>this.ngZone.runOutsideAngular(()=>XE(this.elementRef.nativeElement,"scroll").pipe(Mn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),o&&0!=BE()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==BE()?e.left=e.right:1==BE()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;o6()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",o="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?o:r:"end"==e&&(e=l?r:o),l&&2==BE()?e==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==BE()?e==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(IL),a.Y36(a.R0b),a.Y36(tf,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),i})(),eD=(()=>{class i{constructor(e,r,o){this._platform=e,this._change=new At.x,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(cz(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(br),a.LFG(a.R0b),a.LFG(ue,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),TL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[VE,tD,VE,tD]}),i})();const lz=o6();class $X{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=_o(-this._previousScrollPosition.left),n.style.top=_o(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,o=this._document.body.style,s=r.scrollBehavior||"",l=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),lz&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lz&&(r.scrollBehavior=s,o.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class GX{constructor(n,e,r,o){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(Dn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dz{enable(){}disable(){}attach(){}}function SL(i,n){return n.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function uz(i,n){return n.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class qX{constructor(n,e,r,o){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();SL(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let WX=(()=>{class i{constructor(e,r,o,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new dz,this.close=l=>new GX(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new $X(this._viewportRuler,this._document),this.reposition=l=>new qX(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(IL),a.LFG(eD),a.LFG(a.R0b),a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class AL{constructor(n){if(this.scrollStrategy=new dz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class ZX{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let hz=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),YX=(()=>{class i extends hz{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=o=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const h=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue),a.LFG(a.R0b,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),KX=(()=>{class i extends hz{constructor(e,r,o){super(e),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_m(s)},this._clickListener=s=>{const l=_m(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let g=p.length-1;g>-1;g--){const w=p[g];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(l)||w.overlayElement.contains(h))break;const E=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(s)):E.next(s)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue),a.LFG(br),a.LFG(a.R0b,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fz=(()=>{class i{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||$F()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const r=this._document.createElement("div");r.classList.add(e),$F()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue),a.LFG(br))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class QX{constructor(n,e,r,o,s,l,h,p,g,w=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=o,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=p,this._outsideClickDispatcher=g,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new At.x,this._attachments=new At.x,this._detachments=new At.x,this._locationChanges=ia.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new At.x,this._outsidePointerEvents=new At.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=_o(this._config.width),n.height=_o(this._config.height),n.minWidth=_o(this._config.minWidth),n.minHeight=_o(this._config.minHeight),n.maxWidth=_o(this._config.maxWidth),n.maxHeight=_o(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const o=HA(e||[]).filter(s=>!!s);o.length&&(r?n.classList.add(...o):n.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Mn((0,Ir.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const pz="cdk-overlay-connected-position-bounding-box",XX=/([A-Za-z%]+)$/;class JX{get positions(){return this._preferredPositions}constructor(n,e,r,o,s){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new At.x,this._resizeSubscription=ia.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(pz),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,o=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(n,o,h),g=this._getOverlayPoint(p,e,h),w=this._getOverlayFit(g,e,r,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,g,r)?s.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:g,originPoint:p,position:h,overlayRect:e})}if(s.length){let h=null,p=-1;for(const g of s){const w=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);w>p&&(p=w,h=g)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let o,s;if("center"==r.originX)o=n.left+n.width/2;else{const l=this._isRtl()?n.right:n.left,h=this._isRtl()?n.left:n.right;o="start"==r.originX?l:h}return e.left<0&&(o-=e.left),s="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(s-=e.top),{x:o,y:s}}_getOverlayPoint(n,e,r){let o,s;return o="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+o,y:n.y+s}}_getOverlayFit(n,e,r,o){const s=gz(e);let{x:l,y:h}=n,p=this._getOffset(o,"x"),g=this._getOffset(o,"y");p&&(l+=p),g&&(h+=g);let S=0-h,O=h+s.height-r.height,F=this._subtractOverflows(s.width,0-l,l+s.width-r.width),G=this._subtractOverflows(s.height,S,O),Q=F*G;return{visibleArea:Q,isCompletelyWithinViewport:s.width*s.height===Q,fitsInViewportVertically:G===s.height,fitsInViewportHorizontally:F==s.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const o=r.bottom-e.y,s=r.right-e.x,l=mz(this._overlayRef.getConfig().minHeight),h=mz(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=l&&l<=o)&&(n.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const o=gz(e),s=this._viewportRect,l=Math.max(n.x+o.width-s.width,0),h=Math.max(n.y+o.height-s.height,0),p=Math.max(s.top-r.top-n.y,0),g=Math.max(s.left-r.left-n.x,0);let w=0,E=0;return w=o.width<=s.width?g||-l:n.x<this._viewportMargin?s.left-r.left-n.x:0,E=o.height<=s.height?p||-h:n.y<this._viewportMargin?s.top-r.top-n.y:0,this._previousPushAmount={x:w,y:E},{x:n.x+w,y:n.y+E}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new ZX(n,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,o=this._isRtl();let s,l,h,w,E,S;if("top"===e.overlayY)l=n.y,s=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)h=r.height-n.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const O=Math.min(r.bottom-n.y+r.top,n.y),F=this._lastBoundingBoxSize.height;s=2*O,l=n.y-O,s>F&&!this._isInitialRender&&!this._growAfterOpen&&(l=n.y-F/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)S=r.width-n.x+this._viewportMargin,w=n.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)E=n.x,w=r.right-n.x;else{const O=Math.min(r.right-n.x+r.left,n.x),F=this._lastBoundingBoxSize.width;w=2*O,E=n.x-O,w>F&&!this._isInitialRender&&!this._growAfterOpen&&(E=n.x-F/2)}return{top:l,left:E,bottom:h,right:S,width:w,height:s}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;o.height=_o(r.height),o.top=_o(r.top),o.bottom=_o(r.bottom),o.width=_o(r.width),o.left=_o(r.left),o.right=_o(r.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=_o(s)),l&&(o.maxWidth=_o(l))}this._lastBoundingBoxSize=r,sv(this._boundingBox.style,o)}_resetBoundingBoxStyles(){sv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(o){const w=this._viewportRuler.getViewportScrollPosition();sv(r,this._getExactOverlayY(e,n,w)),sv(r,this._getExactOverlayX(e,n,w))}else r.position="static";let h="",p=this._getOffset(e,"x"),g=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),g&&(h+=`translateY(${g}px)`),r.transform=h.trim(),l.maxHeight&&(o?r.maxHeight=_o(l.maxHeight):s&&(r.maxHeight="")),l.maxWidth&&(o?r.maxWidth=_o(l.maxWidth):s&&(r.maxWidth="")),sv(this._pane.style,r)}_getExactOverlayY(n,e,r){let o={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===n.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=_o(s.y),o}_getExactOverlayX(n,e,r){let l,o={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),l=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===l?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=_o(s.x),o}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uz(n,r),isOriginOutsideView:SL(n,r),isOverlayClipped:uz(e,r),isOverlayOutsideView:SL(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,o)=>r-Math.max(o,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&HA(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof a.SBq)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function sv(i,n){for(let e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i}function mz(i){if("number"!=typeof i&&null!=i){const[n,e]=i.split(XX);return e&&"px"!==e?null:parseFloat(n)}return i||null}function gz(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const _z="cdk-global-overlay-wrapper";class eJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(_z),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:l,maxHeight:h}=r,p=!("100%"!==o&&"100vw"!==o||l&&"100%"!==l&&"100vw"!==l),g=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,E=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let O="",F="",G="";p?G="flex-start":"center"===w?(G="center",S?F=E:O=E):S?"left"===w||"end"===w?(G="flex-end",O=E):("right"===w||"start"===w)&&(G="flex-start",F=E):"left"===w||"start"===w?(G="flex-start",O=E):("right"===w||"end"===w)&&(G="flex-end",F=E),n.position=this._cssPosition,n.marginLeft=p?"0":O,n.marginTop=g?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=p?"0":F,e.justifyContent=G,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(_z),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let tJ=(()=>{class i{constructor(e,r,o,s){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new eJ}flexibleConnectedTo(e){return new JX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(eD),a.LFG(ue),a.LFG(br),a.LFG(fz))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nJ=0,D0=(()=>{class i{constructor(e,r,o,s,l,h,p,g,w,E,S,O){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=h,this._ngZone=p,this._document=g,this._directionality=w,this._location=E,this._outsideClickDispatcher=S,this._animationsModuleType=O}create(e){const r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),l=new AL(e);return l.direction=l.direction||this._directionality.value,new QX(s,r,o,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+nJ++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new LK(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(WX),a.LFG(fz),a.LFG(a._Vd),a.LFG(tJ),a.LFG(YX),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ue),a.LFG(tf),a.LFG(it),a.LFG(KX),a.LFG(a.QbO,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iJ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vz=new a.OlP("cdk-connected-overlay-scroll-strategy");let ML=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),i})(),yz=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Lt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Lt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Lt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Lt(e)}get push(){return this._push}set push(e){this._push=Lt(e)}constructor(e,r,o,s,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ia.w0.EMPTY,this._attachSubscription=ia.w0.EMPTY,this._detachSubscription=ia.w0.EMPTY,this._positionSubscription=ia.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new iM(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=iJ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!cu(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new AL({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ML?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function jX(i,n=!1){return(0,fr.e)((e,r)=>{let o=0;e.subscribe((0,ci.x)(r,s=>{const l=i(s,o++);(l||n)&&r.next(s),!l&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(D0),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(vz),a.Y36(tf,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[a.TTD]}),i})();const oJ={provide:vz,deps:[D0],useFactory:function rJ(i){return()=>i.scrollStrategies.reposition()}};let bz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[D0,oJ],imports:[VE,_L,TL,TL]}),i})();function RL(i){return new Bn.y(n=>{(0,Dl.Xf)(i()).subscribe(n)})}const sJ=["trigger"],aJ=["panel"];function cJ(i,n){if(1&i&&(a.TgZ(0,"span",10),a._uU(1),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function lJ(i,n){if(1&i&&(a.TgZ(0,"span",14),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function dJ(i,n){1&i&&a.Hsn(0,0,["*ngSwitchCase","true"])}function uJ(i,n){if(1&i&&(a.TgZ(0,"span",11),a.YNc(1,lJ,2,1,"span",12),a.YNc(2,dJ,1,0,"ng-content",13),a.qZA()),2&i){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function hJ(i,n){if(1&i){const e=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"div",15,16),a.NdJ("@transformPanel.done",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(o))}),a.Hsn(2,1),a.qZA()}if(2&i){const e=a.oxw();a.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),a.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const fJ=[[["mat-select-trigger"]],"*"],pJ=["mat-select-trigger","*"],mJ={transformPanelWrap:ev("transformPanelWrap",[du("* => void",wY("@transformPanel",[bY()],{optional:!0}))]),transformPanel:ev("transformPanel",[lu("void",Vs({opacity:0,transform:"scale(1, 0.8)"})),du("void => showing",sf("120ms cubic-bezier(0, 0, 0.2, 1)",Vs({opacity:1,transform:"scale(1, 1)"}))),du("* => void",sf("100ms linear",Vs({opacity:0})))])};let wz=0;const xz=new a.OlP("mat-select-scroll-strategy"),_J=new a.OlP("MAT_SELECT_CONFIG"),vJ={provide:xz,deps:[D0],useFactory:function gJ(i){return()=>i.scrollStrategies.reposition()}},yJ=new a.OlP("MatSelectTrigger");class bJ{constructor(n,e){this.source=n,this.value=e}}const wJ=HE(y0($A(eL(class{constructor(i,n,e,r,o){this._elementRef=i,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=r,this.ngControl=o,this.stateChanges=new At.x}}))));let xJ=(()=>{class i extends wJ{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(wF.required)??!1}set required(e){this._required=Lt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Lt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Lt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=UA(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,r,o,s,l,h,p,g,w,E,S,O,F,G){super(l,s,p,g,E),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=o,this._dir=h,this._parentFormField=w,this._liveAnnouncer=F,this._defaultOptions=G,this._panelOpen=!1,this._compareWith=(Q,ve)=>Q===ve,this._uid="mat-select-"+wz++,this._triggerAriaLabelledBy=null,this._destroy=new At.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+wz++,this._panelDoneAnimatingStream=new At.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=RL(()=>{const Q=this.options;return Q?Q.changes.pipe(ds(Q),(0,bi.w)(()=>(0,Ir.T)(...Q.map(ve=>ve.onSelectionChange)))):this._ngZone.onStable.pipe(Gi(1),(0,bi.w)(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(Dn(Q=>Q),(0,tt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Dn(Q=>!Q),(0,tt.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=G?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=G.typeaheadDebounceInterval),this._scrollStrategyFactory=O,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(S)||0,this.id=this.id}ngOnInit(){this._selectionModel=new WA(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,El.x)(),Mn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Mn(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ds(null),Mn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const r=`${this.id}-panel`;this._trackedModal&&p6(this._trackedModal,"aria-owns",r),function q7(i,n,e){const r=m6(i,n);r.some(o=>o.trim()==e.trim())||(r.push(e.trim()),i.setAttribute(n,r.join(" ")))}(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(p6(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,o=40===r||38===r||37===r||39===r,s=13===r||32===r,l=this._keyManager;if(!l.isTyping()&&s&&!cu(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;l.onKeydown(e);const p=this.selected;p&&h!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,o=e.keyCode,s=40===o||38===o,l=r.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(l||13!==o&&32!==o||!r.activeItem||cu(e))if(!l&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const h=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(h?p.select():p.deselect())})}else{const h=r.activeItemIndex;r.onKeydown(e),this._multiple&&s&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==h&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Gi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Y7(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ir.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Mn(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ir.T)(...this.options.map(r=>r._stateChanges)).pipe(Mn(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,e):e.indexOf(r)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(eD),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(GA),a.Y36(a.SBq),a.Y36(tf,8),a.Y36(p0,8),a.Y36(m0,8),a.Y36(QA,8),a.Y36($l,10),a.$8M("tabindex"),a.Y36(xz),a.Y36(XF),a.Y36(_J,8))},i.\u0275dir=a.lG2({type:i,viewQuery:function(e,r){if(1&e&&(a.Gf(sJ,5),a.Gf(aJ,5),a.Gf(yz,5)),2&e){let o;a.iGM(o=a.CRH())&&(r.trigger=o.first),a.iGM(o=a.CRH())&&(r.panel=o.first),a.iGM(o=a.CRH())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),i})(),CJ=(()=>{class i extends xJ{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Mn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const o=this.panel.nativeElement,s=function BZ(i,n,e){if(e.length){let r=n.toArray(),o=e.toArray(),s=0;for(let l=0;l<i+1;l++)r[l].group&&r[l].group===o[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),l=r._getHostElement();o.scrollTop=0===e&&1===s?0:function VZ(i,n,e,r){return i<e?i:i+n>e+r?Math.max(0,i-r+n):e}(l.offsetTop,l.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new bJ(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof ML?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Lt(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(e,r,o){if(1&e&&(a.Suo(o,yJ,5),a.Suo(o,N6,5),a.Suo(o,P6,5)),2&e){let s;a.iGM(s=a.CRH())&&(r.customTrigger=s.first),a.iGM(s=a.CRH())&&(r.options=s),a.iGM(s=a.CRH())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,r){1&e&&a.NdJ("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(a.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),a.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[a._Bn([{provide:KA,useExisting:i},{provide:O6,useExisting:i}]),a.qOj],ngContentSelectors:pJ,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(a.F$t(fJ),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return r.toggle()}),a.TgZ(3,"div",2),a.YNc(4,cJ,2,1,"span",3),a.YNc(5,uJ,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5)(7,"div",6),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"path",8),a.qZA()()()(),a.YNc(10,hJ,3,9,"ng-template",9),a.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const o=a.MAs(1);a.xp6(3),a.Q6J("ngSwitch",r.empty),a.uIk("id",r._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(5),a.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Jn,yo,_s,Aa,yz,ML],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[mJ.transformPanel]},changeDetection:0}),i})(),EJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[vJ],imports:[Cr,bz,F6,di,tD,XA,F6,di]}),i})();function OL(i){return(0,tt.U)(()=>i)}const Cz=["*"],DJ=["content"];function IJ(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o._onBackdropClicked())}),a.qZA()}if(2&i){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function kJ(i,n){1&i&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const TJ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],SJ=["mat-drawer","mat-drawer-content","*"],AJ={transformDrawer:ev("transform",[lu("open, open-instant",Vs({transform:"none",visibility:"visible"})),lu("void",Vs({"box-shadow":"none",visibility:"hidden"})),du("void => open-instant",sf("0ms")),du("void <=> open, open-instant => void",sf("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},MJ=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function RJ(){return!1}}),Ez=new a.OlP("MAT_DRAWER_CONTAINER");let fM=(()=>{class i extends kL{constructor(e,r,o,s,l){super(o,s,l),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>Iz)),a.Y36(a.SBq),a.Y36(IL),a.Y36(a.R0b))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&a.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[a._Bn([{provide:kL,useExisting:i}]),a.qOj],ngContentSelectors:Cz,decls:1,vars:0,template:function(e,r){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Dz=(()=>{class i{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Lt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Lt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Lt(e))}constructor(e,r,o,s,l,h,p,g){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=s,this._ngZone=l,this._interactivityChecker=h,this._doc=p,this._container=g,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new At.x,this._animationEnd=new At.x,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(Dn(w=>w),(0,tt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Dn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),OL(void 0)),this._closedStream=this.openedChange.pipe(Dn(w=>!w),(0,tt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Dn(w=>w.fromState!==w.toState&&"void"===w.toState),OL(void 0)),this._destroyed=new At.x,this.onPositionChanged=new a.vpe,this._modeChanged=new At.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{XE(this._elementRef.nativeElement,"keydown").pipe(Dn(w=>27===w.keyCode&&!this.disableClose&&!cu(w)),Mn(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe((0,El.x)((w,E)=>w.fromState===E.fromState&&w.toState===E.toState)).subscribe(w=>{const{fromState:E,toState:S}=w;(0===S.indexOf("open")&&"void"===E||"void"===S&&0===E.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,r,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Gi(1)).subscribe(l=>s(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,o=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(aZ),a.Y36(v0),a.Y36(br),a.Y36(a.R0b),a.Y36(_6),a.Y36(ue,8),a.Y36(Ez,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&a.Gf(DJ,5),2&e){let o;a.iGM(o=a.CRH())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&a.WFA("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&e&&(a.uIk("align",null),a.d8E("@transform",r._animationState),a.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Cz,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[kL],encapsulation:2,data:{animation:[AJ.transformDrawer]},changeDetection:0}),i})(),Iz=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Lt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Lt(e)}get scrollable(){return this._userContent||this._content}constructor(e,r,o,s,l,h=!1,p){this._dir=e,this._element=r,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new At.x,this._doCheckSubject=new At.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new At.x,e&&e.change.pipe(Mn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Mn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(ds(this._allDrawers),Mn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ds(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(kE(10),Mn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,r-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();r+=o,e-=o}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Dn(r=>r.fromState!==r.toState),Mn(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Mn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Mn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Gi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Mn((0,Ir.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(tf,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(eD),a.Y36(MJ),a.Y36(a.QbO,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,o){if(1&e&&(a.Suo(o,fM,5),a.Suo(o,Dz,5)),2&e){let s;a.iGM(s=a.CRH())&&(r._content=s.first),a.iGM(s=a.CRH())&&(r._allDrawers=s)}},viewQuery:function(e,r){if(1&e&&a.Gf(fM,5),2&e){let o;a.iGM(o=a.CRH())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:Ez,useExisting:i}])],ngContentSelectors:SJ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(a.F$t(TJ),a.YNc(0,IJ,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,kJ,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",r.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!r._content))},dependencies:[Fn,fM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),OJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[Cr,di,tD,tD,di]}),i})();function PJ(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.action())}),a._uU(2),a.qZA()()}if(2&i){const e=a.oxw();a.xp6(2),a.hij(" ",e.data.action," ")}}const NJ=["label"];function FJ(i,n){}const LJ=Math.pow(2,31)-1;class PL{constructor(n,e){this._overlayRef=e,this._afterDismissed=new At.x,this._afterOpened=new At.x,this._onAction=new At.x,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,LJ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const kz=new a.OlP("MatSnackBarData");class pM{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let BJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),i})(),VJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),i})(),UJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),i})(),HJ=(()=>{class i{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(PL),a.Y36(kz))},i.\u0275cmp=a.Xpm({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a._uU(1),a.qZA(),a.YNc(2,PJ,3,1,"div",1)),2&e&&(a.xp6(1),a.hij(" ",r.data.message,"\n"),a.xp6(1),a.Q6J("ngIf",r.hasAction))},dependencies:[Fn,$E,BJ,VJ,UJ],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),i})();const zJ={snackBarState:ev("state",[lu("void, hidden",Vs({transform:"scale(0.8)",opacity:0})),lu("visible",Vs({transform:"scale(1)",opacity:1})),du("* => visible",sf("150ms cubic-bezier(0, 0, 0.2, 1)")),du("* => void, * => hidden",sf("75ms cubic-bezier(0.4, 0.0, 1, 1)",Vs({opacity:0})))])};let jJ=0,$J=(()=>{class i extends mL{constructor(e,r,o,s,l){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=l,this._document=(0,a.f3M)(ue),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new At.x,this._onExit=new At.x,this._onEnter=new At.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+jJ++,this.attachDomPortal=h=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),p},this._live="assertive"!==l.politeness||l.announcementMessage?"off"===l.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:o}=e;if(("void"===o&&"void"!==r||"hidden"===o)&&this._completeExit(),"visible"===o){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Gi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(o=>e.classList.add(o)):e.classList.add(r)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){const s=r[o],l=s.getAttribute("aria-owns");this._trackedModals.add(s),l?-1===l.indexOf(e)&&s.setAttribute("aria-owns",l+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const r=e.getAttribute("aria-owns");if(r){const o=r.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(br),a.Y36(pM))},i.\u0275dir=a.lG2({type:i,viewQuery:function(e,r){if(1&e&&a.Gf(gL,7),2&e){let o;a.iGM(o=a.CRH())&&(r._portalOutlet=o.first)}},features:[a.qOj]}),i})(),GJ=(()=>{class i extends $J{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,r="mdc-snackbar__label";e.classList.toggle(r,!e.querySelector(`.${r}`))}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,r){if(1&e&&a.Gf(NJ,7),2&e){let o;a.iGM(o=a.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,r){1&e&&a.WFA("@state.done",function(s){return r.onAnimationEnd(s)}),2&e&&a.d8E("@state",r._animationState)},features:[a.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),a.YNc(4,FJ,0,0,"ng-template",4),a.qZA(),a._UZ(5,"div"),a.qZA()()),2&e&&(a.xp6(5),a.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[gL],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[zJ.snackBarState]}}),i})(),Tz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[bz,_L,Cr,j6,di,di]}),i})();const Sz=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function qJ(){return new pM}});let WJ=(()=>{class i{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,o,s,l,h){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=l,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){const s={...this._defaultConfig,...o};return s.data={message:e,action:r},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const s=a.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:pM,useValue:r}]}),l=new pL(this.snackBarContainerComponent,r.viewContainerRef,s),h=e.attach(l);return h.instance.snackBarConfig=r,h.instance}_attach(e,r){const o={...new pM,...this._defaultConfig,...r},s=this._createOverlay(o),l=this._attachSnackBarContainer(s,o),h=new PL(l,s);if(e instanceof a.Rgc){const p=new iM(e,null,{$implicit:o.data,snackBarRef:h});h.instance=l.attachTemplatePortal(p)}else{const p=this._createInjector(o,h),g=new pL(e,void 0,p),w=l.attachComponentPortal(g);h.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Mn(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),o.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(h,o),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new AL;r.direction=e.direction;let o=this._overlay.position().global();const s="rtl"===e.direction,l="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,h=!l&&"center"!==e.horizontalPosition;return l?o.left("0"):h?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:PL,useValue:r},{provide:kz,useValue:e.data}]})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(D0),a.LFG(XF),a.LFG(a.zs3),a.LFG(KF),a.LFG(i,12),a.LFG(Sz))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),ZJ=(()=>{class i extends WJ{constructor(e,r,o,s,l,h){super(e,r,o,s,l,h),this.simpleSnackBarComponent=HJ,this.snackBarContainerComponent=GJ,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(D0),a.LFG(XF),a.LFG(a.zs3),a.LFG(KF),a.LFG(i,12),a.LFG(Sz))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:Tz}),i})();function Az(i){return!!i&&(i instanceof Bn.y||(0,zo.m)(i.lift)&&(0,zo.m)(i.subscribe))}const YJ=[[["caption"]],[["colgroup"],["col"]]],KJ=["caption","colgroup, col"];function NL(i){return class extends i{get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=Lt(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const I0=new a.OlP("CDK_TABLE");let k0=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),T0=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),mM=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class eee{}const tee=NL(eee);let cf=(()=>{class i extends tee{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=Lt(e),this._hasStickyChanged=r!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(I0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,o){if(1&e&&(a.Suo(o,k0,5),a.Suo(o,T0,5),a.Suo(o,mM,5)),2&e){let s;a.iGM(s=a.CRH())&&(r.cell=s.first),a.iGM(s=a.CRH())&&(r.headerCell=s.first),a.iGM(s=a.CRH())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),a.qOj]}),i})();class FL{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let LL=(()=>{class i extends FL{constructor(e,r){super(e,r)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(cf),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),i})(),BL=(()=>{class i extends FL{constructor(e,r){if(super(e,r),1===e._table?._elementRef.nativeElement.nodeType){const o=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(cf),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),i})();class Rz{constructor(){this.tasks=[],this.endTasks=[]}}const VL=new a.OlP("_COALESCED_STYLE_SCHEDULER");let Oz=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new At.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Rz,this._getScheduleObservable().pipe(Mn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Rz;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,An.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Gi(1))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),UL=(()=>{class i{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof nD?e.headerCell.template:this instanceof iD?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},i.\u0275dir=a.lG2({type:i,features:[a.TTD]}),i})();class nee extends UL{}const iee=NL(nee);let nD=(()=>{class i extends iee{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(I0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),i})();class ree extends UL{}const oee=NL(ree);let iD=(()=>{class i extends oee{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(I0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),i})(),gM=(()=>{class i extends UL{constructor(e,r,o){super(e,r),this._table=o}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(I0,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),i})(),lf=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),HL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&a.GkF(0,0)},dependencies:[lf],encapsulation:2}),i})(),jL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&a.GkF(0,0)},dependencies:[lf],encapsulation:2}),i})(),_M=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const Pz=["top","bottom","left","right"];class see{constructor(n,e,r,o,s=!0,l=!0,h){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=s,this._needsPositionStickyOnElement=l,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const r=[];for(const o of n)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let s=0;s<o.children.length;s++)r.push(o.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const o of r)this._removeStickyStyle(o,e)})}updateStickyColumns(n,e,r,o=!0){if(!n.length||!this._isBrowser||!e.some(S=>S)&&!r.some(S=>S))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=n[0],l=s.children.length,h=this._getCellWidths(s,o),p=this._getStickyStartColumnPositions(h,e),g=this._getStickyEndColumnPositions(h,r),w=e.lastIndexOf(!0),E=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const S="rtl"===this.direction,O=S?"right":"left",F=S?"left":"right";for(const G of n)for(let Q=0;Q<l;Q++){const ve=G.children[Q];e[Q]&&this._addStickyStyle(ve,O,p[Q],Q===w),r[Q]&&this._addStickyStyle(ve,F,g[Q],Q===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:h.slice(0,w+1).map((G,Q)=>e[Q]?G:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:h.slice(E).map((G,Q)=>r[Q+E]?G:null).reverse()}))})}stickRows(n,e,r){if(!this._isBrowser)return;const o="bottom"===r?n.slice().reverse():n,s="bottom"===r?e.slice().reverse():e,l=[],h=[],p=[];for(let w=0,E=0;w<o.length;w++){if(!s[w])continue;l[w]=E;const S=o[w];p[w]=this._isNativeHtmlTable?Array.from(S.children):[S];const O=S.getBoundingClientRect().height;E+=O,h[w]=O}const g=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let w=0;w<o.length;w++){if(!s[w])continue;const E=l[w],S=w===g;for(const O of p[w])this._addStickyStyle(O,r,E,S)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:l,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:l,elements:p})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const r=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const o of e)n.style[o]="",n.classList.remove(this._borderCellCss[o]);Pz.some(o=>-1===e.indexOf(o)&&n.style[o])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,r,o){n.classList.add(this._stickCellCss),o&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${r}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const o of Pz)n.style[o]&&(r+=e[o]);return r?`${r}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],o=n.children;for(let s=0;s<o.length;s++)r.push(o[s].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(n,e){const r=[];let o=0;for(let s=0;s<n.length;s++)e[s]&&(r[s]=o,o+=n[s]);return r}_getStickyEndColumnPositions(n,e){const r=[];let o=0;for(let s=n.length;s>0;s--)e[s]&&(r[s]=o,o+=n[s]);return r}}const $L=new a.OlP("CDK_SPL");let vM=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),yM=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),bM=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),wM=(()=>{class i{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),xM=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Lt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Lt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,r,o,s,l,h,p,g,w,E,S,O){this._differs=e,this._changeDetectorRef=r,this._elementRef=o,this._dir=l,this._platform=p,this._viewRepeater=g,this._coalescedStyleScheduler=w,this._viewportRuler=E,this._stickyPositioningListener=S,this._ngZone=O,this._onDestroy=new At.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Sa.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Mn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),oL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(o,s,l)=>this._getEmbeddedViewArgs(o.item,l),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{r.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Gi(1),Mn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const s=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const s=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,l)=>{this._addStickyColumnStyles([s],this._headerRowDefs[l])}),this._rowDefs.forEach(s=>{const l=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===s&&l.push(r[h]);this._addStickyColumnStyles(l,s)}),o.forEach((s,l)=>{this._addStickyColumnStyles([s],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let s=this._data[o];const l=this._getRenderRowsForData(s,o,r.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<l.length;h++){let p=l[h];const g=this._cachedRenderRowsMap.get(p.data);g.has(p.rowDef)?g.get(p.rowDef).push(p):g.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,r,o){return this._getRowDefs(e,r).map(l=>{const h=o&&o.has(l)?o.get(l):[];if(h.length){const p=h.shift();return p.dataIndex=r,p}return{data:e,rowDef:l,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),CM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=CM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=CM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=CM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,h)=>l||!!h.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),r||o||s}_switchDataSource(e){this._data=[],oL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;oL(this.dataSource)?e=this.dataSource.connect(this):Az(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Dt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Mn(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const o=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),s=o.map(h=>h.sticky),l=o.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let o=0;o<e.viewContainer.length;o++){const s=e.viewContainer.get(o);r.push(s.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(s=>!s.when||s.when(r,e));else{let s=this._rowDefs.find(l=>l.when&&l.when(r,e))||this._defaultRowDef;s&&o.push(s)}return o}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,o,s={}){const l=e.viewContainer.createEmbeddedView(r.template,s,o);return this._renderCellTemplateForItem(r,s),l}_renderCellTemplateForItem(e,r){for(let o of this._getCellTemplates(e))lf.mostRecentCellOutlet&&lf.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,o=e.length;r<o;r++){const l=e.get(r).context;l.count=o,l.first=0===r,l.last=r===o-1,l.even=r%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[r].dataIndex,l.renderIndex=r):l.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const o=this._columnDefsByName.get(r);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of r){const s=this._document.createElement(o.tag);s.setAttribute("role","rowgroup");for(const l of o.outlets)s.appendChild(l.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,o)=>r||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new see(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Dt.of)()).pipe(Mn(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(r){const s=o.createEmbeddedView(e.templateRef),l=s.rootNodes[0];1===s.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=r}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(tf,8),a.Y36(ue),a.Y36(br),a.Y36(GE),a.Y36(VL),a.Y36(eD),a.Y36($L,12),a.Y36(a.R0b,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,o){if(1&e&&(a.Suo(o,_M,5),a.Suo(o,cf,5),a.Suo(o,gM,5),a.Suo(o,nD,5),a.Suo(o,iD,5)),2&e){let s;a.iGM(s=a.CRH())&&(r._noDataRow=s.first),a.iGM(s=a.CRH())&&(r._contentColumnDefs=s),a.iGM(s=a.CRH())&&(r._contentRowDefs=s),a.iGM(s=a.CRH())&&(r._contentHeaderRowDefs=s),a.iGM(s=a.CRH())&&(r._contentFooterRowDefs=s)}},viewQuery:function(e,r){if(1&e&&(a.Gf(vM,7),a.Gf(yM,7),a.Gf(bM,7),a.Gf(wM,7)),2&e){let o;a.iGM(o=a.CRH())&&(r._rowOutlet=o.first),a.iGM(o=a.CRH())&&(r._headerRowOutlet=o.first),a.iGM(o=a.CRH())&&(r._footerRowOutlet=o.first),a.iGM(o=a.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:I0,useExisting:i},{provide:GE,useClass:$6},{provide:VL,useClass:Oz},{provide:$L,useValue:null}])],ngContentSelectors:KJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(a.F$t(YJ),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[vM,yM,bM,wM],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),i})();function CM(i,n){return i.concat(Array.from(n))}let cee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[TL]}),i})();const lee=[[["caption"]],[["colgroup"],["col"]]],dee=["caption","colgroup, col"];let Fz=(()=>{class i extends xM{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:xM,useExisting:i},{provide:I0,useExisting:i},{provide:VL,useClass:Oz},{provide:GE,useClass:$6},{provide:$L,useValue:null}]),a.qOj],ngContentSelectors:dee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(a.F$t(lee),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[vM,yM,bM,wM],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),i})(),GL=(()=>{class i extends k0{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:k0,useExisting:i}]),a.qOj]}),i})(),qL=(()=>{class i extends T0{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:T0,useExisting:i}]),a.qOj]}),i})(),WL=(()=>{class i extends cf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:cf,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),a.qOj]}),i})(),ZL=(()=>{class i extends LL{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[a.qOj]}),i})(),YL=(()=>{class i extends BL{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[a.qOj]}),i})(),Lz=(()=>{class i extends nD{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:nD,useExisting:i}]),a.qOj]}),i})(),Bz=(()=>{class i extends gM{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:gM,useExisting:i}]),a.qOj]}),i})(),Vz=(()=>{class i extends HL{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:HL,useExisting:i}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&a.GkF(0,0)},dependencies:[lf],encapsulation:2}),i})(),Uz=(()=>{class i extends jL{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[a._Bn([{provide:jL,useExisting:i}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&a.GkF(0,0)},dependencies:[lf],encapsulation:2}),i})(),vee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,cee,di]}),i})();const bee=["*",[["mat-toolbar-row"]]],wee=["*","mat-toolbar-row"],xee=UE(class{constructor(i){this._elementRef=i}});let Hz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),Cee=(()=>{class i extends xee{constructor(e,r,o){super(e),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(br),a.Y36(ue))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,r,o){if(1&e&&a.Suo(o,Hz,5),2&e){let s;a.iGM(s=a.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:wee,decls:2,vars:0,template:function(e,r){1&e&&(a.F$t(bee),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),i})(),Eee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[di,di]}),i})();function zz(i){return new a.vHH(3e3,!1)}function wm(i){switch(i.length){case 0:return new qE;case 1:return i[0];default:return new sH(i)}}function jz(i,n,e=new Map,r=new Map){const o=[],s=[];let l=-1,h=null;if(n.forEach(p=>{const g=p.get("offset"),w=g==l,E=w&&h||new Map;p.forEach((S,O)=>{let F=O,G=S;if("offset"!==O)switch(F=i.normalizePropertyName(F,o),G){case"!":G=e.get(O);break;case rf:G=r.get(O);break;default:G=i.normalizeStyleValue(O,F,G,o)}E.set(F,G)}),w||s.push(E),h=E,l=g}),o.length)throw function Wee(i){return new a.vHH(3502,!1)}();return s}function KL(i,n,e,r){switch(n){case"start":i.onStart(()=>r(e&&QL(e,"start",i)));break;case"done":i.onDone(()=>r(e&&QL(e,"done",i)));break;case"destroy":i.onDestroy(()=>r(e&&QL(e,"destroy",i)))}}function QL(i,n,e){const s=XL(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),l=i._data;return null!=l&&(s._data=l),s}function XL(i,n,e,r,o="",s=0,l){return{element:i,triggerName:n,fromState:e,toState:r,phaseName:o,totalTime:s,disabled:!!l}}function lc(i,n,e){let r=i.get(n);return r||i.set(n,r=e),r}function $z(i){const n=i.indexOf(":");return[i.substring(1,n),i.slice(n+1)]}const ote=(()=>typeof document>"u"?null:document.documentElement)();function JL(i){const n=i.parentNode||i.host||null;return n===ote?null:n}let av=null,Gz=!1;function qz(i,n){for(;n;){if(n===i)return!0;n=JL(n)}return!1}function Wz(i,n,e){if(e)return Array.from(i.querySelectorAll(n));const r=i.querySelector(n);return r?[r]:[]}let Zz=(()=>{class i{validateStyleProperty(e){return function ate(i){av||(av=function cte(){return typeof document<"u"?document.body:null}()||{},Gz=!!av.style&&"WebkitAppearance"in av.style);let n=!0;return av.style&&!function ste(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in av.style,!n&&Gz&&(n="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in av.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return qz(e,r)}getParentElement(e){return JL(e)}query(e,r,o){return Wz(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,s,l,h=[],p){return new qE(o,s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),e2=(()=>{class i{}return i.NOOP=new Zz,i})();const lte=1e3,t2="ng-enter",EM="ng-leave",DM="ng-trigger",IM=".ng-trigger",Kz="ng-animating",n2=".ng-animating";function df(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:r2(parseFloat(n[1]),n[2])}function r2(i,n){return"s"===n?i*lte:i}function kM(i,n,e){return i.hasOwnProperty("duration")?i:function ute(i,n,e){let o,s=0,l="";if("string"==typeof i){const h=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return n.push(zz()),{duration:0,delay:0,easing:""};o=r2(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=r2(parseFloat(p),h[4]));const g=h[5];g&&(l=g)}else o=i;if(!e){let h=!1,p=n.length;o<0&&(n.push(function Dee(){return new a.vHH(3100,!1)}()),h=!0),s<0&&(n.push(function Iee(){return new a.vHH(3101,!1)}()),h=!0),h&&n.splice(p,0,zz())}return{duration:o,delay:s,easing:l}}(i,n,e)}function rD(i,n={}){return Object.keys(i).forEach(e=>{n[e]=i[e]}),n}function Qz(i){const n=new Map;return Object.keys(i).forEach(e=>{n.set(e,i[e])}),n}function xm(i,n=new Map,e){if(e)for(let[r,o]of e)n.set(r,o);for(let[r,o]of i)n.set(r,o);return n}function uu(i,n,e){n.forEach((r,o)=>{const s=s2(o);e&&!e.has(o)&&e.set(o,i.style[s]),i.style[s]=r})}function cv(i,n){n.forEach((e,r)=>{const o=s2(r);i.style[o]=""})}function oD(i){return Array.isArray(i)?1==i.length?i[0]:rH(i):i}const o2=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jz(i){let n=[];if("string"==typeof i){let e;for(;e=o2.exec(i);)n.push(e[1]);o2.lastIndex=0}return n}function sD(i,n,e){const r=i.toString(),o=r.replace(o2,(s,l)=>{let h=n[l];return null==h&&(e.push(function Tee(i){return new a.vHH(3003,!1)}()),h=""),h.toString()});return o==r?i:o}function TM(i){const n=[];let e=i.next();for(;!e.done;)n.push(e.value),e=i.next();return n}const pte=/-+([a-z0-9])/g;function s2(i){return i.replace(pte,(...n)=>n[1].toUpperCase())}function dc(i,n,e){switch(n.type){case 7:return i.visitTrigger(n,e);case 0:return i.visitState(n,e);case 1:return i.visitTransition(n,e);case 2:return i.visitSequence(n,e);case 3:return i.visitGroup(n,e);case 4:return i.visitAnimate(n,e);case 5:return i.visitKeyframes(n,e);case 6:return i.visitStyle(n,e);case 8:return i.visitReference(n,e);case 9:return i.visitAnimateChild(n,e);case 10:return i.visitAnimateRef(n,e);case 11:return i.visitQuery(n,e);case 12:return i.visitStagger(n,e);default:throw function See(i){return new a.vHH(3004,!1)}()}}function ej(i,n){return window.getComputedStyle(i)[n]}const SM="*";function _te(i,n){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(r=>function vte(i,n,e){if(":"==i[0]){const p=function yte(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function jee(i){return new a.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof p)return void n.push(p);i=p}const r=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function zee(i){return new a.vHH(3015,!1)}()),n;const o=r[1],s=r[2],l=r[3];n.push(tj(o,l));"<"==s[0]&&!(o==SM&&l==SM)&&n.push(tj(l,o))}(r,e,n)):e.push(i),e}const AM=new Set(["true","1"]),MM=new Set(["false","0"]);function tj(i,n){const e=AM.has(i)||MM.has(i),r=AM.has(n)||MM.has(n);return(o,s)=>{let l=i==SM||i==o,h=n==SM||n==s;return!l&&e&&"boolean"==typeof o&&(l=o?AM.has(i):MM.has(i)),!h&&r&&"boolean"==typeof s&&(h=s?AM.has(n):MM.has(n)),l&&h}}const bte=new RegExp("s*:selfs*,?","g");function a2(i,n,e,r){return new wte(i).build(n,e,r)}class wte{constructor(n){this._driver=n}build(n,e,r){const o=new Ete(e);return this._resetContextStyleTimingState(o),dc(this,oD(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,o=e.depCount=0;const s=[],l=[];return"@"==n.name.charAt(0)&&e.errors.push(function Mee(){return new a.vHH(3006,!1)}()),n.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,g=p.name;g.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,e))}),p.name=g}else if(1==h.type){const p=this.visitTransition(h,e);r+=p.queryCount,o+=p.depCount,l.push(p)}else e.errors.push(function Ree(){return new a.vHH(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:l,queryCount:r,depCount:o,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=o||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{Jz(p).forEach(g=>{l.hasOwnProperty(g)||s.add(g)})})}),s.size&&(TM(s.values()),e.errors.push(function Oee(i,n){return new a.vHH(3008,!1)}()))}return{type:0,name:n.name,style:r,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=dc(this,oD(n.animation),e);return{type:1,matchers:_te(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:lv(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>dc(this,r,e)),options:lv(n.options)}}visitGroup(n,e){const r=e.currentTime;let o=0;const s=n.steps.map(l=>{e.currentTime=r;const h=dc(this,l,e);return o=Math.max(o,e.currentTime),h});return e.currentTime=o,{type:3,steps:s,options:lv(n.options)}}visitAnimate(n,e){const r=function Ite(i,n){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return c2(kM(i,n).duration,0,"");const e=i;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=c2(0,0,"");return s.dynamic=!0,s.strValue=e,s}const o=kM(e,n);return c2(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let o,s=n.styles?n.styles:Vs({});if(5==s.type)o=this.visitKeyframes(s,e);else{let l=n.styles,h=!1;if(!l){h=!0;const g={};r.easing&&(g.easing=r.easing),l=Vs(g)}e.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,e);p.isEmptyStep=h,o=p}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let h of o)"string"==typeof h?h===rf?r.push(h):e.errors.push(new a.vHH(3002,!1)):r.push(Qz(h));let s=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:l,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let o=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const g=e.collectedStyles.get(e.currentQuerySelector),w=g.get(p);let E=!0;w&&(s!=o&&s>=w.startTime&&o<=w.endTime&&(e.errors.push(function Nee(i,n,e,r,o){return new a.vHH(3010,!1)}()),E=!1),s=w.startTime),E&&g.set(p,{startTime:s,endTime:o}),e.options&&function fte(i,n,e){const r=n.params||{},o=Jz(i);o.length&&o.forEach(s=>{r.hasOwnProperty(s)||e.push(function kee(i){return new a.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Fee(){return new a.vHH(3011,!1)}()),r;let s=0;const l=[];let h=!1,p=!1,g=0;const w=n.steps.map(ve=>{const Se=this._makeStyleAst(ve,e);let Oe=null!=Se.offset?Se.offset:function Dte(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Se.styles),Ae=0;return null!=Oe&&(s++,Ae=Se.offset=Oe),p=p||Ae<0||Ae>1,h=h||Ae<g,g=Ae,l.push(Ae),Se});p&&e.errors.push(function Lee(){return new a.vHH(3012,!1)}()),h&&e.errors.push(function Bee(){return new a.vHH(3200,!1)}());const E=n.steps.length;let S=0;s>0&&s<E?e.errors.push(function Vee(){return new a.vHH(3202,!1)}()):0==s&&(S=1/(E-1));const O=E-1,F=e.currentTime,G=e.currentAnimateTimings,Q=G.duration;return w.forEach((ve,Se)=>{const Oe=S>0?Se==O?1:S*Se:l[Se],Ae=Oe*Q;e.currentTime=F+G.delay+Ae,G.duration=Ae,this._validateStyleAst(ve,e),ve.offset=Oe,r.styles.push(ve)}),r}visitReference(n,e){return{type:8,animation:dc(this,oD(n.animation),e),options:lv(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:lv(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:lv(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[s,l]=function xte(i){const n=!!i.split(/\s*,\s*/).find(e=>":self"==e);return n&&(i=i.replace(bte,"")),i=i.replace(/@\*/g,IM).replace(/@\w+/g,e=>IM+"-"+e.slice(1)).replace(/:animating/g,n2),[i,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,lc(e.collectedStyles,e.currentQuerySelector,new Map);const h=dc(this,oD(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:h,originalSelector:n.selector,options:lv(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Uee(){return new a.vHH(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:kM(n.timings,e.errors,!0);return{type:12,animation:dc(this,oD(n.animation),e),timings:r,options:null}}}class Ete{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lv(i){return i?(i=rD(i)).params&&(i.params=function Cte(i){return i?rD(i):null}(i.params)):i={},i}function c2(i,n,e){return{duration:i,delay:n,easing:e}}function l2(i,n,e,r,o,s,l=null,h=!1){return{type:1,element:i,keyframes:n,preStyleProps:e,postStyleProps:r,duration:o,delay:s,totalTime:o+s,easing:l,subTimeline:h}}class RM{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Ste=new RegExp(":enter","g"),Mte=new RegExp(":leave","g");function d2(i,n,e,r,o,s=new Map,l=new Map,h,p,g=[]){return(new Rte).buildKeyframes(i,n,e,r,o,s,l,h,p,g)}class Rte{buildKeyframes(n,e,r,o,s,l,h,p,g,w=[]){g=g||new RM;const E=new u2(n,e,g,o,s,w,[]);E.options=p;const S=p.delay?df(p.delay):0;E.currentTimeline.delayNextStep(S),E.currentTimeline.setStyles([l],null,E.errors,p),dc(this,r,E);const O=E.timelines.filter(F=>F.containsAnimation());if(O.length&&h.size){let F;for(let G=O.length-1;G>=0;G--){const Q=O[G];if(Q.element===e){F=Q;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,E.errors,p)}return O.length?O.map(F=>F.buildKeyframes()):[l2(e,[],[],[],0,S,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(n.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const o of n){const s=o?.delay;if(s){const l="number"==typeof s?s:df(sD(s,o?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime;const l=null!=r.duration?df(r.duration):null,h=null!=r.delay?df(r.delay):null;return 0!==l&&n.forEach(p=>{const g=e.appendInstructionToTimeline(p,l,h);s=Math.max(s,g.duration+g.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),dc(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let o=e;const s=n.options;if(s&&(s.params||s.delay)&&(o=e.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=OM);const l=df(s.delay);o.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>dc(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let o=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?df(n.options.delay):0;n.steps.forEach(l=>{const h=e.createSubContext(n.options);s&&h.delayNextStep(s),dc(this,l,h),o=Math.max(o,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return kM(e.params?sD(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=o&&o.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,s=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,n.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(o+s),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,o=n.options||{},s=o.delay?df(o.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=OM);let l=r;const h=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((g,w)=>{e.currentQueryIndex=w;const E=e.createSubContext(n.options,g);s&&E.delayNextStep(s),g===e.element&&(p=E.currentTimeline),dc(this,n.animation,E),E.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,o=e.currentTimeline,s=n.timings,l=Math.abs(s.duration),h=l*(e.currentQueryTotal-1);let p=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const E=w.currentTime;dc(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=o.currentTime-E+(o.startTime-r.currentTimeline.startTime)}}const OM={};class u2{constructor(n,e,r,o,s,l,h,p){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new PM(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let o=this.options;null!=r.duration&&(o.duration=df(r.duration)),null!=r.delay&&(o.delay=df(r.delay));const s=r.params;if(s){let l=o.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!l.hasOwnProperty(h))&&(l[h]=sD(s[h],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return n}createSubContext(n=null,e,r){const o=e||this.element,s=new u2(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=OM,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new Ote(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,o,s,l){let h=[];if(o&&h.push(this.element),n.length>0){n=(n=n.replace(Ste,"."+this._enterClassName)).replace(Mte,"."+this._leaveClassName);let g=this._driver.query(this.element,n,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),h.push(...g)}return!s&&0==h.length&&l.push(function Hee(i){return new a.vHH(3014,!1)}()),h}}class PM{constructor(n,e,r,o){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new PM(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||rf),this._currentKeyframe.set(e,rf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,o){e&&this._previousKeyframe.set("easing",e);const s=o&&o.params||{},l=function Pte(i,n){const e=new Map;let r;return i.forEach(o=>{if("*"===o){r=r||n.keys();for(let s of r)e.set(s,rf)}else xm(o,e)}),e}(n,this._globalTimelineStyles);for(let[h,p]of l){const g=sD(p,s,r);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??rf),this._updateStyle(h,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((h,p)=>{const g=xm(h,new Map,this._backFill);g.forEach((w,E)=>{"!"===w?n.add(E):w===rf&&e.add(E)}),r||g.set("offset",p/this.duration),o.push(g)});const s=n.size?TM(n.values()):[],l=e.size?TM(e.values()):[];if(r){const h=o[0],p=new Map(h);h.set("offset",0),p.set("offset",1),o=[h,p]}return l2(this.element,o,s,l,this.duration,this.startTime,this.easing,!1)}}class Ote extends PM{constructor(n,e,r,o,s,l,h=!1){super(n,e,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=r+e,h=e/l,p=xm(n[0]);p.set("offset",0),s.push(p);const g=xm(n[0]);g.set("offset",rj(h)),s.push(g);const w=n.length-1;for(let E=1;E<=w;E++){let S=xm(n[E]);const O=S.get("offset");S.set("offset",rj((e+O*r)/l)),s.push(S)}r=l,e=0,o="",n=s}return l2(this.element,n,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function rj(i,n=3){const e=Math.pow(10,n-1);return Math.round(i*e)/e}class h2{}const Nte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fte extends h2{normalizePropertyName(n,e){return s2(n)}normalizeStyleValue(n,e,r,o){let s="";const l=r.toString().trim();if(Nte.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&o.push(function Aee(i,n){return new a.vHH(3005,!1)}())}return l+s}}function oj(i,n,e,r,o,s,l,h,p,g,w,E,S){return{type:0,element:i,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:s,toState:r,toStyles:l,timelines:h,queriedElements:p,preStyleProps:g,postStyleProps:w,totalTime:E,errors:S}}const f2={};class sj{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,o){return function Lte(i,n,e,r,o){return i.some(s=>s(n,e,r,o))}(this.ast.matchers,n,e,r,o)}buildStyles(n,e,r){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,r):new Map}build(n,e,r,o,s,l,h,p,g,w){const E=[],S=this.ast.options&&this.ast.options.params||f2,F=this.buildStyles(r,h&&h.params||f2,E),G=p&&p.params||f2,Q=this.buildStyles(o,G,E),ve=new Set,Se=new Map,Oe=new Map,Ae="void"===o,Le={params:Bte(G,S),delay:this.ast.options?.delay},Je=w?[]:d2(n,e,this.ast.animation,s,l,F,Q,Le,g,E);let ht=0;if(Je.forEach(gn=>{ht=Math.max(gn.duration+gn.delay,ht)}),E.length)return oj(e,this._triggerName,r,o,Ae,F,Q,[],[],Se,Oe,ht,E);Je.forEach(gn=>{const Ni=gn.element,fc=lc(Se,Ni,new Set);gn.preStyleProps.forEach(Us=>fc.add(Us));const Xo=lc(Oe,Ni,new Set);gn.postStyleProps.forEach(Us=>Xo.add(Us)),Ni!==e&&ve.add(Ni)});const Bt=TM(ve.values());return oj(e,this._triggerName,r,o,Ae,F,Q,Je,Bt,Se,Oe,ht)}}function Bte(i,n){const e=rD(n);for(const r in i)i.hasOwnProperty(r)&&null!=i[r]&&(e[r]=i[r]);return e}class Vte{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,o=rD(this.defaultParams);return Object.keys(n).forEach(s=>{const l=n[s];null!==l&&(o[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=sD(l,o,e));const p=this.normalizer.normalizePropertyName(h,e);l=this.normalizer.normalizeStyleValue(h,p,l,e),r.set(h,l)})}),r}}class Hte{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new Vte(o.style,o.options&&o.options.params||{},r))}),aj(this.states,"true","1"),aj(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new sj(n,o,this.states))}),this.fallbackTransition=function zte(i,n,e){return new sj(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,o){return this.transitionFactories.find(l=>l.match(n,e,r,o))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function aj(i,n,e){i.has(n)?i.has(e)||i.set(e,i.get(n)):i.has(e)&&i.set(n,i.get(e))}const jte=new RM;class $te{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],s=a2(this._driver,e,r,[]);if(r.length)throw function Zee(i){return new a.vHH(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,r){const o=n.element,s=jz(this._normalizer,n.keyframes,e,r);return this._driver.animate(o,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const o=[],s=this._animations.get(n);let l;const h=new Map;if(s?(l=d2(this._driver,e,s,t2,EM,new Map,new Map,r,jte,o),l.forEach(w=>{const E=lc(h,w.element,new Map);w.postStyleProps.forEach(S=>E.set(S,null))})):(o.push(function Yee(){return new a.vHH(3300,!1)}()),l=[]),o.length)throw function Kee(i){return new a.vHH(3504,!1)}();h.forEach((w,E)=>{w.forEach((S,O)=>{w.set(O,this._driver.computeStyle(E,O,rf))})});const g=wm(l.map(w=>{const E=h.get(w.element);return this._buildPlayer(w,new Map,E)}));return this._playersById.set(n,g),g.onDestroy(()=>this.destroy(n)),this.players.push(g),g}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Qee(i){return new a.vHH(3301,!1)}();return e}listen(n,e,r,o){const s=XL(e,"","","");return KL(this._getPlayer(n),r,s,o),()=>{}}command(n,e,r,o){if("register"==r)return void this.register(n,o[0]);if("create"==r)return void this.create(n,e,o[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const cj="ng-animate-queued",p2="ng-animate-disabled",Yte=[],lj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xc="__ng_removed";class m2{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function ene(i){return i??null}(r?n.value:n),r){const s=rD(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const aD="void",g2=new m2(aD);class Qte{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Jc(e,this._hostClassName)}listen(n,e,r,o){if(!this._triggers.has(e))throw function Xee(i,n){return new a.vHH(3302,!1)}();if(null==r||0==r.length)throw function Jee(i){return new a.vHH(3303,!1)}();if(!function tne(i){return"start"==i||"done"==i}(r))throw function ete(i,n){return new a.vHH(3400,!1)}();const s=lc(this._elementListeners,n,[]),l={name:e,phase:r,callback:o};s.push(l);const h=lc(this._engine.statesByElement,n,new Map);return h.has(e)||(Jc(n,DM),Jc(n,DM+"-"+e),h.set(e,g2)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(e)||h.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function tte(i){return new a.vHH(3401,!1)}();return e}trigger(n,e,r,o=!0){const s=this._getTrigger(e),l=new _2(this.id,e,n);let h=this._engine.statesByElement.get(n);h||(Jc(n,DM),Jc(n,DM+"-"+e),this._engine.statesByElement.set(n,h=new Map));let p=h.get(e);const g=new m2(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),h.set(e,g),p||(p=g2),g.value!==aD&&p.value===g.value){if(!function rne(i,n){const e=Object.keys(i),r=Object.keys(n);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const s=e[o];if(!n.hasOwnProperty(s)||i[s]!==n[s])return!1}return!0}(p.params,g.params)){const G=[],Q=s.matchStyles(p.value,p.params,G),ve=s.matchStyles(g.value,g.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{cv(n,Q),uu(n,ve)})}return}const S=lc(this._engine.playersByElement,n,[]);S.forEach(G=>{G.namespaceId==this.id&&G.triggerName==e&&G.queued&&G.destroy()});let O=s.matchTransition(p.value,g.value,n,g.params),F=!1;if(!O){if(!o)return;O=s.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:O,fromState:p,toState:g,player:l,isFallbackTransition:F}),F||(Jc(n,cj),l.onStart(()=>{S0(n,cj)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const Q=this._engine.playersByElement.get(n);if(Q){let ve=Q.indexOf(l);ve>=0&&Q.splice(ve,1)}}),this.players.push(l),S.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,IM,!0);r.forEach(o=>{if(o[Xc])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,r,o){const s=this._engine.statesByElement.get(n),l=new Map;if(s){const h=[];if(s.forEach((p,g)=>{if(l.set(g,p.value),this._triggers.has(g)){const w=this.trigger(n,g,aD,o);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,l),r&&wm(h).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const o=new Set;e.forEach(s=>{const l=s.name;if(o.has(l))return;o.add(l);const p=this._triggers.get(l).fallbackTransition,g=r.get(l)||g2,w=new m2(aD),E=new _2(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:p,fromState:g,toState:w,player:E,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)o=!0;else{let l=n;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)r.markElementAsRemoved(this.id,n,!1,e);else{const s=n[Xc];(!s||s===lj)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){Jc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==r.triggerName){const p=XL(s,r.triggerName,r.fromState.value,r.toState.value);p._data=n,KL(r.player,h.phase,p,h.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const s=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class Xte{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new Qte(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(e);for(;h;){const p=o.get(h);if(p){const g=r.indexOf(p);r.splice(g+1,0,n),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(n)}else r.push(n);return o.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let o=this._namespaceLookup[n];o&&o.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let o of r.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&e.add(s)}return e}trigger(n,e,r,o){if(NM(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,r,o),!0}return!1}insertNode(n,e,r,o){if(!NM(e))return;const s=e[Xc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Jc(n,p2)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),S0(n,p2))}removeNode(n,e,r){if(NM(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,o,s){this.collectedLeaveElements.push(e),e[Xc]={namespaceId:n,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,o,s){return NM(e)?this._fetchNamespace(n).listen(e,r,o,s):()=>{}}_buildInstruction(n,e,r,o,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,o,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,IM,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,n2,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return wm(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Xc];if(e&&e.setForRemoval){if(n[Xc]=lj,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(p2)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Jc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?wm(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(n){throw function nte(i){return new a.vHH(3402,!1)}()}_flushAnimations(n,e){const r=new RM,o=[],s=new Map,l=[],h=new Map,p=new Map,g=new Map,w=new Set;this.disabledNodes.forEach(Ut=>{w.add(Ut);const rn=this.driver.query(Ut,".ng-animate-queued",!0);for(let un=0;un<rn.length;un++)w.add(rn[un])});const E=this.bodyNode,S=Array.from(this.statesByElement.keys()),O=hj(S,this.collectedEnterElements),F=new Map;let G=0;O.forEach((Ut,rn)=>{const un=t2+G++;F.set(rn,un),Ut.forEach(ri=>Jc(ri,un))});const Q=[],ve=new Set,Se=new Set;for(let Ut=0;Ut<this.collectedLeaveElements.length;Ut++){const rn=this.collectedLeaveElements[Ut],un=rn[Xc];un&&un.setForRemoval&&(Q.push(rn),ve.add(rn),un.hasAnimation?this.driver.query(rn,".ng-star-inserted",!0).forEach(ri=>ve.add(ri)):Se.add(rn))}const Oe=new Map,Ae=hj(S,Array.from(ve));Ae.forEach((Ut,rn)=>{const un=EM+G++;Oe.set(rn,un),Ut.forEach(ri=>Jc(ri,un))}),n.push(()=>{O.forEach((Ut,rn)=>{const un=F.get(rn);Ut.forEach(ri=>S0(ri,un))}),Ae.forEach((Ut,rn)=>{const un=Oe.get(rn);Ut.forEach(ri=>S0(ri,un))}),Q.forEach(Ut=>{this.processLeaveNode(Ut)})});const Le=[],Je=[];for(let Ut=this._namespaceList.length-1;Ut>=0;Ut--)this._namespaceList[Ut].drainQueuedTransitions(e).forEach(un=>{const ri=un.player,Jo=un.element;if(Le.push(ri),this.collectedEnterElements.length){const Hs=Jo[Xc];if(Hs&&Hs.setForMove){if(Hs.previousTriggersValues&&Hs.previousTriggersValues.has(un.triggerName)){const mv=Hs.previousTriggersValues.get(un.triggerName),tl=this.statesByElement.get(un.element);if(tl&&tl.has(un.triggerName)){const d1=tl.get(un.triggerName);d1.value=mv,tl.set(un.triggerName,d1)}}return void ri.destroy()}}const mu=!E||!this.driver.containsElement(E,Jo),pc=Oe.get(Jo),Sm=F.get(Jo),Hr=this._buildInstruction(un,r,Sm,pc,mu);if(Hr.errors&&Hr.errors.length)return void Je.push(Hr);if(mu)return ri.onStart(()=>cv(Jo,Hr.fromStyles)),ri.onDestroy(()=>uu(Jo,Hr.toStyles)),void o.push(ri);if(un.isFallbackTransition)return ri.onStart(()=>cv(Jo,Hr.fromStyles)),ri.onDestroy(()=>uu(Jo,Hr.toStyles)),void o.push(ri);const W5=[];Hr.timelines.forEach(Hs=>{Hs.stretchStartingKeyframe=!0,this.disabledNodes.has(Hs.element)||W5.push(Hs)}),Hr.timelines=W5,r.append(Jo,Hr.timelines),l.push({instruction:Hr,player:ri,element:Jo}),Hr.queriedElements.forEach(Hs=>lc(h,Hs,[]).push(ri)),Hr.preStyleProps.forEach((Hs,mv)=>{if(Hs.size){let tl=p.get(mv);tl||p.set(mv,tl=new Set),Hs.forEach((d1,K2)=>tl.add(K2))}}),Hr.postStyleProps.forEach((Hs,mv)=>{let tl=g.get(mv);tl||g.set(mv,tl=new Set),Hs.forEach((d1,K2)=>tl.add(K2))})});if(Je.length){const Ut=[];Je.forEach(rn=>{Ut.push(function ite(i,n){return new a.vHH(3505,!1)}())}),Le.forEach(rn=>rn.destroy()),this.reportError(Ut)}const ht=new Map,Bt=new Map;l.forEach(Ut=>{const rn=Ut.element;r.has(rn)&&(Bt.set(rn,rn),this._beforeAnimationBuild(Ut.player.namespaceId,Ut.instruction,ht))}),o.forEach(Ut=>{const rn=Ut.element;this._getPreviousPlayers(rn,!1,Ut.namespaceId,Ut.triggerName,null).forEach(ri=>{lc(ht,rn,[]).push(ri),ri.destroy()})});const gn=Q.filter(Ut=>pj(Ut,p,g)),Ni=new Map;uj(Ni,this.driver,Se,g,rf).forEach(Ut=>{pj(Ut,p,g)&&gn.push(Ut)});const Xo=new Map;O.forEach((Ut,rn)=>{uj(Xo,this.driver,new Set(Ut),p,"!")}),gn.forEach(Ut=>{const rn=Ni.get(Ut),un=Xo.get(Ut);Ni.set(Ut,new Map([...rn?.entries()??[],...un?.entries()??[]]))});const Us=[],pu=[],l1={};l.forEach(Ut=>{const{element:rn,player:un,instruction:ri}=Ut;if(r.has(rn)){if(w.has(rn))return un.onDestroy(()=>uu(rn,ri.toStyles)),un.disabled=!0,un.overrideTotalTime(ri.totalTime),void o.push(un);let Jo=l1;if(Bt.size>1){let pc=rn;const Sm=[];for(;pc=pc.parentNode;){const Hr=Bt.get(pc);if(Hr){Jo=Hr;break}Sm.push(pc)}Sm.forEach(Hr=>Bt.set(Hr,Jo))}const mu=this._buildAnimation(un.namespaceId,ri,ht,s,Xo,Ni);if(un.setRealPlayer(mu),Jo===l1)Us.push(un);else{const pc=this.playersByElement.get(Jo);pc&&pc.length&&(un.parentPlayer=wm(pc)),o.push(un)}}else cv(rn,ri.fromStyles),un.onDestroy(()=>uu(rn,ri.toStyles)),pu.push(un),w.has(rn)&&o.push(un)}),pu.forEach(Ut=>{const rn=s.get(Ut.element);if(rn&&rn.length){const un=wm(rn);Ut.setRealPlayer(un)}}),o.forEach(Ut=>{Ut.parentPlayer?Ut.syncPlayerEvents(Ut.parentPlayer):Ut.destroy()});for(let Ut=0;Ut<Q.length;Ut++){const rn=Q[Ut],un=rn[Xc];if(S0(rn,EM),un&&un.hasAnimation)continue;let ri=[];if(h.size){let mu=h.get(rn);mu&&mu.length&&ri.push(...mu);let pc=this.driver.query(rn,n2,!0);for(let Sm=0;Sm<pc.length;Sm++){let Hr=h.get(pc[Sm]);Hr&&Hr.length&&ri.push(...Hr)}}const Jo=ri.filter(mu=>!mu.destroyed);Jo.length?nne(this,rn,Jo):this.processLeaveNode(rn)}return Q.length=0,Us.forEach(Ut=>{this.players.push(Ut),Ut.onDone(()=>{Ut.destroy();const rn=this.players.indexOf(Ut);this.players.splice(rn,1)}),Ut.play()}),Us}elementContainsData(n,e){let r=!1;const o=e[Xc];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,o,s){let l=[];if(e){const h=this.playersByQueriedElement.get(n);h&&(l=h)}else{const h=this.playersByElement.get(n);if(h){const p=!s||s==aD;h.forEach(g=>{g.queued||!p&&g.triggerName!=o||l.push(g)})}}return(r||o)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||o&&o!=h.triggerName))),l}_beforeAnimationBuild(n,e,r){const s=e.element,l=e.isRemovalTransition?void 0:n,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const g=p.element,w=g!==s,E=lc(r,g,[]);this._getPreviousPlayers(g,w,l,h,e.toState).forEach(O=>{const F=O.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),O.destroy(),E.push(O)})}cv(s,e.fromStyles)}_buildAnimation(n,e,r,o,s,l){const h=e.triggerName,p=e.element,g=[],w=new Set,E=new Set,S=e.timelines.map(F=>{const G=F.element;w.add(G);const Q=G[Xc];if(Q&&Q.removedBeforeQueried)return new qE(F.duration,F.delay);const ve=G!==p,Se=function ine(i){const n=[];return fj(i,n),n}((r.get(G)||Yte).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===G),Oe=s.get(G),Ae=l.get(G),Le=jz(this._normalizer,F.keyframes,Oe,Ae),Je=this._buildPlayer(F,Le,Se);if(F.subTimeline&&o&&E.add(G),ve){const ht=new _2(n,h,G);ht.setRealPlayer(Je),g.push(ht)}return Je});g.forEach(F=>{lc(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function Jte(i,n,e){let r=i.get(n);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&i.delete(n)}return r}(this.playersByQueriedElement,F.element,F))}),w.forEach(F=>Jc(F,Kz));const O=wm(S);return O.onDestroy(()=>{w.forEach(F=>S0(F,Kz)),uu(p,e.toStyles)}),E.forEach(F=>{lc(o,F,[]).push(O)}),O}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new qE(n.duration,n.delay)}}class _2{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new qE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>KL(n,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){lc(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function NM(i){return i&&1===i.nodeType}function dj(i,n){const e=i.style.display;return i.style.display=n??"none",e}function uj(i,n,e,r,o){const s=[];e.forEach(p=>s.push(dj(p)));const l=[];r.forEach((p,g)=>{const w=new Map;p.forEach(E=>{const S=n.computeStyle(g,E,o);w.set(E,S),(!S||0==S.length)&&(g[Xc]=Kte,l.push(g))}),i.set(g,w)});let h=0;return e.forEach(p=>dj(p,s[h++])),l}function hj(i,n){const e=new Map;if(i.forEach(h=>e.set(h,[])),0==n.length)return e;const o=new Set(n),s=new Map;function l(h){if(!h)return 1;let p=s.get(h);if(p)return p;const g=h.parentNode;return p=e.has(g)?g:o.has(g)?1:l(g),s.set(h,p),p}return n.forEach(h=>{const p=l(h);1!==p&&e.get(p).push(h)}),e}function Jc(i,n){i.classList?.add(n)}function S0(i,n){i.classList?.remove(n)}function nne(i,n,e){wm(e).onDone(()=>i.processLeaveNode(n))}function fj(i,n){for(let e=0;e<i.length;e++){const r=i[e];r instanceof sH?fj(r.players,n):n.push(r)}}function pj(i,n,e){const r=e.get(i);if(!r)return!1;let o=n.get(i);return o?r.forEach(s=>o.add(s)):n.set(i,r),e.delete(i),!0}class FM{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Xte(n,e,r),this._timelineEngine=new $te(n,e,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,r,o,s){const l=n+"-"+o;let h=this._triggerCache[l];if(!h){const p=[],w=a2(this._driver,s,p,[]);if(p.length)throw function qee(i,n){return new a.vHH(3404,!1)}();h=function Ute(i,n,e){return new Hte(i,n,e)}(o,w,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(e,o,h)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,o){this._transitionEngine.insertNode(n,e,r,o)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,o){if("@"==r.charAt(0)){const[s,l]=$z(r);this._timelineEngine.command(s,e,l,o)}else this._transitionEngine.trigger(n,e,r,o)}listen(n,e,r,o,s){if("@"==r.charAt(0)){const[l,h]=$z(r);return this._timelineEngine.listen(l,e,h,s)}return this._transitionEngine.listen(n,e,r,o,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sne=(()=>{class i{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&uu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uu(this._element,this._initialStyles),this._endStyles&&(uu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(cv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cv(this._element,this._endStyles),this._endStyles=null),uu(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function v2(i){let n=null;return i.forEach((e,r)=>{(function ane(i){return"display"===i||"position"===i})(r)&&(n=n||new Map,n.set(r,e))}),n}class mj{constructor(n,e,r,o){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&n.set(o,this._finished?r:ej(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class cne{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return qz(n,e)}getParentElement(n){return JL(n)}query(n,e,r){return Wz(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,o,s,l=[]){const p={duration:r,delay:o,fill:0==o?"both":"forwards"};s&&(p.easing=s);const g=new Map,w=l.filter(O=>O instanceof mj);(function mte(i,n){return 0===i||0===n})(r,o)&&w.forEach(O=>{O.currentSnapshot.forEach((F,G)=>g.set(G,F))});let E=function hte(i){return i.length?i[0]instanceof Map?i:i.map(n=>Qz(n)):[]}(e).map(O=>xm(O));E=function gte(i,n,e){if(e.size&&n.length){let r=n[0],o=[];if(e.forEach((s,l)=>{r.has(l)||o.push(l),r.set(l,s)}),o.length)for(let s=1;s<n.length;s++){let l=n[s];o.forEach(h=>l.set(h,ej(i,h)))}}return n}(n,E,g);const S=function one(i,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=v2(n[0]),n.length>1&&(r=v2(n[n.length-1]))):n instanceof Map&&(e=v2(n)),e||r?new sne(i,e,r):null}(n,E);return new mj(n,E,p,S)}}let lne=(()=>{class i extends iH{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?rH(e):e;return gj(this._renderer,null,r,"register",[o]),new dne(r,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.FYo),a.LFG(ue))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class dne extends yY{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new une(this._id,n,e||{},this._renderer)}}class une{constructor(n,e,r,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return gj(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function gj(i,n,e,r,o){return i.setProperty(n,`@@${e}:${r}`,o)}const _j="@.disabled";let hne=(()=>{class i{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let w=this._rendererCache.get(s);return w||(w=new vj("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,w)),w}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(l,h,e,w.name,w)};return r.data.animation.forEach(p),new fne(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.FYo),a.LFG(FM),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class vj{constructor(n,e,r,o){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,o=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,o){this.delegate.setAttribute(n,e,r,o)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,o){this.delegate.setStyle(n,e,r,o)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==_j?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class fne extends vj{constructor(n,e,r,o,s){super(e,r,o,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==_j?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const o=function pne(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function mne(i){const n=i.indexOf(".");return[i.substring(0,n),i.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,o,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(n,e,r)}}let gne=(()=>{class i extends FM{constructor(e,r,o,s){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ue),a.LFG(e2),a.LFG(h2),a.LFG(a.z2F))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const yj=[{provide:iH,useClass:lne},{provide:h2,useFactory:function _ne(){return new Fte}},{provide:FM,useClass:gne},{provide:a.FYo,useFactory:function vne(i,n,e){return new hne(i,n,e)},deps:[Uo,FM,a.R0b]}],y2=[{provide:e2,useFactory:()=>new cne},{provide:a.QbO,useValue:"BrowserAnimations"},...yj],bj=[{provide:e2,useClass:Zz},{provide:a.QbO,useValue:"NoopAnimations"},...yj];let yne=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?bj:y2}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:y2,imports:[ud]}),i})();let b2=(()=>{class i{transform(e,r,o){return function Oi(i){return"string"==typeof i}(e)?e.match(new RegExp(r,o)):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"match",type:i,pure:!0}),i})(),Jne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),eie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const Rj_firebase={apiKey:"AIzaSyC8Ps7XSWdjAhMLS5XylEVpNfkDJqyz4_A",authDomain:"knossos-dungeon-blocks.firebaseapp.com",projectId:"knossos-dungeon-blocks",storageBucket:"knossos-dungeon-blocks.appspot.com",messagingSenderId:"454936440721",appId:"1:454936440721:web:3717720b189ed9678cf430"};var uie=z(8407);function w2(i){return i<=0?()=>as.E:(0,fr.e)((n,e)=>{let r=[];n.subscribe((0,ci.x)(e,o=>{r.push(o),i<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}const Tn="primary",cD=Symbol("RouteTitle");class fie{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function A0(i){return new fie(i)}function pie(i,n,e){const r=e.path.split("/");if(r.length>i.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<i.length))return null;const o={};for(let s=0;s<r.length;s++){const l=r[s],h=i[s];if(l.startsWith(":"))o[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:i.slice(0,r.length),posParams:o}}function hu(i,n){const e=i?Object.keys(i):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!Oj(i[o],n[o]))return!1;return!0}function Oj(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const e=[...i].sort(),r=[...n].sort();return e.every((o,s)=>r[s]===o)}return i===n}function Pj(i){return i.length>0?i[i.length-1]:null}function Cm(i){return Az(i)?i:(0,a.QGY)(i)?(0,An.D)(Promise.resolve(i)):(0,Dt.of)(i)}const gie={exact:function Lj(i,n,e){if(!dv(i.segments,n.segments)||!VM(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!i.children[r]||!Lj(i.children[r],n.children[r],e))return!1;return!0},subset:Bj},Nj={exact:function _ie(i,n){return hu(i,n)},subset:function vie(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>Oj(i[e],n[e]))},ignored:()=>!0};function Fj(i,n,e){return gie[e.paths](i.root,n.root,e.matrixParams)&&Nj[e.queryParams](i.queryParams,n.queryParams)&&!("exact"===e.fragment&&i.fragment!==n.fragment)}function Bj(i,n,e){return Vj(i,n,n.segments,e)}function Vj(i,n,e,r){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!dv(o,e)||n.hasChildren()||!VM(o,e,r))}if(i.segments.length===e.length){if(!dv(i.segments,e)||!VM(i.segments,e,r))return!1;for(const o in n.children)if(!i.children[o]||!Bj(i.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(dv(i.segments,o)&&VM(i.segments,o,r)&&i.children[Tn])&&Vj(i.children[Tn],n,s,r)}}function VM(i,n,e){return n.every((r,o)=>Nj[e](i[o].parameters,r.parameters))}class M0{constructor(n=new Pi([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=A0(this.queryParams)),this._queryParamMap}toString(){return wie.serialize(this)}}class Pi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return UM(this)}}class lD{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=A0(this.parameters)),this._parameterMap}toString(){return zj(this)}}function dv(i,n){return i.length===n.length&&i.every((e,r)=>e.path===n[r].path)}let dD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return new x2},providedIn:"root"}),i})();class x2{parse(n){const e=new Rie(n);return new M0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${uD(n.root,!0)}`,r=function Eie(i){const n=Object.keys(i).map(e=>{const r=i[e];return Array.isArray(r)?r.map(o=>`${HM(e)}=${HM(o)}`).join("&"):`${HM(e)}=${HM(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams),o="string"==typeof n.fragment?`#${function xie(i){return encodeURI(i)}(n.fragment)}`:"";return`${e}${r}${o}`}}const wie=new x2;function UM(i){return i.segments.map(n=>zj(n)).join("/")}function uD(i,n){if(!i.hasChildren())return UM(i);if(n){const e=i.children[Tn]?uD(i.children[Tn],!1):"",r=[];return Object.entries(i.children).forEach(([o,s])=>{o!==Tn&&r.push(`${o}:${uD(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function bie(i,n){let e=[];return Object.entries(i.children).forEach(([r,o])=>{r===Tn&&(e=e.concat(n(o,r)))}),Object.entries(i.children).forEach(([r,o])=>{r!==Tn&&(e=e.concat(n(o,r)))}),e}(i,(r,o)=>o===Tn?[uD(i.children[Tn],!1)]:[`${o}:${uD(r,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Tn]?`${UM(i)}/${e[0]}`:`${UM(i)}/(${e.join("//")})`}}function Uj(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function HM(i){return Uj(i).replace(/%3B/gi,";")}function C2(i){return Uj(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zM(i){return decodeURIComponent(i)}function Hj(i){return zM(i.replace(/\+/g,"%20"))}function zj(i){return`${C2(i.path)}${function Cie(i){return Object.keys(i).map(n=>`;${C2(n)}=${C2(i[n])}`).join("")}(i.parameters)}`}const Die=/^[^\/()?;#]+/;function E2(i){const n=i.match(Die);return n?n[0]:""}const Iie=/^[^\/()?;=#]+/,Tie=/^[^=?&#]+/,Aie=/^[^&#]+/;class Rie{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pi([],{}):new Pi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Tn]=new Pi(n,e)),r}parseSegment(){const n=E2(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(n),new lD(zM(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function kie(i){const n=i.match(Iie);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=E2(this.remaining);o&&(r=o,this.capture(r))}n[zM(e)]=zM(r)}parseQueryParam(n){const e=function Sie(i){const n=i.match(Tie);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function Mie(i){const n=i.match(Aie);return n?n[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Hj(e),s=Hj(r);if(n.hasOwnProperty(o)){let l=n[o];Array.isArray(l)||(l=[l],n[o]=l),l.push(s)}else n[o]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=E2(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new a.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Tn);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Tn]:new Pi([],l),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new a.vHH(4011,!1)}}function jj(i){return i.segments.length>0?new Pi([],{[Tn]:i}):i}function $j(i){const n={};for(const r of Object.keys(i.children)){const s=$j(i.children[r]);if(r===Tn&&0===s.segments.length&&s.hasChildren())for(const[l,h]of Object.entries(s.children))n[l]=h;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function Oie(i){if(1===i.numberOfChildren&&i.children[Tn]){const n=i.children[Tn];return new Pi(i.segments.concat(n.segments),n.children)}return i}(new Pi(i.segments,n))}function uv(i){return i instanceof M0}function Gj(i){let n;const o=jj(function e(s){const l={};for(const p of s.children){const g=e(p);l[p.outlet]=g}const h=new Pi(s.url,l);return s===i&&(n=h),h}(i.root));return n??o}function qj(i,n,e,r){let o=i;for(;o.parent;)o=o.parent;if(0===n.length)return D2(o,o,o,e,r);const s=function Nie(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Zj(!0,0,i);let n=0,e=!1;const r=i.reduce((o,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,g])=>{h[p]="string"==typeof g?g.split("/"):g}),[...o,{outlets:h}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===l?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?n++:""!=h&&o.push(h))}),o):[...o,s]},[]);return new Zj(e,n,r)}(n);if(s.toRoot())return D2(o,o,new Pi([],{}),e,r);const l=function Fie(i,n,e){if(i.isAbsolute)return new $M(n,!0,0);if(!e)return new $M(n,!1,NaN);if(null===e.parent)return new $M(e,!0,0);const r=jM(i.commands[0])?0:1;return function Lie(i,n,e){let r=i,o=n,s=e;for(;s>o;){if(s-=o,r=r.parent,!r)throw new a.vHH(4005,!1);o=r.segments.length}return new $M(r,!1,o-s)}(e,e.segments.length-1+r,i.numberOfDoubleDots)}(s,o,i),h=l.processChildren?fD(l.segmentGroup,l.index,s.commands):Yj(l.segmentGroup,l.index,s.commands);return D2(o,l.segmentGroup,h,e,r)}function jM(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function hD(i){return"object"==typeof i&&null!=i&&i.outlets}function D2(i,n,e,r,o){let l,s={};r&&Object.entries(r).forEach(([p,g])=>{s[p]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),l=i===n?e:Wj(i,n,e);const h=jj($j(l));return new M0(h,s,o)}function Wj(i,n,e){const r={};return Object.entries(i.children).forEach(([o,s])=>{r[o]=s===n?e:Wj(s,n,e)}),new Pi(i.segments,r)}class Zj{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&jM(r[0]))throw new a.vHH(4003,!1);const o=r.find(hD);if(o&&o!==Pj(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $M{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function Yj(i,n,e){if(i||(i=new Pi([],{})),0===i.segments.length&&i.hasChildren())return fD(i,n,e);const r=function Vie(i,n,e){let r=0,o=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(r>=e.length)return s;const l=i.segments[o],h=e[r];if(hD(h))break;const p=`${h}`,g=r<e.length-1?e[r+1]:null;if(o>0&&void 0===p)break;if(p&&g&&"object"==typeof g&&void 0===g.outlets){if(!Qj(p,g,l))return s;r+=2}else{if(!Qj(p,{},l))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(i,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){const s=new Pi(i.segments.slice(0,r.pathIndex),{});return s.children[Tn]=new Pi(i.segments.slice(r.pathIndex),i.children),fD(s,0,o)}return r.match&&0===o.length?new Pi(i.segments,{}):r.match&&!i.hasChildren()?I2(i,n,e):r.match?fD(i,0,o):I2(i,n,e)}function fD(i,n,e){if(0===e.length)return new Pi(i.segments,{});{const r=function Bie(i){return hD(i[0])?i[0].outlets:{[Tn]:i}}(e),o={};if(!r[Tn]&&i.children[Tn]&&1===i.numberOfChildren&&0===i.children[Tn].segments.length){const s=fD(i.children[Tn],n,e);return new Pi(i.segments,s.children)}return Object.entries(r).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[s]=Yj(i.children[s],n,l))}),Object.entries(i.children).forEach(([s,l])=>{void 0===r[s]&&(o[s]=l)}),new Pi(i.segments,o)}}function I2(i,n,e){const r=i.segments.slice(0,n);let o=0;for(;o<e.length;){const s=e[o];if(hD(s)){const p=Uie(s.outlets);return new Pi(r,p)}if(0===o&&jM(e[0])){r.push(new lD(i.segments[n].path,Kj(e[0]))),o++;continue}const l=hD(s)?s.outlets[Tn]:`${s}`,h=o<e.length-1?e[o+1]:null;l&&h&&jM(h)?(r.push(new lD(l,Kj(h))),o+=2):(r.push(new lD(l,{})),o++)}return new Pi(r,{})}function Uie(i){const n={};return Object.entries(i).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=I2(new Pi([],{}),0,r))}),n}function Kj(i){const n={};return Object.entries(i).forEach(([e,r])=>n[e]=`${r}`),n}function Qj(i,n,e){return i==e.path&&hu(n,e.parameters)}const pD="imperative";class fu{constructor(n,e){this.id=n,this.url=e}}class k2 extends fu{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hv extends fu{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class GM extends fu{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mD extends fu{constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o,this.type=16}}class T2 extends fu{constructor(n,e,r,o){super(n,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hie extends fu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zie extends fu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jie extends fu{constructor(n,e,r,o,s){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ie extends fu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gie extends fu{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qie{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wie{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zie{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yie{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kie{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qie{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xj{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gD,this.attachRef=null}}let gD=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Xie,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Jj{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=S2(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=S2(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=A2(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return A2(n,this._root).map(e=>e.value)}}function S2(i,n){if(i===n.value)return n;for(const e of n.children){const r=S2(i,e);if(r)return r}return null}function A2(i,n){if(i===n.value)return[n];for(const e of n.children){const r=A2(i,e);if(r.length)return r.unshift(n),r}return[]}class hf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function R0(i){const n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}class e5 extends Jj{constructor(n,e){super(n),this.snapshot=e,M2(this,n)}toString(){return this.snapshot.toString()}}function t5(i,n){const e=function Jie(i,n){const l=new qM([],{},{},"",{},Tn,n,null,{});return new r5("",new hf(l,[]))}(0,n),r=new Sa.X([new lD("",{})]),o=new Sa.X({}),s=new Sa.X({}),l=new Sa.X({}),h=new Sa.X(""),p=new ff(r,o,l,h,s,Tn,n,e.root);return p.snapshot=e.root,new e5(new hf(p,[]),e)}class ff{constructor(n,e,r,o,s,l,h,p){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=l,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,tt.U)(g=>g[cD]))??(0,Dt.of)(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(n=>A0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(n=>A0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function n5(i,n="emptyOnly"){const e=i.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],s=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function ere(i){return i.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class qM{get title(){return this.data?.[cD]}constructor(n,e,r,o,s,l,h,p,g){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=l,this.component=h,this.routeConfig=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=A0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=A0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class r5 extends Jj{constructor(n,e){super(e),this.url=n,M2(this,e)}toString(){return o5(this._root)}}function M2(i,n){n.value._routerState=i,n.children.forEach(e=>M2(i,e))}function o5(i){const n=i.children.length>0?` { ${i.children.map(o5).join(", ")} } `:"";return`${i.value}${n}`}function R2(i){if(i.snapshot){const n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,hu(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),hu(n.params,e.params)||i.paramsSubject.next(e.params),function mie(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!hu(i[e],n[e]))return!1;return!0}(n.url,e.url)||i.urlSubject.next(e.url),hu(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function O2(i,n){const e=hu(i.params,n.params)&&function yie(i,n){return dv(i,n)&&i.every((e,r)=>hu(e.parameters,n[r].parameters))}(i.url,n.url);return e&&!(!i.parent!=!n.parent)&&(!i.parent||O2(i.parent,n.parent))}let P2=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(gD),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(WM,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=e;const o=this.location,l=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new tre(e,h,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:p,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),i})();class tre{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===ff?this.route:n===gD?this.childContexts:this.parent.get(n,e)}}const WM=new a.OlP("");let s5=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=zA([r.queryParams,r.params,r.data]).pipe((0,bi.w)(([s,l,h],p)=>(h={...s,...l,...h},0===p?(0,Dt.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const l=(0,a.qFp)(r.component);if(l)for(const{templateName:h}of l.inputs)e.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function _D(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function ire(i,n,e){return n.children.map(r=>{for(const o of e.children)if(i.shouldReuseRoute(r.value,o.value.snapshot))return _D(i,r,o);return _D(i,r)})}(i,n,e);return new hf(r,o)}{if(i.shouldAttach(n.value)){const s=i.retrieve(n.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(h=>_D(i,h)),l}}const r=function rre(i){return new ff(new Sa.X(i.url),new Sa.X(i.params),new Sa.X(i.queryParams),new Sa.X(i.fragment),new Sa.X(i.data),i.outlet,i.component,i)}(n.value),o=n.children.map(s=>_D(i,s));return new hf(r,o)}}const N2="ngNavigationCancelingError";function a5(i,n){const{redirectTo:e,navigationBehaviorOptions:r}=uv(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=c5(!1,0,n);return o.url=e,o.navigationBehaviorOptions=r,o}function c5(i,n,e){const r=new Error("NavigationCancelingError: "+(i||""));return r[N2]=!0,r.cancellationCode=n,e&&(r.url=e),r}function l5(i){return d5(i)&&uv(i.url)}function d5(i){return i&&i[N2]}let u5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,r){1&e&&a._UZ(0,"router-outlet")},dependencies:[P2],encapsulation:2}),i})();function F2(i){const n=i.children&&i.children.map(F2),e=n?{...i,children:n}:{...i};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Tn&&(e.component=u5),e}function Gl(i){return i.outlet||Tn}function vD(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ure{constructor(n,e,r,o,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),R2(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=R0(e);n.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,o[l],r),delete o[l]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const o=n.value,s=e?e.value:null;if(o===s)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(n,e,l.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,s=R0(n);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],o);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,s=R0(n);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const o=R0(e);n.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new Qie(s.value.snapshot))}),n.children.length&&this.forwardEvent(new Yie(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,s=e?e.value:null;if(R2(o),o===s)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,l.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),R2(h.route.value),this.activateChildRoutes(n,null,l.children)}else{const h=vD(o.snapshot);l.attachRef=null,l.route=o,l.injector=h,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,r)}}class h5{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ZM{constructor(n,e){this.component=n,this.route=e}}function hre(i,n,e){const r=i._root;return yD(r,n?n._root:null,e,[r.value])}function O0(i,n){const e=Symbol(),r=n.get(i,e);return r===e?"function"!=typeof i||(0,a.Z0I)(i)?n.get(i):i:r}function yD(i,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=R0(n);return i.children.forEach(l=>{(function pre(i,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,l=n?n.value:null,h=e?e.getContext(i.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function mre(i,n,e){if("function"==typeof e)return e(i,n);switch(e){case"pathParamsChange":return!dv(i.url,n.url);case"pathParamsOrQueryParamsChange":return!dv(i.url,n.url)||!hu(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O2(i,n)||!hu(i.queryParams,n.queryParams);default:return!O2(i,n)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?o.canActivateChecks.push(new h5(r)):(s.data=l.data,s._resolvedData=l._resolvedData),yD(i,n,s.component?h?h.children:null:e,r,o),p&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new ZM(h.outlet.component,l))}else l&&bD(n,h,o),o.canActivateChecks.push(new h5(r)),yD(i,null,s.component?h?h.children:null:e,r,o)})(l,s[l.value.outlet],e,r.concat([l.value]),o),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,h])=>bD(h,e.getContext(l),o)),o}function bD(i,n,e){const r=R0(i),o=i.value;Object.entries(r).forEach(([s,l])=>{bD(l,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new ZM(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function wD(i){return"function"==typeof i}function f5(i){return i instanceof bd||"EmptyError"===i?.name}const YM=Symbol("INITIAL_VALUE");function P0(){return(0,bi.w)(i=>zA(i.map(n=>n.pipe(Gi(1),ds(YM)))).pipe((0,tt.U)(n=>{for(const e of n)if(!0!==e){if(e===YM)return YM;if(!1===e||e instanceof M0)return e}return!0}),Dn(n=>n!==YM),Gi(1)))}function p5(i){return(0,uie.z)((0,Po.b)(n=>{if(uv(n))throw a5(0,n)}),(0,tt.U)(n=>!0===n))}class KM{constructor(n){this.segmentGroup=n||null}}class m5{constructor(n){this.urlTree=n}}function N0(i){return C0(new KM(i))}function g5(i){return C0(new m5(i))}class Nre{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new a.vHH(4002,!1)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Dt.of)(r);if(o.numberOfChildren>1||!o.children[Tn])return C0(new a.vHH(4e3,!1));o=o.children[Tn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,o){const s=this.createSegmentGroup(n,e.root,r,o);return new M0(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);r[o]=e[h]}else r[o]=s}),r}createSegmentGroup(n,e,r,o){const s=this.createSegments(n,e.segments,r,o);let l={};return Object.entries(e.children).forEach(([h,p])=>{l[h]=this.createSegmentGroup(n,p,r,o)}),new Pi(s,l)}createSegments(n,e,r,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,o):this.findOrReturn(s,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new a.vHH(4001,!1);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}const L2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fre(i,n,e,r,o){const s=B2(i,n,e);return s.matched?(r=function ore(i,n){return i.providers&&!i._injector&&(i._injector=(0,a.MMx)(i.providers,n,`Route: ${i.path}`)),i._injector??n}(n,r),function Rre(i,n,e,r){const o=n.canMatch;if(!o||0===o.length)return(0,Dt.of)(!0);const s=o.map(l=>{const h=O0(l,i);return Cm(function wre(i){return i&&wD(i.canMatch)}(h)?h.canMatch(n,e):i.runInContext(()=>h(n,e)))});return(0,Dt.of)(s).pipe(P0(),p5())}(r,n,e).pipe((0,tt.U)(l=>!0===l?s:{...L2}))):(0,Dt.of)(s)}function B2(i,n,e){if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||e.length>0)?{...L2}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||pie)(e,i,n);if(!o)return{...L2};const s={};Object.entries(o.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const l=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function _5(i,n,e,r){return e.length>0&&function Vre(i,n,e){return e.some(r=>QM(i,n,r)&&Gl(r)!==Tn)}(i,e,r)?{segmentGroup:new Pi(n,Bre(r,new Pi(e,i.children))),slicedSegments:[]}:0===e.length&&function Ure(i,n,e){return e.some(r=>QM(i,n,r))}(i,e,r)?{segmentGroup:new Pi(i.segments,Lre(i,0,e,r,i.children)),slicedSegments:e}:{segmentGroup:new Pi(i.segments,i.children),slicedSegments:e}}function Lre(i,n,e,r,o){const s={};for(const l of r)if(QM(i,e,l)&&!o[Gl(l)]){const h=new Pi([],{});s[Gl(l)]=h}return{...o,...s}}function Bre(i,n){const e={};e[Tn]=n;for(const r of i)if(""===r.path&&Gl(r)!==Tn){const o=new Pi([],{});e[Gl(r)]=o}return e}function QM(i,n,e){return(!(i.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class $re{constructor(n,e,r,o,s,l,h){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new Nre(this.urlSerializer,this.urlTree)}noMatchError(n){return new a.vHH(4002,!1)}recognize(){const n=_5(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Tn).pipe(vm(e=>{if(e instanceof m5)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof KM?this.noMatchError(e):e}),(0,tt.U)(e=>{const r=new qM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tn,this.rootComponentType,null,{}),o=new hf(r,e),s=new r5("",o),l=function Pie(i,n,e=null,r=null){return qj(Gj(i),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Tn).pipe(vm(r=>{throw r instanceof KM?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=n5(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,o,!0)}processChildren(n,e,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return(0,An.D)(o).pipe(E0(s=>{const l=r.children[s],h=function lre(i,n){const e=i.filter(r=>Gl(r)===n);return e.push(...i.filter(r=>Gl(r)!==n)),e}(e,s);return this.processSegmentGroup(n,h,l,s)}),Wa((s,l)=>(s.push(...l),s)),Ha(null),function hie(i,n){const e=arguments.length>=2;return r=>r.pipe(i?Dn((o,s)=>i(o,s,r)):va.y,w2(1),e?Ha(n):za(()=>new bd))}(),(0,Ur.z)(s=>{if(null===s)return N0(r);const l=v5(s);return function Gre(i){i.sort((n,e)=>n.value.outlet===Tn?-1:e.value.outlet===Tn?1:n.value.outlet.localeCompare(e.value.outlet))}(l),(0,Dt.of)(l)}))}processSegment(n,e,r,o,s,l){return(0,An.D)(e).pipe(E0(h=>this.processSegmentAgainstRoute(h._injector??n,e,h,r,o,s,l).pipe(vm(p=>{if(p instanceof KM)return(0,Dt.of)(null);throw p}))),Is(h=>!!h),vm(h=>{if(f5(h))return function zre(i,n,e){return 0===n.length&&!i.children[e]}(r,o,s)?(0,Dt.of)([]):N0(r);throw h}))}processSegmentAgainstRoute(n,e,r,o,s,l,h){return function Hre(i,n,e,r){return!!(Gl(i)===r||r!==Tn&&QM(n,e,i))&&("**"===i.path||B2(n,i,e).matched)}(r,o,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,s,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,r,s,l):N0(o):N0(o)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,s,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?g5(s):this.applyRedirects.lineralizeSegments(r,s).pipe((0,Ur.z)(l=>{const h=new Pi(l,{});return this.processSegment(n,e,h,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,s,l){const{matched:h,consumedSegments:p,remainingSegments:g,positionalParamSegments:w}=B2(e,o,s);if(!h)return N0(e);const E=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,w);return o.redirectTo.startsWith("/")?g5(E):this.applyRedirects.lineralizeSegments(o,E).pipe((0,Ur.z)(S=>this.processSegment(n,r,e,S.concat(g),l,!1)))}matchSegmentAgainstRoute(n,e,r,o,s,l){let h;if("**"===r.path){const p=o.length>0?Pj(o).parameters:{},g=new qM(o,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y5(r),Gl(r),r.component??r._loadedComponent??null,r,b5(r));h=(0,Dt.of)({snapshot:g,consumedSegments:[],remainingSegments:[]}),e.children={}}else h=Fre(e,r,o,n).pipe((0,tt.U)(({matched:p,consumedSegments:g,remainingSegments:w,parameters:E})=>p?{snapshot:new qM(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y5(r),Gl(r),r.component??r._loadedComponent??null,r,b5(r)),consumedSegments:g,remainingSegments:w}:null));return h.pipe((0,bi.w)(p=>null===p?N0(e):this.getChildConfig(n=r._injector??n,r,o).pipe((0,bi.w)(({routes:g})=>{const w=r._loadedInjector??n,{snapshot:E,consumedSegments:S,remainingSegments:O}=p,{segmentGroup:F,slicedSegments:G}=_5(e,S,O,g);if(0===G.length&&F.hasChildren())return this.processChildren(w,g,F).pipe((0,tt.U)(ve=>null===ve?null:[new hf(E,ve)]));if(0===g.length&&0===G.length)return(0,Dt.of)([new hf(E,[])]);const Q=Gl(r)===s;return this.processSegment(w,g,F,G,Q?Tn:s,!0).pipe((0,tt.U)(ve=>[new hf(E,ve)]))}))))}getChildConfig(n,e,r){return e.children?(0,Dt.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,Dt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Mre(i,n,e,r){const o=n.canLoad;if(void 0===o||0===o.length)return(0,Dt.of)(!0);const s=o.map(l=>{const h=O0(l,i);return Cm(function _re(i){return i&&wD(i.canLoad)}(h)?h.canLoad(n,e):i.runInContext(()=>h(n,e)))});return(0,Dt.of)(s).pipe(P0(),p5())}(n,e,r).pipe((0,Ur.z)(o=>o?this.configLoader.loadChildren(n,e).pipe((0,Po.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Pre(i){return C0(c5(!1,3))}())):(0,Dt.of)({routes:[],injector:n})}}function qre(i){const n=i.value.routeConfig;return n&&""===n.path}function v5(i){const n=[],e=new Set;for(const r of i){if(!qre(r)){n.push(r);continue}const o=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=v5(r.children);n.push(new hf(r.value,o))}return n.filter(r=>!e.has(r))}function y5(i){return i.data||{}}function b5(i){return i.resolve||{}}function w5(i){return"string"==typeof i.title||null===i.title}function V2(i){return(0,bi.w)(n=>{const e=i(n);return e?(0,An.D)(e).pipe((0,tt.U)(()=>n)):(0,Dt.of)(n)})}const F0=new a.OlP("ROUTES");let U2=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Dt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Cm(e.loadComponent()).pipe((0,tt.U)(x5),(0,Po.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),rM(()=>{this.componentLoaders.delete(e)})),o=new rL(r,()=>new At.x).pipe(iL());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Dt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,tt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,g;return Array.isArray(h)?g=h:(p=h.create(e).injector,g=p.get(F0,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:g.map(F2),injector:p}}),rM(()=>{this.childrenLoaders.delete(r)})),l=new rL(s,()=>new At.x).pipe(iL());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return Cm(e()).pipe((0,tt.U)(x5),(0,Ur.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,Dt.of)(r):(0,An.D)(this.compiler.compileModuleAsync(r))))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function x5(i){return function Jre(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let XM=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new At.x,this.configLoader=(0,a.f3M)(U2),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(dD),this.rootContexts=(0,a.f3M)(gD),this.inputBindingEnabled=null!==(0,a.f3M)(WM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Wie(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new qie(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new Sa.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pD,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dn(r=>0!==r.id),(0,tt.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),(0,bi.w)(r=>{let o=!1,s=!1;return(0,Dt.of)(r).pipe((0,Po.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,bi.w)(l=>{const h=e.browserUrlTree.toString(),p=!e.navigated||l.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new mD(l.id,e.serializeUrl(r.rawUrl),w,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),as.E}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C5(l.source)&&(e.browserUrlTree=l.extractedUrl),(0,Dt.of)(l).pipe((0,bi.w)(w=>{const E=this.transitions?.getValue();return this.events.next(new k2(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?as.E:Promise.resolve(w)}),function Wre(i,n,e,r,o,s){return(0,Ur.z)(l=>function jre(i,n,e,r,o,s,l="emptyOnly"){return new $re(i,n,e,r,o,l,s).recognize()}(i,n,e,r,l.extractedUrl,o,s).pipe((0,tt.U)(({state:h,tree:p})=>({...l,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Po.b)(w=>{if(r.targetSnapshot=w.targetSnapshot,r.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!w.extras.skipLocationChange){const S=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);e.setBrowserUrl(S,w)}e.browserUrlTree=w.urlAfterRedirects}const E=new Hie(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:w,extractedUrl:E,source:S,restoredState:O,extras:F}=l,G=new k2(w,this.urlSerializer.serialize(E),S,O);this.events.next(G);const Q=t5(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:Q,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}},(0,Dt.of)(r)}{const w="";return this.events.next(new mD(l.id,e.serializeUrl(r.extractedUrl),w,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),as.E}}),(0,Po.b)(l=>{const h=new zie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,tt.U)(l=>r={...l,guards:hre(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Cre(i,n){return(0,Ur.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,Dt.of)({...e,guardsResult:!0}):function Ere(i,n,e,r){return(0,An.D)(i).pipe((0,Ur.z)(o=>function Are(i,n,e,r,o){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Dt.of)(!0);const l=s.map(h=>{const p=vD(n)??o,g=O0(h,p);return Cm(function bre(i){return i&&wD(i.canDeactivate)}(g)?g.canDeactivate(i,n,e,r):p.runInContext(()=>g(i,n,e,r))).pipe(Is())});return(0,Dt.of)(l).pipe(P0())}(o.component,o.route,e,n,r)),Is(o=>!0!==o,!0))}(l,r,o,i).pipe((0,Ur.z)(h=>h&&function gre(i){return"boolean"==typeof i}(h)?function Dre(i,n,e,r){return(0,An.D)(n).pipe(E0(o=>jy(function kre(i,n){return null!==i&&n&&n(new Zie(i)),(0,Dt.of)(!0)}(o.route.parent,r),function Ire(i,n){return null!==i&&n&&n(new Kie(i)),(0,Dt.of)(!0)}(o.route,r),function Sre(i,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(l=>function fre(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(l)).filter(l=>null!==l).map(l=>RL(()=>{const h=l.guards.map(p=>{const g=vD(l.node)??e,w=O0(p,g);return Cm(function yre(i){return i&&wD(i.canActivateChild)}(w)?w.canActivateChild(r,i):g.runInContext(()=>w(r,i))).pipe(Is())});return(0,Dt.of)(h).pipe(P0())}));return(0,Dt.of)(s).pipe(P0())}(i,o.path,e),function Tre(i,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const o=r.map(s=>RL(()=>{const l=vD(n)??e,h=O0(s,l);return Cm(function vre(i){return i&&wD(i.canActivate)}(h)?h.canActivate(n,i):l.runInContext(()=>h(n,i))).pipe(Is())}));return(0,Dt.of)(o).pipe(P0())}(i,o.route,e))),Is(o=>!0!==o,!0))}(r,s,i,n):(0,Dt.of)(h)),(0,tt.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Po.b)(l=>{if(r.guardsResult=l.guardsResult,uv(l.guardsResult))throw a5(0,l.guardsResult);const h=new jie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Dn(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),V2(l=>{if(l.guards.canActivateChecks.length)return(0,Dt.of)(l).pipe((0,Po.b)(h=>{const p=new $ie(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),(0,bi.w)(h=>{let p=!1;return(0,Dt.of)(h).pipe(function Zre(i,n){return(0,Ur.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Dt.of)(e);let s=0;return(0,An.D)(o).pipe(E0(l=>function Yre(i,n,e,r){const o=i.routeConfig,s=i._resolve;return void 0!==o?.title&&!w5(o)&&(s[cD]=o.title),function Kre(i,n,e,r){const o=function Qre(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===o.length)return(0,Dt.of)({});const s={};return(0,An.D)(o).pipe((0,Ur.z)(l=>function Xre(i,n,e,r){const o=vD(n)??r,s=O0(i,o);return Cm(s.resolve?s.resolve(n,e):o.runInContext(()=>s(n,e)))}(i[l],n,e,r).pipe(Is(),(0,Po.b)(h=>{s[l]=h}))),w2(1),OL(s),vm(l=>f5(l)?as.E:C0(l)))}(s,i,n,r).pipe((0,tt.U)(l=>(i._resolvedData=l,i.data=n5(i,e).resolve,o&&w5(o)&&(i.data[cD]=o.title),null)))}(l.route,r,i,n)),(0,Po.b)(()=>s++),w2(1),(0,Ur.z)(l=>s===o.length?(0,Dt.of)(e):as.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Po.b)({next:()=>p=!0,complete:()=>{p||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Po.b)(h=>{const p=new Gie(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),V2(l=>{const h=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Po.b)(w=>{p.component=w}),(0,tt.U)(()=>{})));for(const w of p.children)g.push(...h(w));return g};return zA(h(l.targetSnapshot.root)).pipe(Ha(),Gi(1))}),V2(()=>this.afterPreactivation()),(0,tt.U)(l=>{const h=function nre(i,n,e){const r=_D(i,n._root,e?e._root:void 0);return new e5(r,n)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),(0,Po.b)(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((i,n,e,r)=>(0,tt.U)(o=>(new ure(n,o.targetRouterState,o.currentRouterState,e,r).activate(i),o)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gi(1),(0,Po.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new hv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),rM(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vm(l=>{if(s=!0,d5(l)){l5(l)||(e.navigated=!0,e.restoreHistory(r,!0));const h=new GM(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),l5(l)){const p=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||C5(r.source)};e.scheduleNavigation(p,pD,null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const h=new T2(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(e.errorHandler(l))}catch(p){r.reject(p)}}return as.E}))}))}cancelNavigationTransition(e,r,o){const s=new GM(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(s),e.resolve(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function C5(i){return i!==pD}let E5=(()=>{class i{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Tn);return r}getResolvedTitleForRoute(e){return e.data[cD]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(eoe)},providedIn:"root"}),i})(),eoe=(()=>{class i extends E5{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(fd))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),toe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(ioe)},providedIn:"root"}),i})();class noe{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let ioe=(()=>{class i extends noe{}return i.\u0275fac=function(){let n;return function(r){return(n||(n=a.n5z(i)))(r||i)}}(),i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const JM=new a.OlP("",{providedIn:"root",factory:()=>({})});let roe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:function(){return(0,a.f3M)(ooe)},providedIn:"root"}),i})(),ooe=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var hc=(()=>((hc=hc||{})[hc.COMPLETE=0]="COMPLETE",hc[hc.FAILED=1]="FAILED",hc[hc.REDIRECTING=2]="REDIRECTING",hc))();function D5(i,n){i.events.pipe(Dn(e=>e instanceof hv||e instanceof GM||e instanceof T2||e instanceof mD),(0,tt.U)(e=>e instanceof hv||e instanceof mD?hc.COMPLETE:e instanceof GM&&(0===e.code||1===e.code)?hc.REDIRECTING:hc.FAILED),Dn(e=>e!==hc.REDIRECTING),Gi(1)).subscribe(()=>{n()})}function soe(i){throw i}function aoe(i,n,e){return n.parse("/")}const coe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},loe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qo=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(JM,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||soe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aoe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(roe),this.routeReuseStrategy=(0,a.f3M)(toe),this.titleStrategy=(0,a.f3M)(E5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(F0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(XM),this.urlSerializer=(0,a.f3M)(dD),this.location=(0,a.f3M)(it),this.componentInputBindingEnabled=!!(0,a.f3M)(WM,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new M0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=t5(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pD,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,o){const s={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const p={...o};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(e);this.scheduleNavigation(h,r,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(F2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:p}=r,g=p?this.currentUrlTree.fragment:l;let E,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}null!==w&&(w=this.removeEmptyProps(w));try{E=Gj(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),E=this.currentUrlTree.root}return qj(E,e,w,g??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=uv(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,pD,null,r)}navigate(e,r={skipLocationChange:!1}){return function doe(i){for(let n=0;n<i.length;n++)if(null==i[n])throw new a.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...coe}:!1===r?{...loe}:r,uv(e))return Fj(this.currentUrlTree,e,o);const s=this.parseUrl(e);return Fj(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const s=e[o];return null!=s&&(r[o]=s),r},{})}scheduleNavigation(e,r,o,s,l){if(this.disposed)return Promise.resolve(!1);let h,p,g;l?(h=l.resolve,p=l.reject,g=l.promise):g=new Promise((E,S)=>{h=E,p=S});const w=this.pendingTasks.add();return D5(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:h,reject:p,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(E=>Promise.reject(E))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fv=(()=>{class i{constructor(e,r,o,s,l,h){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=l,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new At.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof hv&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,o,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||o||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const o=this.renderer,s=this.el.nativeElement;null!==r?o.setAttribute(s,e,r):o.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Qo),a.Y36(ff),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36($e))},i.\u0275dir=a.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&a.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]}),i})();class I5{}let foe=(()=>{class i{constructor(e,r,o,s,l){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(e=>e instanceof hv),E0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,h=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,An.D)(o).pipe((0,jg.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):(0,Dt.of)(null);const s=o.pipe((0,Ur.z)(l=>null===l?(0,Dt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,An.D)([s,l]).pipe((0,jg.J)())}return s})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Qo),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(I5),a.LFG(U2))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const H2=new a.OlP("");let k5=(()=>{class i{constructor(e,r,o,s,l={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof k2?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hv?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof mD&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Xj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return i.\u0275fac=function(e){a.$Z()},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function pf(i,n){return{\u0275kind:i,\u0275providers:n}}function S5(){const i=(0,a.f3M)(a.zs3);return n=>{const e=i.get(a.z2F);if(n!==e.components[0])return;const r=i.get(Qo),o=i.get(A5);1===i.get(z2)&&r.initialNavigation(),i.get(M5,null,a.XFs.Optional)?.setUpPreloading(),i.get(H2,null,a.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const A5=new a.OlP("",{factory:()=>new At.x}),z2=new a.OlP("",{providedIn:"root",factory:()=>1}),M5=new a.OlP("");function _oe(i){return pf(0,[{provide:M5,useExisting:foe},{provide:I5,useExisting:i}])}const R5=new a.OlP("ROUTER_FORROOT_GUARD"),yoe=[it,{provide:dD,useClass:x2},Qo,gD,{provide:ff,useFactory:function T5(i){return i.routerState.root},deps:[Qo]},U2,[]];function boe(){return new a.PXZ("Router",Qo)}let O5=(()=>{class i{constructor(e){}static forRoot(e,r){return{ngModule:i,providers:[yoe,[],{provide:F0,multi:!0,useValue:e},{provide:R5,useFactory:Eoe,deps:[[Qo,new a.FiY,new a.tp0]]},{provide:JM,useValue:r||{}},r?.useHash?{provide:$e,useClass:Ne}:{provide:$e,useClass:ot},{provide:H2,useFactory:()=>{const i=(0,a.f3M)(Pa),n=(0,a.f3M)(a.R0b),e=(0,a.f3M)(JM),r=(0,a.f3M)(XM),o=(0,a.f3M)(dD);return e.scrollOffset&&i.setOffset(e.scrollOffset),new k5(o,r,i,n,e)}},r?.preloadingStrategy?_oe(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:boe},r?.initialNavigation?Doe(r):[],r?.bindToComponentInputs?pf(8,[s5,{provide:WM,useExisting:s5}]).\u0275providers:[],[{provide:P5,useFactory:S5},{provide:a.tb,multi:!0,useExisting:P5}]]}}static forChild(e){return{ngModule:i,providers:[{provide:F0,multi:!0,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(R5,8))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();function Eoe(i){return"guarded"}function Doe(i){return["disabled"===i.initialNavigation?pf(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const n=(0,a.f3M)(Qo);return()=>{n.setUpLocationChangeListener()}}},{provide:z2,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?pf(2,[{provide:z2,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:n=>{const e=n.get(Ve,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=n.get(Qo),s=n.get(A5);D5(o,()=>{r(!0)}),n.get(XM).afterPreactivation=()=>(r(!0),s.closed?(0,Dt.of)(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const P5=new a.OlP(""),N5={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e1;const koe=new Uint8Array(16);function Toe(){if(!e1&&(e1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e1(koe)}const gs=[];for(let i=0;i<256;++i)gs.push((i+256).toString(16).slice(1));const j2=function Soe(i,n,e){if(N5.randomUUID&&!n&&!i)return N5.randomUUID();const r=(i=i||{}).random||(i.rng||Toe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function F5(i,n=0){return(gs[i[n+0]]+gs[i[n+1]]+gs[i[n+2]]+gs[i[n+3]]+"-"+gs[i[n+4]]+gs[i[n+5]]+"-"+gs[i[n+6]]+gs[i[n+7]]+"-"+gs[i[n+8]]+gs[i[n+9]]+"-"+gs[i[n+10]]+gs[i[n+11]]+gs[i[n+12]]+gs[i[n+13]]+gs[i[n+14]]+gs[i[n+15]]).toLowerCase()}(r)};let t1=(()=>{class i{constructor(e,r,o){this.angularFireAuth=e,this.firestore=r,this.router=o,this.currentUserSubject=new Sa.X(void 0),this.angularFireAuth.authState.subscribe(s=>this.setCurrentUserData(s))}getSignedInObservable(){return this.currentUserSubject.asObservable().pipe((0,tt.U)(e=>!!e))}getCurrentUserObservable(){return this.currentUserSubject.asObservable()}signIn(){return this.authLogin(new o9.V).then(e=>{})}authLogin(e){return this.angularFireAuth.signInWithPopup(e).then(r=>{this.setCurrentUserData(r.user)}).catch(r=>{window.alert(r)})}setCurrentUserData(e){if(!e)return localStorage.removeItem("user"),void this.currentUserSubject.next(void 0);this.firestore.collection("users").doc(e.uid).get().subscribe(r=>{const o={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,administrator:r?.data()?.administrator||!1};localStorage.setItem("user",JSON.stringify(o)),this.currentUserSubject.next(o)})}signOut(){return this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this.currentUserSubject.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(tg),a.LFG(IE),a.LFG(Qo))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $2="designs";let L5=(()=>{class i{constructor(e,r){this.authenticationService=e,this.firestore=r}create(){return this.authenticationService.getCurrentUserObservable().pipe((0,Ur.z)(e=>{if(!e)throw new Error;const r={id:j2(),ownerId:e.uid,title:"New Map",description:"",levels:[]};return(0,An.D)(this.doc(r).set(r)).pipe((0,tt.U)(()=>r))}))}getDesignById(e){return this.queryById(e)}getDesigns(){return this.authenticationService.getCurrentUserObservable().pipe((0,Ur.z)(e=>e?this.firestore.collection($2,r=>r.where("ownerId","==",e.uid)).valueChanges().pipe((0,tt.U)(r=>r)):(0,Dt.of)([])))}save(e){return(0,An.D)(this.doc(e).set(e)).pipe((0,tt.U)(()=>e))}doc(e){return this.firestore.collection($2).doc(e.id)}queryById(e){return this.firestore.collection($2).doc(e).get().pipe((0,tt.U)(r=>r.data()))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(t1),a.LFG(IE))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ra=(()=>((ra=ra||{}).Tile="Tile",ra.FlatGrid="FlatGrid",ra.Key="Key",ra))(),ar=(()=>((ar=ar||{}).LargeKey="LargeKey",ar.LargeSlot="LargeSlot",ar.SmallKey="SmallKey",ar.SmallSlot="SmallSlot",ar.Other="Other",ar))();const Em=[{code:"colorized",name:"Colorized",color:"#ce196d",tileUnitWidth:218,tileUnitHeight:121,tileUnitDepth:29,tileUnitGridOffset:0}],G2="elements";let pv=(()=>{class i{constructor(e,r,o){this.authenticationService=e,this.firestore=r,this.storage=o}create(e,r){return this.authenticationService.getCurrentUserObservable().pipe((0,Ur.z)(o=>{if(!o)throw new Error;const s={id:j2(),code:e,name:r,type:ra.Tile,top:ar.Other,bottom:ar.Other,orientable:!0,height:0,footprint:[1,1],tags:[]};return(0,An.D)(this.doc(s).set(s)).pipe((0,tt.U)(()=>s))}))}delete(e){return(0,An.D)(this.doc(e).delete())}getElementById(e){return this.queryById(e)}getElements(){return this.authenticationService.getCurrentUserObservable().pipe((0,Ur.z)(e=>e?this.firestore.collection(G2).valueChanges().pipe((0,tt.U)(r=>r),(0,tt.U)(r=>r.sort((o,s)=>o.code.localeCompare(s.code)))):(0,Dt.of)([])))}getModelFileInfo(e){return this.storage.ref(`FBX/${e.code}-${e.name}.fbx`).getMetadata().pipe((0,tt.U)(r=>r))}save(e){const r=e;return r.type||(r.type=ra.Tile),delete r.flat,(0,An.D)(this.doc(e).set(e)).pipe((0,tt.U)(()=>e))}doc(e){return this.firestore.collection(G2).doc(e.id)}queryById(e){return this.firestore.collection(G2).doc(e).get().pipe((0,tt.U)(r=>r.data()))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(t1),a.LFG(IE),a.LFG(KU))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const{abs:xD,cos:mf,sin:L0,acos:Aoe,atan2:CD,sqrt:Dm,pow:el}=Math;function ED(i){return i<0?-el(-i,1/3):el(i,1/3)}const B5=Math.PI,n1=2*B5,Im=B5/2,q2=Number.MAX_SAFE_INTEGER||9007199254740991,W2=Number.MIN_SAFE_INTEGER||-9007199254740991,Roe={x:0,y:0,z:0},ct={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(i,n){const e=n(i);let r=e.x*e.x+e.y*e.y;return typeof e.z<"u"&&(r+=e.z*e.z),Dm(r)},compute:function(i,n,e){if(0===i)return n[0].t=0,n[0];const r=n.length-1;if(1===i)return n[r].t=1,n[r];const o=1-i;let s=n;if(0===r)return n[0].t=i,n[0];if(1===r){const h={x:o*s[0].x+i*s[1].x,y:o*s[0].y+i*s[1].y,t:i};return e&&(h.z=o*s[0].z+i*s[1].z),h}if(r<4){let g,w,E,h=o*o,p=i*i,S=0;2===r?(s=[s[0],s[1],s[2],Roe],g=h,w=o*i*2,E=p):3===r&&(g=h*o,w=h*i*3,E=o*p*3,S=i*p);const O={x:g*s[0].x+w*s[1].x+E*s[2].x+S*s[3].x,y:g*s[0].y+w*s[1].y+E*s[2].y+S*s[3].y,t:i};return e&&(O.z=g*s[0].z+w*s[1].z+E*s[2].z+S*s[3].z),O}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let h=0;h<l.length-1;h++)l[h]={x:l[h].x+(l[h+1].x-l[h].x)*i,y:l[h].y+(l[h+1].y-l[h].y)*i},typeof l[h].z<"u"&&(l[h]=l[h].z+(l[h+1].z-l[h].z)*i);l.splice(l.length-1,1)}return l[0].t=i,l[0]},computeWithRatios:function(i,n,e,r){const o=1-i;let E,h=e[0],p=e[1],g=e[2],w=e[3];return h*=o,p*=i,2===n.length?(E=h+p,{x:(h*n[0].x+p*n[1].x)/E,y:(h*n[0].y+p*n[1].y)/E,z:!!r&&(h*n[0].z+p*n[1].z)/E,t:i}):(h*=o,p*=2*o,g*=i*i,3===n.length?(E=h+p+g,{x:(h*n[0].x+p*n[1].x+g*n[2].x)/E,y:(h*n[0].y+p*n[1].y+g*n[2].y)/E,z:!!r&&(h*n[0].z+p*n[1].z+g*n[2].z)/E,t:i}):(h*=o,p*=1.5*o,g*=3*o,w*=i*i*i,4===n.length?(E=h+p+g+w,{x:(h*n[0].x+p*n[1].x+g*n[2].x+w*n[3].x)/E,y:(h*n[0].y+p*n[1].y+g*n[2].y+w*n[3].y)/E,z:!!r&&(h*n[0].z+p*n[1].z+g*n[2].z+w*n[3].z)/E,t:i}):void 0))},derive:function(i,n){const e=[];for(let r=i,o=r.length,s=o-1;o>1;o--,s--){const l=[];for(let p,h=0;h<s;h++)p={x:s*(r[h+1].x-r[h].x),y:s*(r[h+1].y-r[h].y)},n&&(p.z=s*(r[h+1].z-r[h].z)),l.push(p);e.push(l),r=l}return e},between:function(i,n,e){return n<=i&&i<=e||ct.approximately(i,n)||ct.approximately(i,e)},approximately:function(i,n,e){return xD(i-n)<=(e||1e-6)},length:function(i){const e=ct.Tvalues.length;let r=0;for(let s,o=0;o<e;o++)s=.5*ct.Tvalues[o]+.5,r+=ct.Cvalues[o]*ct.arcfn(s,i);return.5*r},map:function(i,n,e,r,o){return r+(i-n)/(e-n)*(o-r)},lerp:function(i,n,e){const r={x:n.x+i*(e.x-n.x),y:n.y+i*(e.y-n.y)};return void 0!==n.z&&void 0!==e.z&&(r.z=n.z+i*(e.z-n.z)),r},pointToString:function(i){let n=i.x+"/"+i.y;return typeof i.z<"u"&&(n+="/"+i.z),n},pointsToString:function(i){return"["+i.map(ct.pointToString).join(", ")+"]"},copy:function(i){return JSON.parse(JSON.stringify(i))},angle:function(i,n,e){const r=n.x-i.x,o=n.y-i.y,s=e.x-i.x,l=e.y-i.y;return CD(r*l-o*s,r*s+o*l)},round:function(i,n){const e=""+i,r=e.indexOf(".");return parseFloat(e.substring(0,r+1+n))},dist:function(i,n){const e=i.x-n.x,r=i.y-n.y;return Dm(e*e+r*r)},closest:function(i,n){let r,o,e=el(2,63);return i.forEach(function(s,l){o=ct.dist(n,s),o<e&&(e=o,r=l)}),{mdist:e,mpos:r}},abcratio:function(i,n){if(2!==n&&3!==n)return!1;if(typeof i>"u")i=.5;else if(0===i||1===i)return i;const e=el(i,n)+el(1-i,n);return xD((e-1)/e)},projectionratio:function(i,n){if(2!==n&&3!==n)return!1;if(typeof i>"u")i=.5;else if(0===i||1===i)return i;const e=el(1-i,n);return e/(el(i,n)+e)},lli8:function(i,n,e,r,o,s,l,h){const w=(i-e)*(s-h)-(n-r)*(o-l);return 0!=w&&{x:((i*r-n*e)*(o-l)-(i-e)*(o*h-s*l))/w,y:((i*r-n*e)*(s-h)-(n-r)*(o*h-s*l))/w}},lli4:function(i,n,e,r){return ct.lli8(i.x,i.y,n.x,n.y,e.x,e.y,r.x,r.y)},lli:function(i,n){return ct.lli4(i,i.c,n,n.c)},makeline:function(i,n){return new Mr(i.x,i.y,(i.x+n.x)/2,(i.y+n.y)/2,n.x,n.y)},findbbox:function(i){let n=q2,e=q2,r=W2,o=W2;return i.forEach(function(s){const l=s.bbox();n>l.x.min&&(n=l.x.min),e>l.y.min&&(e=l.y.min),r<l.x.max&&(r=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:n,mid:(n+r)/2,max:r,size:r-n},y:{min:e,mid:(e+o)/2,max:o,size:o-e}}},shapeintersections:function(i,n,e,r,o){if(!ct.bboxoverlap(n,r))return[];const s=[],h=[e.startcap,e.forward,e.back,e.endcap];return[i.startcap,i.forward,i.back,i.endcap].forEach(function(p){p.virtual||h.forEach(function(g){if(g.virtual)return;const w=p.intersects(g,o);w.length>0&&(w.c1=p,w.c2=g,w.s1=i,w.s2=e,s.push(w))})}),s},makeshape:function(i,n,e){const o=i.points.length,s=ct.makeline(n.points[n.points.length-1],i.points[0]),l=ct.makeline(i.points[o-1],n.points[0]),h={startcap:s,forward:i,back:n,endcap:l,bbox:ct.findbbox([s,i,n,l]),intersections:function(p){return ct.shapeintersections(h,h.bbox,p,p.bbox,e)}};return h},getminmax:function(i,n,e){if(!e)return{min:0,max:0};let s,l,r=q2,o=W2;-1===e.indexOf(0)&&(e=[0].concat(e)),-1===e.indexOf(1)&&e.push(1);for(let h=0,p=e.length;h<p;h++)s=e[h],l=i.get(s),l[n]<r&&(r=l[n]),l[n]>o&&(o=l[n]);return{min:r,mid:(r+o)/2,max:o,size:o-r}},align:function(i,n){const e=n.p1.x,r=n.p1.y,o=-CD(n.p2.y-r,n.p2.x-e);return i.map(function(l){return{x:(l.x-e)*mf(o)-(l.y-r)*L0(o),y:(l.x-e)*L0(o)+(l.y-r)*mf(o)}})},roots:function(i,n){const e=i.length-1,r=ct.align(i,n=n||{p1:{x:0,y:0},p2:{x:1,y:0}}),o=function(ht){return 0<=ht&&ht<=1};if(2===e){const ht=r[0].y,Bt=r[1].y,gn=r[2].y,Ni=ht-2*Bt+gn;if(0!==Ni){const fc=-Dm(Bt*Bt-ht*gn),Xo=-ht+Bt;return[-(fc+Xo)/Ni,-(-fc+Xo)/Ni].filter(o)}return Bt!==gn&&0===Ni?[(2*Bt-gn)/(2*Bt-2*gn)].filter(o):[]}const s=r[0].y,l=r[1].y,h=r[2].y;let g=3*l-s-3*h+r[3].y,w=3*s-6*l+3*h,E=-3*s+3*l,S=s;if(ct.approximately(g,0)){if(ct.approximately(w,0))return ct.approximately(E,0)?[]:[-S/E].filter(o);const ht=Dm(E*E-4*w*S),Bt=2*w;return[(ht-E)/Bt,(-E-ht)/Bt].filter(o)}w/=g,E/=g,S/=g;const O=(3*E-w*w)/3,F=O/3,G=(2*w*w*w-9*w*E+27*S)/27,Q=G/2,ve=Q*Q+F*F*F;let Se,Oe,Ae,Le,Je;if(ve<0){const ht=-O/3,gn=Dm(ht*ht*ht),Ni=-G/(2*gn),Xo=Aoe(Ni<-1?-1:Ni>1?1:Ni),pu=2*ED(gn);return Ae=pu*mf(Xo/3)-w/3,Le=pu*mf((Xo+n1)/3)-w/3,Je=pu*mf((Xo+2*n1)/3)-w/3,[Ae,Le,Je].filter(o)}if(0===ve)return Se=Q<0?ED(-Q):-ED(Q),Ae=2*Se-w/3,Le=-Se-w/3,[Ae,Le].filter(o);{const ht=Dm(ve);return Se=ED(-Q+ht),Oe=ED(Q+ht),[Se-Oe-w/3].filter(o)}},droots:function(i){if(3===i.length){const n=i[0],e=i[1],r=i[2],o=n-2*e+r;if(0!==o){const s=-Dm(e*e-n*r),l=-n+e;return[-(s+l)/o,-(-s+l)/o]}return e!==r&&0===o?[(2*e-r)/(2*(e-r))]:[]}if(2===i.length){const n=i[0],e=i[1];return n!==e?[n/(n-e)]:[]}return[]},curvature:function(i,n,e,r,o){let s,l,h,p,g=0,w=0;const E=ct.compute(i,n),S=ct.compute(i,e),O=E.x*E.x+E.y*E.y;if(r?(s=Dm(el(E.y*S.z-S.y*E.z,2)+el(E.z*S.x-S.z*E.x,2)+el(E.x*S.y-S.x*E.y,2)),l=el(O+E.z*E.z,1.5)):(s=E.x*S.y-E.y*S.x,l=el(O,1.5)),0===s||0===l)return{k:0,r:0};if(g=s/l,w=l/s,!o){const F=ct.curvature(i-.001,n,e,r,!0).k,G=ct.curvature(i+.001,n,e,r,!0).k;p=(G-g+(g-F))/2,h=(xD(G-g)+xD(g-F))/2}return{k:g,r:w,dk:p,adk:h}},inflections:function(i){if(i.length<4)return[];const n=ct.align(i,{p1:i[0],p2:i.slice(-1)[0]}),e=n[2].x*n[1].y,r=n[3].x*n[1].y,o=n[1].x*n[2].y,l=18*(-3*e+2*r+3*o-n[3].x*n[2].y),h=18*(3*e-r-3*o),p=18*(o-e);if(ct.approximately(l,0)){if(!ct.approximately(h,0)){let S=-p/h;if(0<=S&&S<=1)return[S]}return[]}const g=2*l;if(ct.approximately(g,0))return[];const w=h*h-4*l*p;if(w<0)return[];const E=Math.sqrt(w);return[(E-h)/g,-(h+E)/g].filter(function(S){return 0<=S&&S<=1})},bboxoverlap:function(i,n){const e=["x","y"],r=e.length;for(let s,l,h,p,o=0;o<r;o++)if(s=e[o],l=i[s].mid,h=n[s].mid,p=(i[s].size+n[s].size)/2,xD(l-h)>=p)return!1;return!0},expandbox:function(i,n){n.x.min<i.x.min&&(i.x.min=n.x.min),n.y.min<i.y.min&&(i.y.min=n.y.min),n.z&&n.z.min<i.z.min&&(i.z.min=n.z.min),n.x.max>i.x.max&&(i.x.max=n.x.max),n.y.max>i.y.max&&(i.y.max=n.y.max),n.z&&n.z.max>i.z.max&&(i.z.max=n.z.max),i.x.mid=(i.x.min+i.x.max)/2,i.y.mid=(i.y.min+i.y.max)/2,i.z&&(i.z.mid=(i.z.min+i.z.max)/2),i.x.size=i.x.max-i.x.min,i.y.size=i.y.max-i.y.min,i.z&&(i.z.size=i.z.max-i.z.min)},pairiteration:function(i,n,e){const r=i.bbox(),o=n.bbox(),s=1e5,l=e||.5;if(r.x.size+r.y.size<l&&o.x.size+o.y.size<l)return[(s*(i._t1+i._t2)/2|0)/s+"/"+(s*(n._t1+n._t2)/2|0)/s];let h=i.split(.5),p=n.split(.5),g=[{left:h.left,right:p.left},{left:h.left,right:p.right},{left:h.right,right:p.right},{left:h.right,right:p.left}];g=g.filter(function(E){return ct.bboxoverlap(E.left.bbox(),E.right.bbox())});let w=[];return 0===g.length||(g.forEach(function(E){w=w.concat(ct.pairiteration(E.left,E.right,l))}),w=w.filter(function(E,S){return w.indexOf(E)===S})),w},getccenter:function(i,n,e){const r=n.x-i.x,o=n.y-i.y,s=e.x-n.x,l=e.y-n.y,h=r*mf(Im)-o*L0(Im),p=r*L0(Im)+o*mf(Im),g=s*mf(Im)-l*L0(Im),w=s*L0(Im)+l*mf(Im),E=(i.x+n.x)/2,S=(i.y+n.y)/2,O=(n.x+e.x)/2,F=(n.y+e.y)/2,Oe=ct.lli8(E,S,E+h,S+p,O,F,O+g,F+w),Ae=ct.dist(Oe,i);let Bt,Le=CD(i.y-Oe.y,i.x-Oe.x),Je=CD(n.y-Oe.y,n.x-Oe.x),ht=CD(e.y-Oe.y,e.x-Oe.x);return Le<ht?((Le>Je||Je>ht)&&(Le+=n1),Le>ht&&(Bt=ht,ht=Le,Le=Bt)):ht<Je&&Je<Le?(Bt=ht,ht=Le,Le=Bt):ht+=n1,Oe.s=Le,Oe.e=ht,Oe.r=Ae,Oe},numberSort:function(i,n){return i-n}};class DD{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return ct.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,e){return n+e})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var e=n[0].bbox(),r=1;r<n.length;r++)ct.expandbox(e,n[r].bbox());return e}offset(n){const e=[];return this.curves.forEach(function(r){e.push(...r.offset(n))}),new DD(e)}}const{abs:ID,min:V5,max:U5,cos:Ooe,sin:Poe,acos:Noe,sqrt:kD}=Math,Foe=Math.PI;class Mr{constructor(n){let e=n&&n.forEach?n:Array.from(arguments).slice(),r=!1;if("object"==typeof e[0]){r=e.length;const O=[];e.forEach(function(F){["x","y","z"].forEach(function(G){typeof F[G]<"u"&&O.push(F[G])})}),e=O}let o=!1;const s=e.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==s&&8!==s&&9!==s&&12!==s&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(9===s||12===s)||n&&n[0]&&typeof n[0].z<"u",h=this.points=[];for(let O=0,F=l?3:2;O<s;O+=F){var p={x:e[O],y:e[O+1]};l&&(p.z=e[O+2]),h.push(p)}const g=this.order=h.length-1,w=this.dims=["x","y"];l&&w.push("z"),this.dimlen=w.length;const E=ct.align(h,{p1:h[0],p2:h[g]}),S=ct.dist(h[0],h[g]);this._linear=E.reduce((O,F)=>O+ID(F.y),0)<S/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,e,r,o){if(typeof o>"u"&&(o=.5),0===o)return new Mr(e,e,r);if(1===o)return new Mr(n,e,e);const s=Mr.getABC(2,n,e,r,o);return new Mr(n,s.A,r)}static cubicFromPoints(n,e,r,o,s){typeof o>"u"&&(o=.5);const l=Mr.getABC(3,n,e,r,o);typeof s>"u"&&(s=ct.dist(e,l.C));const h=s*(1-o)/o,p=ct.dist(n,r),g=(r.x-n.x)/p,w=(r.y-n.y)/p,ve=l.A;return new Mr(n,{x:n.x+(ve.x+(e.x-s*g-ve.x)/(1-o)-n.x)/o,y:n.y+(ve.y+(e.y-s*w-ve.y)/(1-o)-n.y)/o},{x:r.x+(ve.x+(e.x+h*g-ve.x)/o-r.x)/(1-o),y:r.y+(ve.y+(e.y+h*w-ve.y)/o-r.y)/(1-o)},r)}static getUtils(){return ct}getUtils(){return Mr.getUtils()}static get PolyBezier(){return DD}valueOf(){return this.toString()}toString(){return ct.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,o=["M",n[0].x,n[0].y,2===this.order?"Q":"C"];for(let s=1,l=n.length;s<l;s++)o.push(n[s].x),o.push(n[s].y);return o.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,e){return""+e+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=ct.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,e=ct.angle(n[0],n[this.order],n[1]);this.clockwise=e>0}length(){return ct.length(this.derivative.bind(this))}static getABC(n=2,e,r,o,s=.5){const l=ct.projectionratio(s,n),h=1-l,p={x:l*e.x+h*o.x,y:l*e.y+h*o.y},g=ct.abcratio(s,n);return{A:{x:r.x+(r.x-p.x)/g,y:r.y+(r.y-p.y)/g},B:r,C:p,S:e,E:o}}getABC(n,e){return e=e||this.get(n),Mr.getABC(this.order,this.points[0],e,this.points[this.order],n)}getLUT(n){if(this.verify(),this._lut.length===(n=n||100)+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r,o,e=0;e<n;e++)o=e/(n-1),r=this.compute(o),r.t=o,this._lut.push(r);return this._lut}on(n,e){e=e||5;const r=this.getLUT(),o=[];for(let l,s=0,h=0;s<r.length;s++)l=r[s],ct.dist(l,n)<e&&(o.push(l),h+=s/r.length);return!!o.length&&(t/=o.length)}project(n){const e=this.getLUT(),r=e.length-1,o=ct.closest(e,n),s=o.mpos,h=(s+1)/r,p=.1/r;let S,g=o.mdist,w=(s-1)/r,E=w;g+=1;for(let O;w<h+p;w+=p)S=this.compute(w),O=ct.dist(n,S),O<g&&(g=O,E=w);return E=E<0?0:E>1?1:E,S=this.compute(E),S.t=E,S.d=g,S}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?ct.computeWithRatios(n,this.points,this.ratios,this._3d):ct.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,e=[n[0]],r=n.length;for(let s,l,o=1;o<r;o++)s=n[o],l=n[o-1],e[o]={x:(r-o)/r*s.x+o/r*l.x,y:(r-o)/r*s.y+o/r*l.y};return e[r]=n[r-1],new Mr(e)}derivative(n){return ct.compute(n,this.dpoints[0],this._3d)}dderivative(n){return ct.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Mr(ct.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return ct.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ct.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const e=this.derivative(n),r=kD(e.x*e.x+e.y*e.y);return{t:n,x:-e.y/r,y:e.x/r}}__normal3(n){const e=this.derivative(n),r=this.derivative(n+.01),o=kD(e.x*e.x+e.y*e.y+e.z*e.z),s=kD(r.x*r.x+r.y*r.y+r.z*r.z);e.x/=o,e.y/=o,e.z/=o,r.x/=s,r.y/=s,r.z/=s;const l={x:r.y*e.z-r.z*e.y,y:r.z*e.x-r.x*e.z,z:r.x*e.y-r.y*e.x},h=kD(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=h,l.y/=h,l.z/=h;const p=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:p[0]*e.x+p[1]*e.y+p[2]*e.z,y:p[3]*e.x+p[4]*e.y+p[5]*e.z,z:p[6]*e.x+p[7]*e.y+p[8]*e.z}}hull(n){let e=this.points,r=[],o=[],s=0;for(o[s++]=e[0],o[s++]=e[1],o[s++]=e[2],3===this.order&&(o[s++]=e[3]);e.length>1;){r=[];for(let h,l=0,p=e.length-1;l<p;l++)h=ct.lerp(n,e[l],e[l+1]),o[s++]=h,r.push(h);e=r}return o}split(n,e){if(0===n&&e)return this.split(e).left;if(1===e)return this.split(n).right;const r=this.hull(n),o={left:new Mr(2===this.order?[r[0],r[3],r[5]]:[r[0],r[4],r[7],r[9]]),right:new Mr(2===this.order?[r[5],r[4],r[2]]:[r[9],r[8],r[6],r[3]]),span:r};return o.left._t1=ct.map(0,0,1,this._t1,this._t2),o.left._t2=ct.map(n,0,1,this._t1,this._t2),o.right._t1=ct.map(n,0,1,this._t1,this._t2),o.right._t2=ct.map(1,0,1,this._t1,this._t2),e?(e=ct.map(e,n,1,0,1),o.right.split(e).left):o}extrema(){const n={};let e=[];return this.dims.forEach(function(r){let o=function(l){return l[r]},s=this.dpoints[0].map(o);n[r]=ct.droots(s),3===this.order&&(s=this.dpoints[1].map(o),n[r]=n[r].concat(ct.droots(s))),n[r]=n[r].filter(function(l){return l>=0&&l<=1}),e=e.concat(n[r].sort(ct.numberSort))}.bind(this)),n.values=e.sort(ct.numberSort).filter(function(r,o){return e.indexOf(r)===o}),n}bbox(){const n=this.extrema(),e={};return this.dims.forEach(function(r){e[r]=ct.getminmax(this,r,n[r])}.bind(this)),e}overlaps(n){const e=this.bbox(),r=n.bbox();return ct.bboxoverlap(e,r)}offset(n,e){if(typeof e<"u"){const r=this.get(n),o=this.normal(n),s={c:r,n:o,x:r.x+o.x*e,y:r.y+o.y*e};return this._3d&&(s.z=r.z+o.z*e),s}if(this._linear){const r=this.normal(0),o=this.points.map(function(s){const l={x:s.x+n*r.x,y:s.y+n*r.y};return s.z&&r.z&&(l.z=s.z+n*r.z),l});return[new Mr(o)]}return this.reduce().map(function(r){return r._linear?r.offset(n)[0]:r.scale(n)})}simple(){if(3===this.order){const o=ct.angle(this.points[0],this.points[3],this.points[1]),s=ct.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&s<0||o<0&&s>0)return!1}const n=this.normal(0),e=this.normal(1);let r=n.x*e.x+n.y*e.y;return this._3d&&(r+=n.z*e.z),ID(Noe(r))<Foe/3}reduce(){let n,s,e=0,r=0,o=.01,l=[],h=[],p=this.extrema().values;for(-1===p.indexOf(0)&&(p=[0].concat(p)),-1===p.indexOf(1)&&p.push(1),e=p[0],n=1;n<p.length;n++)r=p[n],s=this.split(e,r),s._t1=e,s._t2=r,l.push(s),e=r;return l.forEach(function(g){for(e=0,r=0;r<=1;)for(r=e+o;r<=1+o;r+=o)if(s=g.split(e,r),!s.simple()){if(r-=o,ID(e-r)<o)return[];s=g.split(e,r),s._t1=ct.map(e,0,1,g._t1,g._t2),s._t2=ct.map(r,0,1,g._t1,g._t2),h.push(s),e=r;break}e<1&&(s=g.split(e,1),s._t1=ct.map(e,0,1,g._t1,g._t2),s._t2=g._t2,h.push(s))}),h}translate(n,e,r){r="number"==typeof r?r:e;const o=this.order;let s=this.points.map((l,h)=>(1-h/o)*e+h/o*r);return new Mr(this.points.map((l,h)=>({x:l.x+n.x*s[h],y:l.y+n.y*s[h]})))}scale(n){const e=this.order;let r=!1;if("function"==typeof n&&(r=n),r&&2===e)return this.raise().scale(r);const o=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):n,r?r(1):n);const l=r?r(0):n,h=r?r(1):n,p=[this.offset(0,10),this.offset(1,10)],g=[],w=ct.lli4(p[0],p[0].c,p[1],p[1].c);if(!w)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(E){const S=g[E*e]=ct.copy(s[E*e]);S.x+=(E?h:l)*p[E].n.x,S.y+=(E?h:l)*p[E].n.y}),r?([0,1].forEach(function(E){if(2!==e||!E){var S=s[E+1],O={x:S.x-w.x,y:S.y-w.y},F=r?r((E+1)/e):n;r&&!o&&(F=-F);var G=kD(O.x*O.x+O.y*O.y);O.x/=G,O.y/=G,g[E+1]={x:S.x+F*O.x,y:S.y+F*O.y}}}),new Mr(g)):([0,1].forEach(E=>{if(2===e&&E)return;const S=g[E*e],O=this.derivative(E);g[E+1]=ct.lli4(S,{x:S.x+O.x,y:S.y+O.y},w,s[E+1])}),new Mr(g))}outline(n,e,r,o){if(e=void 0===e?n:e,this._linear){const Le=this.normal(0),Je=this.points[0],ht=this.points[this.points.length-1];let Bt,gn,Ni;void 0===r&&(r=n,o=e),Bt={x:Je.x+Le.x*n,y:Je.y+Le.y*n},Ni={x:ht.x+Le.x*r,y:ht.y+Le.y*r},gn={x:(Bt.x+Ni.x)/2,y:(Bt.y+Ni.y)/2};const fc=[Bt,gn,Ni];Bt={x:Je.x-Le.x*e,y:Je.y-Le.y*e},Ni={x:ht.x-Le.x*o,y:ht.y-Le.y*o},gn={x:(Bt.x+Ni.x)/2,y:(Bt.y+Ni.y)/2};const Xo=[Ni,gn,Bt],Us=ct.makeline(Xo[2],fc[0]),pu=ct.makeline(fc[2],Xo[0]),l1=[Us,new Mr(fc),pu,new Mr(Xo)];return new DD(l1)}const s=this.reduce(),l=s.length,h=[];let g,p=[],w=0,E=this.length();const S=typeof r<"u"&&typeof o<"u";function O(Le,Je,ht,Bt,gn){return function(Ni){const Us=Je-Le;return ct.map(Ni,0,1,Le+Bt/ht*Us,Le+(Bt+gn)/ht*Us)}}s.forEach(function(Le){const Je=Le.length();S?(h.push(Le.scale(O(n,r,E,w,Je))),p.push(Le.scale(O(-e,-o,E,w,Je)))):(h.push(Le.scale(n)),p.push(Le.scale(-e))),w+=Je}),p=p.map(function(Le){return g=Le.points,Le.points=g[3]?[g[3],g[2],g[1],g[0]]:[g[2],g[1],g[0]],Le}).reverse();const G=h[l-1].points[h[l-1].points.length-1],ve=p[0].points[0],Se=ct.makeline(p[l-1].points[p[l-1].points.length-1],h[0].points[0]),Oe=ct.makeline(G,ve),Ae=[Se].concat(h).concat([Oe]).concat(p);return new DD(Ae)}outlineshapes(n,e,r){const o=this.outline(n,e=e||n).curves,s=[];for(let l=1,h=o.length;l<h/2;l++){const p=ct.makeshape(o[l],o[h-l],r);p.startcap.virtual=l>1,p.endcap.virtual=l<h/2-1,s.push(p)}return s}intersects(n,e){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Mr&&(n=n.reduce()),this.curveintersects(this.reduce(),n,e)):this.selfintersects(e)}lineIntersects(n){const e=V5(n.p1.x,n.p2.x),r=V5(n.p1.y,n.p2.y),o=U5(n.p1.x,n.p2.x),s=U5(n.p1.y,n.p2.y);return ct.roots(this.points,n).filter(l=>{var h=this.get(l);return ct.between(h.x,e,o)&&ct.between(h.y,r,s)})}selfintersects(n){const e=this.reduce(),r=e.length-2,o=[];for(let l,h,p,s=0;s<r;s++)h=e.slice(s,s+1),p=e.slice(s+2),l=this.curveintersects(h,p,n),o.push(...l);return o}curveintersects(n,e,r){const o=[];n.forEach(function(l){e.forEach(function(h){l.overlaps(h)&&o.push({left:l,right:h})})});let s=[];return o.forEach(function(l){const h=ct.pairiteration(l.left,l.right,r);h.length>0&&(s=s.concat(h))}),s}arcs(n){return this._iterate(n=n||.5,[])}_error(n,e,r,o){const s=(o-r)/4,l=this.get(r+s),h=this.get(o-s),p=ct.dist(n,e),g=ct.dist(n,l),w=ct.dist(n,h);return ID(g-p)+ID(w-p)}_iterate(n,e){let s,r=0,o=1;do{s=0,o=1;let h,p,g,w,O,l=this.get(r),E=!1,S=!1,F=o,G=1,Q=0;do{if(S=E,w=g,F=(r+o)/2,Q++,h=this.get(F),p=this.get(o),g=ct.getccenter(l,h,p),g.interval={start:r,end:o},E=this._error(g,l,r,o)<=n,O=S&&!E,O||(G=o),E){if(o>=1){if(g.interval.end=G=1,w=g,o>1){let Se={x:g.x+g.r*Ooe(g.e),y:g.y+g.r*Poe(g.e)};g.e+=ct.angle({x:g.x,y:g.y},Se,this.get(1))}break}o+=(o-r)/2}else o=F}while(!O&&s++<100);if(s>=100)break;w=w||g,e.push(w),r=G}while(o<1);return e}}const{cos:H5,sin:z5,round:j5,PI:Loe}=Math;let B0=(()=>{class i{bounds({x:e,y:r},[o,s],l){switch(l%4){case 0:return{x1:e,y1:r,x2:e+o,y2:r+s};case 1:return{x1:e-s+1,y1:r,x2:e+1,y2:r+o};case 2:return{x1:e-o+1,y1:r-s+1,x2:e+1,y2:r+1};case 3:return{x1:e,y1:r-o+1,x2:e+s,y2:r+1};default:throw new Error}}clamp(e,r,o){return e<r?r:e>o?o:e}getElementFilterPredicate(e){const r=e.toLowerCase().split(" ").filter(o=>!!o.length);return o=>!r.length||!!r.find(s=>o.code.toLowerCase().includes(s)||o.name.toLowerCase().includes(s)||o.tags.find(l=>l.toLowerCase().includes(s)))}overlap2D(e,r){return e.x1<r.x2&&e.y1<r.y2&&r.x1<e.x2&&r.y1<e.y2}overlap3D(e,r){return e.x1<r.x2&&e.y1<r.y2&&e.z1<r.z2&&r.x1<e.x2&&r.y1<e.y2&&r.z1<e.z2}rotate({x:e,y:r},o){if(0===o)return{x:e,y:r};const s=o*Loe/2;return{x:j5(e*H5(s)-r*z5(s)),y:j5(e*z5(s)+r*H5(s))}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),r1=(()=>{class i{transform(e,r,o){return`assets/sprites/${r.code}/${e}_${o}.png`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"assetUrl",type:i,pure:!0}),i})(),Boe=(()=>{class i{transform(e){return`translate(${e[0]}, ${e[1]})`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"cssTranslate",type:i,pure:!0}),i})();const Voe=["svg"];function Uoe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a._UZ(1,"rect",5),a.BQk()),2&i){const e=a.oxw(4);a.xp6(1),a.uIk("height",e.cellSize)("width",e.cellSize)("x",0)("y",0)}}const km=function(i,n){return[i,n]};function Hoe(i,n){if(1&i&&(a.O4$(),a.TgZ(0,"g"),a.ALo(1,"cssTranslate"),a._UZ(2,"image"),a.YNc(3,Uoe,2,4,"ng-container",3),a.qZA()),2&i){const e=n.$implicit,r=a.oxw().$implicit,o=a.oxw(2);a.uIk("transform",a.lcZ(1,5,a.WLB(7,km,e.x,e.y))),a.xp6(2),a.uIk("height",o.cellSize)("href","assets/sprites/"+o.spriteSet.code+"/"+r.asset+".png")("width",o.cellSize),a.xp6(1),a.Q6J("ngIf",o.debug)}}function zoe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.TgZ(1,"g"),a.ALo(2,"cssTranslate"),a.YNc(3,Hoe,4,10,"g",3),a.qZA(),a.BQk()),2&i){const e=n.$implicit,r=a.oxw(2);a.xp6(1),a.uIk("transform",a.lcZ(2,2,a.WLB(4,km,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y))),a.xp6(2),a.Q6J("ngIf",r.getSpriteOffset(r.elementsBycode[e.tile.element],e.tile.orientation+r.orientation))}}function joe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a._UZ(1,"rect",6),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.uIk("height",e.y2-e.y1)("width",e.x2-e.x1)("x",e.x1)("y",e.y1)}}function $oe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.YNc(1,joe,2,4,"ng-container",3),a.BQk()),2&i){const e=n.$implicit,r=a.oxw(2).$implicit,o=a.oxw(2);a.xp6(1),a.Q6J("ngIf",o.projectBox(e,r.layer))}}function Goe(i,n){if(1&i&&(a.O4$(),a.TgZ(0,"g"),a.ALo(1,"cssTranslate"),a.YNc(2,$oe,2,1,"ng-container",3),a.qZA()),2&i){const e=a.oxw().$implicit,r=a.oxw(2);a.uIk("transform",a.lcZ(1,2,a.WLB(4,km,r.svgWidth/2-r.zoom*r.focus.x,r.svgHeight/2-r.zoom*r.focus.y))),a.xp6(2),a.Q6J("ngIf",r.utilService.bounds(e.tile,r.elementsBycode[e.tile.element].footprint,e.tile.orientation))}}function qoe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.TgZ(1,"g"),a.ALo(2,"cssTranslate"),a._UZ(3,"circle",7),a.TgZ(4,"text",8),a._uU(5),a.qZA()(),a.BQk()),2&i){const e=a.oxw(),r=e.$implicit,o=e.index,s=a.oxw(2);a.xp6(1),a.uIk("transform",a.lcZ(2,2,a.WLB(4,km,s.svgWidth/2-s.zoom*s.focus.x+r.x,s.svgHeight/2-s.zoom*s.focus.y+r.y))),a.xp6(4),a.Oqu(o)}}function Woe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.TgZ(1,"g"),a.ALo(2,"cssTranslate"),a._UZ(3,"circle",9),a.qZA(),a.BQk()),2&i){const e=a.oxw().$implicit,r=a.oxw(2);a.xp6(1),a.uIk("transform",a.lcZ(2,3,a.WLB(5,km,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y))),a.xp6(2),a.Udp("fill",r.layerColors[e.layer])}}function Zoe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.YNc(1,Goe,3,7,"g",3),a.YNc(2,qoe,6,7,"ng-container",3),a.YNc(3,Woe,4,8,"ng-container",3),a.BQk()),2&i){const e=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!1),a.xp6(1),a.Q6J("ngIf",!1),a.xp6(1),a.Q6J("ngIf",e.debug)}}function Yoe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a._UZ(1,"image",10),a.ALo(2,"assetUrl"),a.ALo(3,"cssTranslate"),a.BQk()),2&i){const e=n.$implicit,r=a.oxw().$implicit,o=a.oxw(4);a.xp6(1),a.Udp("opacity",.7+.15*o.sin(4.5*o.time)),a.uIk("height",o.cellSize)("href",a.Dn7(2,6,o.cursor.element.code,o.spriteSet,o.cursor.orientation))("transform",a.lcZ(3,10,a.WLB(12,km,o.svgWidth/2-o.zoom*o.focus.x+r.x+e.x,o.svgHeight/2-o.zoom*o.focus.y+r.y+e.y)))("width",o.cellSize)}}function Koe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.YNc(1,Yoe,4,15,"ng-container",3),a.BQk()),2&i){const e=a.oxw(4);a.xp6(1),a.Q6J("ngIf",e.cursor.element&&e.getSpriteOffset(e.cursor.element,e.cursor.orientation))}}function Qoe(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.YNc(1,Koe,2,1,"ng-container",3),a.BQk()),2&i){const e=a.oxw(3);a.xp6(1),a.Q6J("ngIf",e.project(e.cursorHardpoint.original.x,e.cursorHardpoint.original.y,e.cursorHardpoint.original.z))}}function Xoe(i,n){if(1&i&&(a.O4$(),a._UZ(0,"circle",13),a.ALo(1,"cssTranslate")),2&i){const e=a.oxw().$implicit,r=a.oxw(3);a.uIk("transform",a.lcZ(1,1,a.WLB(3,km,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y)))}}function Joe(i,n){if(1&i){const e=a.EpF();a.O4$(),a.ynx(0),a.TgZ(1,"path",11),a.NdJ("click",function(){const s=a.CHM(e).$implicit,l=a.oxw(3);return a.KtG(l.onClickCursor(s))})("mouseover",function(){const s=a.CHM(e).$implicit,l=a.oxw(3);return a.KtG(l.onHoverCursor(s))}),a.ALo(2,"cssTranslate"),a.qZA(),a.YNc(3,Xoe,2,6,"circle",12),a.BQk()}if(2&i){const e=n.$implicit,r=a.oxw(3);a.xp6(1),a.Udp("fill",r.cursor.color)("stroke",r.cursor.color),a.uIk("d",r.shapes[e.original.type])("transform",a.lcZ(2,7,a.WLB(9,km,r.svgWidth/2-r.zoom*r.focus.x+e.x,r.svgHeight/2-r.zoom*r.focus.y+e.y))),a.xp6(2),a.Q6J("ngIf",!1)}}function ese(i,n){if(1&i&&(a.O4$(),a.ynx(0),a.YNc(1,Qoe,2,1,"ng-container",3),a.YNc(2,Joe,4,12,"ng-container",4),a.BQk()),2&i){const e=a.oxw(2);a.xp6(1),a.Q6J("ngIf",e.cursorHardpoint),a.xp6(1),a.Q6J("ngForOf",e.projectedHardpoints)}}function tse(i,n){if(1&i&&(a.O4$(),a.ynx(0),a._UZ(1,"line",14)(2,"line",14),a.BQk()),2&i){const e=a.oxw(2);a.xp6(1),a.uIk("x1",0)("x2",e.svgWidth)("y1",e.svgHeight/2)("y2",e.svgHeight/2),a.xp6(1),a.uIk("x1",e.svgWidth/2)("x2",e.svgWidth/2)("y1",0)("y2",e.svgHeight)}}function nse(i,n){if(1&i&&(a.O4$(),a.TgZ(0,"g")(1,"g"),a.YNc(2,zoe,4,7,"ng-container",4),a.YNc(3,Zoe,4,3,"ng-container",4),a.qZA(),a.TgZ(4,"g"),a.YNc(5,ese,3,2,"ng-container",3),a.qZA(),a.YNc(6,tse,3,8,"ng-container",3),a.qZA()),2&i){const e=a.oxw();a.xp6(2),a.Q6J("ngForOf",e.projectedTiles),a.xp6(1),a.Q6J("ngForOf",e.projectedTiles),a.xp6(2),a.Q6J("ngIf",e.cursor),a.xp6(1),a.Q6J("ngIf",e.debug)}}const ise=function(i){return{editable:i}},{sin:rse,min:o1,max:s1}=Math;let a1=(()=>{class i{constructor(e,r,o){this.host=e,this.utilService=r,this.zone=o,this.spriteSet=Em[0],this.editable=!1,this.elements=[],this.hardpoints=[],this.zoom=1,this.focus={x:0,y:0},this.orientation=0,this.clickCursor=new a.vpe,this.timerId=void 0,this.startTime=0,this.time=0,this.elementsBycode={},this.projectedTiles=[],this.projectedHardpoints=[],this.svgWidth=0,this.svgHeight=0,this.cellSize=0,this.tileWidth=1e3,this.tileHeight=1e3,this.unitX=0,this.unitY=0,this.unitZ=0,this.unitFactor=0,this.shapes={Cell:"",ArrowLeft:"",ArrowRight:""},this.sin=rse,this.layerColors=["purple","green"],this.debug=!1,this.startTime=(new Date).getTime(),this.timerId=setInterval(()=>this.time=((new Date).getTime()-this.startTime)/1e3,50),this.calculateFactors()}calculateFactors(){const{spriteSet:e,zoom:r,tileWidth:o}=this,s=r*e.tileUnitWidth,l=r*e.tileUnitHeight,h=r*e.tileUnitDepth;this.unitX=s,this.unitY=l,this.unitZ=h,this.unitFactor=e.tileUnitWidth/o,this.cellSize=r*o;const g=.05*s,w=.05*l;function E(F){const G=F[F.length-1],ve=new Mr(F).outline(.02*s),Se=[];return ve.curves.forEach((Ae,Le)=>{const Je=Ae.points;if(0===Le&&Se.push(`M ${Je[0].x}, ${Je[0].y}`),3===Je.length&&Se.push(`Q ${Je[1].x}, ${Je[1].y} ${Je[2].x}, ${Je[2].y}`),4===Je.length&&Se.push(`C ${Je[1].x}, ${Je[1].y} ${Je[2].x}, ${Je[2].y} ${Je[3].x}, ${Je[3].y}`),4===Le){const ht=Ae.normal(1),Bt={x:ht.y,y:-1*ht.x},gn=.06*s;Se.push(`L ${G.x+ht.x*gn}, ${G.y+ht.y*gn}`),Se.push(`L ${G.x+Bt.x*gn}, ${G.y+Bt.y*gn}`),Se.push(`L ${G.x-ht.x*gn}, ${G.y-ht.y*gn}`)}}),Se.join(" ")}this.shapes.Cell=[`M ${s/-2+g},0`,`L 0,${l/-2+w}`,`L ${s/2-g},0`,"L 0,"+(l/2-w),"Z"].join(" ");const O=[{x:.1,y:0},{x:-.3,y:-.1},{x:-.3,y:-.3},{x:0,y:-.45}].map(F=>({x:F.x*s,y:F.y*l}));this.shapes.ArrowLeft=E(O.map(F=>({x:-F.x,y:F.y}))),this.shapes.ArrowRight=E(O)}getSpriteOffset(e,r){r%=4;const{tileWidth:o,tileHeight:s,unitX:l,unitY:h,unitZ:p,zoom:g}=this,w=g*o*-.5;let E=-.5*(g*s+h)-p;const[S,O]=e?.footprint||[1,1],G=[[0,1,1,0,2],[0,1,2,-1,3],[0,1,3,-2,4],[0,2,1,1,3],[0,2,2,0,4],[0,2,3,-1,5],[0,3,1,2,4],[0,3,3,0,6],[0,6,3,3,9],[1,1,1,0,2],[1,1,2,-1,1],[1,2,1,-1,3],[1,2,2,-2,2],[1,2,3,-3,1],[1,3,1,-2,4],[1,3,3,-4,2],[1,6,3,-7,5],[2,1,1,0,2],[2,1,2,1,1],[2,2,1,-1,1],[2,2,2,0,0],[2,2,3,1,-1],[2,3,1,-2,0],[2,3,3,0,-2],[2,6,3,-3,-5],[3,1,1,0,2],[3,1,2,1,3],[3,2,1,1,1],[3,2,2,2,2],[3,2,3,3,3],[3,3,1,2,0],[3,3,3,4,2],[3,6,3,7,-1]].find(Se=>Se[0]===r&&Se[1]===S&&Se[2]===O);let Q=0,ve=0;return G?(Q=G[3]*l/4,ve=G[4]*h/4):console.log("missing",r,S,O),{x:w+Q,y:E+ve}}ngOnChanges(e){if(("zoom"in e||"spriteSet"in e)&&this.calculateFactors(),"elements"in e){const r={};this.elements.forEach(o=>r[o.code]=o),this.elementsBycode=r,this.centerFocus()}"cursor"in e&&(this.cursor||(this.cursorHardpoint=void 0)),"orientation"in e&&this.projectTiles(),"design"in e&&(e.design.previousValue||this.centerFocus()),"hardpoints"in e&&0===this.hardpoints.length&&(this.cursorHardpoint=void 0),this.projectTiles(),this.projectHardpoints()}ngOnDestroy(){clearInterval(this.timerId),this.timerId=void 0}ngOnInit(){const e=new ResizeObserver(o=>{this.zone.run(()=>{const s=o[0].contentRect;this.svgWidth=s.width,this.svgHeight=s.height})}),{svg:r}=this;r&&e.observe(r.nativeElement)}onClickCursor(e){const{cursor:r}=this;r&&(this.clickCursor.emit({cursor:r,hardpoint:e.original}),this.cursorHardpoint=void 0)}onDrag(e){}onHoverCursor(e){this.cursorHardpoint=e}onPanMove(e){this.moveFocus(8*e.velocityX,8*e.velocityY)}project(e,r,o){const{orientation:s,unitX:l,unitY:h,unitZ:p}=this;if(s){const E=this.utilService.rotate({x:e,y:r},this.orientation);e=E.x,r=E.y}return{x:(e-r)*l/2,y:(e+r)*h/2-o*p}}projectBox(e,r){const o=[this.project(e.x1-.5,e.y1-.5,r),this.project(e.x1-.5,e.y2+.5,r),this.project(e.x2+.5,e.y1-.5,r),this.project(e.x2+.5,e.y2+.5,r)],s=o.map(h=>h.x),l=o.map(h=>h.y);return{x1:s.reduce((h,p)=>o1(h,p)),y1:l.reduce((h,p)=>o1(h,p)),x2:s.reduce((h,p)=>s1(h,p)),y2:l.reduce((h,p)=>s1(h,p))}}centerFocus(){const{design:e,utilService:s,elementsBycode:l}=this;if(this.focus={x:0,y:0},!e||!e.levels.length)return;let h=!0,p=0,g=0,w=0,E=0;e.levels[0].tiles.forEach(F=>{const G=l[F.element];if(!G)return;const Q=s.bounds(F,G.footprint,F.orientation);h?(p=Q.x1,g=Q.y1,w=Q.x2,E=Q.y2,h=!1):(p=o1(Q.x1,p),g=o1(Q.y1,g),w=s1(Q.x2,w),E=s1(Q.y2,E))}),this.focus=this.project((p+w)/2-.5,(g+E)/2-.5,0)}moveFocus(e,r){const{zoom:o}=this;this.focus.x-=e/o,this.focus.y-=r/o}projectHardpoints(){this.projectedHardpoints=this.hardpoints.map(e=>({...this.project(e.x,e.y,e.z),original:e}))}projectTiles(){const{design:e,orientation:r,utilService:o,elements:s,elementsBycode:l}=this;if(!e||!s.length)return void(this.projectedTiles=[]);const h=[];e.levels.forEach(S=>S.tiles.forEach(O=>{const F=O.x,G=O.y,Q=S.index,{x:ve,y:Se}=this.project(F,G,Q);h.push({x:ve,y:Se,layer:Q,tile:O,asset:`${O.element}_${(O.orientation+r)%4}`})}));const p=h.map(S=>{const O=l[S.tile.element],F=O?.footprint||[1,1],G=O?.height||1;return{projected:S,...o.bounds(o.rotate(S.tile,r),F,r+S.tile.orientation),z1:S.layer,z2:S.layer+G,depth:0,visited:!1,background:[]}}),g=p.length;for(let S=0;S<g;++S){const O=p[S];for(let F=0;F<g;++F)if(S!=F){const G=p[F];G.x1<O.x2&&G.y1<O.y2&&G.z1<O.z2&&O.background.push(G)}}let w=0;p.forEach(function E(S){if(!S.visited){S.visited=!0;const O=S.background.length;for(let F=0;F<O&&null!=S.background[F];++F)E(S.background[F]),S.background[F]=void 0;S.depth=w++}}),p.sort((S,O)=>Math.sign(S.depth-O.depth)),this.projectedTiles=p.map(S=>S.projected)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(B0),a.Y36(a.R0b))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-map-editor"]],viewQuery:function(e,r){if(1&e&&a.Gf(Voe,7),2&e){let o;a.iGM(o=a.CRH())&&(r.svg=o.first)}},inputs:{spriteSet:"spriteSet",editable:"editable",design:"design",elements:"elements",hardpoints:"hardpoints",zoom:"zoom",focus:"focus",orientation:"orientation",cursor:"cursor"},outputs:{clickCursor:"clickCursor"},features:[a.TTD],decls:4,vars:4,consts:[[1,"map-editor-container"],[1,"svg-container",3,"ngClass","mousemove","pan"],["svg",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"fill","none","stroke","red"],[2,"stroke","fuchsia","fill","none"],["cx","0","cy","0","r","16",2,"fill","white","fill-opacity","0.6","stroke","steelblue"],["x","0","y","0",2,"fill","blue","stroke","none","text-anchor","middle","alignment-baseline","middle"],["cx","0","cy","0","r","8",2,"stroke","cyan"],[2,"filter","drop-shadow(0 0 8px cyan)"],[1,"hardpoint",3,"click","mouseover"],["cx","0","cy","0","r","4","style","fill: orange; stroke: cyan;",4,"ngIf"],["cx","0","cy","0","r","4",2,"fill","orange","stroke","cyan"],[2,"stroke","blueviolet","stroke-width","1"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1,2),a.NdJ("mousemove",function(s){return r.onDrag(s)})("pan",function(s){return r.onPanMove(s)}),a.YNc(3,nse,7,4,"g",3),a.qZA()()),2&e&&(a.xp6(1),a.Q6J("ngClass",a.VKq(2,ise,r.editable)),a.xp6(2),a.Q6J("ngIf",r.design&&r.elements.length>0))},dependencies:[Jn,lo,Fn,r1,Boe],styles:[".map-editor-container[_ngcontent-%COMP%]{width:100%;height:100%}.map-editor-container[_ngcontent-%COMP%]   svg.svg-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;background-color:silver}.map-editor-container[_ngcontent-%COMP%]   svg.svg-container.editable[_ngcontent-%COMP%]{cursor:move}.hardpoint[_ngcontent-%COMP%]{cursor:pointer;fill-opacity:.25;stroke-width:3;stroke-opacity:.85;transition-property:fill-opacity;transition-duration:.25s;transition-timing-function:ease-in-out}.hardpoint[_ngcontent-%COMP%]:hover{fill-opacity:.5}"]}),i})(),Tm=(()=>{class i{transform(e){return e||(e="warning"),e=e.toLowerCase(),i.TABLE[e]||e}}return i.TABLE={clear:"close",collection:"apps",create:"add",delete:"delete",design:"castle",download:"download",element:"view_in_ar",grid:"grid_on",materials:"inventory",menu:"menu",pack:"workspaces",properties:"description",remove:"cancel",render:"camera",save:"save",search:"search","tile-add":"brush","tile-copy":"colorize","tile-move":"control_camera","tile-remove":"clear","tile-rotate-left":"rotate_90_degrees_ccw","tile-rotate-right":"rotate_90_degrees_cw","tile-view":"visibility",view:"visibility","zoom-in":"zoom_in","zoom-out":"zoom_out"},i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"symbol",type:i,pure:!0}),i})();const ose=function(){return[]};function sse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"div",5)(2,"h2"),a._uU(3),a.qZA(),a._UZ(4,"kn-map-editor",6),a.ALo(5,"async"),a.qZA(),a.BQk()),2&i){const e=n.$implicit,r=a.oxw();a.xp6(1),a.Q6J("routerLink",e.id),a.xp6(2),a.Oqu(e.title),a.xp6(1),a.Q6J("design",e)("elements",a.lcZ(5,5,r.elements$)||a.DdM(7,ose))("zoom",r.defaultZoom)}}let ase=(()=>{class i{constructor(e,r,o){this.designService=e,this.elementService=r,this.router=o,this.designs$=new Bn.y,this.elements$=new Bn.y,this.defaultZoom=.2,this.designs$=this.designService.getDesigns(),this.elements$=this.elementService.getElements()}onCreateDesign(){this.designService.create().subscribe(e=>this.router.navigate(["designs",e.id]))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(L5),a.Y36(pv),a.Y36(Qo))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-design-list-page"]],decls:11,vars:6,consts:[[1,"page-layout"],[1,"design-list-container"],[1,"design-container",2,"align-content","center","align-items","center","justify-content","center"],["color","primary","mat-fab","",3,"click"],[4,"ngFor","ngForOf"],[1,"design-container",3,"routerLink"],[3,"design","elements","zoom"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"My Designs"),a.qZA(),a.TgZ(3,"div",1)(4,"div",2)(5,"button",3),a.NdJ("click",function(){return r.onCreateDesign()}),a.TgZ(6,"mat-icon"),a._uU(7),a.ALo(8,"symbol"),a.qZA()()(),a.YNc(9,sse,6,8,"ng-container",4),a.ALo(10,"async"),a.qZA()()),2&e&&(a.xp6(7),a.Oqu(a.lcZ(8,2,"create")),a.xp6(2),a.Q6J("ngForOf",a.lcZ(10,4,r.designs$)))},dependencies:[fv,lo,XZ,bm,a1,Ze,Tm],styles:[".design-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;width:450px;height:360px;cursor:pointer;border:1px solid darkgray;padding:12px;justify-content:start;align-items:stretch;align-content:stretch}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #e3b2564d}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;margin-top:0;margin-bottom:8px;padding:0;border:none}.design-list-container[_ngcontent-%COMP%]   .design-container[_ngcontent-%COMP%]   kn-map-editor[_ngcontent-%COMP%]{display:block;flex-basis:auto;flex-grow:1;flex-shrink:1}"]}),i})();function lse(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onFilterElements(""))}),a.TgZ(1,"mat-icon"),a._uU(2),a.ALo(3,"symbol"),a.qZA()()}2&i&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"clear")))}const dse=function(i){return{selected:i}};function use(i,n){if(1&i){const e=a.EpF();a.ynx(0),a.TgZ(1,"div",7),a.NdJ("click",function(){const s=a.CHM(e).$implicit,l=a.oxw();return a.KtG(l.onSelectElement(s))}),a.TgZ(2,"div",8),a._UZ(3,"img"),a.ALo(4,"assetUrl"),a.qZA(),a.TgZ(5,"span"),a._uU(6),a.qZA()(),a.BQk()}if(2&i){const e=n.$implicit,r=a.oxw();a.xp6(1),a.Q6J("ngClass",a.VKq(7,dse,r.selected===e)),a.xp6(2),a.uIk("src",a.Dn7(4,3,e.code,r.spriteSet,"thumbnail"),a.LSH),a.xp6(3),a.Oqu(e.name)}}let hse=(()=>{class i{constructor(e,r){this.elementService=e,this.utilService=r,this.spriteSet=Em[0],this.filterTypes=[],this.selectedChanged=new a.vpe,this.elements=[],this.filter="",this.filteredElements=[]}ngOnInit(){this.elementService.getElements().subscribe(e=>{this.elements=e,this.onFilterElements(this.filter)})}onFilterElements(e){const{elements:r,filterTypes:o,utilService:s}=this;this.filter=e,this.filteredElements=r.filter(l=>o.includes(l.type)).filter(s.getElementFilterPredicate(e))}onSelectElement(e){this.selected=e===this.selected?void 0:e,this.selectedChanged.emit(this.selected)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(pv),a.Y36(B0))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-element-finder"]],inputs:{spriteSet:"spriteSet",selected:"selected",filterTypes:"filterTypes"},outputs:{selectedChanged:"selectedChanged"},decls:8,vars:3,consts:[[2,"display","flex","flex-direction","column","gap","0"],[1,"example-form-field"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[1,"element-finder"],[4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",3,"click"],[1,"element-finder-item",3,"ngClass","click"],[1,"thumbnail-wrapper"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),a._uU(3,"Search for element"),a.qZA(),a.TgZ(4,"input",2),a.NdJ("ngModelChange",function(s){return r.onFilterElements(s)}),a.qZA(),a.YNc(5,lse,4,3,"button",3),a.qZA(),a.TgZ(6,"div",4),a.YNc(7,use,7,9,"ng-container",5),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("ngModel",r.filter),a.xp6(1),a.Q6J("ngIf",r.filter),a.xp6(2),a.Q6J("ngForOf",r.filteredElements))},dependencies:[Jn,lo,Fn,pm,u0,Z_,JZ,WE,tv,dH,bm,QE,r1,Tm],styles:[".element-finder[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:row;flex-wrap:wrap;align-items:stretch;overflow-y:auto;min-height:362px;max-height:520px;padding:8px}.element-finder[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]{cursor:pointer;width:140px;height:150px;padding:8px;display:flex;gap:4px;flex-direction:column;border:1px solid silver;justify-content:end;align-items:stretch}.element-finder[_ngcontent-%COMP%]   .element-finder-item.selected[_ngcontent-%COMP%]{border-color:gold}.element-finder[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #fff6}.element-finder[_ngcontent-%COMP%]   .element-finder-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}"]}),i})();function fse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"mat-button-toggle",28),a._uU(2),a.qZA(),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(1),a.hij(" ",90*e,"\xb0 ")}}function pse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"mat-button-toggle",29),a._UZ(2,"div",30),a._uU(3),a.qZA(),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(1),a.Udp("background-color",e.color),a.xp6(1),a.hij(" ",e.name," ")}}function mse(i,n){1&i&&(a.TgZ(0,"th",31),a._uU(1,"Code"),a.qZA())}function gse(i,n){if(1&i&&(a.TgZ(0,"td",32),a._uU(1),a.qZA()),2&i){const e=n.$implicit;a.xp6(1),a.Oqu(e.element.code)}}function _se(i,n){1&i&&(a.TgZ(0,"th",33),a._uU(1,"Name"),a.qZA())}function vse(i,n){if(1&i&&(a.TgZ(0,"td",34),a._uU(1),a.qZA()),2&i){const e=n.$implicit;a.xp6(1),a.Oqu(e.element.name)}}function yse(i,n){1&i&&(a.TgZ(0,"th",35),a._uU(1,"Quantity"),a.qZA())}function bse(i,n){if(1&i&&(a.TgZ(0,"td",36),a._uU(1),a.qZA()),2&i){const e=n.$implicit;a.xp6(1),a.hij("",e.quantity," ")}}function wse(i,n){1&i&&a._UZ(0,"tr",37)}function xse(i,n){1&i&&a._UZ(0,"tr",38)}function Cse(i,n){if(1&i){const e=a.EpF();a.ynx(0),a.TgZ(1,"mat-button-toggle",39),a.NdJ("click",function(){const s=a.CHM(e).$implicit,l=a.oxw(2);return a.KtG(l.onSelectMode(s))}),a.TgZ(2,"mat-icon"),a._uU(3),a.ALo(4,"symbol"),a.qZA()(),a.BQk()}if(2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(2),a.Oqu(a.lcZ(4,2,"tile-"+e))}}function Ese(i,n){if(1&i){const e=a.EpF();a.ynx(0),a.TgZ(1,"mat-button-toggle",39),a.NdJ("click",function(){const s=a.CHM(e).$implicit,l=a.oxw(2);return a.KtG(l.onSelectMode(s))}),a.TgZ(2,"mat-icon"),a._uU(3),a.ALo(4,"symbol"),a.qZA()(),a.BQk()}if(2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(2),a.Oqu(a.lcZ(4,2,"tile-"+e))}}const Dse=function(){return[0,1,2,3]},$5=function(){return["code","name","quantity"]},Ise=function(){return["view","add","remove"]},kse=function(i){return[i]},Tse=function(){return["view","add","remove","move","copy","rotate-left","rotate-right"]},Sse=function(i,n){return[i,n]},Ase=function(i,n,e,r){return{mode:i,color:n,element:e,orientation:r}};function Mse(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"mat-drawer-container",1)(1,"mat-drawer",2,3)(3,"mat-accordion",4)(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"mat-icon"),a._uU(8),a.ALo(9,"symbol"),a.qZA(),a._uU(10," View "),a.qZA()(),a.TgZ(11,"div",5)(12,"mat-button-toggle-group",6),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.viewOrientation=o)}),a.YNc(13,fse,3,2,"ng-container",7),a.qZA(),a.TgZ(14,"mat-button-toggle-group",6),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.viewSpriteSet=o)}),a.YNc(15,pse,4,4,"ng-container",7),a.qZA()()(),a.TgZ(16,"mat-expansion-panel")(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"mat-icon"),a._uU(20),a.ALo(21,"symbol"),a.qZA(),a._uU(22," Properties "),a.qZA()(),a.TgZ(23,"mat-form-field",8)(24,"mat-label"),a._uU(25,"Title"),a.qZA(),a.TgZ(26,"input",9),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return s.design.title=o,a.KtG(s.save())}),a.qZA()(),a.TgZ(27,"mat-form-field",8)(28,"mat-label"),a._uU(29,"Description"),a.qZA(),a.TgZ(30,"textarea",10),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return s.design.description=o,a.KtG(s.save())}),a.qZA()()(),a.TgZ(31,"mat-expansion-panel")(32,"mat-expansion-panel-header")(33,"mat-panel-title")(34,"mat-icon"),a._uU(35),a.ALo(36,"symbol"),a.qZA(),a._uU(37," Materials "),a.qZA()(),a.TgZ(38,"table",11),a.ynx(39,12),a.YNc(40,mse,2,0,"th",13),a.YNc(41,gse,2,1,"td",14),a.BQk(),a.ynx(42,15),a.YNc(43,_se,2,0,"th",16),a.YNc(44,vse,2,1,"td",17),a.BQk(),a.ynx(45,18),a.YNc(46,yse,2,0,"th",19),a.YNc(47,bse,2,1,"td",20),a.BQk(),a.YNc(48,wse,1,0,"tr",21),a.YNc(49,xse,1,0,"tr",22),a.qZA()(),a.TgZ(50,"mat-expansion-panel")(51,"mat-expansion-panel-header")(52,"mat-panel-title")(53,"mat-icon"),a._uU(54),a.ALo(55,"symbol"),a.qZA(),a._uU(56," Grid "),a.qZA()(),a.TgZ(57,"mat-button-toggle-group",23),a.YNc(58,Cse,5,4,"ng-container",7),a.qZA(),a.TgZ(59,"kn-element-finder",24),a.NdJ("selectedChanged",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.onSelectElement(o))}),a.qZA()(),a.TgZ(60,"mat-expansion-panel")(61,"mat-expansion-panel-header")(62,"mat-panel-title")(63,"mat-icon"),a._uU(64),a.ALo(65,"symbol"),a.qZA(),a._uU(66," Elements "),a.qZA()(),a.TgZ(67,"mat-button-toggle-group",23),a.YNc(68,Ese,5,4,"ng-container",7),a.qZA(),a.TgZ(69,"kn-element-finder",24),a.NdJ("selectedChanged",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.onSelectElement(o))}),a.qZA()()()(),a.TgZ(70,"mat-drawer-content"),a.ynx(71),a.TgZ(72,"kn-map-editor",25),a.NdJ("clickCursor",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.onClickCursor(o.cursor,o.hardpoint))})("wheel",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.onWheel(o))}),a.qZA(),a.BQk(),a.TgZ(73,"div",26)(74,"button",27),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onZoomOut())}),a.TgZ(75,"mat-icon"),a._uU(76),a.ALo(77,"symbol"),a.qZA()(),a.TgZ(78,"button",27),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onZoomIn())}),a.TgZ(79,"mat-icon"),a._uU(80),a.ALo(81,"symbol"),a.qZA()(),a.TgZ(82,"button",27),a.NdJ("click",function(){a.CHM(e);const o=a.MAs(2);return a.KtG(o.toggle())}),a.TgZ(83,"mat-icon"),a._uU(84),a.ALo(85,"symbol"),a.qZA()()()()()}if(2&i){const e=a.oxw();a.xp6(8),a.Oqu(a.lcZ(9,35,"view")),a.xp6(4),a.Q6J("ngModel",e.viewOrientation),a.xp6(1),a.Q6J("ngForOf",a.DdM(51,Dse)),a.xp6(1),a.Q6J("ngModel",e.viewSpriteSet),a.xp6(1),a.Q6J("ngForOf",e.SPRITE_SETS),a.xp6(5),a.Oqu(a.lcZ(21,37,"properties")),a.xp6(6),a.Q6J("ngModel",e.design.title),a.xp6(4),a.Q6J("ngModel",e.design.description),a.xp6(5),a.Oqu(a.lcZ(36,39,"materials")),a.xp6(3),a.Q6J("dataSource",e.materials),a.xp6(10),a.Q6J("matHeaderRowDef",a.DdM(52,$5)),a.xp6(1),a.Q6J("matRowDefColumns",a.DdM(53,$5)),a.xp6(5),a.Oqu(a.lcZ(55,41,"grid")),a.xp6(3),a.Q6J("value",e.selectedMode),a.xp6(1),a.Q6J("ngForOf",a.DdM(54,Ise)),a.xp6(1),a.Q6J("filterTypes",a.VKq(55,kse,e.ElementType.FlatGrid))("selected",e.selectedElement)("spriteSet",e.viewSpriteSet),a.xp6(5),a.Oqu(a.lcZ(65,43,"element")),a.xp6(3),a.Q6J("value",e.selectedMode),a.xp6(1),a.Q6J("ngForOf",a.DdM(57,Tse)),a.xp6(1),a.Q6J("filterTypes",a.WLB(58,Sse,e.ElementType.Tile,e.ElementType.Key))("selected",e.selectedElement)("spriteSet",e.viewSpriteSet),a.xp6(3),a.Q6J("cursor",a.l5B(61,Ase,e.selectedMode,e.modeColors[e.selectedMode],e.selectedElement,e.selectedOrientation))("design",e.design)("editable",!0)("elements",e.elements)("hardpoints",e.validHardpoints)("orientation",e.viewOrientation)("spriteSet",e.viewSpriteSet)("zoom",e.viewZoom),a.xp6(4),a.Oqu(a.lcZ(77,45,"zoom-out")),a.xp6(4),a.Oqu(a.lcZ(81,47,"zoom-in")),a.xp6(4),a.Oqu(a.lcZ(85,49,"menu"))}}const{min:G5,max:TD}=Math;let Rse=(()=>{class i{constructor(e,r,o,s){this.designService=e,this.elementService=r,this.route=o,this.utilService=s,this.selectedOrientation=0,this.elements=[],this.validHardpoints=[],this.selectedMode="view",this.viewOrientation=0,this.viewSpriteSet=Em[0],this.viewZoom=.7,this.materials=[],this.saveTrigger=new At.x,this.modeColors={add:"#37b5cb",remove:"#ea5126",move:"#4aea26",copy:"#4aea26","rotate-left":"#e57bf5","rotate-right":"#e57bf5"},this.SPRITE_SETS=Em,this.ElementType=ra,this.saveTrigger.pipe(function cse(i){return(0,fr.e)((n,e)=>{let r=!1,o=null,s=null;const l=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const h=o;o=null,e.next(h)}};n.subscribe((0,ci.x)(e,h=>{s?.unsubscribe(),r=!0,o=h,s=(0,ci.x)(e,l,ng.Z),(0,Dl.Xf)(i(h)).subscribe(s)},()=>{l(),e.complete()},void 0,()=>{o=s=null}))})}(()=>az(500)),(0,tt.U)(()=>this.design),Dn(h=>!!h),(0,Ur.z)(h=>this.designService.save(h))).subscribe()}handleKeyboardEvent(e){"r"===e.key&&this.rotateSelectedElement(1),"R"===e.key&&this.rotateSelectedElement(-1)}ngOnInit(){this.elementService.getElements().subscribe(e=>this.elements=e),this.route.paramMap.subscribe(e=>{const r=e.get("id");return"sample"===r&&(this.design={title:"Another Test Map",levels:[{tiles:[{x:0,orientation:0,y:0,element:"UD-100"},{orientation:0,y:0,x:3,element:"UD-100"},{element:"UD-100",x:0,y:3,orientation:0},{y:3,element:"UD-100",orientation:0,x:3}],index:0},{tiles:[{element:"UD-014",y:0,x:0,orientation:1},{orientation:1,y:2,element:"UD-015",x:2},{y:1,element:"UD-016",x:2,orientation:1},{element:"UD-039",y:4,x:2,orientation:0},{orientation:0,element:"UD-041",x:0,y:4},{orientation:0,element:"UD-028",x:0,y:5},{y:3,orientation:0,element:"UD-001",x:0},{element:"UD-016",x:2,orientation:0,y:3},{x:2,element:"UD-017",orientation:0,y:5},{orientation:0,element:"UD-011",x:3,y:1},{y:0,element:"UD-002",orientation:1,x:2},{orientation:1,x:3,element:"UD-014",y:0},{x:3,element:"UD-014",orientation:0,y:2},{element:"UD-013",orientation:2,x:5,y:0},{x:4,y:0,orientation:1,element:"UD-006"},{y:1,orientation:2,x:5,element:"UD-002"},{orientation:2,y:1,element:"UD-064",x:4},{x:4,orientation:3,element:"UD-042",y:2},{orientation:3,y:2,x:5,element:"UD-014"},{x:1,element:"UD-003",orientation:1,y:0},{orientation:3,element:"UD-009",x:1,y:5},{x:1,element:"UD-017",orientation:3,y:4},{orientation:0,element:"UD-001",x:1,y:3},{orientation:3,x:3,element:"UD-007",y:5},{element:"UD-007",y:5,orientation:0,x:4},{x:0,element:"UD-006",orientation:0,y:1},{element:"UD-006",orientation:0,y:2,x:0},{y:1,x:1,element:"UD-006",orientation:2},{x:3,orientation:1,y:3,element:"UD-027"},{y:4,element:"UD-065",orientation:0,x:5},{orientation:1,x:5,element:"UD-063",y:3},{y:3,x:4,element:"UD-017",orientation:1},{y:4,x:4,element:"UD-017",orientation:1},{orientation:1,element:"UD-017",x:5,y:5},{y:2,x:1,element:"UD-017",orientation:1}],index:1}],id:"sample",description:"",ownerId:"CuxMRi40ate5ExvUqMhVdBQpFGp2"},this.calculateHardpoints(),this.calculateMaterials()),this.designService.getDesignById(r).subscribe(o=>{this.design=o,console.log(o),this.calculateHardpoints(),this.calculateMaterials()})})}onClickCursor(e,r){const{design:o,viewOrientation:s,elements:l}=this;if(o){switch(e.mode){case"add":{const h=e.element,p=h.type===ra.FlatGrid?r.z:TD(0,r.z);let g=o.levels.find(w=>w.index===p);g||(g={index:p,tiles:[]},o.levels.push(g)),g.tiles=[...g.tiles,{x:r.x,y:r.y,element:h.code,orientation:(e.orientation-s+4)%4}];break}case"remove":{const h=o.levels.find(p=>p.index===r.z);h&&(h.tiles=h.tiles.filter(p=>p.x!==r.x||p.y!==r.y));break}case"move":case"copy":{const h=o.levels.find(p=>p.index===r.z);if(h){const p=h.tiles.find(g=>g.x===r.x&&g.y===r.y);p&&("move"===e.mode&&(h.tiles=h.tiles.filter(g=>g!==p)),this.selectedElement=l.find(g=>g.code===p.element),this.selectedOrientation=p.orientation,this.selectedMode="add",this.calculateHardpoints())}break}case"rotate-left":case"rotate-right":{const h="rotate-right"===e.mode?1:-1,p=o.levels.find(g=>g.index===r.z);if(p){const g=p.tiles.find(w=>w.x===r.x&&w.y===r.y);g&&(g.orientation=(g.orientation+4+h)%4)}break}}this.design={...o,levels:o.levels.filter(h=>h.tiles.length>0)},this.save(),this.calculateHardpoints(),this.calculateMaterials()}}onSelectElement(e){this.selectedElement=e,this.onSelectMode("add")}onSelectMode(e){this.selectedMode=e,"add"!==e&&(this.selectedElement=void 0),this.calculateHardpoints()}onWheel(e){const{selectedElement:r}=this;r?this.rotateSelectedElement(-Math.sign(e.deltaY)):this.updateZoom(1-.0015*e.deltaY)}updateZoom(e){const{utilService:r}=this;this.viewZoom=r.clamp(this.viewZoom*e,.2,2.5)}onZoomIn(){this.updateZoom(1.1)}onZoomOut(){this.updateZoom(1/1.1)}save(){this.saveTrigger.next()}calculateHardpoints(){const{elements:e,design:r,selectedMode:o,selectedElement:s,selectedOrientation:l,utilService:h}=this,p=[];if(e.length&&r){const g=this.getElementsMap();switch(o){case"add":if(s)if(s.type==ra.FlatGrid){const E=r.levels.find(S=>0===S.index);if(E&&E.tiles.length>0){const O=E.tiles.map(Ae=>{const Le=[],[Je,ht]=g[Ae.element].footprint;for(let Bt=0;Bt<Je;++Bt)for(let gn=0;gn<ht;++gn)Le.push(h.rotate({x:Ae.x+Bt,y:Ae.y+gn},Ae.orientation));return Le}).reduce((Ae,Le)=>[...Ae,...Le]),F=O.map(Ae=>Ae.x).reduce((Ae,Le)=>G5(Ae,Le)),G=O.map(Ae=>Ae.y).reduce((Ae,Le)=>G5(Ae,Le)),Q=O.map(Ae=>Ae.x).reduce((Ae,Le)=>TD(Ae,Le)),ve=O.map(Ae=>Ae.y).reduce((Ae,Le)=>TD(Ae,Le));let Se=0,Oe=0;0===l||2===l?[Se,Oe]=s?.footprint:[Oe,Se]=s?.footprint;for(let Ae=F-Se;Ae<=Q+Se;++Ae)for(let Le=G-Oe;Le<=ve+Oe;++Le){if(Ae%s.footprint[0]||Le%s.footprint[1])continue;let Je=!0;for(let ht=Ae;ht<Ae+Se;++ht)for(let Bt=Le;Bt<Le+Oe;++Bt)if(O.find(gn=>gn.x===ht&&gn.y===Bt)){Je=!1;break}Je&&p.push({type:"Cell",x:Ae,y:Le,z:-1})}}else p.push({type:"Cell",x:0,y:0,z:-1})}else{const w=[];r.levels.forEach(S=>S.tiles.forEach(O=>{const F=g[O.element];if(F&&this.checkConnector(s.bottom,F.top)){const G=S.index+F.height,Q=h.bounds(O,F.footprint,O.orientation);for(let ve=Q.x1;ve<Q.x2;++ve)for(let Se=Q.y1;Se<Q.y2;++Se)w.push({x:ve,y:Se,z:G})}}));const E=[];r.levels.forEach(S=>S.tiles.forEach(O=>{const F=g[O.element];if(F){if(s.bottom===ar.SmallSlot&&F.top===ar.SmallKey)return;const G=h.bounds(O,F.footprint,O.orientation),Q=TD(1,F.height);E.push({...G,z1:S.index,z2:S.index+Q})}})),console.log(w),console.log(E),w.forEach(S=>{const O={...h.bounds(S,s.footprint,l),z1:S.z,z2:S.z+TD(1,s.height)};E.find(F=>h.overlap3D(O,F))||p.push({type:"Cell",...S})})}break;case"remove":case"move":r.levels.forEach(w=>w.tiles.forEach(E=>{const S=g[E.element];if(!S)return;const O=h.bounds(E,S.footprint,E.orientation);S.top!==ar.Other&&r.levels.find(G=>G.index>w.index&&G.tiles.find(Q=>{const ve=g[Q.element];return!ve||h.overlap2D(O,h.bounds(Q,ve.footprint,Q.orientation))}))||p.push({type:"Cell",x:E.x,y:E.y,z:w.index})}));break;case"copy":r.levels.forEach(w=>w.tiles.forEach(E=>{const S=g[E.element];S&&S.type!==ra.FlatGrid&&p.push({type:"Cell",x:E.x,y:E.y,z:w.index})}));break;case"rotate-left":case"rotate-right":{const w="rotate-right"===o?"ArrowRight":"ArrowLeft";r.levels.forEach(E=>E.tiles.forEach(S=>{const O=g[S.element];O&&1===O.footprint[0]&&1===O.footprint[1]&&p.push({type:w,x:S.x,y:S.y,z:E.index})}));break}}}this.validHardpoints=p}calculateMaterials(){const{design:e}=this,r=[];if(e){const o=this.getElementsMap();e.levels.forEach(s=>s.tiles.forEach(l=>{const h=o[l.element];if(!h)return;const p=r.find(g=>g.element===h);p?p.quantity++:r.push({element:h,quantity:1})}))}r.sort((o,s)=>o.quantity>s.quantity?-1:o.quantity<s.quantity?1:o.element.code.localeCompare(s.element.code)),this.materials=r}checkConnector(e,r){return e===ar.LargeKey&&r===ar.LargeSlot||e===ar.LargeSlot&&r===ar.LargeKey||e===ar.SmallKey&&r===ar.SmallSlot||e===ar.SmallSlot&&r===ar.SmallKey}getElementsMap(){const{elements:e}=this,r={};return e.forEach(o=>r[o.code]=o),r}rotateSelectedElement(e){const{selectedElement:r}=this;this.selectedOrientation=r&&r.orientable?(this.selectedOrientation+e+4)%4:0,this.calculateHardpoints()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(L5),a.Y36(pv),a.Y36(ff),a.Y36(B0))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-design-view-page"]],hostBindings:function(e,r){1&e&&a.NdJ("keypress",function(s){return r.handleKeyboardEvent(s)},!1,a.evT)},decls:1,vars:1,consts:[["class","design-view-container","hasBackdrop","false",4,"ngIf"],["hasBackdrop","false",1,"design-view-container"],["disableClose","true","mode","side","opened","true","position","end",1,"editor-container"],["drawer",""],["multi","false"],[2,"display","flex","flex-direction","column","align-items","start","align-content","start","gap","12px"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["appearance","fill",1,"wide"],["matInput","","placeholder","Your map design's title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Your map design's description","rows","6",3,"ngModel","ngModelChange"],["mat-table","",1,"wide",3,"dataSource"],["matColumnDef","code"],["class","narrow text-nowrap text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-nowrap text-left","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","wide text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","wide text-left","mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["class","narrow text-right","mat-header-cell","",4,"matHeaderCellDef"],["class","narrow text-nowrap text-right","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"margin-bottom","22px",3,"value"],[3,"filterTypes","selected","spriteSet","selectedChanged"],[3,"cursor","design","editable","elements","hardpoints","orientation","spriteSet","zoom","clickCursor","wheel"],[2,"position","absolute","right","8px","top","8px","display","flex","flex-direction","row","gap","4px"],["mat-raised-icon-button","",3,"click"],[2,"width","50px",3,"value"],[2,"width","110px",3,"value"],[2,"display","inline-block","width","12px","height","16px","margin-right","4px","border-radius","4px"],["mat-header-cell","",1,"narrow","text-nowrap","text-left"],["mat-cell","",1,"narrow","text-nowrap","text-left"],["mat-header-cell","",1,"wide","text-left"],["mat-cell","",1,"wide","text-left"],["mat-header-cell","",1,"narrow","text-right"],["mat-cell","",1,"narrow","text-nowrap","text-right"],["mat-header-row",""],["mat-row",""],[3,"value","click"]],template:function(e,r){1&e&&a.YNc(0,Mse,86,66,"mat-drawer-container",0),2&e&&a.Q6J("ngIf",r.design&&r.elements)},dependencies:[lo,Fn,pm,u0,Z_,Q6,X6,KK,RH,OH,YK,WE,tv,bm,QE,Dz,Iz,fM,Fz,qL,Lz,WL,GL,Bz,ZL,YL,Vz,Uz,hse,a1,Tm],styles:["[_nghost-%COMP%]{height:100%}.design-view-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.design-view-container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{width:30vw;min-width:300px;max-width:500px}button[_ngcontent-%COMP%]{cursor:pointer}"]}),i})();const Z2="packs";let c1=(()=>{class i{constructor(e,r){this.authenticationService=e,this.firestore=r}create(e,r){return this.authenticationService.getCurrentUserObservable().pipe((0,Ur.z)(o=>{if(!o)throw new Error;const s={id:j2(),code:e,name:r,storeUrl:""};return(0,An.D)(this.doc(s).set(s)).pipe((0,tt.U)(()=>s))}))}delete(e){return(0,An.D)(this.doc(e).delete())}getPackById(e){return this.queryById(e)}getPacks(){return this.authenticationService.getCurrentUserObservable().pipe((0,Ur.z)(e=>e?this.firestore.collection(Z2).valueChanges().pipe((0,tt.U)(r=>r),(0,tt.U)(r=>r.sort((o,s)=>o.code.localeCompare(s.code)))):(0,Dt.of)([])))}save(e){return(0,An.D)(this.doc(e).set(e)).pipe((0,tt.U)(()=>e))}doc(e){return this.firestore.collection(Z2).doc(e.id)}queryById(e){return this.firestore.collection(Z2).doc(e).get().pipe((0,tt.U)(r=>r.data()))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(t1),a.LFG(IE))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),q5=(()=>{class i{transform(e){let r=0;for(let h=0;h<e.length;h++)r=e.charCodeAt(h)+((r<<5)-r),r&=r;return`hsl(${r%360}, 50%, 40%)`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"hashColor",type:i,pure:!0}),i})();function Ose(i,n){if(1&i&&(a._UZ(0,"img"),a.ALo(1,"assetUrl")),2&i){const e=a.oxw(2).$implicit,r=a.oxw(2);a.uIk("src",a.Dn7(1,1,e.code,r.spriteSet,"thumbnail"),a.LSH)}}function Pse(i,n){if(1&i&&(a.TgZ(0,"mat-chip"),a.ALo(1,"hashColor"),a._uU(2),a.qZA()),2&i){const e=n.$implicit;a.Udp("background-color",a.lcZ(1,3,e)),a.xp6(2),a.hij(" ",e," ")}}function Nse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"div",11)(2,"h3"),a._uU(3),a.qZA(),a.TgZ(4,"div",12),a.YNc(5,Ose,2,5,"img",10),a.ALo(6,"match"),a.qZA(),a.TgZ(7,"div",13)(8,"mat-chip-set"),a.YNc(9,Pse,3,5,"mat-chip",14),a.qZA()()(),a.BQk()),2&i){const e=a.oxw().$implicit,r=a.oxw().$implicit;a.xp6(1),a.Q6J("routerLink",e.id),a.xp6(2),a.AsE("",e.code," \u2014 ",e.name,""),a.xp6(2),a.Q6J("ngIf",!a.xi3(6,5,e.code,r.code+"-000")),a.xp6(4),a.Q6J("ngForOf",e.tags)}}function Fse(i,n){if(1&i&&(a.ynx(0),a.YNc(1,Nse,10,8,"ng-container",10),a.ALo(2,"match"),a.BQk()),2&i){const e=n.$implicit,r=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",a.xi3(2,1,e.code,r.code+"-\\d+"))}}function Lse(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"div",5)(1,"h2"),a._uU(2),a.qZA(),a.TgZ(3,"div",6)(4,"button",7),a.NdJ("click",function(){const s=a.CHM(e).$implicit,l=a.oxw();return a.KtG(l.onCreateElement(s))}),a.TgZ(5,"mat-icon"),a._uU(6),a.ALo(7,"symbol"),a.qZA(),a._uU(8," Create "),a.qZA(),a.TgZ(9,"button",7),a.NdJ("click",function(){const s=a.CHM(e).$implicit,l=a.oxw();return a.KtG(l.onDownloadJson(s))}),a.TgZ(10,"mat-icon"),a._uU(11),a.ALo(12,"symbol"),a.qZA(),a._uU(13," Download JSON "),a.qZA()(),a.TgZ(14,"div",8),a.YNc(15,Fse,3,4,"ng-container",9),a.qZA()()}if(2&i){const e=n.$implicit,r=a.oxw();a.xp6(2),a.AsE("",e.code," \u2014 ",e.name,""),a.xp6(4),a.Oqu(a.lcZ(7,5,"create")),a.xp6(5),a.Oqu(a.lcZ(12,7,"download")),a.xp6(4),a.Q6J("ngForOf",r.filteredElements)}}let Bse=(()=>{class i{constructor(e,r,o,s){this.elementService=e,this.packService=r,this.router=o,this.utilService=s,this.elements=[],this.filteredElements=[],this.packs=[],this.spriteSet=Em[0],this.filter=""}ngOnInit(){this.elementService.getElements().subscribe(e=>{this.elements=e,this.updateFilter()}),this.packService.getPacks().subscribe(e=>this.packs=e)}onCreateElement(e){this.elementService.create(e.code+"-000","New Element").subscribe(r=>this.router.navigate(["elements",r.id]))}onDownloadJson(e){const r=this.elements.filter(s=>s.code.startsWith(e.code+"-")),o=document.createElement("a");o.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r,void 0,2))),o.setAttribute("download","elements.json"),o.click()}updateFilter(){const{elements:e,filter:r,utilService:o}=this;this.filteredElements=e.filter(o.getElementFilterPredicate(r))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(pv),a.Y36(c1),a.Y36(Qo),a.Y36(B0))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-element-list-page"]],decls:11,vars:5,consts:[[1,"page-layout"],["appearance","fill",2,"width","370px"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["color","accent","matSuffix",""],["style","display: flex; flex-direction: column; gap: 20px;",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","gap","20px"],[1,"button-group"],["color","primary","mat-raised-button","",3,"click"],[1,"element-list-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"element-container",3,"routerLink"],[1,"thumbnail-wrapper"],[2,"display","flex","flex-direction","row","align-content","center","justify-content","center","align-items","center"],[3,"background-color",4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Elements"),a.qZA(),a.TgZ(3,"mat-form-field",1)(4,"mat-label"),a._uU(5,"Search filter"),a.qZA(),a.TgZ(6,"input",2),a.NdJ("ngModelChange",function(s){return r.filter=s,r.updateFilter()}),a.qZA(),a.TgZ(7,"mat-icon",3),a._uU(8),a.ALo(9,"symbol"),a.qZA()(),a.YNc(10,Lse,16,9,"div",4),a.qZA()),2&e&&(a.xp6(6),a.Q6J("ngModel",r.filter),a.xp6(2),a.Oqu(a.lcZ(9,3,"search")),a.xp6(2),a.Q6J("ngForOf",r.packs))},dependencies:[fv,lo,Fn,pm,u0,Z_,$E,nv,nM,WE,tv,dH,bm,QE,b2,r1,q5,Tm],styles:["h2[_ngcontent-%COMP%]{margin-bottom:0}.element-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;width:350px;height:300px;cursor:pointer;border:1px solid darkgray;padding:10px;justify-content:start;align-items:stretch;align-content:stretch}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #e3b2564d}.element-list-container[_ngcontent-%COMP%]   .element-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;text-align:center;font-weight:700}"]}),i})(),Vse=(()=>{class i{constructor(e){this.utilService=e}transform(e){const r=this.utilService.bounds({x:0,y:0},e,0),o=[];for(let s=r.x1;s<r.x2;++s)for(let l=r.y1;l<r.y2;++l)o.push({type:"Cell",x:s,y:l,z:0});return o}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(B0,16))},i.\u0275pipe=a.Yjl({name:"footprintToHardpoints",type:i,pure:!0}),i})();function Use(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"mat-option",26),a._uU(2),a.qZA(),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(1),a.Oqu(e)}}function Hse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"mat-option",26),a._uU(2),a.qZA(),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(1),a.AsE("",e[0]," \xd7 ",e[1]," ")}}function zse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"mat-option",26),a._uU(2),a.qZA(),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(1),a.Oqu(e)}}function jse(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"mat-option",26),a._uU(2),a.qZA(),a.BQk()),2&i){const e=n.$implicit;a.xp6(1),a.Q6J("value",e),a.xp6(1),a.Oqu(e)}}function $se(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"mat-chip-row",27),a.NdJ("removed",function(){const s=a.CHM(e).$implicit,l=a.oxw(2);return a.KtG(l.onRemoveTag(s))}),a.ALo(1,"hashColor"),a._uU(2),a.TgZ(3,"button",28)(4,"mat-icon"),a._uU(5),a.ALo(6,"symbol"),a.qZA()()()}if(2&i){const e=n.$implicit;a.Udp("background-color",a.lcZ(1,4,e)),a.xp6(2),a.hij(" ",e," "),a.xp6(3),a.Oqu(a.lcZ(6,6,"remove"))}}function Gse(i,n){if(1&i&&(a.TgZ(0,"div"),a._uU(1),a.ALo(2,"number"),a.qZA()),2&i){const e=n.$implicit;a.xp6(1),a.AsE(" ",e.name," [",a.xi3(2,2,.001*e.size,"1.0-0")," kb] ")}}function qse(i,n){1&i&&(a.TgZ(0,"div"),a._uU(1," none "),a.qZA())}const Wse=function(){return{mode:"thumbnail",color:"rgb(212,208,148)"}},Zse=function(i){return{x:0,y:0,orientation:0,element:i}},Y2=function(i){return[i]},Yse=function(i){return{index:0,tiles:i}},Kse=function(i,n,e){return{id:i,title:n,description:"",levels:e}};function Qse(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"div",1)(1,"h1"),a._uU(2),a.qZA(),a.TgZ(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),a._uU(7,"Element code"),a.qZA(),a.TgZ(8,"input",5),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.code=o)}),a.qZA(),a.TgZ(9,"mat-hint"),a._uU(10,"Unique code that identifies this element"),a.qZA()(),a.TgZ(11,"mat-form-field",4)(12,"mat-label"),a._uU(13,"Element name"),a.qZA(),a.TgZ(14,"input",6),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.name=o)}),a.qZA(),a.TgZ(15,"mat-hint"),a._uU(16,"Short, descriptive name for the element"),a.qZA()(),a.TgZ(17,"mat-form-field",4)(18,"mat-label"),a._uU(19,"Element type"),a.qZA(),a.TgZ(20,"mat-select",7),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.type=o)}),a.YNc(21,Use,3,2,"ng-container",8),a.qZA(),a.TgZ(22,"mat-hint"),a._uU(23,"Base type of the element"),a.qZA()(),a.TgZ(24,"mat-form-field",4)(25,"mat-label"),a._uU(26,"Element footprint"),a.qZA(),a.TgZ(27,"mat-select",9),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.footprint=o)}),a.YNc(28,Hse,3,3,"ng-container",8),a.qZA(),a.TgZ(29,"mat-hint"),a._uU(30,"Spatial footprint of the image (make sure the axes are correct)"),a.qZA()(),a.TgZ(31,"mat-form-field",4)(32,"mat-label"),a._uU(33,"Element height"),a.qZA(),a.TgZ(34,"input",10),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.height=o)}),a.qZA(),a.TgZ(35,"mat-hint"),a._uU(36,"Height of the tile, including the base (1 unit = 25/3 mm)"),a.qZA()(),a.TgZ(37,"mat-form-field",4)(38,"mat-label"),a._uU(39,"Top connector"),a.qZA(),a.TgZ(40,"mat-select",7),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.top=o)}),a.YNc(41,zse,3,2,"ng-container",8),a.qZA(),a.TgZ(42,"mat-hint"),a._uU(43,"Connector type at the top of the tile (use "),a.TgZ(44,"i"),a._uU(45,"Other"),a.qZA(),a._uU(46," for decorated elements)"),a.qZA()(),a.TgZ(47,"mat-form-field",4)(48,"mat-label"),a._uU(49,"Bottom connector"),a.qZA(),a.TgZ(50,"mat-select",7),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.bottom=o)}),a.YNc(51,jse,3,2,"ng-container",8),a.qZA(),a.TgZ(52,"mat-hint"),a._uU(53,"Connector type at the bottom of the tile (use "),a.TgZ(54,"i"),a._uU(55,"Other"),a.qZA(),a._uU(56," for flat grid elements)"),a.qZA()(),a.TgZ(57,"div",11)(58,"mat-checkbox",7),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.orientable=o)}),a._uU(59,"Element can be oriented"),a.qZA()(),a.TgZ(60,"mat-form-field",12)(61,"mat-label"),a._uU(62,"Element tags"),a.qZA(),a.TgZ(63,"mat-chip-grid",7,13),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.element.tags=o)}),a.YNc(65,$se,7,8,"mat-chip-row",14),a.qZA(),a.TgZ(66,"input",15,16),a.NdJ("matChipInputTokenEnd",function(o){a.CHM(e);const s=a.MAs(67);return a.oxw().onAddTag(o.value),a.KtG(s.value="")}),a.qZA()(),a.TgZ(68,"div",17)(69,"b"),a._uU(70,"Model File:"),a.qZA(),a.YNc(71,Gse,3,5,"div",18),a.ALo(72,"async"),a.YNc(73,qse,2,0,"div",18),a.ALo(74,"async"),a.qZA(),a._UZ(75,"div",19),a.TgZ(76,"div",20)(77,"button",21),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onSave())}),a.TgZ(78,"mat-icon"),a._uU(79),a.ALo(80,"symbol"),a.qZA(),a._uU(81," Save "),a.qZA(),a.TgZ(82,"button",22),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onRender())}),a.ALo(83,"async"),a.TgZ(84,"mat-icon"),a._uU(85),a.ALo(86,"symbol"),a.qZA(),a._uU(87," Render "),a.qZA(),a.TgZ(88,"button",23),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onDelete())}),a.TgZ(89,"mat-icon"),a._uU(90),a.ALo(91,"symbol"),a.qZA(),a._uU(92," Delete "),a.qZA()()(),a.TgZ(93,"div",24),a._UZ(94,"kn-map-editor",25),a.ALo(95,"footprintToHardpoints"),a.qZA()()()}if(2&i){const e=a.MAs(64),r=a.oxw();a.xp6(2),a.AsE("",r.element.code," \u2014 ",r.element.name,""),a.xp6(6),a.Q6J("ngModel",r.element.code),a.xp6(6),a.Q6J("ngModel",r.element.name),a.xp6(6),a.Q6J("ngModel",r.element.type),a.xp6(1),a.Q6J("ngForOf",r.allElementTypes),a.xp6(6),a.Q6J("ngModel",r.element.footprint)("compareWith",r.compareFootprint),a.xp6(1),a.Q6J("ngForOf",r.allFootprints),a.xp6(6),a.Q6J("ngModel",r.element.height),a.xp6(6),a.Q6J("ngModel",r.element.top),a.xp6(1),a.Q6J("ngForOf",r.allConnectors),a.xp6(9),a.Q6J("ngModel",r.element.bottom),a.xp6(1),a.Q6J("ngForOf",r.allConnectors),a.xp6(7),a.Q6J("ngModel",r.element.orientable),a.xp6(5),a.Q6J("ngModel",r.element.tags),a.xp6(2),a.Q6J("ngForOf",r.element.tags),a.xp6(1),a.Q6J("matChipInputFor",e),a.xp6(5),a.Q6J("ngIf",a.lcZ(72,30,r.modelFileInfo$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(74,32,r.modelFileInfo$)),a.xp6(6),a.Oqu(a.lcZ(80,34,"save")),a.xp6(3),a.Q6J("disabled",!a.lcZ(83,36,r.modelFileInfo$)),a.xp6(3),a.Oqu(a.lcZ(86,38,"render")),a.xp6(5),a.Oqu(a.lcZ(91,40,"delete")),a.xp6(4),a.Q6J("cursor",a.DdM(44,Wse))("design",a.kEZ(53,Kse,r.element.id,r.element.name,a.VKq(51,Y2,a.VKq(49,Yse,a.VKq(47,Y2,a.VKq(45,Zse,r.element.code))))))("editable",!1)("elements",a.VKq(57,Y2,r.element))("hardpoints",a.lcZ(95,42,r.element.footprint))("zoom",1)}}let Xse=(()=>{class i{constructor(e,r,o,s,l){this.elementService=e,this.packService=r,this.route=o,this.router=s,this.snackBar=l,this.spriteSet=Em[0],this.modelFileInfo$=(0,Dt.of)(void 0),this.allFootprints=[[1,1],[1,2],[2,1],[3,1],[1,3],[2,2],[3,3],[3,6],[6,3]],this.allConnectors=[ar.Other,ar.SmallKey,ar.LargeKey,ar.SmallSlot,ar.LargeSlot],this.allElementTypes=[ra.Tile,ra.FlatGrid,ra.Key],this.compareFootprint=(h,p)=>h[0]===p[0]&&h[1]===p[1]}ngOnInit(){this.route.paramMap.subscribe(e=>this.elementService.getElementById(e.get("id")).subscribe(r=>{this.element=r,this.modelFileInfo$=this.elementService.getModelFileInfo(r)}))}onAddTag(e){const{element:r}=this;r&&(r.tags.includes(e)||(r.tags=[...r.tags,e]),r.tags.sort())}onDelete(){const{element:e}=this;e&&this.elementService.delete(e).subscribe(()=>this.router.navigate(["elements"]))}onRemoveTag(e){const{element:r}=this;r&&(r.tags=r.tags.filter(o=>o!==e))}onRender(){}onSave(){const{element:e}=this;e&&this.elementService.save(e).subscribe(()=>this.router.navigate(["elements"]),r=>this.snackBar.open(r,"Close",{duration:3e5,panelClass:"message-error"}))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(pv),a.Y36(c1),a.Y36(ff),a.Y36(Qo),a.Y36(ZJ))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-element-view-page"]],decls:1,vars:1,consts:[["class","page-layout",4,"ngIf"],[1,"page-layout"],[2,"display","flex","flex-direction","row"],[1,"form"],["appearance","fill"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngModel","compareWith","ngModelChange"],["matInput","","min","0","placeholder","0","type","number",3,"ngModel","ngModelChange"],[1,"form-section"],[1,"wide"],["chipGrid",""],[3,"background-color","removed",4,"ngFor","ngForOf"],["placeholder","New tag...",3,"matChipInputFor","matChipInputTokenEnd"],["tagInput",""],[1,"form-section",2,"padding","8px"],[4,"ngIf"],[2,"flex-grow","1"],[1,"button-group"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"],["color","warn","mat-raised-button","",3,"click"],[1,"element-image-container"],[2,"width","1000px","height","1000px",3,"cursor","design","editable","elements","hardpoints","zoom"],[3,"value"],[3,"removed"],["matChipRemove",""]],template:function(e,r){1&e&&a.YNc(0,Qse,96,59,"div",0),2&e&&a.Q6J("ngIf",r.element)},dependencies:[lo,Fn,pm,PF,u0,VF,Z_,$E,tH,IH,kH,CH,uL,WE,tv,ZA,bm,QE,CJ,N6,a1,Ze,jt,Vse,q5,Tm],styles:[".form[_ngcontent-%COMP%]{width:500px;border:1px solid #4a4a4a}.element-image-container[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;align-items:center;margin-left:20px;border:1px solid #4a4a4a;width:100%;max-width:1000px;max-height:1000px}.element-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:100%;max-height:100%}"]}),i})();function Jse(i,n){if(1&i&&(a.ynx(0),a._UZ(1,"img"),a.ALo(2,"assetUrl"),a.BQk()),2&i){const e=a.oxw().$implicit,r=a.oxw(3);a.xp6(1),a.uIk("src",a.Dn7(2,1,e.code,r.spriteSet,"thumbnail"),a.LSH)}}function eae(i,n){if(1&i&&(a.ynx(0),a.YNc(1,Jse,3,5,"ng-container",9),a.ALo(2,"match"),a.BQk()),2&i){const e=n.$implicit,r=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",a.xi3(2,1,e.code,r.code+"-\\d+"))}}function tae(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"div",7)(2,"h3"),a._uU(3),a.qZA(),a.TgZ(4,"div",8),a.YNc(5,eae,3,4,"ng-container",6),a.qZA()(),a.BQk()),2&i){const e=n.$implicit,r=a.oxw(2);a.xp6(1),a.Q6J("routerLink",e.id),a.xp6(2),a.AsE("",e.code," \u2014 ",e.name,""),a.xp6(2),a.Q6J("ngForOf",r.elements)}}function nae(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"div",2)(1,"div",3)(2,"button",4),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onCreatePack())}),a.TgZ(3,"mat-icon"),a._uU(4),a.ALo(5,"symbol"),a.qZA(),a._uU(6," Create "),a.qZA()(),a.TgZ(7,"div",5),a.YNc(8,tae,6,4,"ng-container",6),a.qZA()()}if(2&i){const e=a.oxw();a.xp6(4),a.Oqu(a.lcZ(5,2,"create")),a.xp6(4),a.Q6J("ngForOf",e.packs)}}let iae=(()=>{class i{constructor(e,r,o){this.elementService=e,this.packService=r,this.router=o,this.elements=[],this.packs=[],this.spriteSet=Em[0],this.defaultPackCode="AA"}ngOnInit(){this.elementService.getElements().subscribe(e=>this.elements=e),this.packService.getPacks().subscribe(e=>this.packs=e)}onCreatePack(){this.packService.create(this.defaultPackCode,"New Pack").subscribe(e=>this.router.navigate(["packs",e.id]))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(pv),a.Y36(c1),a.Y36(Qo))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-pack-list-page"]],decls:4,vars:1,consts:[[1,"page-layout"],["style","display: flex; flex-direction: column; gap: 20px;",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","gap","20px"],[1,"button-group"],["color","primary","mat-raised-button","",3,"click"],[1,"pack-list-container"],[4,"ngFor","ngForOf"],[1,"pack-container",3,"routerLink"],[1,"thumbnail-stacker"],[4,"ngIf"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Packs"),a.qZA(),a.YNc(3,nae,9,4,"div",1),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngForOf",r.packs))},dependencies:[fv,lo,Fn,$E,bm,b2,r1,Tm],styles:[".pack-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.pack-list-container[_ngcontent-%COMP%]   .pack-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0;width:500px;height:400px;cursor:pointer;border:1px solid darkgray;padding:12px;justify-content:start;align-items:stretch;align-content:stretch}.pack-list-container[_ngcontent-%COMP%]   .pack-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 4px #e3b2564d}.pack-list-container[_ngcontent-%COMP%]   .pack-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0;text-align:center;font-weight:700}"]}),i})();const rae=function(){return{mode:"thumbnail",color:"rgb(212,208,148)"}};function oae(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"div",1)(1,"h1"),a._uU(2),a.qZA(),a.TgZ(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),a._uU(7,"Pack code"),a.qZA(),a.TgZ(8,"input",5),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.pack.code=o)}),a.qZA(),a.TgZ(9,"mat-hint"),a._uU(10,"Unique code that identifies this pack (two letters)"),a.qZA()(),a.TgZ(11,"mat-form-field",4)(12,"mat-label"),a._uU(13,"Pack name"),a.qZA(),a.TgZ(14,"input",6),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.pack.name=o)}),a.qZA(),a.TgZ(15,"mat-hint"),a._uU(16,"Short, descriptive name for the pack"),a.qZA()(),a.TgZ(17,"mat-form-field",4)(18,"mat-label"),a._uU(19,"Store URL"),a.qZA(),a.TgZ(20,"input",7),a.NdJ("ngModelChange",function(o){a.CHM(e);const s=a.oxw();return a.KtG(s.pack.storeUrl=o)}),a.qZA(),a.TgZ(21,"mat-hint"),a._uU(22,"URL to the store page"),a.qZA()(),a._UZ(23,"div",8),a.TgZ(24,"div",9)(25,"button",10),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onSave())}),a.TgZ(26,"mat-icon"),a._uU(27),a.ALo(28,"symbol"),a.qZA(),a._uU(29," Save "),a.qZA(),a.TgZ(30,"button",11),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onDelete())}),a.TgZ(31,"mat-icon"),a._uU(32),a.ALo(33,"symbol"),a.qZA(),a._uU(34," Delete "),a.qZA()()(),a.TgZ(35,"div",12),a._UZ(36,"kn-map-editor",13),a.qZA()()()}if(2&i){const e=a.oxw();a.xp6(2),a.AsE("",e.pack.code," \u2014 ",e.pack.name,""),a.xp6(6),a.Q6J("ngModel",e.pack.code),a.xp6(6),a.Q6J("ngModel",e.pack.name),a.xp6(6),a.Q6J("ngModel",e.pack.storeUrl),a.xp6(7),a.Oqu(a.lcZ(28,12,"save")),a.xp6(5),a.Oqu(a.lcZ(33,14,"delete")),a.xp6(4),a.Q6J("cursor",a.DdM(16,rae))("design",e.design)("editable",!1)("elements",e.elements)("zoom",1)}}const sae=[{path:"designs",component:ase},{path:"designs/:id",component:Rse},{path:"elements",component:Bse},{path:"elements/:id",component:Xse},{path:"packs",component:iae},{path:"packs/:id",component:(()=>{class i{constructor(e,r,o,s,l){this.elementService=e,this.packService=r,this.route=o,this.router=s,this.utilService=l,this.elements=[],this.spriteSet=Em[0],this.compareFootprint=(h,p)=>h[0]===p[0]&&h[1]===p[1]}ngOnInit(){this.route.paramMap.subscribe(e=>this.packService.getPackById(e.get("id")).subscribe(r=>{this.pack=r,this.elementService.getElements().subscribe(o=>{o=o.filter(g=>g.code.match(r.code+"-\\d+")),this.elements=o;const s=o.map(g=>(g.footprint[0]+1)*(g.footprint[1]+1)).reduce((g,w)=>g+w,0),l=Math.ceil(Math.sqrt(s)),h=[],p=[];o.forEach(g=>{const[w,E]=g.footprint;for(let S=0;S<l;++S)for(let O=0;O<l;++O){const G=this.utilService.bounds({x:S,y:O},g.footprint,0);if(!p.find(Q=>this.utilService.overlap2D(G,Q)))return h.push({x:S,y:O,orientation:0,element:g.code}),void p.push({...G,x2:G.x2+1,y2:G.y2+1})}}),this.design={id:r.id,title:r.name,description:"",levels:[{index:0,tiles:h}]}})}))}onDelete(){const{pack:e}=this;e&&this.packService.delete(e).subscribe(()=>this.router.navigate(["packs"]))}onSave(){const{pack:e}=this;e&&this.packService.save(e).subscribe(()=>this.router.navigate(["packs"]))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(pv),a.Y36(c1),a.Y36(ff),a.Y36(Qo),a.Y36(B0))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-pack-view-page"]],decls:1,vars:1,consts:[["class","page-layout",4,"ngIf"],[1,"page-layout"],[2,"display","flex","flex-direction","row"],[1,"form"],["appearance","fill"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],["matInput","","placeholder","URL",3,"ngModel","ngModelChange"],[2,"flex-grow","1"],[1,"button-group",2,"justify-content","space-between"],["color","primary","mat-raised-button","",3,"click"],["color","warn","mat-raised-button","",3,"click"],[1,"pack-image-container"],[2,"width","1000px","height","1000px",3,"cursor","design","editable","elements","zoom"]],template:function(e,r){1&e&&a.YNc(0,oae,37,17,"div",0),2&e&&a.Q6J("ngIf",r.pack)},dependencies:[Fn,pm,u0,Z_,$E,WE,tv,ZA,bm,QE,a1,Tm],styles:[".form[_ngcontent-%COMP%]{width:500px;border:1px solid #4a4a4a}.pack-image-container[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;align-items:center;margin-left:20px;border:1px solid #4a4a4a;width:100%;max-width:1000px;max-height:1000px}.pack-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:100%;max-height:100%}"]}),i})()}];let aae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[O5.forRoot(sae),O5]}),i})();function cae(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"a",6)(2,"mat-icon"),a._uU(3),a.ALo(4,"symbol"),a.qZA(),a.TgZ(5,"span"),a._uU(6),a.qZA()(),a.BQk()),2&i){const e=a.oxw().$implicit;a.xp6(1),a.Q6J("routerLink",e.link),a.xp6(2),a.Oqu(a.lcZ(4,3,e.icon)),a.xp6(3),a.Oqu(e.label)}}function lae(i,n){if(1&i&&(a.ynx(0),a.YNc(1,cae,7,5,"ng-container",5),a.ALo(2,"async"),a.BQk()),2&i){const e=n.$implicit,r=a.oxw();let o;a.xp6(1),a.Q6J("ngIf",!e.admin||(null==(o=a.lcZ(2,1,r.currentUser$))?null:o.administrator))}}function dae(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"a",7),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onLogin())}),a.TgZ(1,"mat-icon"),a._uU(2),a.ALo(3,"symbol"),a.qZA(),a.TgZ(4,"span"),a._uU(5,"Sign In"),a.qZA()()}2&i&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"login")))}function uae(i,n){if(1&i){const e=a.EpF();a.TgZ(0,"a",7),a.NdJ("click",function(){a.CHM(e);const o=a.oxw();return a.KtG(o.onLogout())}),a.TgZ(1,"mat-icon"),a._uU(2),a.ALo(3,"symbol"),a.qZA(),a.TgZ(4,"span"),a._uU(5,"Sign Out"),a.qZA()()}2&i&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"logout")))}function hae(i,n){if(1&i&&(a.ynx(0),a.TgZ(1,"span",8),a._uU(2),a.qZA(),a._UZ(3,"img",9),a.BQk()),2&i){const e=n.$implicit;a.xp6(2),a.Oqu(e.displayName),a.xp6(1),a.uIk("src",e.photoURL,a.LSH)}}let fae=(()=>{class i{constructor(e){this.authenticationService=e,this.menu=[{icon:"design",label:"Designs",link:"designs",admin:!1},{icon:"collection",label:"Collections",link:"collections",admin:!1},{icon:"element",label:"Elements",link:"elements",admin:!0},{icon:"pack",label:"Packs",link:"packs",admin:!0}],this.currentUser$=e.getCurrentUserObservable()}onLogin(){this.authenticationService.signIn()}onLogout(){this.authenticationService.signOut()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(t1))},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-top-bar"]],decls:11,vars:10,consts:[["color","primary"],["src","assets/logo.png",1,"logo","media-hide-sm"],[4,"ngFor","ngForOf"],[2,"flex-grow","1"],["class","media-icon-button-sm","mat-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"media-icon-button-sm",3,"routerLink"],["mat-button","",1,"media-icon-button-sm",3,"click"],[1,"media-hide-sm",2,"margin-right","8px","padding-left","8px","border-left","1px solid white"],[1,"user-profile-image"]],template:function(e,r){1&e&&(a.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row"),a._UZ(2,"img",1),a.YNc(3,lae,3,3,"ng-container",2),a._UZ(4,"div",3),a.YNc(5,dae,6,3,"a",4),a.ALo(6,"async"),a.YNc(7,uae,6,3,"a",4),a.ALo(8,"async"),a.YNc(9,hae,4,2,"ng-container",5),a.ALo(10,"async"),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngForOf",r.menu),a.xp6(2),a.Q6J("ngIf",!a.lcZ(6,4,r.currentUser$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(8,6,r.currentUser$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(10,8,r.currentUser$)))},dependencies:[fv,lo,Fn,KZ,bm,Cee,Hz,Ze,Tm],styles:[".user-profile-image[_ngcontent-%COMP%]{height:40px;border-radius:20px;margin:0;padding:0;border:1px solid black;vertical-align:center}mat-toolbar-row[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:inline-block;position:relative;top:3px;width:90px;vertical-align:center;margin-right:16px}mat-toolbar-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}"]}),i})(),pae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["kn-root"]],decls:2,vars:0,template:function(e,r){1&e&&a._UZ(0,"kn-top-bar")(1,"router-outlet")},dependencies:[P2,fae],styles:[".page-container[_ngcontent-%COMP%]{width:100%;height:100%}.page-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.page-sidenav[_ngcontent-%COMP%]{padding:20px}"]}),i})(),mae=(()=>{class i extends ni{constructor(){super()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),gae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i,bootstrap:[pae]}),i.\u0275inj=a.cJS({providers:[{provide:Dr,useClass:mae}],imports:[PD,iO,zn.hO.initializeApp(Rj_firebase),r9,gq,aae,yne,ud,w7,Nf,j6,rY,gY,AK,QK,XA,FQ,jQ,bX,EJ,OJ,Tz,vee,Eee,eie,Jne,ma(()=>_l(Rj_firebase)),m9(()=>g9())]}),i})();dd().bootstrapModule(gae).catch(i=>console.error(i))},7271:(It,Re,z)=>{var a;!function(Z,B,ae,ce){"use strict";var Ne,ue=["","webkit","Moz","MS","ms","o"],Te=B.createElement("div"),Ve="function",we=Math.round,K=Math.abs,ee=Date.now;function he(N,H,X){return setTimeout(Ct(N,X),H)}function $e(N,H,X){return!!Array.isArray(N)&&(Pe(N,X[H],X),!0)}function Pe(N,H,X){var me;if(N)if(N.forEach)N.forEach(H,X);else if(N.length!==ce)for(me=0;me<N.length;)H.call(X,N[me],me,N),me++;else for(me in N)N.hasOwnProperty(me)&&H.call(X,N[me],me,N)}function ot(N,H,X){var me="DEPRECATED METHOD: "+H+"\n"+X+" AT \n";return function(){var Ze=new Error("get-stack-trace"),_t=Ze&&Ze.stack?Ze.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",dn=Z.console&&(Z.console.warn||Z.console.log);return dn&&dn.call(Z.console,me,_t),N.apply(this,arguments)}}Ne="function"!=typeof Object.assign?function(H){if(H===ce||null===H)throw new TypeError("Cannot convert undefined or null to object");for(var X=Object(H),me=1;me<arguments.length;me++){var Ze=arguments[me];if(Ze!==ce&&null!==Ze)for(var _t in Ze)Ze.hasOwnProperty(_t)&&(X[_t]=Ze[_t])}return X}:Object.assign;var it=ot(function(H,X,me){for(var Ze=Object.keys(X),_t=0;_t<Ze.length;)(!me||me&&H[Ze[_t]]===ce)&&(H[Ze[_t]]=X[Ze[_t]]),_t++;return H},"extend","Use `assign`."),We=ot(function(H,X){return it(H,X,!0)},"merge","Use `assign`.");function xt(N,H,X){var Ze,me=H.prototype;(Ze=N.prototype=Object.create(me)).constructor=N,Ze._super=me,X&&Ne(Ze,X)}function Ct(N,H){return function(){return N.apply(H,arguments)}}function le(N,H){return typeof N==Ve?N.apply(H&&H[0]||ce,H):N}function Me(N,H){return N===ce?H:N}function pe(N,H,X){Pe(ut(H),function(me){N.addEventListener(me,X,!1)})}function xe(N,H,X){Pe(ut(H),function(me){N.removeEventListener(me,X,!1)})}function je(N,H){for(;N;){if(N==H)return!0;N=N.parentNode}return!1}function oe(N,H){return N.indexOf(H)>-1}function ut(N){return N.trim().split(/\s+/g)}function Qe(N,H,X){if(N.indexOf&&!X)return N.indexOf(H);for(var me=0;me<N.length;){if(X&&N[me][X]==H||!X&&N[me]===H)return me;me++}return-1}function pn(N){return Array.prototype.slice.call(N,0)}function Fi(N,H,X){for(var me=[],Ze=[],_t=0;_t<N.length;){var dn=H?N[_t][H]:N[_t];Qe(Ze,dn)<0&&me.push(N[_t]),Ze[_t]=dn,_t++}return X&&(me=H?me.sort(function(nr,xn){return nr[H]>xn[H]}):me.sort()),me}function Yi(N,H){for(var X,me,Ze=H[0].toUpperCase()+H.slice(1),_t=0;_t<ue.length;){if((me=(X=ue[_t])?X+Ze:H)in N)return me;_t++}return ce}var es=1;function ke(N){var H=N.ownerDocument||N;return H.defaultView||H.parentWindow||Z}var qe="ontouchstart"in Z,et=Yi(Z,"PointerEvent")!==ce,Xe=qe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),lt="touch",Gn="mouse",Rt=25,qt=1,ln=4,Wt=8,fi=1,oi=2,Kn=4,qn=8,cr=16,wr=oi|Kn,Ki=qn|cr,Qi=wr|Ki,ui=["x","y"],Xi=["clientX","clientY"];function Di(N,H){var X=this;this.manager=N,this.callback=H,this.element=N.element,this.target=N.options.inputTarget,this.domHandler=function(me){le(N.options.enable,[N])&&X.handler(me)},this.init()}function Tt(N,H,X){var me=X.pointers.length,Ze=X.changedPointers.length,_t=H&qt&&me-Ze==0,dn=H&(ln|Wt)&&me-Ze==0;X.isFirst=!!_t,X.isFinal=!!dn,_t&&(N.session={}),X.eventType=H,function Ft(N,H){var X=N.session,me=H.pointers,Ze=me.length;X.firstInput||(X.firstInput=Rr(H)),Ze>1&&!X.firstMultiple?X.firstMultiple=Rr(H):1===Ze&&(X.firstMultiple=!1);var _t=X.firstInput,dn=X.firstMultiple,_i=dn?dn.center:_t.center,nr=H.center=hn(me);H.timeStamp=ee(),H.deltaTime=H.timeStamp-_t.timeStamp,H.angle=Ji(_i,nr),H.distance=Sn(_i,nr),function _n(N,H){var X=H.center,me=N.offsetDelta||{},Ze=N.prevDelta||{},_t=N.prevInput||{};(H.eventType===qt||_t.eventType===ln)&&(Ze=N.prevDelta={x:_t.deltaX||0,y:_t.deltaY||0},me=N.offsetDelta={x:X.x,y:X.y}),H.deltaX=Ze.x+(X.x-me.x),H.deltaY=Ze.y+(X.y-me.y)}(X,H),H.offsetDirection=so(H.deltaX,H.deltaY);var xn=pi(H.deltaTime,H.deltaX,H.deltaY);H.overallVelocityX=xn.x,H.overallVelocityY=xn.y,H.overallVelocity=K(xn.x)>K(xn.y)?xn.x:xn.y,H.scale=dn?function si(N,H){return Sn(H[0],H[1],Xi)/Sn(N[0],N[1],Xi)}(dn.pointers,me):1,H.rotation=dn?function Qt(N,H){return Ji(H[1],H[0],Xi)+Ji(N[1],N[0],Xi)}(dn.pointers,me):0,H.maxPointers=X.prevInput?H.pointers.length>X.prevInput.maxPointers?H.pointers.length:X.prevInput.maxPointers:H.pointers.length,function Li(N,H){var Ze,_t,dn,_i,X=N.lastInterval||H,me=H.timeStamp-X.timeStamp;if(H.eventType!=Wt&&(me>Rt||X.velocity===ce)){var nr=H.deltaX-X.deltaX,xn=H.deltaY-X.deltaY,st=pi(me,nr,xn);_t=st.x,dn=st.y,Ze=K(st.x)>K(st.y)?st.x:st.y,_i=so(nr,xn),N.lastInterval=H}else Ze=X.velocity,_t=X.velocityX,dn=X.velocityY,_i=X.direction;H.velocity=Ze,H.velocityX=_t,H.velocityY=dn,H.direction=_i}(X,H);var st=N.element;je(H.srcEvent.target,st)&&(st=H.srcEvent.target),H.target=st}(N,X),N.emit("hammer.input",X),N.recognize(X),N.session.prevInput=X}function Rr(N){for(var H=[],X=0;X<N.pointers.length;)H[X]={clientX:we(N.pointers[X].clientX),clientY:we(N.pointers[X].clientY)},X++;return{timeStamp:ee(),pointers:H,center:hn(H),deltaX:N.deltaX,deltaY:N.deltaY}}function hn(N){var H=N.length;if(1===H)return{x:we(N[0].clientX),y:we(N[0].clientY)};for(var X=0,me=0,Ze=0;Ze<H;)X+=N[Ze].clientX,me+=N[Ze].clientY,Ze++;return{x:we(X/H),y:we(me/H)}}function pi(N,H,X){return{x:H/N||0,y:X/N||0}}function so(N,H){return N===H?fi:K(N)>=K(H)?N<0?oi:Kn:H<0?qn:cr}function Sn(N,H,X){X||(X=ui);var me=H[X[0]]-N[X[0]],Ze=H[X[1]]-N[X[1]];return Math.sqrt(me*me+Ze*Ze)}function Ji(N,H,X){return X||(X=ui),180*Math.atan2(H[X[1]]-N[X[1]],H[X[0]]-N[X[0]])/Math.PI}Di.prototype={handler:function(){},init:function(){this.evEl&&pe(this.element,this.evEl,this.domHandler),this.evTarget&&pe(this.target,this.evTarget,this.domHandler),this.evWin&&pe(ke(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&xe(this.element,this.evEl,this.domHandler),this.evTarget&&xe(this.target,this.evTarget,this.domHandler),this.evWin&&xe(ke(this.element),this.evWin,this.domHandler)}};var ao={mousedown:qt,mousemove:2,mouseup:ln},No="mousedown",lr="mousemove mouseup";function Qn(){this.evEl=No,this.evWin=lr,this.pressed=!1,Di.apply(this,arguments)}xt(Qn,Di,{handler:function(H){var X=ao[H.type];X&qt&&0===H.button&&(this.pressed=!0),2&X&&1!==H.which&&(X=ln),this.pressed&&(X&ln&&(this.pressed=!1),this.callback(this.manager,X,{pointers:[H],changedPointers:[H],pointerType:Gn,srcEvent:H}))}});var Wn={pointerdown:qt,pointermove:2,pointerup:ln,pointercancel:Wt,pointerout:Wt},Ii={2:lt,3:"pen",4:Gn,5:"kinect"},Xn="pointerdown",ki="pointermove pointerup pointercancel";function Zn(){this.evEl=Xn,this.evWin=ki,Di.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Z.MSPointerEvent&&!Z.PointerEvent&&(Xn="MSPointerDown",ki="MSPointerMove MSPointerUp MSPointerCancel"),xt(Zn,Di,{handler:function(H){var X=this.store,me=!1,Ze=H.type.toLowerCase().replace("ms",""),_t=Wn[Ze],dn=Ii[H.pointerType]||H.pointerType,_i=dn==lt,nr=Qe(X,H.pointerId,"pointerId");_t&qt&&(0===H.button||_i)?nr<0&&(X.push(H),nr=X.length-1):_t&(ln|Wt)&&(me=!0),!(nr<0)&&(X[nr]=H,this.callback(this.manager,_t,{pointers:X,changedPointers:[H],pointerType:dn,srcEvent:H}),me&&X.splice(nr,1))}});var Or={touchstart:qt,touchmove:2,touchend:ln,touchcancel:Wt};function Y(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Di.apply(this,arguments)}function U(N,H){var X=pn(N.touches),me=pn(N.changedTouches);return H&(ln|Wt)&&(X=Fi(X.concat(me),"identifier",!0)),[X,me]}xt(Y,Di,{handler:function(H){var X=Or[H.type];if(X===qt&&(this.started=!0),this.started){var me=U.call(this,H,X);X&(ln|Wt)&&me[0].length-me[1].length==0&&(this.started=!1),this.callback(this.manager,X,{pointers:me[0],changedPointers:me[1],pointerType:lt,srcEvent:H})}}});var $={touchstart:qt,touchmove:2,touchend:ln,touchcancel:Wt},L="touchstart touchmove touchend touchcancel";function re(){this.evTarget=L,this.targetIds={},Di.apply(this,arguments)}function Ie(N,H){var X=pn(N.touches),me=this.targetIds;if(H&(2|qt)&&1===X.length)return me[X[0].identifier]=!0,[X,X];var Ze,_t,dn=pn(N.changedTouches),_i=[],nr=this.target;if(_t=X.filter(function(xn){return je(xn.target,nr)}),H===qt)for(Ze=0;Ze<_t.length;)me[_t[Ze].identifier]=!0,Ze++;for(Ze=0;Ze<dn.length;)me[dn[Ze].identifier]&&_i.push(dn[Ze]),H&(ln|Wt)&&delete me[dn[Ze].identifier],Ze++;return _i.length?[Fi(_t.concat(_i),"identifier",!0),_i]:void 0}xt(re,Di,{handler:function(H){var X=$[H.type],me=Ie.call(this,H,X);me&&this.callback(this.manager,X,{pointers:me[0],changedPointers:me[1],pointerType:lt,srcEvent:H})}});var rt=2500;function Ot(){Di.apply(this,arguments);var N=Ct(this.handler,this);this.touch=new re(this.manager,N),this.mouse=new Qn(this.manager,N),this.primaryTouch=null,this.lastTouches=[]}function St(N,H){N&qt?(this.primaryTouch=H.changedPointers[0].identifier,Gt.call(this,H)):N&(ln|Wt)&&Gt.call(this,H)}function Gt(N){var H=N.changedPointers[0];if(H.identifier===this.primaryTouch){var X={x:H.clientX,y:H.clientY};this.lastTouches.push(X);var me=this.lastTouches;setTimeout(function(){var _t=me.indexOf(X);_t>-1&&me.splice(_t,1)},rt)}}function Vn(N){for(var H=N.srcEvent.clientX,X=N.srcEvent.clientY,me=0;me<this.lastTouches.length;me++){var Ze=this.lastTouches[me],_t=Math.abs(H-Ze.x),dn=Math.abs(X-Ze.y);if(_t<=25&&dn<=25)return!0}return!1}xt(Ot,Di,{handler:function(H,X,me){var _t=me.pointerType==Gn;if(!(_t&&me.sourceCapabilities&&me.sourceCapabilities.firesTouchEvents)){if(me.pointerType==lt)St.call(this,X,me);else if(_t&&Vn.call(this,me))return;this.callback(H,X,me)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var en=Yi(Te.style,"touchAction"),$i=en!==ce,er="compute",fe="manipulation",Ge="none",Et="pan-x",zt="pan-y",tn=function mi(){if(!$i)return!1;var N={},H=Z.CSS&&Z.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(X){N[X]=!H||Z.CSS.supports("touch-action",X)}),N}();function yn(N,H){this.manager=N,this.set(H)}yn.prototype={set:function(N){N==er&&(N=this.compute()),$i&&this.manager.element.style&&tn[N]&&(this.manager.element.style[en]=N),this.actions=N.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var N=[];return Pe(this.manager.recognizers,function(H){le(H.options.enable,[H])&&(N=N.concat(H.getTouchAction()))}),function tr(N){if(oe(N,Ge))return Ge;var H=oe(N,Et),X=oe(N,zt);return H&&X?Ge:H||X?H?Et:zt:oe(N,fe)?fe:"auto"}(N.join(" "))},preventDefaults:function(N){var H=N.srcEvent,X=N.offsetDirection;if(!this.manager.session.prevented){var me=this.actions,Ze=oe(me,Ge)&&!tn[Ge],_t=oe(me,zt)&&!tn[zt],dn=oe(me,Et)&&!tn[Et];if(Ze&&1===N.pointers.length&&N.distance<2&&N.deltaTime<250)return;return dn&&_t||!(Ze||_t&&X&wr||dn&&X&Ki)?void 0:this.preventSrc(H)}H.preventDefault()},preventSrc:function(N){this.manager.session.prevented=!0,N.preventDefault()}};var vo=1;function ns(N){this.options=Ne({},this.defaults,N||{}),this.id=function _e(){return es++}(),this.manager=null,this.options.enable=Me(this.options.enable,!0),this.state=vo,this.simultaneous={},this.requireFail=[]}function lo(N){return 16&N?"cancel":8&N?"end":4&N?"move":2&N?"start":""}function gi(N){return N==cr?"down":N==qn?"up":N==oi?"left":N==Kn?"right":""}function nl(N,H){var X=H.manager;return X?X.get(N):N}function Fn(){ns.apply(this,arguments)}function il(){Fn.apply(this,arguments),this.pX=null,this.pY=null}function mc(){Fn.apply(this,arguments)}function oa(){ns.apply(this,arguments),this._timer=null,this._input=null}function yo(){Fn.apply(this,arguments)}function _s(){Fn.apply(this,arguments)}function Aa(){ns.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bo(N,H){return(H=H||{}).recognizers=Me(H.recognizers,bo.defaults.preset),new zs(N,H)}function zs(N,H){this.options=Ne({},bo.defaults,H||{}),this.options.inputTarget=this.options.inputTarget||N,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=N,this.input=function dt(N){return new(N.options.inputClass||(et?Zn:Xe?re:qe?Ot:Qn))(N,Tt)}(this),this.touchAction=new yn(this,this.options.touchAction),vs(this,!0),Pe(this.options.recognizers,function(X){var me=this.add(new X[0](X[1]));X[2]&&me.recognizeWith(X[2]),X[3]&&me.requireFailure(X[3])},this)}function vs(N,H){var me,X=N.element;X.style&&(Pe(N.options.cssProps,function(Ze,_t){me=Yi(X.style,_t),H?(N.oldCssProps[me]=X.style[me],X.style[me]=Ze):X.style[me]=N.oldCssProps[me]||""}),H||(N.oldCssProps={}))}ns.prototype={defaults:{},set:function(N){return Ne(this.options,N),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(N){if($e(N,"recognizeWith",this))return this;var H=this.simultaneous;return H[(N=nl(N,this)).id]||(H[N.id]=N,N.recognizeWith(this)),this},dropRecognizeWith:function(N){return $e(N,"dropRecognizeWith",this)||(N=nl(N,this),delete this.simultaneous[N.id]),this},requireFailure:function(N){if($e(N,"requireFailure",this))return this;var H=this.requireFail;return-1===Qe(H,N=nl(N,this))&&(H.push(N),N.requireFailure(this)),this},dropRequireFailure:function(N){if($e(N,"dropRequireFailure",this))return this;N=nl(N,this);var H=Qe(this.requireFail,N);return H>-1&&this.requireFail.splice(H,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(N){return!!this.simultaneous[N.id]},emit:function(N){var H=this,X=this.state;function me(Ze){H.manager.emit(Ze,N)}X<8&&me(H.options.event+lo(X)),me(H.options.event),N.additionalEvent&&me(N.additionalEvent),X>=8&&me(H.options.event+lo(X))},tryEmit:function(N){if(this.canEmit())return this.emit(N);this.state=32},canEmit:function(){for(var N=0;N<this.requireFail.length;){if(!(this.requireFail[N].state&(32|vo)))return!1;N++}return!0},recognize:function(N){var H=Ne({},N);if(!le(this.options.enable,[this,H]))return this.reset(),void(this.state=32);56&this.state&&(this.state=vo),this.state=this.process(H),30&this.state&&this.tryEmit(H)},process:function(N){},getTouchAction:function(){},reset:function(){}},xt(Fn,ns,{defaults:{pointers:1},attrTest:function(N){var H=this.options.pointers;return 0===H||N.pointers.length===H},process:function(N){var H=this.state,X=N.eventType,me=6&H,Ze=this.attrTest(N);return me&&(X&Wt||!Ze)?16|H:me||Ze?X&ln?8|H:2&H?4|H:2:32}}),xt(il,Fn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Qi},getTouchAction:function(){var N=this.options.direction,H=[];return N&wr&&H.push(zt),N&Ki&&H.push(Et),H},directionTest:function(N){var H=this.options,X=!0,me=N.distance,Ze=N.direction,_t=N.deltaX,dn=N.deltaY;return Ze&H.direction||(H.direction&wr?(Ze=0===_t?fi:_t<0?oi:Kn,X=_t!=this.pX,me=Math.abs(N.deltaX)):(Ze=0===dn?fi:dn<0?qn:cr,X=dn!=this.pY,me=Math.abs(N.deltaY))),N.direction=Ze,X&&me>H.threshold&&Ze&H.direction},attrTest:function(N){return Fn.prototype.attrTest.call(this,N)&&(2&this.state||!(2&this.state)&&this.directionTest(N))},emit:function(N){this.pX=N.deltaX,this.pY=N.deltaY;var H=gi(N.direction);H&&(N.additionalEvent=this.options.event+H),this._super.emit.call(this,N)}}),xt(mc,Fn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ge]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.scale-1)>this.options.threshold||2&this.state)},emit:function(N){1!==N.scale&&(N.additionalEvent=this.options.event+(N.scale<1?"in":"out")),this._super.emit.call(this,N)}}),xt(oa,ns,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(N){var H=this.options,X=N.pointers.length===H.pointers,me=N.distance<H.threshold,Ze=N.deltaTime>H.time;if(this._input=N,!me||!X||N.eventType&(ln|Wt)&&!Ze)this.reset();else if(N.eventType&qt)this.reset(),this._timer=he(function(){this.state=8,this.tryEmit()},H.time,this);else if(N.eventType&ln)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(N){8===this.state&&(N&&N.eventType&ln?this.manager.emit(this.options.event+"up",N):(this._input.timeStamp=ee(),this.manager.emit(this.options.event,this._input)))}}),xt(yo,Fn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ge]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.rotation)>this.options.threshold||2&this.state)}}),xt(_s,Fn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:wr|Ki,pointers:1},getTouchAction:function(){return il.prototype.getTouchAction.call(this)},attrTest:function(N){var X,H=this.options.direction;return H&(wr|Ki)?X=N.overallVelocity:H&wr?X=N.overallVelocityX:H&Ki&&(X=N.overallVelocityY),this._super.attrTest.call(this,N)&&H&N.offsetDirection&&N.distance>this.options.threshold&&N.maxPointers==this.options.pointers&&K(X)>this.options.velocity&&N.eventType&ln},emit:function(N){var H=gi(N.offsetDirection);H&&this.manager.emit(this.options.event+H,N),this.manager.emit(this.options.event,N)}}),xt(Aa,ns,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[fe]},process:function(N){var H=this.options,X=N.pointers.length===H.pointers,me=N.distance<H.threshold,Ze=N.deltaTime<H.time;if(this.reset(),N.eventType&qt&&0===this.count)return this.failTimeout();if(me&&Ze&&X){if(N.eventType!=ln)return this.failTimeout();var _t=!this.pTime||N.timeStamp-this.pTime<H.interval,dn=!this.pCenter||Sn(this.pCenter,N.center)<H.posThreshold;if(this.pTime=N.timeStamp,this.pCenter=N.center,dn&&_t?this.count+=1:this.count=1,this._input=N,0==this.count%H.taps)return this.hasRequireFailures()?(this._timer=he(function(){this.state=8,this.tryEmit()},H.interval,this),2):8}return 32},failTimeout:function(){return this._timer=he(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bo.VERSION="2.0.7",bo.defaults={domEvents:!1,touchAction:er,enable:!0,inputTarget:null,inputClass:null,preset:[[yo,{enable:!1}],[mc,{enable:!1},["rotate"]],[_s,{direction:wr}],[il,{direction:wr},["swipe"]],[Aa],[Aa,{event:"doubletap",taps:2},["tap"]],[oa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},zs.prototype={set:function(N){return Ne(this.options,N),N.touchAction&&this.touchAction.update(),N.inputTarget&&(this.input.destroy(),this.input.target=N.inputTarget,this.input.init()),this},stop:function(N){this.session.stopped=N?2:1},recognize:function(N){var H=this.session;if(!H.stopped){this.touchAction.preventDefaults(N);var X,me=this.recognizers,Ze=H.curRecognizer;(!Ze||Ze&&8&Ze.state)&&(Ze=H.curRecognizer=null);for(var _t=0;_t<me.length;)X=me[_t],2===H.stopped||Ze&&X!=Ze&&!X.canRecognizeWith(Ze)?X.reset():X.recognize(N),!Ze&&14&X.state&&(Ze=H.curRecognizer=X),_t++}},get:function(N){if(N instanceof ns)return N;for(var H=this.recognizers,X=0;X<H.length;X++)if(H[X].options.event==N)return H[X];return null},add:function(N){if($e(N,"add",this))return this;var H=this.get(N.options.event);return H&&this.remove(H),this.recognizers.push(N),N.manager=this,this.touchAction.update(),N},remove:function(N){if($e(N,"remove",this))return this;if(N=this.get(N)){var H=this.recognizers,X=Qe(H,N);-1!==X&&(H.splice(X,1),this.touchAction.update())}return this},on:function(N,H){if(N!==ce&&H!==ce){var X=this.handlers;return Pe(ut(N),function(me){X[me]=X[me]||[],X[me].push(H)}),this}},off:function(N,H){if(N!==ce){var X=this.handlers;return Pe(ut(N),function(me){H?X[me]&&X[me].splice(Qe(X[me],H),1):delete X[me]}),this}},emit:function(N,H){this.options.domEvents&&function gu(N,H){var X=B.createEvent("Event");X.initEvent(N,!0,!0),X.gesture=H,H.target.dispatchEvent(X)}(N,H);var X=this.handlers[N]&&this.handlers[N].slice();if(X&&X.length){H.type=N,H.preventDefault=function(){H.srcEvent.preventDefault()};for(var me=0;me<X.length;)X[me](H),me++}},destroy:function(){this.element&&vs(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Ne(bo,{INPUT_START:qt,INPUT_MOVE:2,INPUT_END:ln,INPUT_CANCEL:Wt,STATE_POSSIBLE:vo,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:fi,DIRECTION_LEFT:oi,DIRECTION_RIGHT:Kn,DIRECTION_UP:qn,DIRECTION_DOWN:cr,DIRECTION_HORIZONTAL:wr,DIRECTION_VERTICAL:Ki,DIRECTION_ALL:Qi,Manager:zs,Input:Di,TouchAction:yn,TouchInput:re,MouseInput:Qn,PointerEventInput:Zn,TouchMouseInput:Ot,SingleTouchInput:Y,Recognizer:ns,AttrRecognizer:Fn,Tap:Aa,Pan:il,Swipe:_s,Pinch:mc,Rotate:yo,Press:oa,on:pe,off:xe,each:Pe,merge:We,extend:it,assign:Ne,inherit:xt,bindFn:Ct,prefixed:Yi}),(typeof Z<"u"?Z:typeof self<"u"?self:{}).Hammer=bo,(a=function(){return bo}.call(Re,z,Re,It))!==ce&&(It.exports=a)}(window,document)},5619:(It,Re,z)=>{"use strict";z.d(Re,{X:()=>Z});var a=z(8645);class Z extends a.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ce=super._subscribe(ae);return!ce.closed&&ae.next(this._value),ce}getValue(){const{hasError:ae,thrownError:ce,_value:ue}=this;if(ae)throw ce;return this._throwIfClosed(),ue}next(ae){super.next(this._value=ae)}}},5592:(It,Re,z)=>{"use strict";z.d(Re,{y:()=>Ve});var a=z(305),Z=z(7394),B=z(4850),ae=z(8407),ce=z(2653),ue=z(4674),Te=z(1441);let Ve=(()=>{class he{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const ot=new he;return ot.source=this,ot.operator=Pe,ot}subscribe(Pe,ot,Ne){const it=function ee(he){return he&&he instanceof a.Lv||function K(he){return he&&(0,ue.m)(he.next)&&(0,ue.m)(he.error)&&(0,ue.m)(he.complete)}(he)&&(0,Z.Nn)(he)}(Pe)?Pe:new a.Hp(Pe,ot,Ne);return(0,Te.x)(()=>{const{operator:We,source:xt}=this;it.add(We?We.call(it,xt):xt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(ot){Pe.error(ot)}}forEach(Pe,ot){return new(ot=we(ot))((Ne,it)=>{const We=new a.Hp({next:xt=>{try{Pe(xt)}catch(Ct){it(Ct),We.unsubscribe()}},error:it,complete:Ne});this.subscribe(We)})}_subscribe(Pe){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Pe)}[B.L](){return this}pipe(...Pe){return(0,ae.U)(Pe)(this)}toPromise(Pe){return new(Pe=we(Pe))((ot,Ne)=>{let it;this.subscribe(We=>it=We,We=>Ne(We),()=>ot(it))})}}return he.create=$e=>new he($e),he})();function we(he){var $e;return null!==($e=he??ce.config.Promise)&&void 0!==$e?$e:Promise}},8645:(It,Re,z)=>{"use strict";z.d(Re,{x:()=>Te});var a=z(5592),Z=z(7394);const ae=(0,z(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=z(9039),ue=z(1441);let Te=(()=>{class we extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const he=new Ve(this,this);return he.operator=ee,he}_throwIfClosed(){if(this.closed)throw new ae}next(ee){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ee)}})}error(ee){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:he}=this;for(;he.length;)he.shift().error(ee)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:he,isStopped:$e,observers:Pe}=this;return he||$e?Z.Lc:(this.currentObservers=null,Pe.push(ee),new Z.w0(()=>{this.currentObservers=null,(0,ce.P)(Pe,ee)}))}_checkFinalizedStatuses(ee){const{hasError:he,thrownError:$e,isStopped:Pe}=this;he?ee.error($e):Pe&&ee.complete()}asObservable(){const ee=new a.y;return ee.source=this,ee}}return we.create=(K,ee)=>new Ve(K,ee),we})();class Ve extends Te{constructor(K,ee){super(),this.destination=K,this.source=ee}next(K){var ee,he;null===(he=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===he||he.call(ee,K)}error(K){var ee,he;null===(he=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===he||he.call(ee,K)}complete(){var K,ee;null===(ee=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ee||ee.call(K)}_subscribe(K){var ee,he;return null!==(he=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(K))&&void 0!==he?he:Z.Lc}}},305:(It,Re,z)=>{"use strict";z.d(Re,{Hp:()=>Ne,Lv:()=>he});var a=z(4674),Z=z(7394),B=z(2653),ae=z(3894),ce=z(2420);const ue=we("C",void 0,void 0);function we(le,Me,pe){return{kind:le,value:Me,error:pe}}var K=z(7599),ee=z(1441);class he extends Z.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,Z.Nn)(Me)&&Me.add(this)):this.destination=Ct}static create(Me,pe,xe){return new Ne(Me,pe,xe)}next(Me){this.isStopped?xt(function Ve(le){return we("N",le,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?xt(function Te(le){return we("E",void 0,le)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?xt(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Pe(le,Me){return $e.call(le,Me)}class ot{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:pe}=this;if(pe.next)try{pe.next(Me)}catch(xe){it(xe)}}error(Me){const{partialObserver:pe}=this;if(pe.error)try{pe.error(Me)}catch(xe){it(xe)}else it(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(pe){it(pe)}}}class Ne extends he{constructor(Me,pe,xe){let je;if(super(),(0,a.m)(Me)||!Me)je={next:Me??void 0,error:pe??void 0,complete:xe??void 0};else{let oe;this&&B.config.useDeprecatedNextContext?(oe=Object.create(Me),oe.unsubscribe=()=>this.unsubscribe(),je={next:Me.next&&Pe(Me.next,oe),error:Me.error&&Pe(Me.error,oe),complete:Me.complete&&Pe(Me.complete,oe)}):je=Me}this.destination=new ot(je)}}function it(le){B.config.useDeprecatedSynchronousErrorHandling?(0,ee.O)(le):(0,ae.h)(le)}function xt(le,Me){const{onStoppedNotification:pe}=B.config;pe&&K.z.setTimeout(()=>pe(le,Me))}const Ct={closed:!0,next:ce.Z,error:function We(le){throw le},complete:ce.Z}},7394:(It,Re,z)=>{"use strict";z.d(Re,{Lc:()=>ue,w0:()=>ce,Nn:()=>Te});var a=z(4674);const B=(0,z(2306).d)(we=>function(ee){we(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((he,$e)=>`${$e+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ae=z(9039);class ce{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Pe of ee)Pe.remove(this);else ee.remove(this);const{initialTeardown:he}=this;if((0,a.m)(he))try{he()}catch(Pe){K=Pe instanceof B?Pe.errors:[Pe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Pe of $e)try{Ve(Pe)}catch(ot){K=K??[],ot instanceof B?K=[...K,...ot.errors]:K.push(ot)}}if(K)throw new B(K)}}add(K){var ee;if(K&&K!==this)if(this.closed)Ve(K);else{if(K instanceof ce){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(K)}}_hasParent(K){const{_parentage:ee}=this;return ee===K||Array.isArray(ee)&&ee.includes(K)}_addParent(K){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(K),ee):ee?[ee,K]:K}_removeParent(K){const{_parentage:ee}=this;ee===K?this._parentage=null:Array.isArray(ee)&&(0,ae.P)(ee,K)}remove(K){const{_finalizers:ee}=this;ee&&(0,ae.P)(ee,K),K instanceof ce&&K._removeParent(this)}}ce.EMPTY=(()=>{const we=new ce;return we.closed=!0,we})();const ue=ce.EMPTY;function Te(we){return we instanceof ce||we&&"closed"in we&&(0,a.m)(we.remove)&&(0,a.m)(we.add)&&(0,a.m)(we.unsubscribe)}function Ve(we){(0,a.m)(we)?we():we.unsubscribe()}},2653:(It,Re,z)=>{"use strict";z.d(Re,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(It,Re,z)=>{"use strict";z.d(Re,{E:()=>Z});const Z=new(z(5592).y)(ce=>ce.complete())},2459:(It,Re,z)=>{"use strict";z.d(Re,{D:()=>Me});var a=z(4829),Z=z(3093),B=z(5137),ue=z(5592),Ve=z(4971),we=z(4674),K=z(7103);function he(pe,xe){if(!pe)throw new Error("Iterable cannot be null");return new ue.y(je=>{(0,K.f)(je,xe,()=>{const oe=pe[Symbol.asyncIterator]();(0,K.f)(je,xe,()=>{oe.next().then(ut=>{ut.done?je.complete():je.next(ut.value)})},0,!0)})})}var $e=z(8382),Pe=z(4026),ot=z(4266),Ne=z(3664),it=z(5726),We=z(9853),xt=z(541);function Me(pe,xe){return xe?function le(pe,xe){if(null!=pe){if((0,$e.c)(pe))return function ae(pe,xe){return(0,a.Xf)(pe).pipe((0,B.R)(xe),(0,Z.Q)(xe))}(pe,xe);if((0,ot.z)(pe))return function Te(pe,xe){return new ue.y(je=>{let oe=0;return xe.schedule(function(){oe===pe.length?je.complete():(je.next(pe[oe++]),je.closed||this.schedule())})})}(pe,xe);if((0,Pe.t)(pe))return function ce(pe,xe){return(0,a.Xf)(pe).pipe((0,B.R)(xe),(0,Z.Q)(xe))}(pe,xe);if((0,it.D)(pe))return he(pe,xe);if((0,Ne.T)(pe))return function ee(pe,xe){return new ue.y(je=>{let oe;return(0,K.f)(je,xe,()=>{oe=pe[Ve.h](),(0,K.f)(je,xe,()=>{let ut,Qe;try{({value:ut,done:Qe}=oe.next())}catch(pn){return void je.error(pn)}Qe?je.complete():je.next(ut)},0,!0)}),()=>(0,we.m)(oe?.return)&&oe.return()})}(pe,xe);if((0,xt.L)(pe))return function Ct(pe,xe){return he((0,xt.Q)(pe),xe)}(pe,xe)}throw(0,We.z)(pe)}(pe,xe):(0,a.Xf)(pe)}},4829:(It,Re,z)=>{"use strict";z.d(Re,{Xf:()=>$e});var a=z(7582),Z=z(4266),B=z(4026),ae=z(5592),ce=z(8382),ue=z(5726),Te=z(9853),Ve=z(3664),we=z(541),K=z(4674),ee=z(3894),he=z(4850);function $e(le){if(le instanceof ae.y)return le;if(null!=le){if((0,ce.c)(le))return function Pe(le){return new ae.y(Me=>{const pe=le[he.L]();if((0,K.m)(pe.subscribe))return pe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,Z.z)(le))return function ot(le){return new ae.y(Me=>{for(let pe=0;pe<le.length&&!Me.closed;pe++)Me.next(le[pe]);Me.complete()})}(le);if((0,B.t)(le))return function Ne(le){return new ae.y(Me=>{le.then(pe=>{Me.closed||(Me.next(pe),Me.complete())},pe=>Me.error(pe)).then(null,ee.h)})}(le);if((0,ue.D)(le))return We(le);if((0,Ve.T)(le))return function it(le){return new ae.y(Me=>{for(const pe of le)if(Me.next(pe),Me.closed)return;Me.complete()})}(le);if((0,we.L)(le))return function xt(le){return We((0,we.Q)(le))}(le)}throw(0,Te.z)(le)}function We(le){return new ae.y(Me=>{(function Ct(le,Me){var pe,xe,je,oe;return(0,a.mG)(this,void 0,void 0,function*(){try{for(pe=(0,a.KL)(le);!(xe=yield pe.next()).done;)if(Me.next(xe.value),Me.closed)return}catch(ut){je={error:ut}}finally{try{xe&&!xe.done&&(oe=pe.return)&&(yield oe.call(pe))}finally{if(je)throw je.error}}Me.complete()})})(le,Me).catch(pe=>Me.error(pe))})}},3019:(It,Re,z)=>{"use strict";z.d(Re,{T:()=>ue});var a=z(7537),Z=z(4829),B=z(6232),ae=z(9940),ce=z(2459);function ue(...Te){const Ve=(0,ae.yG)(Te),we=(0,ae._6)(Te,1/0),K=Te;return K.length?1===K.length?(0,Z.Xf)(K[0]):(0,a.J)(we)((0,ce.D)(K,Ve)):B.E}},2096:(It,Re,z)=>{"use strict";z.d(Re,{of:()=>B});var a=z(9940),Z=z(2459);function B(...ae){const ce=(0,a.yG)(ae);return(0,Z.D)(ae,ce)}},8251:(It,Re,z)=>{"use strict";z.d(Re,{x:()=>Z});var a=z(305);function Z(ae,ce,ue,Te,Ve){return new B(ae,ce,ue,Te,Ve)}class B extends a.Lv{constructor(ce,ue,Te,Ve,we,K){super(ce),this.onFinalize=we,this.shouldUnsubscribe=K,this._next=ue?function(ee){try{ue(ee)}catch(he){ce.error(he)}}:super._next,this._error=Ve?function(ee){try{Ve(ee)}catch(he){ce.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ee){ce.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(It,Re,z)=>{"use strict";z.d(Re,{x:()=>ae});var a=z(2737),Z=z(9360),B=z(8251);function ae(ue,Te=a.y){return ue=ue??ce,(0,Z.e)((Ve,we)=>{let K,ee=!0;Ve.subscribe((0,B.x)(we,he=>{const $e=Te(he);(ee||!ue(K,$e))&&(ee=!1,K=$e,we.next(he))}))})}function ce(ue,Te){return ue===Te}},7398:(It,Re,z)=>{"use strict";z.d(Re,{U:()=>B});var a=z(9360),Z=z(8251);function B(ae,ce){return(0,a.e)((ue,Te)=>{let Ve=0;ue.subscribe((0,Z.x)(Te,we=>{Te.next(ae.call(ce,we,Ve++))}))})}},7537:(It,Re,z)=>{"use strict";z.d(Re,{J:()=>B});var a=z(1631),Z=z(2737);function B(ae=1/0){return(0,a.z)(Z.y,ae)}},1631:(It,Re,z)=>{"use strict";z.d(Re,{z:()=>Ve});var a=z(7398),Z=z(4829),B=z(9360),ae=z(7103),ce=z(8251),Te=z(4674);function Ve(we,K,ee=1/0){return(0,Te.m)(K)?Ve((he,$e)=>(0,a.U)((Pe,ot)=>K(he,Pe,$e,ot))((0,Z.Xf)(we(he,$e))),ee):("number"==typeof K&&(ee=K),(0,B.e)((he,$e)=>function ue(we,K,ee,he,$e,Pe,ot,Ne){const it=[];let We=0,xt=0,Ct=!1;const le=()=>{Ct&&!it.length&&!We&&K.complete()},Me=xe=>We<he?pe(xe):it.push(xe),pe=xe=>{Pe&&K.next(xe),We++;let je=!1;(0,Z.Xf)(ee(xe,xt++)).subscribe((0,ce.x)(K,oe=>{$e?.(oe),Pe?Me(oe):K.next(oe)},()=>{je=!0},void 0,()=>{if(je)try{for(We--;it.length&&We<he;){const oe=it.shift();ot?(0,ae.f)(K,ot,()=>pe(oe)):pe(oe)}le()}catch(oe){K.error(oe)}}))};return we.subscribe((0,ce.x)(K,Me,()=>{Ct=!0,le()})),()=>{Ne?.()}}(he,$e,we,ee)))}},3093:(It,Re,z)=>{"use strict";z.d(Re,{Q:()=>ae});var a=z(7103),Z=z(9360),B=z(8251);function ae(ce,ue=0){return(0,Z.e)((Te,Ve)=>{Te.subscribe((0,B.x)(Ve,we=>(0,a.f)(Ve,ce,()=>Ve.next(we),ue),()=>(0,a.f)(Ve,ce,()=>Ve.complete(),ue),we=>(0,a.f)(Ve,ce,()=>Ve.error(we),ue)))})}},3020:(It,Re,z)=>{"use strict";z.d(Re,{B:()=>ce});var a=z(4829),Z=z(8645),B=z(305),ae=z(9360);function ce(Te={}){const{connector:Ve=(()=>new Z.x),resetOnError:we=!0,resetOnComplete:K=!0,resetOnRefCountZero:ee=!0}=Te;return he=>{let $e,Pe,ot,Ne=0,it=!1,We=!1;const xt=()=>{Pe?.unsubscribe(),Pe=void 0},Ct=()=>{xt(),$e=ot=void 0,it=We=!1},le=()=>{const Me=$e;Ct(),Me?.unsubscribe()};return(0,ae.e)((Me,pe)=>{Ne++,!We&&!it&&xt();const xe=ot=ot??Ve();pe.add(()=>{Ne--,0===Ne&&!We&&!it&&(Pe=ue(le,ee))}),xe.subscribe(pe),!$e&&Ne>0&&($e=new B.Hp({next:je=>xe.next(je),error:je=>{We=!0,xt(),Pe=ue(Ct,we,je),xe.error(je)},complete:()=>{it=!0,xt(),Pe=ue(Ct,K),xe.complete()}}),(0,a.Xf)(Me).subscribe($e))})(he)}}function ue(Te,Ve,...we){if(!0===Ve)return void Te();if(!1===Ve)return;const K=new B.Hp({next:()=>{K.unsubscribe(),Te()}});return(0,a.Xf)(Ve(...we)).subscribe(K)}},5137:(It,Re,z)=>{"use strict";z.d(Re,{R:()=>Z});var a=z(9360);function Z(B,ae=0){return(0,a.e)((ce,ue)=>{ue.add(B.schedule(()=>ce.subscribe(ue),ae))})}},4664:(It,Re,z)=>{"use strict";z.d(Re,{w:()=>ae});var a=z(4829),Z=z(9360),B=z(8251);function ae(ce,ue){return(0,Z.e)((Te,Ve)=>{let we=null,K=0,ee=!1;const he=()=>ee&&!we&&Ve.complete();Te.subscribe((0,B.x)(Ve,$e=>{we?.unsubscribe();let Pe=0;const ot=K++;(0,a.Xf)(ce($e,ot)).subscribe(we=(0,B.x)(Ve,Ne=>Ve.next(ue?ue($e,Ne,ot,Pe++):Ne),()=>{we=null,he()}))},()=>{ee=!0,he()}))})}},9397:(It,Re,z)=>{"use strict";z.d(Re,{b:()=>ce});var a=z(4674),Z=z(9360),B=z(8251),ae=z(2737);function ce(ue,Te,Ve){const we=(0,a.m)(ue)||Te||Ve?{next:ue,error:Te,complete:Ve}:ue;return we?(0,Z.e)((K,ee)=>{var he;null===(he=we.subscribe)||void 0===he||he.call(we);let $e=!0;K.subscribe((0,B.x)(ee,Pe=>{var ot;null===(ot=we.next)||void 0===ot||ot.call(we,Pe),ee.next(Pe)},()=>{var Pe;$e=!1,null===(Pe=we.complete)||void 0===Pe||Pe.call(we),ee.complete()},Pe=>{var ot;$e=!1,null===(ot=we.error)||void 0===ot||ot.call(we,Pe),ee.error(Pe)},()=>{var Pe,ot;$e&&(null===(Pe=we.unsubscribe)||void 0===Pe||Pe.call(we)),null===(ot=we.finalize)||void 0===ot||ot.call(we)}))}):ae.y}},1954:(It,Re,z)=>{"use strict";z.d(Re,{o:()=>ce});var a=z(7394);class Z extends a.w0{constructor(Te,Ve){super()}schedule(Te,Ve=0){return this}}const B={setInterval(ue,Te,...Ve){const{delegate:we}=B;return we?.setInterval?we.setInterval(ue,Te,...Ve):setInterval(ue,Te,...Ve)},clearInterval(ue){const{delegate:Te}=B;return(Te?.clearInterval||clearInterval)(ue)},delegate:void 0};var ae=z(9039);class ce extends Z{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve,this.pending=!1}schedule(Te,Ve=0){var we;if(this.closed)return this;this.state=Te;const K=this.id,ee=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(ee,K,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(ee,this.id,Ve),this}requestAsyncId(Te,Ve,we=0){return B.setInterval(Te.flush.bind(Te,this),we)}recycleAsyncId(Te,Ve,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Ve;null!=Ve&&B.clearInterval(Ve)}execute(Te,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Te,Ve);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ve){let K,we=!1;try{this.work(Te)}catch(ee){we=!0,K=ee||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ve}=this,{actions:we}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(we,this),null!=Te&&(this.id=this.recycleAsyncId(Ve,Te,null)),this.delay=null,super.unsubscribe()}}}},2631:(It,Re,z)=>{"use strict";z.d(Re,{v:()=>B});var a=z(4552);class Z{constructor(ce,ue=Z.now){this.schedulerActionCtor=ce,this.now=ue}schedule(ce,ue=0,Te){return new this.schedulerActionCtor(this,ce).schedule(Te,ue)}}Z.now=a.l.now;class B extends Z{constructor(ce,ue=Z.now){super(ce,ue),this.actions=[],this._active=!1}flush(ce){const{actions:ue}=this;if(this._active)return void ue.push(ce);let Te;this._active=!0;do{if(Te=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this._active=!1,Te){for(;ce=ue.shift();)ce.unsubscribe();throw Te}}}},6321:(It,Re,z)=>{"use strict";z.d(Re,{P:()=>ae,z:()=>B});var a=z(1954);const B=new(z(2631).v)(a.o),ae=B},4552:(It,Re,z)=>{"use strict";z.d(Re,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(It,Re,z)=>{"use strict";z.d(Re,{z:()=>a});const a={setTimeout(Z,B,...ae){const{delegate:ce}=a;return ce?.setTimeout?ce.setTimeout(Z,B,...ae):setTimeout(Z,B,...ae)},clearTimeout(Z){const{delegate:B}=a;return(B?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4971:(It,Re,z)=>{"use strict";z.d(Re,{h:()=>Z});const Z=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(It,Re,z)=>{"use strict";z.d(Re,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(It,Re,z)=>{"use strict";z.d(Re,{_6:()=>ue,jO:()=>ae,yG:()=>ce});var a=z(4674),Z=z(671);function B(Te){return Te[Te.length-1]}function ae(Te){return(0,a.m)(B(Te))?Te.pop():void 0}function ce(Te){return(0,Z.K)(B(Te))?Te.pop():void 0}function ue(Te,Ve){return"number"==typeof B(Te)?Te.pop():Ve}},9039:(It,Re,z)=>{"use strict";function a(Z,B){if(Z){const ae=Z.indexOf(B);0<=ae&&Z.splice(ae,1)}}z.d(Re,{P:()=>a})},2306:(It,Re,z)=>{"use strict";function a(Z){const ae=Z(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}z.d(Re,{d:()=>a})},1441:(It,Re,z)=>{"use strict";z.d(Re,{O:()=>ae,x:()=>B});var a=z(2653);let Z=null;function B(ce){if(a.config.useDeprecatedSynchronousErrorHandling){const ue=!Z;if(ue&&(Z={errorThrown:!1,error:null}),ce(),ue){const{errorThrown:Te,error:Ve}=Z;if(Z=null,Te)throw Ve}}else ce()}function ae(ce){a.config.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=ce)}},7103:(It,Re,z)=>{"use strict";function a(Z,B,ae,ce=0,ue=!1){const Te=B.schedule(function(){ae(),ue?Z.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(Z.add(Te),!ue)return Te}z.d(Re,{f:()=>a})},2737:(It,Re,z)=>{"use strict";function a(Z){return Z}z.d(Re,{y:()=>a})},4266:(It,Re,z)=>{"use strict";z.d(Re,{z:()=>a});const a=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},5726:(It,Re,z)=>{"use strict";z.d(Re,{D:()=>Z});var a=z(4674);function Z(B){return Symbol.asyncIterator&&(0,a.m)(B?.[Symbol.asyncIterator])}},4674:(It,Re,z)=>{"use strict";function a(Z){return"function"==typeof Z}z.d(Re,{m:()=>a})},8382:(It,Re,z)=>{"use strict";z.d(Re,{c:()=>B});var a=z(4850),Z=z(4674);function B(ae){return(0,Z.m)(ae[a.L])}},3664:(It,Re,z)=>{"use strict";z.d(Re,{T:()=>B});var a=z(4971),Z=z(4674);function B(ae){return(0,Z.m)(ae?.[a.h])}},4026:(It,Re,z)=>{"use strict";z.d(Re,{t:()=>Z});var a=z(4674);function Z(B){return(0,a.m)(B?.then)}},541:(It,Re,z)=>{"use strict";z.d(Re,{L:()=>ae,Q:()=>B});var a=z(7582),Z=z(4674);function B(ce){return(0,a.FC)(this,arguments,function*(){const Te=ce.getReader();try{for(;;){const{value:Ve,done:we}=yield(0,a.qq)(Te.read());if(we)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ve)}}finally{Te.releaseLock()}})}function ae(ce){return(0,Z.m)(ce?.getReader)}},671:(It,Re,z)=>{"use strict";z.d(Re,{K:()=>Z});var a=z(4674);function Z(B){return B&&(0,a.m)(B.schedule)}},9360:(It,Re,z)=>{"use strict";z.d(Re,{A:()=>Z,e:()=>B});var a=z(4674);function Z(ae){return(0,a.m)(ae?.lift)}function B(ae){return ce=>{if(Z(ce))return ce.lift(function(ue){try{return ae(ue,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(It,Re,z)=>{"use strict";function a(){}z.d(Re,{Z:()=>a})},8407:(It,Re,z)=>{"use strict";z.d(Re,{U:()=>B,z:()=>Z});var a=z(2737);function Z(...ae){return B(ae)}function B(ae){return 0===ae.length?a.y:1===ae.length?ae[0]:function(ue){return ae.reduce((Te,Ve)=>Ve(Te),ue)}}},3894:(It,Re,z)=>{"use strict";z.d(Re,{h:()=>B});var a=z(2653),Z=z(7599);function B(ae){Z.z.setTimeout(()=>{const{onUnhandledError:ce}=a.config;if(!ce)throw ae;ce(ae)})}},9853:(It,Re,z)=>{"use strict";function a(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Re,{z:()=>a})},5879:(It,Re,z)=>{"use strict";z.d(Re,{$8M:()=>bl,$WT:()=>X,$Z:()=>kI,AFp:()=>dg,ALo:()=>d_,AaK:()=>he,AsE:()=>zy,BQk:()=>Fy,CHM:()=>Uu,CRH:()=>_b,DdM:()=>rC,Dn7:()=>Up,EJc:()=>lS,EiD:()=>JD,EpF:()=>Hg,F$t:()=>pk,F4k:()=>Ly,FYo:()=>vg,FiY:()=>Ss,Gf:()=>li,GfV:()=>yI,GkF:()=>fx,Gpc:()=>ot,Gre:()=>zk,HDt:()=>EC,Hsn:()=>mk,Ikx:()=>$c,JOm:()=>ba,JVY:()=>fw,JZr:()=>Ct,KtG:()=>cd,L6k:()=>pw,LAX:()=>E1,LFG:()=>Zn,LSH:()=>zv,Lbi:()=>ip,Lck:()=>Mh,MAs:()=>Bg,MMx:()=>xT,NdJ:()=>By,O4$:()=>gd,Ojb:()=>Ms,OlP:()=>Un,Oqu:()=>kx,P3R:()=>sI,PXZ:()=>UO,Q6J:()=>Hc,QGY:()=>Eh,QbO:()=>V1,Qsj:()=>_I,R0b:()=>Mi,RDi:()=>sg,Rgc:()=>Hp,SBq:()=>gh,Sil:()=>DC,Suo:()=>ZT,TTD:()=>id,TgZ:()=>zc,Udp:()=>Cx,VKq:()=>Ph,VuI:()=>ZC,W1O:()=>vC,WFA:()=>Vy,WLB:()=>TT,X6Q:()=>Hl,XFs:()=>dt,Xpm:()=>yo,Xq5:()=>_p,Xts:()=>ep,Y36:()=>fp,YKP:()=>Lp,YNc:()=>dk,Yjl:()=>gu,Yz7:()=>Wt,Z0I:()=>qn,ZZ4:()=>I_,_Bn:()=>Jx,_UZ:()=>Ny,_Vd:()=>_g,_c5:()=>YO,_uU:()=>Ix,aQg:()=>k_,c2e:()=>cS,cJS:()=>oi,cg1:()=>Ih,d8E:()=>Ox,dDg:()=>FO,dqk:()=>hn,eBb:()=>mw,eFA:()=>bS,eJc:()=>xb,ekj:()=>Ex,eoX:()=>gS,evT:()=>lp,f3M:()=>vn,g9A:()=>Ka,h0i:()=>Ll,hGG:()=>KO,hij:()=>Hy,iGM:()=>gb,ifc:()=>Nt,ip1:()=>aS,jDz:()=>Gc,kEZ:()=>ST,kL8:()=>ic,kcU:()=>Ic,l5B:()=>oC,lG2:()=>vs,lcZ:()=>ab,lqb:()=>Al,lri:()=>pS,mCW:()=>cg,n5z:()=>va,n_E:()=>f_,oAB:()=>Ma,oxw:()=>gx,pB0:()=>D1,q3G:()=>mr,q4F:()=>yg,qFp:()=>NS,qLn:()=>vh,qOj:()=>Cy,qZA:()=>Vg,qzn:()=>uh,rWj:()=>mS,rg0:()=>vv,sBO:()=>Qd,s_b:()=>ub,soG:()=>x_,tb:()=>RC,tp0:()=>Gs,uIk:()=>Sy,vHH:()=>le,vpe:()=>qc,wAp:()=>Xt,xi3:()=>dC,xp6:()=>up,ynx:()=>Cp,z2F:()=>Uh,z3N:()=>Tl,zSh:()=>Cw,zs3:()=>Ud});var a=z(8645),Z=z(7394),B=z(5619),ae=z(5592),ce=z(3019),ue=z(2096),Te=z(3020),Ve=z(4664),we=z(3997);function K(c){for(let d in c)if(c[d]===K)return d;throw Error("Could not find renamed property on target object.")}function ee(c,d){for(const u in d)d.hasOwnProperty(u)&&!c.hasOwnProperty(u)&&(c[u]=d[u])}function he(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(he).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const d=c.toString();if(null==d)return""+d;const u=d.indexOf("\n");return-1===u?d:d.substring(0,u)}function $e(c,d){return null==c||""===c?null===d?"":d:null==d||""===d?c:c+" "+d}const Pe=K({__forward_ref__:K});function ot(c){return c.__forward_ref__=ot,c.toString=function(){return he(this())},c}function Ne(c){return it(c)?c():c}function it(c){return"function"==typeof c&&c.hasOwnProperty(Pe)&&c.__forward_ref__===ot}function We(c){return c&&!!c.\u0275providers}const Ct="https://g.co/ng/security#xss";class le extends Error{constructor(d,u){super(function Me(c,d){return`NG0${Math.abs(c)}${d?": "+d:""}`}(d,u)),this.code=d}}function pe(c){return"string"==typeof c?c:null==c?"":String(c)}function Qe(c,d){throw new le(-201,!1)}function mt(c,d){null==c&&function Rt(c,d,u,f){throw new Error(`ASSERTION ERROR: ${c}`+(null==f?"":` [Expected=> ${u} ${f} ${d} <=Actual]`))}(d,c,null,"!=")}function Wt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function oi(c){return{providers:c.providers||[],imports:c.imports||[]}}function Kn(c){return cr(c,Qi)||cr(c,Xi)}function qn(c){return null!==Kn(c)}function cr(c,d){return c.hasOwnProperty(d)?c[d]:null}function Ki(c){return c&&(c.hasOwnProperty(ui)||c.hasOwnProperty(Di))?c[ui]:null}const Qi=K({\u0275prov:K}),ui=K({\u0275inj:K}),Xi=K({ngInjectableDef:K}),Di=K({ngInjectorDef:K});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Tt;function _n(c){const d=Tt;return Tt=c,d}function Li(c,d,u){const f=Kn(c);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&dt.Optional?null:void 0!==d?d:void Qe(he(c))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ji={},Qt="__NG_DI_FLAG__",si="ngTempTokenPath",No=/\n/gm,Qn="__source";let Wn;function Xn(c){const d=Wn;return Wn=c,d}function ki(c,d=dt.Default){if(void 0===Wn)throw new le(-203,!1);return null===Wn?Li(c,void 0,d):Wn.get(c,d&dt.Optional?null:void 0,d)}function Zn(c,d=dt.Default){return(function Ft(){return Tt}()||ki)(Ne(c),d)}function vn(c,d=dt.Default){return Zn(c,J(d))}function J(c){return typeof c>"u"||"number"==typeof c?c:0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function Y(c){const d=[];for(let u=0;u<c.length;u++){const f=Ne(c[u]);if(Array.isArray(f)){if(0===f.length)throw new le(900,!1);let m,_=dt.Default;for(let b=0;b<f.length;b++){const C=f[b],k=$(C);"number"==typeof k?-1===k?m=C.token:_|=k:m=C}d.push(Zn(m,_))}else d.push(Zn(f))}return d}function U(c,d){return c[Qt]=d,c.prototype[Qt]=d,c}function $(c){return c[Qt]}function Ie(c){return{toString:c}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),Nt=(()=>{return(c=Nt||(Nt={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",Nt;var c})();const Ot={},St=[],Gt=K({\u0275cmp:K}),Vn=K({\u0275dir:K}),en=K({\u0275pipe:K}),$i=K({\u0275mod:K}),er=K({\u0275fac:K}),Ce=K({__NG_ELEMENT_ID__:K}),fe=K({__NG_ENV_ID__:K});function Ge(c,d,u){let f=c.length;for(;;){const m=c.indexOf(d,u);if(-1===m)return m;if(0===m||c.charCodeAt(m-1)<=32){const _=d.length;if(m+_===f||c.charCodeAt(m+_)<=32)return m}u=m+1}}function Et(c,d,u){let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const _=u[f++],b=u[f++],C=u[f++];c.setAttribute(d,b,C,_)}else{const _=m,b=u[++f];tn(_)?c.setProperty(d,_,b):c.setAttribute(d,_,b),f++}}return f}function zt(c){return 3===c||4===c||6===c}function tn(c){return 64===c.charCodeAt(0)}function yn(c,d){if(null!==d&&0!==d.length)if(null===c||0===c.length)c=d.slice();else{let u=-1;for(let f=0;f<d.length;f++){const m=d[f];"number"==typeof m?u=m:0===u||tr(c,u,m,null,-1===u||2===u?d[++f]:null)}}return c}function tr(c,d,u,f,m){let _=0,b=c.length;if(-1===d)b=-1;else for(;_<c.length;){const C=c[_++];if("number"==typeof C){if(C===d){b=-1;break}if(C>d){b=_-1;break}}}for(;_<c.length;){const C=c[_];if("number"==typeof C)break;if(C===u){if(null===f)return void(null!==m&&(c[_+1]=m));if(f===c[_+1])return void(c[_+2]=m)}_++,null!==f&&_++,null!==m&&_++}-1!==b&&(c.splice(b,0,d),_=b+1),c.splice(_++,0,u),null!==f&&c.splice(_++,0,f),null!==m&&c.splice(_++,0,m)}const mi="ng-template";function vo(c,d,u){let f=0,m=!0;for(;f<c.length;){let _=c[f++];if("string"==typeof _&&m){const b=c[f++];if(u&&"class"===_&&-1!==Ge(b.toLowerCase(),d,0))return!0}else{if(1===_){for(;f<c.length&&"string"==typeof(_=c[f++]);)if(_.toLowerCase()===d)return!0;return!1}"number"==typeof _&&(m=!1)}}return!1}function dr(c){return 4===c.type&&c.value!==mi}function Fo(c,d,u){return d===(4!==c.type||u?c.value:mi)}function ts(c,d,u){let f=4;const m=c.attrs||[],_=function lo(c){for(let d=0;d<c.length;d++)if(zt(c[d]))return d;return c.length}(m);let b=!1;for(let C=0;C<d.length;C++){const k=d[C];if("number"!=typeof k){if(!b)if(4&f){if(f=2|1&f,""!==k&&!Fo(c,k,u)||""===k&&1===d.length){if(Jn(f))return!1;b=!0}}else{const A=8&f?k:d[++C];if(8&f&&null!==c.attrs){if(!vo(c.attrs,A,u)){if(Jn(f))return!1;b=!0}continue}const W=co(8&f?"class":k,m,dr(c),u);if(-1===W){if(Jn(f))return!1;b=!0;continue}if(""!==A){let ne;ne=W>_?"":m[W+1].toLowerCase();const de=8&f?ne:null;if(de&&-1!==Ge(de,A,0)||2&f&&A!==ne){if(Jn(f))return!1;b=!0}}}}else{if(!b&&!Jn(f)&&!Jn(k))return!1;if(b&&Jn(k))continue;b=!1,f=k|1&f}}return Jn(f)||b}function Jn(c){return 0==(1&c)}function co(c,d,u,f){if(null===d)return-1;let m=0;if(f||!u){let _=!1;for(;m<d.length;){const b=d[m];if(b===c)return m;if(3===b||6===b)_=!0;else{if(1===b||2===b){let C=d[++m];for(;"string"==typeof C;)C=d[++m];continue}if(4===b)break;if(0===b){m+=4;continue}}m+=_?1:2}return-1}return function gi(c,d){let u=c.indexOf(4);if(u>-1)for(u++;u<c.length;){const f=c[u];if("number"==typeof f)return-1;if(f===d)return u;u++}return-1}(d,c)}function xr(c,d,u=!1){for(let f=0;f<d.length;f++)if(ts(c,d[f],u))return!0;return!1}function nl(c,d){e:for(let u=0;u<d.length;u++){const f=d[u];if(c.length===f.length){for(let m=0;m<c.length;m++)if(c[m]!==f[m])continue e;return!0}}return!1}function Fn(c,d){return c?":not("+d.trim()+")":d}function il(c){let d=c[0],u=1,f=2,m="",_=!1;for(;u<c.length;){let b=c[u];if("string"==typeof b)if(2&f){const C=c[++u];m+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&f?m+="."+b:4&f&&(m+=" "+b);else""!==m&&!Jn(b)&&(d+=Fn(_,m),m=""),f=b,_=_||!Jn(f);u++}return""!==m&&(d+=Fn(_,m)),d}function yo(c){return Ie(()=>{const d=Ze(c),u={...d,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&c.dependencies||null,getStandaloneInjector:null,signals:c.signals??!1,data:c.data||{},encapsulation:c.encapsulation||Nt.Emulated,styles:c.styles||St,_:null,schemas:c.schemas||null,tView:null,id:""};_t(u);const f=c.dependencies;return u.directiveDefs=dn(f,!1),u.pipeDefs=dn(f,!0),u.id=function nr(c){let d=0;const u=[c.selectors,c.ngContentSelectors,c.hostVars,c.hostAttrs,c.consts,c.vars,c.decls,c.encapsulation,c.standalone,c.signals,c.exportAs,JSON.stringify(c.inputs),JSON.stringify(c.outputs),Object.getOwnPropertyNames(c.type.prototype),!!c.contentQueries,!!c.viewQuery].join("|");for(const m of u)d=Math.imul(31,d)+m.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(u),u})}function Aa(c){return on(c)||N(c)}function bo(c){return null!==c}function Ma(c){return Ie(()=>({type:c.type,bootstrap:c.bootstrap||St,declarations:c.declarations||St,imports:c.imports||St,exports:c.exports||St,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function zs(c,d){if(null==c)return Ot;const u={};for(const f in c)if(c.hasOwnProperty(f)){let m=c[f],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),u[m]=f,d&&(d[m]=_)}return u}function vs(c){return Ie(()=>{const d=Ze(c);return _t(d),d})}function gu(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function on(c){return c[Gt]||null}function N(c){return c[Vn]||null}function H(c){return c[en]||null}function X(c){const d=on(c)||N(c)||H(c);return null!==d&&d.standalone}function me(c,d){const u=c[$i]||null;if(!u&&!0===d)throw new Error(`Type ${he(c)} does not have '\u0275mod' property.`);return u}function Ze(c){const d={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:c.inputs||Ot,exportAs:c.exportAs||null,standalone:!0===c.standalone,signals:!0===c.signals,selectors:c.selectors||St,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zs(c.inputs,d),outputs:zs(c.outputs)}}function _t(c){c.features?.forEach(d=>d(c))}function dn(c,d){if(!c)return null;const u=d?H:Aa;return()=>("function"==typeof c?c():c).map(f=>u(f)).filter(bo)}const xn=0,st=1,sn=2,Ti=3,Yr=4,ql=5,Pr=6,js=7,ei=8,is=9,Ra=10,jt=11,rl=12,Wl=13,sa=14,vi=15,Zl=16,Oa=17,Cr=18,_c=19,Yl=20,Nr=21,Kr=22,Kl=23,rs=24,Rn=25,ys=1,Pa=2,wo=7,vc=9,zr=11;function jr(c){return Array.isArray(c)&&"object"==typeof c[ys]}function $r(c){return Array.isArray(c)&&!0===c[ys]}function _u(c){return 0!=(4&c.flags)}function os(c){return c.componentOffset>-1}function aa(c){return 1==(1&c.flags)}function ai(c){return!!c.template}function bc(c){return 0!=(512&c[sn])}function ca(c,d){return c.hasOwnProperty(er)?c[er]:null}let al=hn.WeakRef??class sl{constructor(d){this.ref=d}deref(){return this.ref}},Jl=0,Lo=null,ed=!1;function Vi(c){const d=Lo;return Lo=c,d}class xo{constructor(){this.id=Jl++,this.ref=function Pm(c){return new al(c)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,u]of this.producers){const f=u.producerNode.deref();if(void 0!==f&&u.atTrackingVersion===this.trackingVersion){if(f.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(d),f?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=ed;ed=!0;try{for(const[u,f]of this.consumers){const m=f.consumerNode.deref();void 0!==m&&m.trackingVersion===f.atTrackingVersion?m.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),m?.producers.delete(this.id))}}finally{ed=d}}producerAccessed(){if(ed)throw new Error("");if(null===Lo)return;let d=Lo.producers.get(this.id);void 0===d?(d={consumerNode:Lo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Lo.trackingVersion},Lo.producers.set(this.id,d),this.consumers.set(Lo.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=Lo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Lo?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}let xf=null;function vv(c){const d=Vi(null);try{return c()}finally{Vi(d)}}const cl=()=>{};class Lm extends xo{constructor(d,u,f){super(),this.watch=d,this.schedule=u,this.dirty=!1,this.cleanupFn=cl,this.registerOnCleanup=m=>{this.cleanupFn=m},this.consumerAllowSignalWrites=f}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=Vi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=cl,this.watch(this.registerOnCleanup)}finally{Vi(d)}}cleanup(){this.cleanupFn()}}class ll{constructor(d,u,f){this.previousValue=d,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function id(){return wc}function wc(c){return c.type.prototype.ngOnChanges&&(c.setInput=Au),Su}function Su(){const c=Mu(this),d=c?.current;if(d){const u=c.previous;if(u===Ot)c.previous=d;else for(let f in d)u[f]=d[f];c.current=null,this.ngOnChanges(d)}}function Au(c,d,u,f){const m=this.declaredInputs[u],_=Mu(c)||function Ef(c,d){return c[Bm]=d}(c,{previous:Ot,current:null}),b=_.current||(_.current={}),C=_.previous,k=C[m];b[m]=new ll(k&&k.currentValue,d,C===Ot),c[f]=d}id.ngInherit=!0;const Bm="__ngSimpleChanges__";function Mu(c){return c[Bm]||null}const ss=function(c,d,u){},Pu="svg";function ti(c){for(;Array.isArray(c);)c=c[xn];return c}function xc(c,d){return ti(d[c])}function Gr(c,d){return ti(d[c.index])}function Df(c,d){return c.data[d]}function ua(c,d){return c[d]}function Bo(c,d){const u=d[c];return jr(u)?u:u[xn]}function ws(c,d){return null==d?null:c[d]}function Fu(c){c[Oa]=0}function Lu(c){1024&c[sn]||(c[sn]|=1024,Ec(c,1))}function od(c){1024&c[sn]&&(c[sn]&=-1025,Ec(c,-1))}function Ec(c,d){let u=c[Ti];if(null===u)return;u[ql]+=d;let f=u;for(u=u[Ti];null!==u&&(1===d&&1===f[ql]||-1===d&&0===f[ql]);)u[ql]+=d,f=u,u=u[Ti]}const Yt={lFrame:zu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dl(){return Yt.bindingsEnabled}function Uo(){return null!==Yt.skipHydrationRootTNode}function He(){return Yt.lFrame.lView}function En(){return Yt.lFrame.tView}function Uu(c){return Yt.lFrame.contextLView=c,c[ei]}function cd(c){return Yt.lFrame.contextLView=null,c}function ur(){let c=jm();for(;null!==c&&64===c.type;)c=c.parent;return c}function jm(){return Yt.lFrame.currentTNode}function Qr(c,d){const u=Yt.lFrame;u.currentTNode=c,u.isParent=d}function $m(){return Yt.lFrame.isParent}function Ui(){Yt.lFrame.isParent=!1}function Fr(){const c=Yt.lFrame;let d=c.bindingRootIndex;return-1===d&&(d=c.bindingRootIndex=c.tView.bindingStartIndex),d}function yi(){return Yt.lFrame.bindingIndex++}function Cs(c){const d=Yt.lFrame,u=d.bindingIndex;return d.bindingIndex=d.bindingIndex+c,u}function hl(c,d){const u=Yt.lFrame;u.bindingIndex=u.bindingRootIndex=c,Mf(d)}function Mf(c){Yt.lFrame.currentDirectiveIndex=c}function fl(c){const d=Yt.lFrame.currentDirectiveIndex;return-1===d?null:c[d]}function fd(){return Yt.lFrame.currentQueryIndex}function ha(c){Yt.lFrame.currentQueryIndex=c}function fa(c){const d=c[st];return 2===d.type?d.declTNode:1===d.type?c[Pr]:null}function Dc(c,d,u){if(u&dt.SkipSelf){let m=d,_=c;for(;!(m=m.parent,null!==m||u&dt.Host||(m=fa(_),null===m||(_=_[sa],10&m.type))););if(null===m)return!1;d=m,c=_}const f=Yt.lFrame=md();return f.currentTNode=d,f.lView=c,!0}function pd(c){const d=md(),u=c[st];Yt.lFrame=d,d.currentTNode=u.firstChild,d.lView=c,d.tView=u,d.contextLView=c,d.bindingIndex=u.bindingStartIndex,d.inI18n=!1}function md(){const c=Yt.lFrame,d=null===c?null:c.child;return null===d?zu(c):d}function zu(c){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=d),d}function bv(){const c=Yt.lFrame;return Yt.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Rf=bv;function Of(){const c=bv();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Dr(){return Yt.lFrame.selectedIndex}function Es(c){Yt.lFrame.selectedIndex=c}function ni(){const c=Yt.lFrame;return Df(c.tView,c.selectedIndex)}function gd(){Yt.lFrame.currentNamespace=Pu}function Ic(){!function ju(){Yt.lFrame.currentNamespace=null}()}let Gu=!0;function pl(){return Gu}function Va(c){Gu=c}function _d(c,d){for(let u=d.directiveStart,f=d.directiveEnd;u<f;u++){const _=c.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:k,ngAfterViewChecked:A,ngOnDestroy:P}=_;b&&(c.contentHooks??=[]).push(-u,b),C&&((c.contentHooks??=[]).push(u,C),(c.contentCheckHooks??=[]).push(u,C)),k&&(c.viewHooks??=[]).push(-u,k),A&&((c.viewHooks??=[]).push(u,A),(c.viewCheckHooks??=[]).push(u,A)),null!=P&&(c.destroyHooks??=[]).push(u,P)}}function ml(c,d,u){Wu(c,d,3,u)}function qu(c,d,u,f){(3&c[sn])===u&&Wu(c,d,u,f)}function vd(c,d){let u=c[sn];(3&u)===d&&(u&=8191,u+=1,c[sn]=u)}function Wu(c,d,u,f){const _=f??-1,b=d.length-1;let C=0;for(let k=void 0!==f?65535&c[Oa]:0;k<b;k++)if("number"==typeof d[k+1]){if(C=d[k],null!=f&&C>=f)break}else d[k]<0&&(c[Oa]+=65536),(C<_||-1==_)&&(an(c,u,d,k),c[Oa]=(4294901760&c[Oa])+k+2),k++}function Ds(c,d){ss(4,c,d);const u=Vi(null);try{d.call(c)}finally{Vi(u),ss(5,c,d)}}function an(c,d,u,f){const m=u[f]<0,_=u[f+1],C=c[m?-u[f]:u[f]];m?c[sn]>>13<c[Oa]>>16&&(3&c[sn])===d&&(c[sn]+=8192,Ds(C,_)):Ds(C,_)}const Co=-1;class pa{constructor(d,u,f){this.factory=d,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function Yu(c){return c!==Co}function Ho(c){return 32767&c}function _l(c,d){let u=function Wm(c){return c>>16}(c),f=d;for(;u>0;)f=f[sa],u--;return f}let Ua=!0;function vl(c){const d=Ua;return Ua=c,d}const zn=255,At=5;let Dt=0;const Bn={};function Ir(c,d){const u=bi(c,d);if(-1!==u)return u;const f=d[st];f.firstCreatePass&&(c.injectorIndex=d.length,ga(f.data,c),ga(d,null),ga(f.blueprint,null));const m=tt(c,d),_=c.injectorIndex;if(Yu(m)){const b=Ho(m),C=_l(m,d),k=C[st].data;for(let A=0;A<8;A++)d[_+A]=C[b+A]|k[b+A]}return d[_+8]=m,_}function ga(c,d){c.push(0,0,0,0,0,0,0,0,d)}function bi(c,d){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===d[c.injectorIndex+8]?-1:c.injectorIndex}function tt(c,d){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let u=0,f=null,m=d;for(;null!==m;){if(f=wd(m),null===f)return Co;if(u++,m=m[sa],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return Co}function Bf(c,d,u){!function An(c,d,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Ce)&&(f=u[Ce]),null==f&&(f=u[Ce]=Dt++);const m=f&zn;d.data[c+(m>>At)]|=1<<m}(c,d,u)}function _a(c,d,u){if(u&dt.Optional||void 0!==c)return c;Qe()}function yl(c,d,u,f){if(u&dt.Optional&&void 0===f&&(f=null),!(u&(dt.Self|dt.Host))){const m=c[is],_=_n(void 0);try{return m?m.get(d,f,u&dt.Optional):Li(d,f,u&dt.Optional)}finally{_n(_)}}return _a(f,0,u)}function Ku(c,d,u,f=dt.Default,m){if(null!==c){if(2048&d[sn]&&!(f&dt.Self)){const b=function zo(c,d,u,f,m){let _=c,b=d;for(;null!==_&&null!==b&&2048&b[sn]&&!(512&b[sn]);){const C=bd(_,b,u,f|dt.Self,Bn);if(C!==Bn)return C;let k=_.parent;if(!k){const A=b[Yl];if(A){const P=A.get(u,Bn,f);if(P!==Bn)return P}k=wd(b),b=b[sa]}_=k}return m}(c,d,u,f,Bn);if(b!==Bn)return b}const _=bd(c,d,u,f,Bn);if(_!==Bn)return _}return yl(d,u,f,m)}function bd(c,d,u,f,m){const _=function as(c){if("string"==typeof c)return c.charCodeAt(0)||0;const d=c.hasOwnProperty(Ce)?c[Ce]:void 0;return"number"==typeof d?d>=0?d&zn:Zm:d}(u);if("function"==typeof _){if(!Dc(d,c,f))return f&dt.Host?_a(m,0,f):yl(d,u,f,m);try{const b=_(f);if(null!=b||f&dt.Optional)return b;Qe()}finally{Rf()}}else if("number"==typeof _){let b=null,C=bi(c,d),k=Co,A=f&dt.Host?d[vi][Pr]:null;for((-1===C||f&dt.SkipSelf)&&(k=-1===C?tt(c,d):d[C+8],k!==Co&&Ha(f,!1)?(b=d[st],C=Ho(k),d=_l(k,d)):C=-1);-1!==C;){const P=d[st];if(Gi(_,C,P.data)){const W=fr(C,d,u,b,f,A);if(W!==Bn)return W}k=d[C+8],k!==Co&&Ha(f,d[st].data[C+8]===A)&&Gi(_,C,d)?(b=P,C=Ho(k),d=_l(k,d)):C=-1}}return m}function fr(c,d,u,f,m,_){const b=d[st],C=b.data[c+8],P=ci(C,b,u,null==f?os(C)&&Ua:f!=b&&0!=(3&C.type),m&dt.Host&&_===C);return null!==P?Dn(d,b,P,C):Bn}function ci(c,d,u,f,m){const _=c.providerIndexes,b=d.data,C=1048575&_,k=c.directiveStart,P=_>>20,ne=m?C+P:c.directiveEnd;for(let de=f?C:C+P;de<ne;de++){const Fe=b[de];if(de<k&&u===Fe||de>=k&&Fe.type===u)return de}if(m){const de=b[k];if(de&&ai(de)&&de.type===u)return k}return null}function Dn(c,d,u,f){let m=c[u];const _=d.data;if(function Lf(c){return c instanceof pa}(m)){const b=m;b.resolving&&function je(c,d){const u=d?`. Dependency path: ${d.join(" > ")} > ${c}`:"";throw new le(-200,`Circular dependency in DI detected for ${c}${u}`)}(function xe(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():pe(c)}(_[u]));const C=vl(b.canSeeViewProviders);b.resolving=!0;const k=b.injectImpl?_n(b.injectImpl):null;Dc(c,f,dt.Default);try{m=c[u]=b.factory(void 0,_,c,f),d.firstCreatePass&&u>=f.directiveStart&&function Ff(c,d,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:_}=d.type.prototype;if(f){const b=wc(d);(u.preOrderHooks??=[]).push(c,b),(u.preOrderCheckHooks??=[]).push(c,b)}m&&(u.preOrderHooks??=[]).push(0-c,m),_&&((u.preOrderHooks??=[]).push(c,_),(u.preOrderCheckHooks??=[]).push(c,_))}(u,_[u],d)}finally{null!==k&&_n(k),vl(C),b.resolving=!1,Rf()}}return m}function Gi(c,d,u){return!!(u[d+(c>>At)]&1<<c)}function Ha(c,d){return!(c&dt.Self||c&dt.Host&&d)}class za{constructor(d,u){this._tNode=d,this._lView=u}get(d,u,f){return Ku(this._tNode,this._lView,d,J(f),u)}}function Zm(){return new za(ur(),He())}function va(c){return Ie(()=>{const d=c.prototype.constructor,u=d[er]||Is(d),f=Object.prototype;let m=Object.getPrototypeOf(c.prototype).constructor;for(;m&&m!==f;){const _=m[er]||Is(m);if(_&&_!==u)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function Is(c){return it(c)?()=>{const d=Is(Ne(c));return d&&d()}:ca(c)}function wd(c){const d=c[st],u=d.type;return 2===u?d.declTNode:1===u?c[Pr]:null}function bl(c){return function Cv(c,d){if("class"===d)return c.classes;if("style"===d)return c.styles;const u=c.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const _=u[m];if(zt(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(_===d)return u[m+1];m+=2}}}return null}(ur(),c)}const wi="__parameters__";function ks(c,d,u){return Ie(()=>{const f=function Xr(c){return function(...u){if(c){const f=c(...u);for(const m in f)this[m]=f[m]}}}(d);function m(..._){if(this instanceof m)return f.apply(this,_),this;const b=new m(..._);return C.annotation=b,C;function C(k,A,P){const W=k.hasOwnProperty(wi)?k[wi]:Object.defineProperty(k,wi,{value:[]})[wi];for(;W.length<=P;)W.push(null);return(W[P]=W[P]||[]).push(b),k}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=c,m.annotationCls=m,m})}function ja(c,d){c.forEach(u=>Array.isArray(u)?ja(u,d):d(u))}function Ts(c,d,u){d>=c.length?c.push(u):c.splice(d,0,u)}function $a(c,d){return d>=c.length-1?c.pop():c.splice(d,1)[0]}function Ga(c,d){const u=[];for(let f=0;f<c;f++)u.push(d);return u}function D(c,d,u){let f=M(c,d);return f>=0?c[1|f]=u:(f=~f,function Ym(c,d,u,f){let m=c.length;if(m==d)c.push(u,f);else if(1===m)c.push(f,c[0]),c[0]=u;else{for(m--,c.push(c[m-1],c[m]);m>d;)c[m]=c[m-2],m--;c[d]=u,c[d+1]=f}}(c,f,d,u)),f}function T(c,d){const u=M(c,d);if(u>=0)return c[1|u]}function M(c,d){return function te(c,d,u){let f=0,m=c.length>>u;for(;m!==f;){const _=f+(m-f>>1),b=c[_<<u];if(d===b)return _<<u;b>d?m=_:f=_+1}return~(m<<u)}(c,d,1)}const Ss=U(ks("Optional"),8),Gs=U(ks("SkipSelf"),4);function q0(c){return 128==(128&c.flags)}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();const Q2=/^>|^->|<!--|-->|--!>|<!-$/g,X2=/(<|>)/,u1="\u200b$1\u200b";const Y0=new Map;let SD=0;const X0="__ngContext__";function cs(c,d){jr(d)?(c[X0]=d[_c],function Wf(c){Y0.set(c[_c],c)}(d)):c[X0]=d}let Jm;function eg(c,d){return Jm(c,d)}function ih(c){const d=c[Ti];return $r(d)?d[Ti]:d}function PD(c){return ND(c[rl])}function Zf(c){return ND(c[Yr])}function ND(c){for(;null!==c&&!$r(c);)c=c[Yr];return c}function Wa(c,d,u,f,m){if(null!=f){let _,b=!1;$r(f)?_=f:jr(f)&&(b=!0,f=f[xn]);const C=ti(f);0===c&&null!==u?null==m?ow(d,u,C):Md(d,u,C,m||null,!0):1===c&&null!==u?Md(d,u,C,m||null,!0):2===c?function Sc(c,d,u){const f=rg(c,d);f&&function sh(c,d,u,f){c.removeChild(d,u,f)}(c,f,d,u)}(d,C,b):3===c&&d.destroyNode(C),null!=_&&function jD(c,d,u,f,m){const _=u[wo];_!==ti(u)&&Wa(d,c,f,_,m);for(let C=zr;C<u.length;C++){const k=u[C];lh(k[st],k,c,d,f,_)}}(d,c,_,u,m)}}function ng(c,d){return c.createComment(function Z0(c){return c.replace(Q2,d=>d.replace(X2,u1))}(d))}function Il(c,d,u){return c.createElement(d,u)}function Ov(c,d){const u=c[vc],f=u.indexOf(d);od(d),u.splice(f,1)}function Pv(c,d){if(c.length<=zr)return;const u=zr+d,f=c[u];if(f){const m=f[Zl];null!==m&&m!==c&&Ov(m,f),d>0&&(c[u-1][Yr]=f[Yr]);const _=$a(c,zr+d);!function g1(c,d){lh(c,d,d[jt],2,null,null),d[xn]=null,d[Pr]=null}(f[st],f);const b=_[Cr];null!==b&&b.detachView(_[st]),f[Ti]=null,f[Yr]=null,f[sn]&=-129}return f}function BD(c,d){if(!(256&d[sn])){const u=d[jt];d[Kl]?.destroy(),d[rs]?.destroy(),u.destroyNode&&lh(c,d,u,3,null,null),function iw(c){let d=c[rl];if(!d)return rw(c[st],c);for(;d;){let u=null;if(jr(d))u=d[rl];else{const f=d[zr];f&&(u=f)}if(!u){for(;d&&!d[Yr]&&d!==c;)jr(d)&&rw(d[st],d),d=d[Ti];null===d&&(d=c),jr(d)&&rw(d[st],d),u=d&&d[Yr]}d=u}}(d)}}function rw(c,d){if(!(256&d[sn])){d[sn]&=-129,d[sn]|=256,function rh(c,d){let u;if(null!=c&&null!=(u=c.destroyHooks))for(let f=0;f<u.length;f+=2){const m=d[u[f]];if(!(m instanceof pa)){const _=u[f+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const C=m[_[b]],k=_[b+1];ss(4,C,k);try{k.call(C)}finally{ss(5,C,k)}}else{ss(4,m,_);try{_.call(m)}finally{ss(5,m,_)}}}}}(c,d),function VD(c,d){const u=c.cleanup,f=d[js];if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const b=u[_+3];b>=0?f[b]():f[-b].unsubscribe(),_+=2}else u[_].call(f[u[_+1]]);null!==f&&(d[js]=null);const m=d[Nr];if(null!==m){d[Nr]=null;for(let _=0;_<m.length;_++)(0,m[_])()}}(c,d),1===d[st].type&&d[jt].destroy();const u=d[Zl];if(null!==u&&$r(d[Ti])){u!==d[Ti]&&Ov(u,d);const f=d[Cr];null!==f&&f.detachView(c)}!function Q0(c){Y0.delete(c[_c])}(d)}}function ig(c,d,u){return function oh(c,d,u){let f=d;for(;null!==f&&40&f.type;)f=(d=f).parent;if(null===f)return u[xn];{const{componentOffset:m}=f;if(m>-1){const{encapsulation:_}=c.data[f.directiveStart+m];if(_===Nt.None||_===Nt.Emulated)return null}return Gr(f,u)}}(c,d.parent,u)}function Md(c,d,u,f,m){c.insertBefore(d,u,f,m)}function ow(c,d,u){c.appendChild(d,u)}function Yf(c,d,u,f,m){null!==f?Md(c,d,u,f,m):ow(c,d,u)}function rg(c,d){return c.parentNode(d)}function Kf(c,d,u){return Za(c,d,u)}let po,Fv,aw,ag,Za=function Nv(c,d,u){return 40&c.type?Gr(c,u):null};function ah(c,d,u,f){const m=ig(c,f,d),_=d[jt],C=Kf(f.parent||d[Pr],f,d);if(null!=m)if(Array.isArray(u))for(let k=0;k<u.length;k++)Yf(_,m,u[k],C,!1);else Yf(_,m,u,C,!1);void 0!==po&&po(_,f,d,u,m)}function og(c,d){if(null!==d){const u=d.type;if(3&u)return Gr(d,c);if(4&u)return Ya(-1,c[d.index]);if(8&u){const f=d.child;if(null!==f)return og(c,f);{const m=c[d.index];return $r(m)?Ya(-1,m):ti(m)}}if(32&u)return eg(d,c)()||ti(c[d.index]);{const f=kl(c,d);return null!==f?Array.isArray(f)?f[0]:og(ih(c[vi]),f):og(c,d.next)}}return null}function kl(c,d){return null!==d?c[vi][Pr].projection[d.projection]:null}function Ya(c,d){const u=zr+c+1;if(u<d.length){const f=d[u],m=f[st].firstChild;if(null!==m)return og(f,m)}return d[wo]}function ch(c,d,u,f,m,_,b){for(;null!=u;){const C=f[u.index],k=u.type;if(b&&0===d&&(C&&cs(ti(C),f),u.flags|=2),32!=(32&u.flags))if(8&k)ch(c,d,u.child,f,m,_,!1),Wa(d,c,m,C,_);else if(32&k){const A=eg(u,f);let P;for(;P=A();)Wa(d,c,m,P,_);Wa(d,c,m,C,_)}else 16&k?Jr(c,d,f,u,m,_):Wa(d,c,m,C,_);u=b?u.projectionNext:u.next}}function lh(c,d,u,f,m,_){ch(u,f,c.firstChild,d,m,_,!1)}function Jr(c,d,u,f,m,_){const b=u[vi],k=b[Pr].projection[f.projection];if(Array.isArray(k))for(let A=0;A<k.length;A++)Wa(d,c,m,k[A],_);else{let A=k;const P=b[Ti];q0(f)&&(A.flags|=128),ch(c,d,A,P,m,_,!0)}}function $D(c,d,u){""===u?c.removeAttribute(d,"class"):c.setAttribute(d,"class",u)}function GD(c,d,u){const{mergedAttrs:f,classes:m,styles:_}=u;null!==f&&Et(c,d,f),null!==m&&$D(c,d,m),null!==_&&function b1(c,d,u){c.setAttribute(d,"style",u)}(c,d,_)}function dh(c){return function sw(){if(void 0===Fv&&(Fv=null,hn.trustedTypes))try{Fv=hn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return Fv}()?.createHTML(c)||c}function sg(c){aw=c}function dw(c){return function Bv(){if(void 0===ag&&(ag=null,hn.trustedTypes))try{ag=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return ag}()?.createScriptURL(c)||c}class Od{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}class qD extends Od{getTypeName(){return"HTML"}}class uw extends Od{getTypeName(){return"Style"}}class WD extends Od{getTypeName(){return"Script"}}class ZD extends Od{getTypeName(){return"URL"}}class hw extends Od{getTypeName(){return"ResourceURL"}}function Tl(c){return c instanceof Od?c.changingThisBreaksApplicationSecurity:c}function uh(c,d){const u=function C1(c){return c instanceof Od&&c.getTypeName()||null}(c);if(null!=u&&u!==d){if("ResourceURL"===u&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${u} (see ${Ct})`)}return u===d}function fw(c){return new qD(c)}function pw(c){return new uw(c)}function mw(c){return new WD(c)}function E1(c){return new ZD(c)}function D1(c){return new hw(c)}class I1{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const u=(new window.DOMParser).parseFromString(dh(d),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(d):(u.removeChild(u.firstChild),u)}catch{return null}}}class k1{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const u=this.inertDocument.createElement("template");return u.innerHTML=dh(d),u}}const YD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cg(c){return(c=String(c)).match(YD)?c:"unsafe:"+c}function Ac(c){const d={};for(const u of c.split(","))d[u]=!0;return d}function lg(...c){const d={};for(const u of c)for(const f in u)u.hasOwnProperty(f)&&(d[f]=!0);return d}const KD=Ac("area,br,col,hr,img,wbr"),QD=Ac("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XD=Ac("rp,rt"),_w=lg(KD,lg(QD,Ac("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lg(XD,Ac("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lg(XD,QD)),vw=Ac("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vv=lg(vw,Ac("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ac("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),M1=Ac("script,style,template");class R1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let u=d.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(d){const u=d.nodeName.toLowerCase();if(!_w.hasOwnProperty(u))return this.sanitizedSomething=!0,!M1.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=d.attributes;for(let m=0;m<f.length;m++){const _=f.item(m),b=_.name,C=b.toLowerCase();if(!Vv.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let k=_.value;vw[C]&&(k=cg(k)),this.buf.push(" ",b,'="',yw(k),'"')}return this.buf.push(">"),!0}endElement(d){const u=d.nodeName.toLowerCase();_w.hasOwnProperty(u)&&!KD.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(d){this.buf.push(yw(d))}checkClobberedElement(d,u){if(u&&(d.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return u}}const Uv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xf=/([^\#-~ |!])/g;function yw(c){return c.replace(/&/g,"&amp;").replace(Uv,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(Xf,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hv;function JD(c,d){let u=null;try{Hv=Hv||function gw(c){const d=new k1(c);return function T1(){try{return!!(new window.DOMParser).parseFromString(dh(""),"text/html")}catch{return!1}}()?new I1(d):d}(c);let f=d?String(d):"";u=Hv.getInertBodyElement(f);let m=5,_=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=_,_=u.innerHTML,u=Hv.getInertBodyElement(f)}while(f!==_);return dh((new R1).sanitizeChildren(bw(u)||u))}finally{if(u){const f=bw(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function bw(c){return"content"in c&&function O1(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var mr=(()=>((mr=mr||{})[mr.NONE=0]="NONE",mr[mr.HTML=1]="HTML",mr[mr.STYLE=2]="STYLE",mr[mr.SCRIPT=3]="SCRIPT",mr[mr.URL=4]="URL",mr[mr.RESOURCE_URL=5]="RESOURCE_URL",mr))();function zv(c){const d=Jf();return d?d.sanitize(mr.URL,c)||"":uh(c,"URL")?Tl(c):cg(pe(c))}function tI(c){const d=Jf();if(d)return dw(d.sanitize(mr.RESOURCE_URL,c)||"");if(uh(c,"ResourceURL"))return dw(Tl(c));throw new le(904,!1)}function sI(c,d,u){return function oI(c,d){return"src"===d&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===d&&("base"===c||"link"===c)?tI:zv}(d,u)(c)}function Jf(){const c=He();return c&&c[Ra].sanitizer}class Un{constructor(d,u){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ep=new Un("ENVIRONMENT_INITIALIZER"),ww=new Un("INJECTOR",-1),ii=new Un("INJECTOR_DEF_TYPES");class jn{get(d,u=Ji){if(u===Ji){const f=new Error(`NullInjectorError: No provider for ${he(d)}!`);throw f.name="NullInjectorError",f}return u}}function Pd(...c){return{\u0275providers:Ei(0,c),\u0275fromNgModule:!0}}function Ei(c,...d){const u=[],f=new Set;let m;return ja(d,_=>{const b=_;xw(b,u,[],f)&&(m||=[],m.push(b))}),void 0!==m&&jv(m,u),u}function jv(c,d){for(let u=0;u<c.length;u++){const{providers:m}=c[u];Gv(m,_=>{d.push(_)})}}function xw(c,d,u,f){if(!(c=Ne(c)))return!1;let m=null,_=Ki(c);const b=!_&&on(c);if(_||b){if(b&&!b.standalone)return!1;m=c}else{const k=c.ngModule;if(_=Ki(k),!_)return!1;m=k}const C=f.has(m);if(b){if(C)return!1;if(f.add(m),b.dependencies){const k="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const A of k)xw(A,d,u,f)}}else{if(!_)return!1;{if(null!=_.imports&&!C){let A;f.add(m);try{ja(_.imports,P=>{xw(P,d,u,f)&&(A||=[],A.push(P))})}finally{}void 0!==A&&jv(A,d)}if(!C){const A=ca(m)||(()=>new m);d.push({provide:m,useFactory:A,deps:St},{provide:ii,useValue:m,multi:!0},{provide:ep,useValue:()=>Zn(m),multi:!0})}const k=_.providers;null==k||C||Gv(k,P=>{d.push(P)})}}return m!==c&&void 0!==c.providers}function Gv(c,d){for(let u of c)We(u)&&(u=u.\u0275providers),Array.isArray(u)?Gv(u,d):d(u)}const or=K({provide:String,useValue:K});function Cn(c){return null!==c&&"object"==typeof c&&or in c}function Sl(c){return"function"==typeof c}const Cw=new Un("Set Injector scope."),qv={},L1={};let Wv;function Mc(){return void 0===Wv&&(Wv=new jn),Wv}class Al{}class fh extends Al{get destroyed(){return this._destroyed}constructor(d,u,f,m){super(),this.parent=u,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,np(d,b=>this.processProvider(b)),this.records.set(ww,tp(void 0,this)),m.has("environment")&&this.records.set(Al,tp(void 0,this));const _=this.records.get(Cw);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(ii.multi,St,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of d)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const u=Xn(this),f=_n(void 0);try{return d()}finally{Xn(u),_n(f)}}get(d,u=Ji,f=dt.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(fe))return d[fe](this);f=J(f);const m=Xn(this),_=_n(void 0);try{if(!(f&dt.SkipSelf)){let C=this.records.get(d);if(void 0===C){const k=function Pn(c){return"function"==typeof c||"object"==typeof c&&c instanceof Un}(d)&&Kn(d);C=k&&this.injectableDefInScope(k)?tp(Ew(d),qv):null,this.records.set(d,C)}if(null!=C)return this.hydrate(d,C)}return(f&dt.Self?Mc():this.parent).get(d,u=f&dt.Optional&&u===Ji?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[si]=b[si]||[]).unshift(he(d)),m)throw b;return function L(c,d,u,f){const m=c[si];throw d[Qn]&&m.unshift(d[Qn]),c.message=function re(c,d,u,f=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let m=he(d);if(Array.isArray(d))m=d.map(he).join(" -> ");else if("object"==typeof d){let _=[];for(let b in d)if(d.hasOwnProperty(b)){let C=d[b];_.push(b+":"+("string"==typeof C?JSON.stringify(C):he(C)))}m=`{${_.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${c.replace(No,"\n  ")}`}("\n"+c.message,m,u,f),c.ngTokenPath=m,c[si]=null,c}(b,d,"R3InjectorError",this.source)}throw b}finally{_n(_),Xn(m)}}resolveInjectorInitializers(){const d=Xn(this),u=_n(void 0);try{const f=this.get(ep.multi,St,dt.Self);for(const m of f)m()}finally{Xn(d),_n(u)}}toString(){const d=[],u=this.records;for(const f of u.keys())d.push(he(f));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(d){let u=Sl(d=Ne(d))?d:Ne(d&&d.provide);const f=function B1(c){return Cn(c)?tp(void 0,c.useValue):tp(lI(c),qv)}(d);if(Sl(d)||!0!==d.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=tp(void 0,qv,!0),m.factory=()=>Y(m.multi),this.records.set(u,m)),u=d,m.multi.push(d)}this.records.set(u,f)}hydrate(d,u){return u.value===qv&&(u.value=L1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function ph(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(d){if(!d.providedIn)return!1;const u=Ne(d.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(d){const u=this._onDestroyHooks.indexOf(d);-1!==u&&this._onDestroyHooks.splice(u,1)}}function Ew(c){const d=Kn(c),u=null!==d?d.factory:ca(c);if(null!==u)return u;if(c instanceof Un)throw new le(204,!1);if(c instanceof Function)return function cI(c){const d=c.length;if(d>0)throw Ga(d,"?"),new le(204,!1);const u=function wr(c){return c&&(c[Qi]||c[Xi])||null}(c);return null!==u?()=>u.factory(c):()=>new c}(c);throw new le(204,!1)}function lI(c,d,u){let f;if(Sl(c)){const m=Ne(c);return ca(m)||Ew(m)}if(Cn(c))f=()=>Ne(c.useValue);else if(function aI(c){return!(!c||!c.useFactory)}(c))f=()=>c.useFactory(...Y(c.deps||[]));else if(function jo(c){return!(!c||!c.useExisting)}(c))f=()=>Zn(Ne(c.useExisting));else{const m=Ne(c&&(c.useClass||c.provide));if(!function dI(c){return!!c.deps}(c))return ca(m)||Ew(m);f=()=>new m(...Y(c.deps))}return f}function tp(c,d,u=!1){return{factory:c,value:d,multi:u?[]:void 0}}function np(c,d){for(const u of c)Array.isArray(u)?np(u,d):u&&We(u)?np(u.\u0275providers,d):d(u)}const dg=new Un("AppId",{providedIn:"root",factory:()=>uI}),uI="ng",Ka=new Un("Platform Initializer"),ip=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V1=new Un("AnimationModuleType"),Ms=new Un("CSP nonce",{providedIn:"root",factory:()=>function Rd(){if(void 0!==aw)return aw;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Pc=(c,d)=>null;function mI(c,d){return Pc(c,d)}class kw{}class ap{}class $1{resolveComponentFactory(d){throw function j1(c){const d=Error(`No component factory found for ${he(c)}.`);return d.ngComponent=c,d}(d)}}let _g=(()=>{class c{}return c.NULL=new $1,c})();function Tw(){return cp(ur(),He())}function cp(c,d){return new gh(Gr(c,d))}let gh=(()=>{class c{constructor(u){this.nativeElement=u}}return c.__NG_ELEMENT_ID__=Tw,c})();function G1(c){return c instanceof gh?c.nativeElement:c}class vg{}let _I=(()=>{class c{constructor(){this.destroyNode=null}}return c.__NG_ELEMENT_ID__=()=>function vI(){const c=He(),u=Bo(ur().index,c);return(jr(u)?u:c)[jt]}(),c})(),iy=(()=>{class c{}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:()=>null}),c})();class yI{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const yg=new yI("16.1.1"),Fd={};function _h(c){for(;c;){c[sn]|=64;const d=ih(c);if(bc(c)&&!d)return c;c=d}return null}function Sw(c){return c.ngOriginalError}class vh{constructor(){this._console=console}handleError(d){const u=this._findOriginalError(d);this._console.error("ERROR",d),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(d){let u=d&&Sw(d);for(;u&&Sw(u);)u=Sw(u);return u||null}}const wI=new Un("",{providedIn:"root",factory:()=>!1});function lp(c){return c.ownerDocument}function $o(c){return c instanceof Function?c():c}class xg extends xo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){_h(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,u,f){const m=Vi(this);this.trackingVersion++;try{d(u,f)}finally{Vi(m)}}destroy(){this.trackingVersion++}}let Nc=null;function ay(){return Nc??=new xg,Nc}function CI(c,d){return c[d]??ay()}function Ai(c,d){const u=ay();u.hasReadASignal&&(c[d]=Nc,u.lView=c,Nc=new xg)}const Kt={};function up(c){cy(En(),He(),Dr()+c,!1)}function cy(c,d,u,f){if(!f)if(3==(3&d[sn])){const _=c.preOrderCheckHooks;null!==_&&ml(d,_,u)}else{const _=c.preOrderHooks;null!==_&&qu(d,_,0,u)}Es(u)}function DI(c,d=null,u=null,f){const m=II(c,d,u,f);return m.resolveInjectorInitializers(),m}function II(c,d=null,u=null,f,m=new Set){const _=[u||St,Pd(c)];return f=f||("object"==typeof c?void 0:he(c)),new fh(_,d||Mc(),f||null,m)}let Ud=(()=>{class c{static create(u,f){if(Array.isArray(u))return DI({name:""},f,u,"");{const m=u.name??"";return DI({name:m},u.parent,u.providers,m)}}}return c.THROW_IF_NOT_FOUND=Ji,c.NULL=new jn,c.\u0275prov=Wt({token:c,providedIn:"any",factory:()=>Zn(ww)}),c.__NG_ELEMENT_ID__=-1,c})();function fp(c,d=dt.Default){const u=He();return null===u?Zn(c,d):Ku(ur(),u,Ne(c),d)}function kI(){throw new Error("invalid")}function Cg(c,d,u,f,m,_,b,C,k,A,P){const W=d.blueprint.slice();return W[xn]=m,W[sn]=140|f,(null!==A||c&&2048&c[sn])&&(W[sn]|=2048),Fu(W),W[Ti]=W[sa]=c,W[ei]=u,W[Ra]=b||c&&c[Ra],W[jt]=C||c&&c[jt],W[is]=k||c&&c[is]||null,W[Pr]=_,W[_c]=function K0(){return SD++}(),W[Kr]=P,W[Yl]=A,W[vi]=2==d.type?c[vi]:W,W}function pp(c,d,u,f,m){let _=c.data[d];if(null===_)_=function Nw(c,d,u,f,m){const _=jm(),b=$m(),k=c.data[d]=function MI(c,d,u,f,m,_){let b=d?d.injectorIndex:-1,C=0;return Uo()&&(C|=128),{type:u,index:f,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,u,d,f,m);return null===c.firstChild&&(c.firstChild=k),null!==_&&(b?null==_.child&&null!==k.parent&&(_.child=k):null===_.next&&(_.next=k,k.prev=_)),k}(c,d,u,f,m),function hr(){return Yt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=u,_.value=f,_.attrs=m;const b=function ld(){const c=Yt.lFrame,d=c.currentTNode;return c.isParent?d:d.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Qr(_,!0),_}function Eg(c,d,u,f){if(0===u)return-1;const m=d.length;for(let _=0;_<u;_++)d.push(f),c.blueprint.push(f),c.data.push(null);return m}function SI(c,d,u,f,m){const _=CI(d,Kl),b=Dr(),C=2&f;try{if(Es(-1),C&&d.length>Rn&&cy(c,d,Rn,!1),ss(C?2:0,m),C)_.runInContext(u,f,m);else{const A=Vi(null);try{u(f,m)}finally{Vi(A)}}}finally{C&&null===d[Kl]&&Ai(d,Kl),Es(b),ss(C?3:1,m)}}function Fw(c,d,u){if(_u(d)){const f=Vi(null);try{const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++){const C=c.data[b];C.contentQueries&&C.contentQueries(1,u[b],b)}}finally{Vi(f)}}}function Lw(c,d,u){dl()&&(function eR(c,d,u,f){const m=u.directiveStart,_=u.directiveEnd;os(u)&&function VI(c,d,u){const f=Gr(d,c),m=uy(u);let b=16;u.signals?b=4096:u.onPush&&(b=64);const C=_y(c,Cg(c,m,null,b,f,d,null,c[Ra].rendererFactory.createRenderer(f,u),null,null,null));c[d.index]=C}(d,u,c.data[m+u.componentOffset]),c.firstCreatePass||Ir(u,d),cs(f,d);const b=u.initialInputs;for(let C=m;C<_;C++){const k=c.data[C],A=Dn(d,c,C,u);cs(A,d),null!==b&&UI(0,C-m,A,k,0,b),ai(k)&&(Bo(u.index,d)[ei]=Dn(d,c,C,u))}}(c,d,u,Gr(u,d)),64==(64&u.flags)&&LI(c,d,u))}function mp(c,d,u=Gr){const f=d.localNames;if(null!==f){let m=d.index+1;for(let _=0;_<f.length;_+=2){const b=f[_+1],C=-1===b?u(d,c):c[b];c[m++]=C}}}function uy(c){const d=c.tView;return null===d||d.incompleteFirstPass?c.tView=hy(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts,c.id):d}function hy(c,d,u,f,m,_,b,C,k,A,P){const W=Rn+f,ne=W+m,de=function fy(c,d){const u=[];for(let f=0;f<d;f++)u.push(f<c?null:Kt);return u}(W,ne),Fe="function"==typeof A?A():A;return de[st]={type:c,blueprint:de,template:u,queries:null,viewQuery:C,declTNode:d,data:de.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:k,consts:Fe,incompleteFirstPass:!1,ssrId:P}}let Vw=c=>null;function py(c,d,u,f){for(let m in c)if(c.hasOwnProperty(m)){u=null===u?{}:u;const _=c[m];null===f?RI(u,d,m,_):f.hasOwnProperty(m)&&RI(u,d,f[m],_)}return u}function RI(c,d,u,f){c.hasOwnProperty(u)?c[u].push(d,f):c[u]=[d,f]}function qs(c,d,u,f,m,_,b,C){const k=Gr(d,u);let P,A=d.inputs;!C&&null!=A&&(P=A[f])?(vy(c,u,P,f,m),os(d)&&function OI(c,d){const u=Bo(d,c);16&u[sn]||(u[sn]|=64)}(u,d.index)):3&d.type&&(f=function J1(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(f),m=null!=b?b(m,d.value||"",f):m,_.setProperty(k,f,m))}function gy(c,d,u,f){if(dl()){const m=null===f?null:{"":-1},_=function nR(c,d){const u=c.directiveRegistry;let f=null,m=null;if(u)for(let _=0;_<u.length;_++){const b=u[_];if(xr(d,b.selectors,!1))if(f||(f=[]),ai(b))if(null!==b.findHostDirectiveDefs){const C=[];m=m||new Map,b.findHostDirectiveDefs(b,C,m),f.unshift(...C,b),Hw(c,d,C.length)}else f.unshift(b),Hw(c,d,0);else m=m||new Map,b.findHostDirectiveDefs?.(b,f,m),f.push(b)}return null===f?null:[f,m]}(c,u);let b,C;null===_?b=C=null:[b,C]=_,null!==b&&NI(c,d,u,b,m,C),m&&function iR(c,d,u){if(d){const f=c.localNames=[];for(let m=0;m<d.length;m+=2){const _=u[d[m+1]];if(null==_)throw new le(-301,!1);f.push(d[m],_)}}}(u,f,m)}u.mergedAttrs=yn(u.mergedAttrs,u.attrs)}function NI(c,d,u,f,m,_){for(let A=0;A<f.length;A++)Bf(Ir(u,d),c,f[A].type);!function BI(c,d,u){c.flags|=1,c.directiveStart=d,c.directiveEnd=d+u,c.providerIndexes=d}(u,c.data.length,f.length);for(let A=0;A<f.length;A++){const P=f[A];P.providersResolver&&P.providersResolver(P)}let b=!1,C=!1,k=Eg(c,d,f.length,null);for(let A=0;A<f.length;A++){const P=f[A];u.mergedAttrs=yn(u.mergedAttrs,P.hostAttrs),oR(c,u,d,k,P),rR(k,P,m),null!==P.contentQueries&&(u.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=64);const W=P.type.prototype;!b&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((c.preOrderHooks??=[]).push(u.index),b=!0),!C&&(W.ngOnChanges||W.ngDoCheck)&&((c.preOrderCheckHooks??=[]).push(u.index),C=!0),k++}!function X1(c,d,u){const m=d.directiveEnd,_=c.data,b=d.attrs,C=[];let k=null,A=null;for(let P=d.directiveStart;P<m;P++){const W=_[P],ne=u?u.get(W):null,Fe=ne?ne.outputs:null;k=py(W.inputs,P,k,ne?ne.inputs:null),A=py(W.outputs,P,A,Fe);const Ye=null===k||null===b||dr(d)?null:HI(k,P,b);C.push(Ye)}null!==k&&(k.hasOwnProperty("class")&&(d.flags|=8),k.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=C,d.inputs=k,d.outputs=A}(c,u,_)}function LI(c,d,u){const f=u.directiveStart,m=u.directiveEnd,_=u.index,b=function hd(){return Yt.lFrame.currentDirectiveIndex}();try{Es(_);for(let C=f;C<m;C++){const k=c.data[C],A=d[C];Mf(C),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&tR(k,A)}}finally{Es(-1),Mf(b)}}function tR(c,d){null!==c.hostBindings&&c.hostBindings(1,d)}function Hw(c,d,u){d.componentOffset=u,(c.components??=[]).push(d.index)}function rR(c,d,u){if(u){if(d.exportAs)for(let f=0;f<d.exportAs.length;f++)u[d.exportAs[f]]=c;ai(d)&&(u[""]=c)}}function oR(c,d,u,f,m){c.data[f]=m;const _=m.factory||(m.factory=ca(m.type)),b=new pa(_,ai(m),fp);c.blueprint[f]=b,u[f]=b,function FI(c,d,u,f,m){const _=m.hostBindings;if(_){let b=c.hostBindingOpCodes;null===b&&(b=c.hostBindingOpCodes=[]);const C=~d.index;(function Uw(c){let d=c.length;for(;d>0;){const u=c[--d];if("number"==typeof u&&u<0)return u}return 0})(b)!=C&&b.push(C),b.push(u,f,_)}}(c,d,f,Eg(c,u,m.hostVars,Kt),m)}function Xa(c,d,u,f,m,_){const b=Gr(c,d);!function zw(c,d,u,f,m,_,b){if(null==_)c.removeAttribute(d,m,u);else{const C=null==b?pe(_):b(_,f||"",m);c.setAttribute(d,m,C,u)}}(d[jt],b,_,c.value,u,f,m)}function UI(c,d,u,f,m,_){const b=_[d];if(null!==b)for(let C=0;C<b.length;)Dg(f,u,b[C++],b[C++],b[C++])}function Dg(c,d,u,f,m){const _=Vi(null);try{const b=c.inputTransforms;null!==b&&b.hasOwnProperty(f)&&(m=b[f].call(d,m)),null!==c.setInput?c.setInput(d,m,u,f):d[f]=m}finally{Vi(_)}}function HI(c,d,u){let f=null,m=0;for(;m<u.length;){const _=u[m];if(0!==_)if(5!==_){if("number"==typeof _)break;if(c.hasOwnProperty(_)){null===f&&(f=[]);const b=c[_];for(let C=0;C<b.length;C+=2)if(b[C]===d){f.push(_,b[C+1],u[m+1]);break}}m+=2}else m+=2;else m+=4}return f}function zI(c,d,u,f){return[c,!0,!1,d,null,0,f,u,null,null,null]}function jI(c,d){const u=c.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const _=u[f+1];if(-1!==_){const b=c.data[_];ha(u[f]),b.contentQueries(2,d[_],_)}}}function _y(c,d){return c[rl]?c[Wl][Yr]=d:c[rl]=d,c[Wl]=d,d}function Ig(c,d,u){ha(0);const f=Vi(null);try{d(c,u)}finally{Vi(f)}}function $I(c){return c[js]||(c[js]=[])}function GI(c){return c.cleanup||(c.cleanup=[])}function jw(c,d,u){return(null===c||ai(c))&&(u=function rd(c){for(;Array.isArray(c);){if("object"==typeof c[ys])return c;c=c[xn]}return null}(u[d.index])),u[jt]}function Ml(c,d){const u=c[is],f=u?u.get(vh,null):null;f&&f.handleError(d)}function vy(c,d,u,f,m){for(let _=0;_<u.length;){const b=u[_++],C=u[_++];Dg(c.data[b],d[b],f,C,m)}}function Fc(c,d,u){const f=xc(d,c);!function Dl(c,d,u){c.setValue(d,u)}(c[jt],f,u)}function Hd(c,d){const u=Bo(d,c),f=u[st];!function yy(c,d){for(let u=d.length;u<c.blueprint.length;u++)d.push(c.blueprint[u])}(f,u);const m=u[xn];null!==m&&null===u[Kr]&&(u[Kr]=mI(m,u[is])),gp(f,u,u[ei])}function gp(c,d,u){pd(d);try{const f=c.viewQuery;null!==f&&Ig(1,f,u);const m=c.template;null!==m&&SI(c,d,m,1,u),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&jI(c,d),c.staticViewQueries&&Ig(2,c.viewQuery,u);const _=c.components;null!==_&&function aR(c,d){for(let u=0;u<d.length;u++)Hd(c,d[u])}(d,_)}catch(f){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),f}finally{d[sn]&=-5,Of()}}let by=(()=>{class c{constructor(){this.all=new Set,this.queue=new Map}create(u,f,m){const _=typeof Zone>"u"?null:Zone.current,b=new Lm(u,A=>{this.all.has(A)&&this.queue.set(A,_)},m);let C;this.all.add(b),b.notify();const k=()=>{b.cleanup(),C?.(),this.all.delete(b),this.queue.delete(b)};return C=f?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[u,f]of this.queue)this.queue.delete(u),f?f.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:()=>new c}),c})();function Ja(c,d,u){let f=u?c.styles:null,m=u?c.classes:null,_=0;if(null!==d)for(let b=0;b<d.length;b++){const C=d[b];"number"==typeof C?_=C:1==_?m=$e(m,C):2==_&&(f=$e(f,C+": "+d[++b]+";"))}u?c.styles=f:c.stylesWithoutHost=f,u?c.classes=m:c.classesWithoutHost=m}function Rl(c,d,u,f,m=!1){for(;null!==u;){const _=d[u.index];if(null!==_&&f.push(ti(_)),$r(_)){for(let C=zr;C<_.length;C++){const k=_[C],A=k[st].firstChild;null!==A&&Rl(k[st],k,A,f)}_[wo]!==_[xn]&&f.push(_[wo])}const b=u.type;if(8&b)Rl(c,d,u.child,f);else if(32&b){const C=eg(u,d);let k;for(;k=C();)f.push(k)}else if(16&b){const C=kl(d,u);if(Array.isArray(C))f.push(...C);else{const k=ih(d[vi]);Rl(k[st],k,C,f,!0)}}u=m?u.projectionNext:u.next}return f}function wy(c,d,u,f=!0){const m=d[Ra].rendererFactory;m.begin&&m.begin();try{kg(c,d,c.template,u)}catch(b){throw f&&Ml(d,b),b}finally{m.end&&m.end(),d[Ra].effectManager?.flush()}}function kg(c,d,u,f){const m=d[sn];if(256!=(256&m)){d[Ra].effectManager?.flush(),pd(d);try{Fu(d),function dd(c){return Yt.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==u&&SI(c,d,u,2,f);const b=3==(3&m);if(b){const A=c.preOrderCheckHooks;null!==A&&ml(d,A,null)}else{const A=c.preOrderHooks;null!==A&&qu(d,A,0,null),vd(d,0)}if(function fR(c){for(let d=PD(c);null!==d;d=Zf(d)){if(!d[Pa])continue;const u=d[vc];for(let f=0;f<u.length;f++){Lu(u[f])}}}(d),$w(d,2),null!==c.contentQueries&&jI(c,d),b){const A=c.contentCheckHooks;null!==A&&ml(d,A)}else{const A=c.contentHooks;null!==A&&qu(d,A,1),vd(d,1)}!function TI(c,d){const u=c.hostBindingOpCodes;if(null===u)return;const f=CI(d,rs);try{for(let m=0;m<u.length;m++){const _=u[m];if(_<0)Es(~_);else{const b=_,C=u[++m],k=u[++m];hl(C,b),f.runInContext(k,2,d[b])}}}finally{null===d[rs]&&Ai(d,rs),Es(-1)}}(c,d);const C=c.components;null!==C&&qI(d,C,0);const k=c.viewQuery;if(null!==k&&Ig(2,k,f),b){const A=c.viewCheckHooks;null!==A&&ml(d,A)}else{const A=c.viewHooks;null!==A&&qu(d,A,2),vd(d,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),d[sn]&=-73,od(d)}finally{Of()}}}function $w(c,d){for(let u=PD(c);null!==u;u=Zf(u))for(let f=zr;f<u.length;f++)Tg(u[f],d)}function Gw(c,d,u){Tg(Bo(d,c),u)}function Tg(c,d){if(!function If(c){return 128==(128&c[sn])}(c))return;const u=c[st];if(80&c[sn]&&0===d||1024&c[sn]||2===d)kg(u,c,u.template,c[ei]);else if(c[ql]>0){$w(c,1);const m=c[st].components;null!==m&&qI(c,m,1)}}function qI(c,d,u){for(let f=0;f<d.length;f++)Gw(c,d[f],u)}class Lc{get rootNodes(){const d=this._lView,u=d[st];return Rl(u,d,u.firstChild,[])}constructor(d,u){this._lView=d,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ei]}set context(d){this._lView[ei]=d}get destroyed(){return 256==(256&this._lView[sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Ti];if($r(d)){const u=d[8],f=u?u.indexOf(this):-1;f>-1&&(Pv(d,f),$a(u,f))}this._attachedToViewContainer=!1}BD(this._lView[st],this._lView)}onDestroy(d){!function Vo(c,d){if(256==(256&c[sn]))throw new le(911,!1);null===c[Nr]&&(c[Nr]=[]),c[Nr].push(d)}(this._lView,d)}markForCheck(){_h(this._cdRefInjectingView||this._lView)}detach(){this._lView[sn]&=-129}reattach(){this._lView[sn]|=128}detectChanges(){wy(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nB(c,d){lh(c,d,d[jt],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=d}}class WI extends Lc{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;wy(d[st],d,d[ei],!1)}checkNoChanges(){}get context(){return null}}class qw extends _g{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const u=on(d);return new yh(u,this.ngModule)}}function Ww(c){const d=[];for(let u in c)c.hasOwnProperty(u)&&d.push({propName:c[u],templateName:u});return d}class xy{constructor(d,u){this.injector=d,this.parentInjector=u}get(d,u,f){f=J(f);const m=this.injector.get(d,Fd,f);return m!==Fd||u===Fd?m:this.parentInjector.get(d,u,f)}}class yh extends ap{get inputs(){return Ww(this.componentDef.inputs)}get outputs(){return Ww(this.componentDef.outputs)}constructor(d,u){super(),this.componentDef=d,this.ngModule=u,this.componentType=d.type,this.selector=function mc(c){return c.map(il).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!u}create(d,u,f,m){let _=(m=m||this.ngModule)instanceof Al?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new xy(d,_):d,C=b.get(vg,null);if(null===C)throw new le(407,!1);const P={rendererFactory:C,sanitizer:b.get(iy,null),effectManager:b.get(by,null)},W=C.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",de=f?function Y1(c,d,u,f){const _=f.get(wI,!1)||u===Nt.ShadowDom,b=c.selectRootElement(d,_);return function Bw(c){Vw(c)}(b),b}(W,f,this.componentDef.encapsulation,b):Il(W,ne,function Sg(c){const d=c.toLowerCase();return"svg"===d?Pu:"math"===d?"math":null}(ne)),pt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Mt=hy(0,null,null,1,0,null,null,null,null,null,null),Ue=Cg(null,Mt,null,pt,null,null,P,W,b,null,null);let Jt,Nn;pd(Ue);try{const kn=this.componentDef;let Oo,A_=null;kn.findHostDirectiveDefs?(Oo=[],A_=new Map,kn.findHostDirectiveDefs(kn,Oo,A_),Oo.push(kn)):Oo=[kn];const M_=function pR(c,d){const u=c[st],f=Rn;return c[f]=d,pp(u,f,2,"#host",null)}(Ue,de),tP=function Ag(c,d,u,f,m,_,b){const C=m[st];!function mR(c,d,u,f){for(const m of c)d.mergedAttrs=yn(d.mergedAttrs,m.hostAttrs);null!==d.mergedAttrs&&(Ja(d,d.mergedAttrs,!0),null!==u&&GD(f,u,d))}(f,c,d,b);let k=null;null!==d&&(k=mI(d,m[is]));const A=_.rendererFactory.createRenderer(d,u);let P=16;u.signals?P=4096:u.onPush&&(P=64);const W=Cg(m,uy(u),null,P,m[c.index],c,_,A,null,null,k);return C.firstCreatePass&&Hw(C,c,f.length-1),_y(m,W),m[c.index]=W}(M_,de,kn,Oo,Ue,P,W);Nn=Df(Mt,Rn),de&&function _R(c,d,u,f){if(f)Et(c,u,["ng-version",yg.full]);else{const{attrs:m,classes:_}=function oa(c){const d=[],u=[];let f=1,m=2;for(;f<c.length;){let _=c[f];if("string"==typeof _)2===m?""!==_&&d.push(_,c[++f]):8===m&&u.push(_);else{if(!Jn(m))break;m=_}f++}return{attrs:d,classes:u}}(d.selectors[0]);m&&Et(c,u,m),_&&_.length>0&&$D(c,u,_.join(" "))}}(W,kn,de,f),void 0!==u&&function Yw(c,d,u){const f=c.projection=[];for(let m=0;m<d.length;m++){const _=u[m];f.push(null!=_?Array.from(_):null)}}(Nn,this.ngContentSelectors,u),Jt=function gR(c,d,u,f,m,_){const b=ur(),C=m[st],k=Gr(b,m);NI(C,m,b,u,null,f);for(let P=0;P<u.length;P++)cs(Dn(m,C,b.directiveStart+P,b),m);LI(C,m,b),k&&cs(k,m);const A=Dn(m,C,b.directiveStart+b.componentOffset,b);if(c[ei]=m[ei]=A,null!==_)for(const P of _)P(A,d);return Fw(C,b,c),A}(tP,kn,Oo,A_,Ue,[Kw]),gp(Mt,Ue,null)}finally{Of()}return new Zw(this.componentType,Jt,cp(Nn,Ue),Ue,Nn)}}class Zw extends kw{constructor(d,u,f,m,_){super(),this.location=f,this._rootLView=m,this._tNode=_,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new WI(m),this.componentType=d}setInput(d,u){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),u))return;const _=this._rootLView;vy(_[st],_,m,d,u),this.previousInputValues.set(d,u),_h(Bo(this._tNode.index,_))}}get injector(){return new za(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function Kw(){const c=ur();_d(He()[st],c)}function Cy(c){let d=function YI(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),u=!0;const f=[c];for(;d;){let m;if(ai(c))m=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new le(903,!1);m=d.\u0275dir}if(m){if(u){f.push(m);const b=c;b.inputs=Ey(c.inputs),b.inputTransforms=Ey(c.inputTransforms),b.declaredInputs=Ey(c.declaredInputs),b.outputs=Ey(c.outputs);const C=m.hostBindings;C&&Xw(c,C);const k=m.viewQuery,A=m.contentQueries;if(k&&KI(c,k),A&&Qw(c,A),ee(c.inputs,m.inputs),ee(c.declaredInputs,m.declaredInputs),ee(c.outputs,m.outputs),null!==m.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),ee(b.inputTransforms,m.inputTransforms)),ai(m)&&m.data.animation){const P=c.data;P.animation=(P.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let b=0;b<_.length;b++){const C=_[b];C&&C.ngInherit&&C(c),C===Cy&&(u=!1)}}d=Object.getPrototypeOf(d)}!function vR(c){let d=0,u=null;for(let f=c.length-1;f>=0;f--){const m=c[f];m.hostVars=d+=m.hostVars,m.hostAttrs=yn(m.hostAttrs,u=yn(u,m.hostAttrs))}}(f)}function Ey(c){return c===Ot?{}:c===St?[]:c}function KI(c,d){const u=c.viewQuery;c.viewQuery=u?(f,m)=>{d(f,m),u(f,m)}:d}function Qw(c,d){const u=c.contentQueries;c.contentQueries=u?(f,m,_)=>{d(f,m,_),u(f,m,_)}:d}function Xw(c,d){const u=c.hostBindings;c.hostBindings=u?(f,m)=>{d(f,m),u(f,m)}:d}function _p(c){const d=c.inputConfig,u={};for(const f in d)if(d.hasOwnProperty(f)){const m=d[f];Array.isArray(m)&&m[2]&&(u[f]=m[2])}c.inputTransforms=u}function ky(c){return!!Mg(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function Mg(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function ec(c,d,u){return c[d]=u}function Wr(c,d,u){return!Object.is(c[d],u)&&(c[d]=u,!0)}function Go(c,d,u,f){const m=Wr(c,d,u);return Wr(c,d+1,f)||m}function Sy(c,d,u,f){const m=He();return Wr(m,yi(),d)&&(En(),Xa(ni(),m,c,d,u,f)),Sy}function Bc(c,d,u,f){return Wr(c,yi(),u)?d+pe(u)+f:Kt}function Vc(c,d,u,f,m,_){const C=Go(c,function xs(){return Yt.lFrame.bindingIndex}(),u,m);return Cs(2),C?d+pe(u)+f+pe(m)+_:Kt}function dk(c,d,u,f,m,_,b,C){const k=He(),A=En(),P=c+Rn,W=A.firstCreatePass?function lk(c,d,u,f,m,_,b,C,k){const A=d.consts,P=pp(d,c,4,b||null,ws(A,C));gy(d,u,P,ws(A,k)),_d(d,P);const W=P.tView=hy(2,P,f,m,_,d.directiveRegistry,d.pipeRegistry,null,d.schemas,A,null);return null!==d.queries&&(d.queries.template(d,P),W.queries=d.queries.embeddedTView(P)),P}(P,A,k,d,u,f,m,_,b):A.data[P];Qr(W,!1);const ne=dx(A,k,W,c);pl()&&ah(A,k,ne,W),cs(ne,k),_y(k,k[P]=zI(ne,k,ne,W)),aa(W)&&Lw(A,k,W),null!=b&&mp(k,W,C)}let dx=function ux(c,d,u,f){return Va(!0),d[jt].createComment("")};function Bg(c){return ua(function Hu(){return Yt.lFrame.contextLView}(),Rn+c)}function Hc(c,d,u){const f=He();return Wr(f,yi(),d)&&qs(En(),ni(),f,c,d,f[jt],u,!1),Hc}function xp(c,d,u,f,m){const b=m?"class":"style";vy(c,u,d.inputs[b],b,f)}function zc(c,d,u,f){const m=He(),_=En(),b=Rn+c,C=m[jt],k=_.firstCreatePass?function Ca(c,d,u,f,m,_){const b=d.consts,k=pp(d,c,2,f,ws(b,m));return gy(d,u,k,ws(b,_)),null!==k.attrs&&Ja(k,k.attrs,!1),null!==k.mergedAttrs&&Ja(k,k.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,k),k}(b,_,m,d,u,f):_.data[b],A=$d(_,m,k,C,d,c);m[b]=A;const P=aa(k);return Qr(k,!0),GD(C,A,k),32!=(32&k.flags)&&pl()&&ah(_,m,A,k),0===function yv(){return Yt.lFrame.elementDepthCount}()&&cs(A,m),function Vu(){Yt.lFrame.elementDepthCount++}(),P&&(Lw(_,m,k),Fw(_,k,m)),null!==f&&mp(m,k),zc}function Vg(){let c=ur();$m()?Ui():(c=c.parent,Qr(c,!1));const d=c;(function ad(c){return Yt.skipHydrationRootTNode===c})(d)&&function zm(){Yt.skipHydrationRootTNode=null}(),function Um(){Yt.lFrame.elementDepthCount--}();const u=En();return u.firstCreatePass&&(_d(u,c),_u(c)&&u.queries.elementEnd(c)),null!=d.classesWithoutHost&&function qm(c){return 0!=(8&c.flags)}(d)&&xp(u,d,He(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function gl(c){return 0!=(16&c.flags)}(d)&&xp(u,d,He(),d.stylesWithoutHost,!1),Vg}function Ny(c,d,u,f){return zc(c,d,u,f),Vg(),Ny}let $d=(c,d,u,f,m,_)=>(Va(!0),Il(f,m,function $u(){return Yt.lFrame.currentNamespace}()));function Cp(c,d,u){const f=He(),m=En(),_=c+Rn,b=m.firstCreatePass?function RR(c,d,u,f,m){const _=d.consts,b=ws(_,f),C=pp(d,c,8,"ng-container",b);return null!==b&&Ja(C,b,!0),gy(d,u,C,ws(_,m)),null!==d.queries&&d.queries.elementStart(d,C),C}(_,m,f,d,u):m.data[_];Qr(b,!0);const C=hk(m,f,b,c);return f[_]=C,pl()&&ah(m,f,C,b),cs(C,f),aa(b)&&(Lw(m,f,b),Fw(m,b,f)),null!=u&&mp(f,b),Cp}function Fy(){let c=ur();const d=En();return $m()?Ui():(c=c.parent,Qr(c,!1)),d.firstCreatePass&&(_d(d,c),_u(c)&&d.queries.elementEnd(c)),Fy}function fx(c,d,u){return Cp(c,d,u),Fy(),fx}let hk=(c,d,u,f)=>(Va(!0),ng(d[jt],""));function Hg(){return He()}function Eh(c){return!!c&&"function"==typeof c.then}function Ly(c){return!!c&&"function"==typeof c.subscribe}function By(c,d,u,f){const m=He(),_=En(),b=ur();return px(_,m,m[jt],b,c,d,f),By}function Vy(c,d){const u=ur(),f=He(),m=En();return px(m,f,jw(fl(m.data),u,f),u,c,d),Vy}function px(c,d,u,f,m,_,b){const C=aa(f),A=c.firstCreatePass&&GI(c),P=d[ei],W=$I(d);let ne=!0;if(3&f.type||b){const Ye=Gr(f,d),pt=b?b(Ye):Ye,Mt=W.length,Ue=b?Nn=>b(ti(Nn[f.index])):f.index;let Jt=null;if(!b&&C&&(Jt=function fk(c,d,u,f){const m=c.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const b=m[_];if(b===u&&m[_+1]===f){const C=d[js],k=m[_+2];return C.length>k?C[k]:null}"string"==typeof b&&(_+=2)}return null}(c,d,m,f.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=_,Jt.__ngLastListenerFn__=_,ne=!1;else{_=Ea(f,d,P,_,!1);const Nn=u.listen(pt,m,_);W.push(_,Nn),A&&A.push(m,Ue,Mt,Mt+1)}}else _=Ea(f,d,P,_,!1);const de=f.outputs;let Fe;if(ne&&null!==de&&(Fe=de[m])){const Ye=Fe.length;if(Ye)for(let pt=0;pt<Ye;pt+=2){const kn=d[Fe[pt]][Fe[pt+1]].subscribe(_),Oo=W.length;W.push(_,kn),A&&A.push(m,f.index,Oo,-(Oo+1))}}}function mx(c,d,u,f){try{return ss(6,d,u),!1!==u(f)}catch(m){return Ml(c,m),!1}finally{ss(7,d,u)}}function Ea(c,d,u,f,m){return function _(b){if(b===Function)return f;_h(c.componentOffset>-1?Bo(c.index,d):d);let k=mx(d,u,f,b),A=_.__ngNextListenerFn__;for(;A;)k=mx(d,u,A,b)&&k,A=A.__ngNextListenerFn__;return m&&!1===k&&b.preventDefault(),k}}function gx(c=1){return function Pf(c){return(Yt.lFrame.contextLView=function Gm(c,d){for(;c>0;)d=d[sa],c--;return d}(c,Yt.lFrame.contextLView))[ei]}(c)}function PR(c,d){let u=null;const f=function ns(c){const d=c.attrs;if(null!=d){const u=d.indexOf(5);if(!(1&u))return d[u+1]}return null}(c);for(let m=0;m<d.length;m++){const _=d[m];if("*"!==_){if(null===f?xr(c,_,!0):nl(f,_))return m}else u=m}return u}function pk(c){const d=He()[vi][Pr];if(!d.projection){const f=d.projection=Ga(c?c.length:1,null),m=f.slice();let _=d.child;for(;null!==_;){const b=c?PR(_,c):0;null!==b&&(m[b]?m[b].projectionNext=_:f[b]=_,m[b]=_),_=_.next}}}function mk(c,d=0,u){const f=He(),m=En(),_=pp(m,Rn+c,16,null,u||null);null===_.projection&&(_.projection=d),Ui(),(!f[Kr]||Uo())&&32!=(32&_.flags)&&function zD(c,d,u){Jr(d[jt],0,d,u,ig(c,u,d),Kf(u.parent||d[Pr],u,d))}(m,f,_)}function Uy(c,d){return c<<17|d<<2}function Gd(c){return c>>17&32767}function yx(c){return 2|c}function Dh(c){return(131068&c)>>2}function bx(c,d){return-131069&c|d<<2}function Ws(c){return 1|c}function wx(c,d,u,f,m){const _=c[u+1],b=null===d;let C=f?Gd(_):Dh(_),k=!1;for(;0!==C&&(!1===k||b);){const P=c[C+1];VR(c[C],d)&&(k=!0,c[C+1]=f?Ws(P):yx(P)),C=f?Gd(P):Dh(P)}k&&(c[u+1]=f?yx(_):Ws(_))}function VR(c,d){return null===c||null==d||(Array.isArray(c)?c[1]:c)===d||!(!Array.isArray(c)||"string"!=typeof d)&&M(c,d)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ik(c){return c.substring(eo.key,eo.keyEnd)}function Tk(c,d){const u=eo.textEnd;return u===d?-1:(d=eo.keyEnd=function jR(c,d,u){for(;d<u&&c.charCodeAt(d)>32;)d++;return d}(c,eo.key=d,u),Ep(c,d,u))}function Ep(c,d,u){for(;d<u&&c.charCodeAt(d)<=32;)d++;return d}function Cx(c,d,u){return tc(c,d,u,!1),Cx}function Ex(c,d){return tc(c,d,null,!0),Ex}function jc(c,d){for(let u=function kk(c){return function xx(c){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=c.length}(c),Tk(c,Ep(c,0,eo.textEnd))}(d);u>=0;u=Tk(d,u))D(c,Ik(d),!0)}function tc(c,d,u,f){const m=He(),_=En(),b=Cs(2);_.firstUpdatePass&&Rk(_,c,b,f),d!==Kt&&Wr(m,b,d)&&Pk(_,_.data[Dr()],m,m[jt],c,m[b+1]=function Fk(c,d){return null==c||""===c||("string"==typeof d?c+=d:"object"==typeof c&&(c=he(Tl(c)))),c}(d,u),f,b)}function Mk(c,d){return d>=c.expandoStartIndex}function Rk(c,d,u,f){const m=c.data;if(null===m[u+1]){const _=m[Dr()],b=Mk(c,u);Dx(_,f)&&null===d&&!b&&(d=!1),d=function WR(c,d,u,f){const m=fl(c);let _=f?d.residualClasses:d.residualStyles;if(null===m)0===(f?d.classBindings:d.styleBindings)&&(u=Fl(u=ls(null,c,d,u,f),d.attrs,f),_=null);else{const b=d.directiveStylingLast;if(-1===b||c[b]!==m)if(u=ls(m,c,d,u,f),null===_){let k=function ZR(c,d,u){const f=u?d.classBindings:d.styleBindings;if(0!==Dh(f))return c[Gd(f)]}(c,d,f);void 0!==k&&Array.isArray(k)&&(k=ls(null,c,d,k[1],f),k=Fl(k,d.attrs,f),function qd(c,d,u,f){c[Gd(u?d.classBindings:d.styleBindings)]=f}(c,d,f,k))}else _=function ko(c,d,u){let f;const m=d.directiveEnd;for(let _=1+d.directiveStylingLast;_<m;_++)f=Fl(f,c[_].hostAttrs,u);return Fl(f,d.attrs,u)}(c,d,f)}return void 0!==_&&(f?d.residualClasses=_:d.residualStyles=_),u}(m,_,d,f),function Dk(c,d,u,f,m,_){let b=_?d.classBindings:d.styleBindings,C=Gd(b),k=Dh(b);c[f]=u;let P,A=!1;if(Array.isArray(u)?(P=u[1],(null===P||M(u,P)>0)&&(A=!0)):P=u,m)if(0!==k){const ne=Gd(c[C+1]);c[f+1]=Uy(ne,C),0!==ne&&(c[ne+1]=bx(c[ne+1],f)),c[C+1]=function FR(c,d){return 131071&c|d<<17}(c[C+1],f)}else c[f+1]=Uy(C,0),0!==C&&(c[C+1]=bx(c[C+1],f)),C=f;else c[f+1]=Uy(k,0),0===C?C=f:c[k+1]=bx(c[k+1],f),k=f;A&&(c[f+1]=yx(c[f+1])),wx(c,P,f,!0),wx(c,P,f,!1),function BR(c,d,u,f,m){const _=m?c.residualClasses:c.residualStyles;null!=_&&"string"==typeof d&&M(_,d)>=0&&(u[f+1]=Ws(u[f+1]))}(d,P,c,f,_),b=Uy(C,k),_?d.classBindings=b:d.styleBindings=b}(m,_,d,u,b,f)}}function ls(c,d,u,f,m){let _=null;const b=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<b&&(_=d[C],f=Fl(f,_.hostAttrs,m),_!==c);)C++;return null!==c&&(u.directiveStylingLast=C),f}function Fl(c,d,u){const f=u?1:2;let m=-1;if(null!==d)for(let _=0;_<d.length;_++){const b=d[_];"number"==typeof b?m=b:m===f&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),D(c,b,!!u||d[++_]))}return void 0===c?null:c}function Pk(c,d,u,f,m,_,b,C){if(!(3&d.type))return;const k=c.data,A=k[C+1],P=function LR(c){return 1==(1&c)}(A)?Nk(k,d,u,m,Dh(A),b):void 0;zg(P)||(zg(_)||function NR(c){return 2==(2&c)}(A)&&(_=Nk(k,null,u,m,C,b)),function y1(c,d,u,f,m){if(d)m?c.addClass(u,f):c.removeClass(u,f);else{let _=-1===f.indexOf("-")?void 0:ba.DashCase;null==m?c.removeStyle(u,f,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=ba.Important),c.setStyle(u,f,m,_))}}(f,b,xc(Dr(),u),m,_))}function Nk(c,d,u,f,m,_){const b=null===d;let C;for(;m>0;){const k=c[m],A=Array.isArray(k),P=A?k[1]:k,W=null===P;let ne=u[m+1];ne===Kt&&(ne=W?St:void 0);let de=W?T(ne,f):P===f?ne:void 0;if(A&&!zg(de)&&(de=T(k,f)),zg(de)&&(C=de,b))return C;const Fe=c[m+1];m=b?Gd(Fe):Dh(Fe)}if(null!==d){let k=_?d.residualClasses:d.residualStyles;null!=k&&(C=T(k,f))}return C}function zg(c){return void 0!==c}function Dx(c,d){return 0!=(c.flags&(d?8:16))}function Ix(c,d=""){const u=He(),f=En(),m=c+Rn,_=f.firstCreatePass?pp(f,m,1,d,null):f.data[m],b=Dp(f,u,_,d,c);u[m]=b,pl()&&ah(f,u,b,_),Qr(_,!1)}let Dp=(c,d,u,f,m)=>(Va(!0),function El(c,d){return c.createText(d)}(d[jt],f));function kx(c){return Hy("",c,""),kx}function Hy(c,d,u){const f=He(),m=Bc(f,c,d,u);return m!==Kt&&Fc(f,Dr(),m),Hy}function zy(c,d,u,f,m){const _=He(),b=Vc(_,c,d,u,f,m);return b!==Kt&&Fc(_,Dr(),b),zy}function zk(c,d,u){!function Da(c,d,u,f){const m=En(),_=Cs(2);m.firstUpdatePass&&Rk(m,null,_,f);const b=He();if(u!==Kt&&Wr(b,_,u)){const C=m.data[Dr()];if(Dx(C,f)&&!Mk(m,_)){let k=f?C.classesWithoutHost:C.stylesWithoutHost;null!==k&&(u=$e(k,u||"")),xp(m,C,b,u,f)}else!function QR(c,d,u,f,m,_,b,C){m===Kt&&(m=St);let k=0,A=0,P=0<m.length?m[0]:null,W=0<_.length?_[0]:null;for(;null!==P||null!==W;){const ne=k<m.length?m[k+1]:void 0,de=A<_.length?_[A+1]:void 0;let Ye,Fe=null;P===W?(k+=2,A+=2,ne!==de&&(Fe=W,Ye=de)):null===W||null!==P&&P<W?(k+=2,Fe=P):(A+=2,Fe=W,Ye=de),null!==Fe&&Pk(c,d,u,f,Fe,Ye,b,C),P=k<m.length?m[k]:null,W=A<_.length?_[A]:null}}(m,C,b,b[jt],b[_+1],b[_+1]=function YR(c,d,u){if(null==u||""===u)return St;const f=[],m=Tl(u);if(Array.isArray(m))for(let _=0;_<m.length;_++)c(f,m[_],!0);else if("object"==typeof m)for(const _ in m)m.hasOwnProperty(_)&&c(f,_,m[_]);else"string"==typeof m&&d(f,m);return f}(c,d,u),f,_)}}(D,jc,Bc(He(),c,d,u),!0)}function $c(c,d,u){const f=He();return Wr(f,yi(),d)&&qs(En(),ni(),f,c,d,f[jt],u,!0),$c}function Ox(c,d,u){const f=He();if(Wr(f,yi(),d)){const _=En(),b=ni();qs(_,b,f,c,d,jw(fl(_.data),b,f),u,!0)}return Ox}const Wd=void 0;var Zk=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Px(c){const u=Math.floor(Math.abs(c)),f=c.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Lr={};function Ih(c){const d=function kp(c){return c.toLowerCase().replace(/_/g,"-")}(c);let u=qy(d);if(u)return u;const f=d.split("-")[0];if(u=qy(f),u)return u;if("en"===f)return Zk;throw new le(701,!1)}function ic(c){return Ih(c)[Xt.PluralCase]}function qy(c){return c in Lr||(Lr[c]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[c]),Lr[c]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const kh="en-US";let Wy=kh;function i_(c,d,u,f,m){if(c=Ne(c),Array.isArray(c))for(let _=0;_<c.length;_++)i_(c[_],d,u,f,m);else{const _=En(),b=He();let C=Sl(c)?c:Ne(c.provide),k=lI(c);const A=ur(),P=1048575&A.providerIndexes,W=A.directiveStart,ne=A.providerIndexes>>20;if(Sl(c)||!c.multi){const de=new pa(k,m,fp),Fe=sb(C,d,m?P:P+ne,W);-1===Fe?(Bf(Ir(A,b),_,C),Fp(_,c,d.length),d.push(C),A.directiveStart++,A.directiveEnd++,m&&(A.providerIndexes+=1048576),u.push(de),b.push(de)):(u[Fe]=de,b[Fe]=de)}else{const de=sb(C,d,P+ne,W),Fe=sb(C,d,P,P+ne),pt=Fe>=0&&u[Fe];if(m&&!pt||!m&&!(de>=0&&u[de])){Bf(Ir(A,b),_,C);const Mt=function r_(c,d,u,f,m){const _=new pa(c,u,fp);return _.multi=[],_.index=d,_.componentProviders=0,ob(_,m,f&&!u),_}(m?yT:vT,u.length,m,f,k);!m&&pt&&(u[Fe].providerFactory=Mt),Fp(_,c,d.length,0),d.push(C),A.directiveStart++,A.directiveEnd++,m&&(A.providerIndexes+=1048576),u.push(Mt),b.push(Mt)}else Fp(_,c,de>-1?de:Fe,ob(u[m?Fe:de],k,!m&&f));!m&&f&&pt&&u[Fe].componentProviders++}}}function Fp(c,d,u,f){const m=Sl(d),_=function wa(c){return!!c.useClass}(d);if(m||_){const k=(_?Ne(d.useClass):d).prototype.ngOnDestroy;if(k){const A=c.destroyHooks||(c.destroyHooks=[]);if(!m&&d.multi){const P=A.indexOf(u);-1===P?A.push(u,[f,k]):A[P+1].push(f,k)}else A.push(u,k)}}}function ob(c,d,u){return u&&c.componentProviders++,c.multi.push(d)-1}function sb(c,d,u,f){for(let m=u;m<f;m++)if(d[m]===c)return m;return-1}function vT(c,d,u,f){return Xx(this.multi,[])}function yT(c,d,u,f){const m=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=Dn(u,u[st],this.providerFactory.index,f);_=C.slice(0,b),Xx(m,_);for(let k=b;k<C.length;k++)_.push(C[k])}else _=[],Xx(m,_);return _}function Xx(c,d){for(let u=0;u<c.length;u++)d.push((0,c[u])());return d}function Jx(c,d=[]){return u=>{u.providersResolver=(f,m)=>function vO(c,d,u){const f=En();if(f.firstCreatePass){const m=ai(c);i_(u,f.data,f.blueprint,m,!0),i_(d,f.data,f.blueprint,m,!1)}}(f,m?m(c):c,d)}}class Ll{}class Lp{}function Mh(c,d){return new eC(c,d??null,[])}class eC extends Ll{constructor(d,u,f){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qw(this);const m=me(d);this._bootstrapComponents=$o(m.bootstrap),this._r3Injector=II(d,u,[{provide:Ll,useValue:this},{provide:_g,useValue:this.componentFactoryResolver},...f],he(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class tC extends Lp{constructor(d){super(),this.moduleType=d}create(d){return new eC(this.moduleType,d,[])}}class nC extends Ll{constructor(d){super(),this.componentFactoryResolver=new qw(this),this.instance=null;const u=new fh([...d.providers,{provide:Ll,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],d.parent||Mc(),d.debugName,new Set(["environment"]));this.injector=u,d.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function xT(c,d,u=null){return new nC({providers:c,parent:d,debugName:u,runEnvironmentInitializers:!0}).injector}let Rh=(()=>{class c{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=Ei(0,u.type),m=f.length>0?xT([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,m)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return c.\u0275prov=Wt({token:c,providedIn:"environment",factory:()=>new c(Zn(Al))}),c})();function Gc(c){c.getStandaloneInjector=d=>d.get(Rh).getOrCreateStandaloneInjector(c)}function rC(c,d,u){const f=Fr()+c,m=He();return m[f]===Kt?ec(m,f,u?d.call(u):d()):function Rg(c,d){return c[d]}(m,f)}function Ph(c,d,u,f){return cC(He(),Fr(),c,d,u,f)}function TT(c,d,u,f,m){return RT(He(),Fr(),c,d,u,f,m)}function ST(c,d,u,f,m,_){return OT(He(),Fr(),c,d,u,f,m,_)}function oC(c,d,u,f,m,_,b){return function PT(c,d,u,f,m,_,b,C,k){const A=d+u;return function xa(c,d,u,f,m,_){const b=Go(c,d,u,f);return Go(c,d+2,m,_)||b}(c,A,m,_,b,C)?ec(c,A+4,k?f.call(k,m,_,b,C):f(m,_,b,C)):Vp(c,A+4)}(He(),Fr(),c,d,u,f,m,_,b)}function Vp(c,d){const u=c[d];return u===Kt?void 0:u}function cC(c,d,u,f,m,_){const b=d+u;return Wr(c,b,m)?ec(c,b+1,_?f.call(_,m):f(m)):Vp(c,b+1)}function RT(c,d,u,f,m,_,b){const C=d+u;return Go(c,C,m,_)?ec(c,C+2,b?f.call(b,m,_):f(m,_)):Vp(c,C+2)}function OT(c,d,u,f,m,_,b,C){const k=d+u;return function zd(c,d,u,f,m){const _=Go(c,d,u,f);return Wr(c,d+2,m)||_}(c,k,m,_,b)?ec(c,k+3,C?f.call(C,m,_,b):f(m,_,b)):Vp(c,k+3)}function d_(c,d){const u=En();let f;const m=c+Rn;u.firstCreatePass?(f=function u_(c,d){if(d)for(let u=d.length-1;u>=0;u--){const f=d[u];if(c===f.name)return f}}(d,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(u.destroyHooks??=[]).push(m,f.onDestroy)):f=u.data[m];const _=f.factory||(f.factory=ca(f.type)),b=_n(fp);try{const C=vl(!1),k=_();return vl(C),function Os(c,d,u,f){u>=c.data.length&&(c.data[u]=null,c.blueprint[u]=null),d[u]=f}(u,He(),m,k),k}finally{_n(b)}}function ab(c,d,u){const f=c+Rn,m=He(),_=ua(m,f);return zi(m,f)?cC(m,Fr(),d,_.transform,u,_):_.transform(u)}function dC(c,d,u,f){const m=c+Rn,_=He(),b=ua(_,m);return zi(_,m)?RT(_,Fr(),d,b.transform,u,f,b):b.transform(u,f)}function Up(c,d,u,f,m){const _=c+Rn,b=He(),C=ua(b,_);return zi(b,_)?OT(b,Fr(),d,C.transform,u,f,m,C):C.transform(u,f,m)}function zi(c,d){return c[st].data[d].pure}function uC(c){return d=>{setTimeout(c,void 0,d)}}const qc=class FT extends a.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,u,f){let m=d,_=u||(()=>null),b=f;if(d&&"object"==typeof d){const k=d;m=k.next?.bind(k),_=k.error?.bind(k),b=k.complete?.bind(k)}this.__isAsync&&(_=uC(_),m&&(m=uC(m)),b&&(b=uC(b)));const C=super.subscribe({next:m,error:_,complete:b});return d instanceof Z.w0&&d.add(C),C}};function CO(){return this._results[Symbol.iterator]()}class f_{get changes(){return this._changes||(this._changes=new qc)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=f_.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=CO)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,u){return this._results.reduce(d,u)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,u){const f=this;f.dirty=!1;const m=function qi(c){return c.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function rr(c,d,u){if(c.length!==d.length)return!1;for(let f=0;f<c.length;f++){let m=c[f],_=d[f];if(u&&(m=u(m),_=u(_)),_!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hp=(()=>{class c{}return c.__NG_ELEMENT_ID__=BT,c})();const LT=Hp,cb=class extends LT{constructor(d,u,f){super(),this._declarationLView=d,this._declarationTContainer=u,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,u){return this.createEmbeddedViewImpl(d,u,null)}createEmbeddedViewImpl(d,u,f){const b=this._declarationTContainer.tView,C=Cg(this._declarationLView,b,d,4096&this._declarationLView[sn]?4096:16,null,b.declTNode,null,null,null,u||null,f||null);C[Zl]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[Cr];return null!==A&&(C[Cr]=A.createEmbeddedView(b)),gp(b,C,d),new Lc(C)}};function BT(){return Zs(ur(),He())}function Zs(c,d){return 4&c.type?new cb(d,c,cp(c,d)):null}let ub=(()=>{class c{}return c.__NG_ELEMENT_ID__=zT,c})();function zT(){return hb(ur(),He())}const __=ub,fC=class extends __{constructor(d,u,f){super(),this._lContainer=d,this._hostTNode=u,this._hostLView=f}get element(){return cp(this._hostTNode,this._hostLView)}get injector(){return new za(this._hostTNode,this._hostLView)}get parentInjector(){const d=tt(this._hostTNode,this._hostLView);if(Yu(d)){const u=_l(d,this._hostLView),f=Ho(d);return new za(u[st].data[f+8],u)}return new za(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const u=pC(this._lContainer);return null!==u&&u[d]||null}get length(){return this._lContainer.length-zr}createEmbeddedView(d,u,f){let m,_;"number"==typeof f?m=f:null!=f&&(m=f.index,_=f.injector);const C=d.createEmbeddedViewImpl(u||{},_,null);return this.insertImpl(C,m,false),C}createComponent(d,u,f,m,_){const b=d&&!function wl(c){return"function"==typeof c}(d);let C;if(b)C=u;else{const Ye=u||{};C=Ye.index,f=Ye.injector,m=Ye.projectableNodes,_=Ye.environmentInjector||Ye.ngModuleRef}const k=b?d:new yh(on(d)),A=f||this.parentInjector;if(!_&&null==k.ngModule){const pt=(b?A:this.parentInjector).get(Al,null);pt&&(_=pt)}on(k.componentType??{});const de=k.create(A,m,null,_);return this.insertImpl(de.hostView,C,false),de}insert(d,u){return this.insertImpl(d,u,!1)}insertImpl(d,u,f){const m=d._lView,_=m[st];if(function Nu(c){return $r(c[Ti])}(m)){const k=this.indexOf(d);if(-1!==k)this.detach(k);else{const A=m[Ti],P=new fC(A,A[Pr],A[Ti]);P.detach(P.indexOf(d))}}const b=this._adjustIndex(u),C=this._lContainer;if(function FD(c,d,u,f){const m=zr+f,_=u.length;f>0&&(u[m-1][Yr]=d),f<_-zr?(d[Yr]=u[m],Ts(u,zr+f,d)):(u.push(d),d[Yr]=null),d[Ti]=u;const b=d[Zl];null!==b&&u!==b&&function LD(c,d){const u=c[vc];d[vi]!==d[Ti][Ti][vi]&&(c[Pa]=!0),null===u?c[vc]=[d]:u.push(d)}(b,d);const C=d[Cr];null!==C&&C.insertView(c),d[sn]|=128}(_,m,C,b),!f){const k=Ya(b,C),A=m[jt],P=rg(A,C[wo]);null!==P&&function _1(c,d,u,f,m,_){f[xn]=m,f[Pr]=d,lh(c,f,u,1,m,_)}(_,C[Pr],A,m,P,k)}return d.attachToViewContainerRef(),Ts(v_(C),b,d),d}move(d,u){return this.insert(d,u)}indexOf(d){const u=pC(this._lContainer);return null!==u?u.indexOf(d):-1}remove(d){const u=this._adjustIndex(d,-1),f=Pv(this._lContainer,u);f&&($a(v_(this._lContainer),u),BD(f[st],f))}detach(d){const u=this._adjustIndex(d,-1),f=Pv(this._lContainer,u);return f&&null!=$a(v_(this._lContainer),u)?new Lc(f):null}_adjustIndex(d,u=0){return d??this.length+u}};function pC(c){return c[8]}function v_(c){return c[8]||(c[8]=[])}function hb(c,d){let u;const f=d[c.index];return $r(f)?u=f:(u=zI(f,d,null,c),d[c.index]=u,_y(d,u)),y_(u,d,c,f),new fC(u,c,d)}let y_=function mC(c,d,u,f){if(c[wo])return;let m;m=8&u.type?ti(f):function jT(c,d){const u=c[jt],f=u.createComment(""),m=Gr(d,c);return Md(u,rg(u,m),f,function fo(c,d){return c.nextSibling(d)}(u,m),!1),f}(d,u),c[wo]=m};class fb{constructor(d){this.queryList=d,this.matches=null}clone(){return new fb(this.queryList)}setDirty(){this.queryList.setDirty()}}class pb{constructor(d=[]){this.queries=d}createEmbeddedView(d){const u=d.queries;if(null!==u){const f=null!==d.contentQueries?d.contentQueries[0]:u.length,m=[];for(let _=0;_<f;_++){const b=u.getByIndex(_);m.push(this.queries[b.indexInDeclarationView].clone())}return new pb(m)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let u=0;u<this.queries.length;u++)null!==yb(d,u).matches&&this.queries[u].setDirty()}}class gC{constructor(d,u,f=null){this.predicate=d,this.flags=u,this.read=f}}class mb{constructor(d=[]){this.queries=d}elementStart(d,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(d,u)}elementEnd(d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(d)}embeddedTView(d){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,_=this.getByIndex(f).embeddedTView(d,m);_&&(_.indexInDeclarationView=f,null!==u?u.push(_):u=[_])}return null!==u?new mb(u):null}template(d,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(d,u)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class zp{constructor(d,u=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(d,u){this.isApplyingToNode(u)&&this.matchTNode(d,u)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,u){this.elementStart(d,u)}embeddedTView(d,u){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,u),new zp(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=d.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(d,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const _=f[m];this.matchTNodeWithReadOption(d,u,Ys(u,_)),this.matchTNodeWithReadOption(d,u,ci(u,d,_,!1,!1))}else f===Hp?4&u.type&&this.matchTNodeWithReadOption(d,u,-1):this.matchTNodeWithReadOption(d,u,ci(u,d,f,!1,!1))}matchTNodeWithReadOption(d,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===gh||m===ub||m===Hp&&4&u.type)this.addMatch(u.index,-2);else{const _=ci(u,d,m,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,f)}}addMatch(d,u){null===this.matches?this.matches=[d,u]:this.matches.push(d,u)}}function Ys(c,d){const u=c.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===d)return u[f+1];return null}function qT(c,d,u,f){return-1===u?function GT(c,d){return 11&c.type?cp(c,d):4&c.type?Zs(c,d):null}(d,c):-2===u?function jp(c,d,u){return u===gh?cp(d,c):u===Hp?Zs(d,c):u===ub?hb(d,c):void 0}(c,d,f):Dn(c,c[st],u,d)}function WT(c,d,u,f){const m=d[Cr].queries[f];if(null===m.matches){const _=c.data,b=u.matches,C=[];for(let k=0;k<b.length;k+=2){const A=b[k];C.push(A<0?null:qT(d,_[A],b[k+1],u.metadata.read))}m.matches=C}return m.matches}function Ks(c,d,u,f){const m=c.queries.getByIndex(u),_=m.matches;if(null!==_){const b=WT(c,d,m,u);for(let C=0;C<_.length;C+=2){const k=_[C];if(k>0)f.push(b[C/2]);else{const A=_[C+1],P=d[-k];for(let W=zr;W<P.length;W++){const ne=P[W];ne[Zl]===ne[Ti]&&Ks(ne[st],ne,A,f)}if(null!==P[vc]){const W=P[vc];for(let ne=0;ne<W.length;ne++){const de=W[ne];Ks(de[st],de,A,f)}}}}}return f}function gb(c){const d=He(),u=En(),f=fd();ha(f+1);const m=yb(u,f);if(c.dirty&&function Vm(c){return 4==(4&c[sn])}(d)===(2==(2&m.metadata.flags))){if(null===m.matches)c.reset([]);else{const _=m.crossesNgTemplate?Ks(u,d,f,[]):WT(u,d,m,f);c.reset(_,G1),c.notifyOnChanges()}return!0}return!1}function li(c,d,u){const f=En();f.firstCreatePass&&(vb(f,new gC(c,d,u),-1),2==(2&d)&&(f.staticViewQueries=!0)),_C(f,He(),d)}function ZT(c,d,u,f){const m=En();if(m.firstCreatePass){const _=ur();vb(m,new gC(d,u,f),_.index),function $p(c,d){const u=c.contentQueries||(c.contentQueries=[]);d!==(u.length?u[u.length-1]:-1)&&u.push(c.queries.length-1,d)}(m,c),2==(2&u)&&(m.staticContentQueries=!0)}_C(m,He(),u)}function _b(){return function Wc(c,d){return c[Cr].queries[d].queryList}(He(),fd())}function _C(c,d,u){const f=new f_(4==(4&u));(function Q1(c,d,u,f){const m=$I(d);m.push(u),c.firstCreatePass&&GI(c).push(f,m.length-1)})(c,d,f,f.destroy),null===d[Cr]&&(d[Cr]=new pb),d[Cr].queries.push(new fb(f))}function vb(c,d,u){null===c.queries&&(c.queries=new mb),c.queries.track(new zp(d,u))}function yb(c,d){return c.queries.getByIndex(d)}function vC(c,d){return Zs(c,d)}function xb(c){return!!me(c)}const aS=new Un("Application Initializer");let Yp=(()=>{class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=vn(aS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const m of this.appInits){const _=m();if(Eh(_))u.push(_);else if(Ly(_)){const b=new Promise((C,k)=>{_.subscribe({complete:C,error:k})});u.push(b)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),cS=(()=>{class c{log(u){console.log(u)}warn(u){console.warn(u)}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const x_=new Un("LocaleId",{providedIn:"root",factory:()=>vn(x_,dt.Optional|dt.SkipSelf)||function w_(){return typeof $localize<"u"&&$localize.locale||kh}()}),lS=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let EC=(()=>{class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new B.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class Yd{constructor(d,u){this.ngModuleFactory=d,this.componentFactories=u}}let DC=(()=>{class c{compileModuleSync(u){return new tC(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),_=$o(me(u).declarations).reduce((b,C)=>{const k=on(C);return k&&b.push(new yh(k)),b},[]);return new Yd(f,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Bh=(()=>Promise.resolve(0))();function Ib(c){typeof Zone>"u"?Bh.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}function kb(...c){}class Mi{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qc(!1),this.onMicrotaskEmpty=new qc(!1),this.onStable=new qc(!1),this.onError=new qc(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function NO(){let c=hn.requestAnimationFrame,d=hn.cancelAnimationFrame;if(typeof Zone<"u"&&c&&d){const u=c[Zone.__symbol__("OriginalDelegate")];u&&(c=u);const f=d[Zone.__symbol__("OriginalDelegate")];f&&(d=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function Wo(c){const d=()=>{!function hS(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(hn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,kC(c),c.isCheckStableRunning=!0,Vh(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),kC(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,_,b,C)=>{try{return TC(c),u.invokeTask(m,_,b,C)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||c.shouldCoalesceRunChangeDetection)&&d(),sc(c)}},onInvoke:(u,f,m,_,b,C,k)=>{try{return TC(c),u.invoke(m,_,b,C,k)}finally{c.shouldCoalesceRunChangeDetection&&d(),sc(c)}},onHasTask:(u,f,m,_)=>{u.hasTask(m,_),f===m&&("microTask"==_.change?(c._hasPendingMicrotasks=_.microTask,kC(c),Vh(c)):"macroTask"==_.change&&(c.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,f,m,_)=>(u.handleError(m,_),c.runOutsideAngular(()=>c.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mi.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Mi.isInAngularZone())throw new le(909,!1)}run(d,u,f){return this._inner.run(d,u,f)}runTask(d,u,f,m){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+m,d,C_,kb,kb);try{return _.runTask(b,u,f)}finally{_.cancelTask(b)}}runGuarded(d,u,f){return this._inner.runGuarded(d,u,f)}runOutsideAngular(d){return this._outer.run(d)}}const C_={};function Vh(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function kC(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function TC(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function sc(c){c._nesting--,Vh(c)}class fS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qc,this.onMicrotaskEmpty=new qc,this.onStable=new qc,this.onError=new qc}run(d,u,f){return d.apply(u,f)}runGuarded(d,u,f){return d.apply(u,f)}runOutsideAngular(d){return d()}runTask(d,u,f,m){return d.apply(u,f)}}const E_=new Un("",{providedIn:"root",factory:SC});function SC(){const c=vn(Mi);let d=!0;const u=new ae.y(m=>{d=c.isStable&&!c.hasPendingMacrotasks&&!c.hasPendingMicrotasks,c.runOutsideAngular(()=>{m.next(d),m.complete()})}),f=new ae.y(m=>{let _;c.runOutsideAngular(()=>{_=c.onStable.subscribe(()=>{Mi.assertNotInAngularZone(),Ib(()=>{!d&&!c.hasPendingMacrotasks&&!c.hasPendingMicrotasks&&(d=!0,m.next(!0))})})});const b=c.onUnstable.subscribe(()=>{Mi.assertInAngularZone(),d&&(d=!1,c.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),b.unsubscribe()}});return(0,ce.T)(u,f.pipe((0,Te.B)()))}const pS=new Un(""),mS=new Un("");let AC,FO=(()=>{class c{constructor(u,f,m){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AC||(function LO(c){AC=c}(m),m.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mi.assertNotInAngularZone(),Ib(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ib(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,m){return[]}}return c.\u0275fac=function(u){return new(u||c)(Zn(Mi),Zn(gS),Zn(mS))},c.\u0275prov=Wt({token:c,factory:c.\u0275fac}),c})(),gS=(()=>{class c{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return AC?.findTestabilityInTree(this,u,f)??null}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})(),Kd=null;const _S=new Un("AllowMultipleToken"),MC=new Un("PlatformDestroyListeners"),RC=new Un("appBootstrapListener");class UO{constructor(d,u){this.name=d,this.token=u}}function bS(c,d,u=[]){const f=`Platform: ${d}`,m=new Un(f);return(_=[])=>{let b=Yc();if(!b||b.injector.get(_S,!1)){const C=[...u,..._,{provide:m,useValue:!0}];c?c(C):function yS(c){if(Kd&&!Kd.get(_S,!1))throw new le(400,!1);(function vS(){!function Cf(c){xf=c}(()=>{throw new le(600,!1)})})(),Kd=c;const d=c.get(NC);(function OC(c){c.get(Ka,null)?.forEach(u=>u())})(c)}(function no(c=[],d){return Ud.create({name:d,providers:[{provide:Cw,useValue:"platform"},{provide:MC,useValue:new Set([()=>Kd=null])},...c]})}(C,f))}return function PC(c){const d=Yc();if(!d)throw new le(401,!1);return d}()}}function Yc(){return Kd?.get(NC)??null}let NC=(()=>{class c{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const m=function Tb(c="zone.js",d){return"noop"===c?new fS:"zone.js"===c?new Mi(d):c}(f?.ngZone,function Ri(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:c?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:c?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return m.run(()=>{const _=function wT(c,d,u){return new eC(c,d,u)}(u.moduleType,this.injector,function Ul(c){return[{provide:Mi,useFactory:c},{provide:ep,multi:!0,useFactory:()=>{const d=vn(io,{optional:!0});return()=>d.initialize()}},{provide:FC,useFactory:$O},{provide:E_,useFactory:SC}]}(()=>m)),b=_.injector.get(vh,null);return m.runOutsideAngular(()=>{const C=m.onError.subscribe({next:k=>{b.handleError(k)}});_.onDestroy(()=>{Vl(this._modules,_),C.unsubscribe()})}),function mo(c,d,u){try{const f=u();return Eh(f)?f.catch(m=>{throw d.runOutsideAngular(()=>c.handleError(m)),m}):f}catch(f){throw d.runOutsideAngular(()=>c.handleError(f)),f}}(b,m,()=>{const C=_.injector.get(Yp);return C.runInitializers(),C.donePromise.then(()=>(function Zy(c){mt(c,"Expected localeId to be defined"),"string"==typeof c&&(Wy=c.toLowerCase().replace(/_/g,"-"))}(_.injector.get(x_,kh)||kh),this._moduleDoBootstrap(_),_))})})}bootstrapModule(u,f=[]){const m=ji({},f);return function BO(c,d,u){const f=new tC(u);return Promise.resolve(f)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(u){const f=u.injector.get(Uh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new le(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(MC,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(u){return new(u||c)(Zn(Ud))},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function ji(c,d){return Array.isArray(d)?d.reduce(ji,c):{...c,...d}}let Uh=(()=>{class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vn(FC),this.zoneIsStable=vn(E_),this.componentTypes=[],this.components=[],this.isStable=vn(EC).hasPendingTasks.pipe((0,Ve.w)(u=>u?(0,ue.of)(!1):this.zoneIsStable),(0,we.x)(),(0,Te.B)()),this._injector=vn(Al)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const m=u instanceof ap;if(!this._injector.get(Yp).done)throw!m&&X(u),new le(405,!1);let b;b=m?u:this._injector.get(_g).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const C=function VO(c){return c.isBoundToModule}(b)?void 0:this._injector.get(Ll),A=b.create(Ud.NULL,[],f||b.selector,C),P=A.location.nativeElement,W=A.injector.get(pS,null);return W?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),Vl(this.components,A),W?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Vl(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(RC,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Vl(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new le(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function Vl(c,d){const u=c.indexOf(d);u>-1&&c.splice(u,1)}const FC=new Un("",{providedIn:"root",factory:()=>vn(vh).handleError.bind(void 0)});function $O(){const c=vn(Mi),d=vn(vh);return u=>c.runOutsideAngular(()=>d.handleError(u))}let io=(()=>{class c{constructor(){this.zone=vn(Mi),this.applicationRef=vn(Uh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=Wt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function Hl(){return!1}let Qd=(()=>{class c{}return c.__NG_ELEMENT_ID__=Xd,c})();function Xd(c){return function Ab(c,d,u){if(os(c)&&!u){const f=Bo(c.index,d);return new Lc(f,f)}return 47&c.type?new Lc(d[vi],d):null}(ur(),He(),16==(16&c))}class HC{constructor(){}supports(d){return ky(d)}create(d){return new Jd(d)}}const Zi=(c,d)=>d;class Jd{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||Zi}forEachItem(d){let u;for(u=this._itHead;null!==u;u=u._next)d(u)}forEachOperation(d){let u=this._itHead,f=this._removalsHead,m=0,_=null;for(;u||f;){const b=!f||u&&u.currentIndex<ES(f,m,_)?u:f,C=ES(b,m,_),k=b.currentIndex;if(b===f)m--,f=f._nextRemoved;else if(u=u._next,null==b.previousIndex)m++;else{_||(_=[]);const A=C-m,P=k-m;if(A!=P){for(let ne=0;ne<A;ne++){const de=ne<_.length?_[ne]:_[ne]=0,Fe=de+ne;P<=Fe&&Fe<A&&(_[ne]=de+1)}_[b.previousIndex]=P-A}}C!==k&&d(b,C,k)}}forEachPreviousItem(d){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)d(u)}forEachAddedItem(d){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)d(u)}forEachMovedItem(d){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)d(u)}forEachRemovedItem(d){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)d(u)}forEachIdentityChange(d){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)d(u)}diff(d){if(null==d&&(d=[]),!ky(d))throw new le(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let m,_,b,u=this._itHead,f=!1;if(Array.isArray(d)){this.length=d.length;for(let C=0;C<this.length;C++)_=d[C],b=this._trackByFn(C,_),null!==u&&Object.is(u.trackById,b)?(f&&(u=this._verifyReinsertion(u,_,b,C)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,b,C),f=!0),u=u._next}else m=0,function wR(c,d){if(Array.isArray(c))for(let u=0;u<c.length;u++)d(c[u]);else{const u=c[Symbol.iterator]();let f;for(;!(f=u.next()).done;)d(f.value)}}(d,C=>{b=this._trackByFn(m,C),null!==u&&Object.is(u.trackById,b)?(f&&(u=this._verifyReinsertion(u,C,b,m)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,b,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,u,f,m){let _;return null===d?_=this._itTail:(_=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(d.item,u)||this._addIdentityChange(d,u),this._reinsertAfter(d,_,m)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(d.item,u)||this._addIdentityChange(d,u),this._moveAfter(d,_,m)):d=this._addAfter(new xS(u,f),_,m),d}_verifyReinsertion(d,u,f,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?d=this._reinsertAfter(_,d._prev,m):d.currentIndex!=m&&(d.currentIndex=m,this._addToMoves(d,m)),d}_truncate(d){for(;null!==d;){const u=d._next;this._addToRemovals(this._unlink(d)),d=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const m=d._prevRemoved,_=d._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(d,u,f),this._addToMoves(d,f),d}_moveAfter(d,u,f){return this._unlink(d),this._insertAfter(d,u,f),this._addToMoves(d,f),d}_addAfter(d,u,f){return this._insertAfter(d,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,u,f){const m=null===u?this._itHead:u._next;return d._next=m,d._prev=u,null===m?this._itTail=d:m._prev=d,null===u?this._itHead=d:u._next=d,null===this._linkedRecords&&(this._linkedRecords=new $h),this._linkedRecords.put(d),d.currentIndex=f,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const u=d._prev,f=d._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,d}_addToMoves(d,u){return d.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $h),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,u){return d.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class xS{constructor(d,u){this.item=d,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CS{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,d))return f;return null}remove(d){const u=d._prevDup,f=d._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class $h{constructor(){this.map=new Map}put(d){const u=d.trackById;let f=this.map.get(u);f||(f=new CS,this.map.set(u,f)),f.add(d)}get(d,u){const m=this.map.get(d);return m?m.get(d,u):null}remove(d){const u=d.trackById;return this.map.get(u).remove(d)&&this.map.delete(u),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ES(c,d,u){const f=c.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+d+m}class zC{constructor(){}supports(d){return d instanceof Map||Mg(d)}create(){return new Ln}}class Ln{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let u;for(u=this._mapHead;null!==u;u=u._next)d(u)}forEachPreviousItem(d){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)d(u)}forEachChangedItem(d){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)d(u)}forEachAddedItem(d){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)d(u)}forEachRemovedItem(d){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)d(u)}diff(d){if(d){if(!(d instanceof Map||Mg(d)))throw new le(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(d,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,u){if(d){const f=d._prev;return u._next=d,u._prev=f,d._prev=u,f&&(f._next=u),d===this._mapHead&&(this._mapHead=u),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(d,u){if(this._records.has(d)){const m=this._records.get(d);this._maybeAddToChanges(m,u);const _=m._prev,b=m._next;return _&&(_._next=b),b&&(b._prev=_),m._next=null,m._prev=null,m}const f=new hi(d);return this._records.set(d,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,u){Object.is(u,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=u,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,u){d instanceof Map?d.forEach(u):Object.keys(d).forEach(f=>u(d[f],f))}}class hi{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gh(){return new I_([new HC])}let I_=(()=>{class c{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new c(u)}static extend(u){return{provide:c,useFactory:f=>c.create(u,f||Gh()),deps:[[c,new Gs,new Ss]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new le(901,!1)}}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:Gh}),c})();function jC(){return new k_([new zC])}let k_=(()=>{class c{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new c(u)}static extend(u){return{provide:c,useFactory:f=>c.create(u,f||jC()),deps:[[c,new Gs,new Ss]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(f)return f;throw new le(901,!1)}}return c.\u0275prov=Wt({token:c,providedIn:"root",factory:jC}),c})();const YO=bS(null,"core",[]);let KO=(()=>{class c{constructor(u){}}return c.\u0275fac=function(u){return new(u||c)(Zn(Uh))},c.\u0275mod=Ma({type:c}),c.\u0275inj=oi({}),c})();function ZC(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}function NS(c){const d=on(c);if(!d)return null;const u=new yh(d);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},3106:(It,Re,z)=>{"use strict";z.d(Re,{Z:()=>ot});var a=z(9058),Z=z(4537),B=z(534),ae=z(7879);class ce{constructor(it,We){this._delegate=it,this.firebase=We,(0,B._addComponent)(it,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(it,We=B._DEFAULT_ENTRY_NAME){var xt;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(it);return!Ct.isInitialized()&&"EXPLICIT"===(null===(xt=Ct.getComponent())||void 0===xt?void 0:xt.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:We})}_removeServiceInstance(it,We=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(We)}_addComponent(it){(0,B._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,B._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function we(){const Ne=function Ve(Ne){const it={},We={__esModule:!0,initializeApp:function le(je,oe={}){const ut=B.initializeApp(je,oe);if((0,a.r3)(it,ut.name))return it[ut.name];const Qe=new Ne(ut,We);return it[ut.name]=Qe,Qe},app:Ct,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function pe(je){const oe=je.name,ut=oe.replace("-compat","");if(B._registerComponent(je)&&"PUBLIC"===je.type){const Qe=(pn=Ct())=>{if("function"!=typeof pn[ut])throw Te.create("invalid-app-argument",{appName:oe});return pn[ut]()};void 0!==je.serviceProps&&(0,a.ZB)(Qe,je.serviceProps),We[ut]=Qe,Ne.prototype[ut]=function(...pn){return this._getService.bind(this,oe).apply(this,je.multipleInstances?pn:[])}}return"PUBLIC"===je.type?We[ut]:null},removeApp:function xt(je){delete it[je]},useAsService:function xe(je,oe){return"serverAuth"===oe?null:oe},modularAPIs:B}};function Ct(je){if(!(0,a.r3)(it,je=je||B._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:je});return it[je]}return We.default=We,Object.defineProperty(We,"apps",{get:function Me(){return Object.keys(it).map(je=>it[je])}}),Ct.App=Ne,We}(ce);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function it(We){(0,a.ZB)(Ne,We)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ne}(),ee=new ae.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=K;!function Pe(Ne){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Ne)}()},534:(It,Re,z)=>{"use strict";z.r(Re),z.d(Re,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ao,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>Li,_addOrOverwriteComponent:()=>Rr,_apps:()=>Ft,_clearComponents:()=>Sn,_components:()=>_n,_getProvider:()=>pi,_registerComponent:()=>hn,_removeServiceInstance:()=>so,deleteApp:()=>Wn,getApp:()=>lr,getApps:()=>Qn,initializeApp:()=>No,onLog:()=>ki,registerVersion:()=>Xn,setLogLevel:()=>Zn});var a=z(5861),Z=z(4537),B=z(7879),ae=z(9058);const ce=(Ce,fe)=>fe.some(Ge=>Ce instanceof Ge);let ue,Te;const K=new WeakMap,ee=new WeakMap,he=new WeakMap,$e=new WeakMap,Pe=new WeakMap;let it={get(Ce,fe,Ge){if(Ce instanceof IDBTransaction){if("done"===fe)return ee.get(Ce);if("objectStoreNames"===fe)return Ce.objectStoreNames||he.get(Ce);if("store"===fe)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return le(Ce[fe])},set:(Ce,fe,Ge)=>(Ce[fe]=Ge,!0),has:(Ce,fe)=>Ce instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Ce};function Ct(Ce){return"function"==typeof Ce?function xt(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...fe){return Ce.apply(Me(this),fe),le(K.get(this))}:function(...fe){return le(Ce.apply(Me(this),fe))}:function(fe,...Ge){const Et=Ce.call(Me(this),fe,...Ge);return he.set(Et,fe.sort?fe.sort():[fe]),le(Et)}}(Ce):(Ce instanceof IDBTransaction&&function Ne(Ce){if(ee.has(Ce))return;const fe=new Promise((Ge,Et)=>{const zt=()=>{Ce.removeEventListener("complete",tn),Ce.removeEventListener("error",yn),Ce.removeEventListener("abort",yn)},tn=()=>{Ge(),zt()},yn=()=>{Et(Ce.error||new DOMException("AbortError","AbortError")),zt()};Ce.addEventListener("complete",tn),Ce.addEventListener("error",yn),Ce.addEventListener("abort",yn)});ee.set(Ce,fe)}(Ce),ce(Ce,function Ve(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,it):Ce)}function le(Ce){if(Ce instanceof IDBRequest)return function ot(Ce){const fe=new Promise((Ge,Et)=>{const zt=()=>{Ce.removeEventListener("success",tn),Ce.removeEventListener("error",yn)},tn=()=>{Ge(le(Ce.result)),zt()},yn=()=>{Et(Ce.error),zt()};Ce.addEventListener("success",tn),Ce.addEventListener("error",yn)});return fe.then(Ge=>{Ge instanceof IDBCursor&&K.set(Ge,Ce)}).catch(()=>{}),Pe.set(fe,Ce),fe}(Ce);if($e.has(Ce))return $e.get(Ce);const fe=Ct(Ce);return fe!==Ce&&($e.set(Ce,fe),Pe.set(fe,Ce)),fe}const Me=Ce=>Pe.get(Ce),je=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ut=new Map;function Qe(Ce,fe){if(!(Ce instanceof IDBDatabase)||fe in Ce||"string"!=typeof fe)return;if(ut.get(fe))return ut.get(fe);const Ge=fe.replace(/FromIndex$/,""),Et=fe!==Ge,zt=oe.includes(Ge);if(!(Ge in(Et?IDBIndex:IDBObjectStore).prototype)||!zt&&!je.includes(Ge))return;const tn=function(){var yn=(0,a.Z)(function*(tr,...mi){const vo=this.transaction(tr,zt?"readwrite":"readonly");let dr=vo.store;return Et&&(dr=dr.index(mi.shift())),(yield Promise.all([dr[Ge](...mi),zt&&vo.done]))[0]});return function(mi){return yn.apply(this,arguments)}}();return ut.set(fe,tn),tn}!function We(Ce){it=Ce(it)}(Ce=>({...Ce,get:(fe,Ge,Et)=>Qe(fe,Ge)||Ce.get(fe,Ge,Et),has:(fe,Ge)=>!!Qe(fe,Ge)||Ce.has(fe,Ge)}));class pn{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function Fi(Ce){const fe=Ce.getComponent();return"VERSION"===fe?.type}(Ge)){const Et=Ge.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Ge=>Ge).join(" ")}}const Yi="@firebase/app",_e=new B.Yd("@firebase/app"),dt="[DEFAULT]",Tt={[Yi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,_n=new Map;function Li(Ce,fe){try{Ce.container.addComponent(fe)}catch(Ge){_e.debug(`Component ${fe.name} failed to register with FirebaseApp ${Ce.name}`,Ge)}}function Rr(Ce,fe){Ce.container.addOrOverwriteComponent(fe)}function hn(Ce){const fe=Ce.name;if(_n.has(fe))return _e.debug(`There were multiple attempts to register component ${fe}.`),!1;_n.set(fe,Ce);for(const Ge of Ft.values())Li(Ge,Ce);return!0}function pi(Ce,fe){const Ge=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),Ce.container.getProvider(fe)}function so(Ce,fe,Ge=dt){pi(Ce,fe).clearInstance(Ge)}function Sn(){_n.clear()}const Qt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class si{constructor(fe,Ge,Et){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const ao="9.23.0";function No(Ce,fe={}){let Ge=Ce;"object"!=typeof fe&&(fe={name:fe});const Et=Object.assign({name:dt,automaticDataCollectionEnabled:!1},fe),zt=Et.name;if("string"!=typeof zt||!zt)throw Qt.create("bad-app-name",{appName:String(zt)});if(Ge||(Ge=(0,ae.aH)()),!Ge)throw Qt.create("no-options");const tn=Ft.get(zt);if(tn){if((0,ae.vZ)(Ge,tn.options)&&(0,ae.vZ)(Et,tn.config))return tn;throw Qt.create("duplicate-app",{appName:zt})}const yn=new Z.H0(zt);for(const mi of _n.values())yn.addComponent(mi);const tr=new si(Ge,Et,yn);return Ft.set(zt,tr),tr}function lr(Ce=dt){const fe=Ft.get(Ce);if(!fe&&Ce===dt&&(0,ae.aH)())return No();if(!fe)throw Qt.create("no-app",{appName:Ce});return fe}function Qn(){return Array.from(Ft.values())}function Wn(Ce){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(Ce){const fe=Ce.name;Ft.has(fe)&&(Ft.delete(fe),yield Promise.all(Ce.container.getProviders().map(Ge=>Ge.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function Xn(Ce,fe,Ge){var Et;let zt=null!==(Et=Tt[Ce])&&void 0!==Et?Et:Ce;Ge&&(zt+=`-${Ge}`);const tn=zt.match(/\s|\//),yn=fe.match(/\s|\//);if(tn||yn){const tr=[`Unable to register library "${zt}" with version "${fe}":`];return tn&&tr.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),tn&&yn&&tr.push("and"),yn&&tr.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void _e.warn(tr.join(" "))}hn(new Z.wA(`${zt}-version`,()=>({library:zt,version:fe}),"VERSION"))}function ki(Ce,fe){if(null!==Ce&&"function"!=typeof Ce)throw Qt.create("invalid-log-argument");(0,B.Am)(Ce,fe)}function Zn(Ce){(0,B.Ub)(Ce)}const Or="firebase-heartbeat-database",vn=1,J="firebase-heartbeat-store";let Y=null;function U(){return Y||(Y=function pe(Ce,fe,{blocked:Ge,upgrade:Et,blocking:zt,terminated:tn}={}){const yn=indexedDB.open(Ce,fe),tr=le(yn);return Et&&yn.addEventListener("upgradeneeded",mi=>{Et(le(yn.result),mi.oldVersion,mi.newVersion,le(yn.transaction),mi)}),Ge&&yn.addEventListener("blocked",mi=>Ge(mi.oldVersion,mi.newVersion,mi)),tr.then(mi=>{tn&&mi.addEventListener("close",()=>tn()),zt&&mi.addEventListener("versionchange",vo=>zt(vo.oldVersion,vo.newVersion,vo))}).catch(()=>{}),tr}(Or,vn,{upgrade:(Ce,fe)=>{0===fe&&Ce.createObjectStore(J)}}).catch(Ce=>{throw Qt.create("idb-open",{originalErrorMessage:Ce.message})})),Y}function L(){return(L=(0,a.Z)(function*(Ce){try{return yield(yield U()).transaction(J).objectStore(J).get(rt(Ce))}catch(fe){if(fe instanceof ae.ZR)_e.warn(fe.message);else{const Ge=Qt.create("idb-get",{originalErrorMessage:fe?.message});_e.warn(Ge.message)}}})).apply(this,arguments)}function re(Ce,fe){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(Ce,fe){try{const Et=(yield U()).transaction(J,"readwrite");yield Et.objectStore(J).put(fe,rt(Ce)),yield Et.done}catch(Ge){if(Ge instanceof ae.ZR)_e.warn(Ge.message);else{const Et=Qt.create("idb-set",{originalErrorMessage:Ge?.message});_e.warn(Et.message)}}})).apply(this,arguments)}function rt(Ce){return`${Ce.name}!${Ce.options.appId}`}class St{constructor(fe){this.container=fe,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new en(Ge),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var fe=this;return(0,a.Z)(function*(){const Et=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Gt();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==zt&&!fe._heartbeatsCache.heartbeats.some(tn=>tn.date===zt))return fe._heartbeatsCache.heartbeats.push({date:zt,agent:Et}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(tn=>{const yn=new Date(tn.date).valueOf();return Date.now()-yn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,a.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const Ge=Gt(),{heartbeatsToSend:Et,unsentEntries:zt}=function Vn(Ce,fe=1024){const Ge=[];let Et=Ce.slice();for(const zt of Ce){const tn=Ge.find(yn=>yn.agent===zt.agent);if(tn){if(tn.dates.push(zt.date),$i(Ge)>fe){tn.dates.pop();break}}else if(Ge.push({agent:zt.agent,dates:[zt.date]}),$i(Ge)>fe){Ge.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:Et}}(fe._heartbeatsCache.heartbeats),tn=(0,ae.L)(JSON.stringify({version:2,heartbeats:Et}));return fe._heartbeatsCache.lastSentHeartbeatDate=Ge,zt.length>0?(fe._heartbeatsCache.heartbeats=zt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),tn})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class en{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,a.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function $(Ce){return L.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var Ge=this;return(0,a.Z)(function*(){var Et;if(yield Ge._canUseIndexedDBPromise){const tn=yield Ge.read();return re(Ge.app,{lastSentHeartbeatDate:null!==(Et=fe.lastSentHeartbeatDate)&&void 0!==Et?Et:tn.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var Ge=this;return(0,a.Z)(function*(){var Et;if(yield Ge._canUseIndexedDBPromise){const tn=yield Ge.read();return re(Ge.app,{lastSentHeartbeatDate:null!==(Et=fe.lastSentHeartbeatDate)&&void 0!==Et?Et:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...fe.heartbeats]})}})()}}function $i(Ce){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ce})).length}!function er(Ce){hn(new Z.wA("platform-logger",fe=>new pn(fe),"PRIVATE")),hn(new Z.wA("heartbeat",fe=>new St(fe),"PRIVATE")),Xn(Yi,"0.9.13",Ce),Xn(Yi,"0.9.13","esm2017"),Xn("fire-js","")}("")},4537:(It,Re,z)=>{"use strict";z.d(Re,{H0:()=>Ve,wA:()=>B,zt:()=>ce});var a=z(5861),Z=z(9058);class B{constructor(K,ee,he){this.name=K,this.instanceFactory=ee,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ae="[DEFAULT]";class ce{constructor(K,ee){this.name=K,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ee=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ee)){const he=new Z.BH;if(this.instancesDeferred.set(ee,he),this.isInitialized(ee)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ee});$e&&he.resolve($e)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(K){var ee;const he=this.normalizeInstanceIdentifier(K?.identifier),$e=null!==(ee=K?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Pe){if($e)return null;throw Pe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Te(we){return"EAGER"===we.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ee,he]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ee);try{const Pe=this.getOrInitializeService({instanceIdentifier:$e});he.resolve(Pe)}catch{}}}}clearInstance(K=ae){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,a.Z)(function*(){const ee=Array.from(K.instances.values());yield Promise.all([...ee.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...ee.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ae){return this.instances.has(K)}getOptions(K=ae){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ee={}}=K,he=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:he,options:ee});for(const[Pe,ot]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Pe)&&ot.resolve($e);return $e}onInit(K,ee){var he;const $e=this.normalizeInstanceIdentifier(ee),Pe=null!==(he=this.onInitCallbacks.get($e))&&void 0!==he?he:new Set;Pe.add(K),this.onInitCallbacks.set($e,Pe);const ot=this.instances.get($e);return ot&&K(ot,$e),()=>{Pe.delete(K)}}invokeOnInitCallbacks(K,ee){const he=this.onInitCallbacks.get(ee);if(he)for(const $e of he)try{$e(K,ee)}catch{}}getOrInitializeService({instanceIdentifier:K,options:ee={}}){let he=this.instances.get(K);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(we=K,we===ae?void 0:we),options:ee}),this.instances.set(K,he),this.instancesOptions.set(K,ee),this.invokeOnInitCallbacks(he,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,he)}catch{}var we;return he||null}normalizeInstanceIdentifier(K=ae){return this.component?this.component.multipleInstances?K:ae:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ee=this.getProvider(K.name);if(ee.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ee.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ee=new ce(K,this);return this.providers.set(K,ee),ee}getProviders(){return Array.from(this.providers.values())}}},7879:(It,Re,z)=>{"use strict";z.d(Re,{Am:()=>we,Ub:()=>Ve,Yd:()=>Te,in:()=>Z});const a=[];var Z=(()=>((Z=Z||{})[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z))();const B={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ae=Z.INFO,ce={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ue=(K,ee,...he)=>{if(ee<K.logLevel)return;const $e=(new Date).toISOString(),Pe=ce[ee];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Pe](`[${$e}]  ${K.name}:`,...he)};class Te{constructor(ee){this.name=ee,this._logLevel=ae,this._logHandler=ue,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in Z))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?B[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ee),this._logHandler(this,Z.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ee),this._logHandler(this,Z.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ee),this._logHandler(this,Z.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ee),this._logHandler(this,Z.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ee),this._logHandler(this,Z.ERROR,...ee)}}function Ve(K){a.forEach(ee=>{ee.setLogLevel(K)})}function we(K,ee){for(const he of a){let $e=null;ee&&ee.level&&($e=B[ee.level]),he.userLogHandler=null===K?null:(Pe,ot,...Ne)=>{const it=Ne.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");ot>=($e??Pe.logLevel)&&K({level:Z[ot].toLowerCase(),message:it,args:Ne,type:Pe.name})}}}},3182:(It,Re,z)=>{"use strict";z.d(Re,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=z(534);(0,a.registerVersion)("firebase","9.23.0","app")},7142:(It,Re,z)=>{"use strict";z.d(Re,{Z:()=>a.Z});var a=z(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(It,Re,z)=>{"use strict";z.r(Re);var a=z(5861),Z=z(3106),B=z(6878),ae=z(9058),Te=(z(534),z(7879),z(4537));function Ve(){return window}function ee(){return ee=(0,a.Z)(function*(U,$,L){var re;const{BuildInfo:Ie}=Ve();(0,B.as)($.sessionId,"AuthEvent did not contain a session ID");const rt=yield function We(U){return xt.apply(this,arguments)}($.sessionId),Nt={};return(0,B.at)()?Nt.ibi=Ie.packageName:(0,B.au)()?Nt.apn=Ie.packageName:(0,B.av)(U,"operation-not-supported-in-this-environment"),Ie.displayName&&(Nt.appDisplayName=Ie.displayName),Nt.sessionId=rt,(0,B.aw)(U,L,$.type,void 0,null!==(re=$.eventId)&&void 0!==re?re:void 0,Nt)}),ee.apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(U){const{BuildInfo:$}=Ve(),L={};(0,B.at)()?L.iosBundleId=$.packageName:(0,B.au)()?L.androidPackageName=$.packageName:(0,B.av)(U,"operation-not-supported-in-this-environment"),yield(0,B.ax)(U,L)})).apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(U,$,L){const{cordova:re}=Ve();let Ie=()=>{};try{yield new Promise((rt,Nt)=>{let Ot=null;function St(){var en;rt();const $i=null===(en=re.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof $i&&$i(),"function"==typeof L?.close&&L.close()}function Gt(){Ot||(Ot=window.setTimeout(()=>{Nt((0,B.az)(U,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===document?.visibilityState&&Gt()}$.addPassiveListener(St),document.addEventListener("resume",Gt,!1),(0,B.au)()&&document.addEventListener("visibilitychange",Vn,!1),Ie=()=>{$.removePassiveListener(St),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",Vn,!1),Ot&&window.clearTimeout(Ot)}})}finally{Ie()}})).apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(U){const $=function Ct(U){if((0,B.as)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const $=new ArrayBuffer(U.length),L=new Uint8Array($);for(let re=0;re<U.length;re++)L[re]=U.charCodeAt(re);return L}(U),L=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(L)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(L=>L($)),super.onEvent($)}initialized(){var $=this;return(0,a.Z)(function*(){yield $.initPromise})()}}function je(U){return oe.apply(this,arguments)}function oe(){return(oe=(0,a.Z)(function*(U){const $=yield pn()._get(Fi(U));return $&&(yield pn()._remove(Fi(U))),$})).apply(this,arguments)}function Qe(){const U=[];for(let L=0;L<20;L++){const re=Math.floor(62*Math.random());U.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return U.join("")}function pn(){return(0,B.aC)(B.b)}function Fi(U){return(0,B.aD)("authEvent",U.config.apiKey,U.name)}function _e(U){if(!U?.includes("?"))return{};const[$,...L]=U.split("?");return(0,ae.zd)(L.join("?"))}const qe=class Be{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize($){var L=this;return(0,a.Z)(function*(){const re=$._key();let Ie=L.eventManagers.get(re);return Ie||(Ie=new Me($),L.eventManagers.set(re,Ie),L.attachCallbackListeners($,Ie)),Ie})()}_openPopup($){(0,B.av)($,"operation-not-supported-in-this-environment")}_openRedirect($,L,re,Ie){var rt=this;return(0,a.Z)(function*(){!function it(U){var $,L,re,Ie,rt,Nt,Ot,St,Gt,Vn;const en=Ve();(0,B.aA)("function"==typeof(null===($=en?.universalLinks)||void 0===$?void 0:$.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(L=en?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(rt=null===(Ie=null===(re=en?.cordova)||void 0===re?void 0:re.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===rt?void 0:rt.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(St=null===(Ot=null===(Nt=en?.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===St?void 0:St.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Vn=null===(Gt=en?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===Vn?void 0:Vn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Nt=yield rt._initialize($);yield Nt.initialized(),Nt.resetRedirect(),(0,B.aG)(),yield rt._originValidation($);const Ot=function pe(U,$,L=null){return{type:$,eventId:L,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:U.tenantId,error:(0,B.az)(U,"no-auth-event")}}($,re,Ie);yield function xe(U,$){return pn()._set(Fi(U),$)}($,Ot);const St=yield function K(U,$,L){return ee.apply(this,arguments)}($,Ot,L),Gt=yield function Pe(U){const{cordova:$}=Ve();return new Promise(L=>{$.plugins.browsertab.isAvailable(re=>{let Ie=null;re?$.plugins.browsertab.openUrl(U):Ie=$.InAppBrowser.open(U,(0,B.ay)()?"_blank":"_system","location=yes"),L(Ie)})})}(St);return function ot(U,$,L){return Ne.apply(this,arguments)}($,Nt,Gt)})()}_isIframeWebStorageSupported($,L){throw new Error("Method not implemented.")}_originValidation($){const L=$._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function he(U){return $e.apply(this,arguments)}($)),this.originValidationPromises[L]}attachCallbackListeners($,L){const{universalLinks:re,handleOpenURL:Ie,BuildInfo:rt}=Ve(),Nt=setTimeout((0,a.Z)(function*(){yield je($),L.onEvent(et())}),500),Ot=function(){var Vn=(0,a.Z)(function*(en){clearTimeout(Nt);const $i=yield je($);let er=null;$i&&en?.url&&(er=function ut(U,$){var L,re;const Ie=function es(U){const $=_e(U),L=$.link?decodeURIComponent($.link):void 0,re=_e(L).link,Ie=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return _e(Ie).link||Ie||re||L||U}($);if(Ie.includes("/__/auth/callback")){const rt=_e(Ie),Nt=rt.firebaseError?function Yi(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,Ot=null===(re=null===(L=Nt?.code)||void 0===L?void 0:L.split("auth/"))||void 0===re?void 0:re[1],St=Ot?(0,B.az)(Ot):null;return St?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Ie,postBody:null}}return null}($i,en.url)),L.onEvent(er||et())});return function($i){return Vn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Ot);const St=Ie,Gt=`${rt.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var Vn=(0,a.Z)(function*(en){if(en.toLowerCase().startsWith(Gt)&&Ot({url:en}),"function"==typeof St)try{St(en)}catch($i){console.error($i)}});return function(en){return Vn.apply(this,arguments)}}()}};function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function mt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function qt(U=(0,ae.z$)()){return!("file:"!==mt()&&"ionic:"!==mt()&&"capacitor:"!==mt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const U=self.localStorage,$=B.aL();if(U)return U.setItem($,"1"),U.removeItem($),!function fi(U=(0,ae.z$)()){return function ln(){return(0,ae.w1)()&&11===document?.documentMode}()||function Wt(U=(0,ae.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,ae.hl)()}catch{return Kn()&&(0,ae.hl)()}return!1}function Kn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function Rt(){return"http:"===mt()||"https:"===mt()}()||(0,ae.ru)()||qt())&&!function wn(){return(0,ae.b$)()||(0,ae.UG)()}()&&oi()&&!Kn()}function cr(){return qt()&&typeof document<"u"}function Ki(){return(Ki=(0,a.Z)(function*(){return!!cr()&&new Promise(U=>{const $=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),U(!0)})})})).apply(this,arguments)}const ui={LOCAL:"local",NONE:"none",SESSION:"session"},Xi=B.aA,Di="persistence";function Tt(U){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(U){yield U._initializationPromise;const $=Li(),L=B.aD(Di,U.config.apiKey,U.name);$&&$.setItem(L,U._getPersistence())})).apply(this,arguments)}function Li(){var U;try{return(null===(U=function Qi(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const Rr=B.aA;class hn{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(qe),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize($){var L=this;return(0,a.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize($)})()}_openPopup($,L,re,Ie){var rt=this;return(0,a.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup($,L,re,Ie)})()}_openRedirect($,L,re,Ie){var rt=this;return(0,a.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect($,L,re,Ie)})()}_isIframeWebStorageSupported($,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,L)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,a.Z)(function*(){if($.underlyingResolver)return;const L=yield function wr(){return Ki.apply(this,arguments)}();$.underlyingResolver=L?$.cordovaResolver:$.browserResolver})()}}function pi(U){return U.unwrap()}function Sn(U){return Qt(U)}function Qt(U){const{_tokenResponse:$}=U instanceof ae.ZR?U.customData:U;if(!$)return null;if(!(U instanceof ae.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return B.P.credentialFromResult(U);const L=$.providerId;if(!L||L===B.p.PASSWORD)return null;let re;switch(L){case B.p.GOOGLE:re=B.V;break;case B.p.FACEBOOK:re=B.U;break;case B.p.GITHUB:re=B.W;break;case B.p.TWITTER:re=B.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:rt,oauthTokenSecret:Nt,pendingToken:Ot,nonce:St}=$;return rt||Nt||Ie||Ot?Ot?L.startsWith("saml.")?B.aO._create(L,Ot):B.L._fromParams({providerId:L,signInMethod:L,pendingToken:Ot,idToken:Ie,accessToken:rt}):new B.X(L).credential({idToken:Ie,accessToken:rt,rawNonce:St}):null}return U instanceof ae.ZR?re.credentialFromError(U):re.credentialFromResult(U)}function si(U,$){return $.catch(L=>{throw L instanceof ae.ZR&&function Ji(U,$){var L;const re=null===(L=$.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===$?.code)$.resolver=new lr(U,B.aq(U,$));else if(re){const Ie=Qt($),rt=$;Ie&&(rt.credential=Ie,rt.tenantId=re.tenantId||void 0,rt.email=re.email||void 0,rt.phoneNumber=re.phoneNumber||void 0)}}(U,L),L}).then(L=>{const Ie=L.user;return{operationType:L.operationType,credential:Sn(L),additionalUserInfo:B.ao(L),user:Qn.getOrCreate(Ie)}})}function ao(U,$){return No.apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(U,$){const L=yield $;return{verificationId:L.verificationId,confirm:re=>si(U,L.confirm(re))}})).apply(this,arguments)}class lr{constructor($,L){this.resolver=L,this.auth=function so(U){return U.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return si(pi(this.auth),this.resolver.resolveSignIn($))}}class Qn{constructor($){this._delegate=$,this.multiFactor=B.ar($)}static getOrCreate($){return Qn.USER_MAP.has($)||Qn.USER_MAP.set($,new Qn($)),Qn.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var L=this;return(0,a.Z)(function*(){return si(L.auth,B.a0(L._delegate,$))})()}linkWithPhoneNumber($,L){var re=this;return(0,a.Z)(function*(){return ao(re.auth,B.l(re._delegate,$,L))})()}linkWithPopup($){var L=this;return(0,a.Z)(function*(){return si(L.auth,B.d(L._delegate,$,hn))})()}linkWithRedirect($){var L=this;return(0,a.Z)(function*(){return yield Tt(B.aH(L.auth)),B.g(L._delegate,$,hn)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var L=this;return(0,a.Z)(function*(){return si(L.auth,B.a1(L._delegate,$))})()}reauthenticateWithPhoneNumber($,L){return ao(this.auth,B.r(this._delegate,$,L))}reauthenticateWithPopup($){return si(this.auth,B.e(this._delegate,$,hn))}reauthenticateWithRedirect($){var L=this;return(0,a.Z)(function*(){return yield Tt(B.aH(L.auth)),B.h(L._delegate,$,hn)})()}sendEmailVerification($){return B.ae(this._delegate,$)}unlink($){var L=this;return(0,a.Z)(function*(){return yield B.an(L._delegate,$),L})()}updateEmail($){return B.aj(this._delegate,$)}updatePassword($){return B.ak(this._delegate,$)}updatePhoneNumber($){return B.u(this._delegate,$)}updateProfile($){return B.ai(this._delegate,$)}verifyBeforeUpdateEmail($,L){return B.af(this._delegate,$,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const Wn=B.aA;let Ii=(()=>{class U{constructor(L,re){if(this.app=L,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=L.options;Wn(Ie,"invalid-api-key",{appName:L.name}),Wn(Ie,"invalid-api-key",{appName:L.name});const rt=typeof window<"u"?hn:void 0;this._delegate=re.initialize({options:{persistence:ki(Ie,L.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,re){B.I(this._delegate,L,re)}applyActionCode(L){return B.a5(this._delegate,L)}checkActionCode(L){return B.a6(this._delegate,L)}confirmPasswordReset(L,re){return B.a4(this._delegate,L,re)}createUserWithEmailAndPassword(L,re){var Ie=this;return(0,a.Z)(function*(){return si(Ie._delegate,B.a8(Ie._delegate,L,re))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return B.ad(this._delegate,L)}isSignInWithEmailLink(L){return B.ab(this._delegate,L)}getRedirectResult(){var L=this;return(0,a.Z)(function*(){Wn(qn(),L._delegate,"operation-not-supported-in-this-environment");const re=yield B.j(L._delegate,hn);return re?si(L._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function Xe(U,$){(0,B.aH)(U)._logFramework($)}(this._delegate,L)}onAuthStateChanged(L,re,Ie){const{next:rt,error:Nt,complete:Ot}=Xn(L,re,Ie);return this._delegate.onAuthStateChanged(rt,Nt,Ot)}onIdTokenChanged(L,re,Ie){const{next:rt,error:Nt,complete:Ot}=Xn(L,re,Ie);return this._delegate.onIdTokenChanged(rt,Nt,Ot)}sendSignInLinkToEmail(L,re){return B.aa(this._delegate,L,re)}sendPasswordResetEmail(L,re){return B.a3(this._delegate,L,re||void 0)}setPersistence(L){var re=this;return(0,a.Z)(function*(){let Ie;switch(function dt(U,$){Xi(Object.values(ui).includes($),U,"invalid-persistence-type"),(0,ae.b$)()?Xi($!==ui.SESSION,U,"unsupported-persistence-type"):(0,ae.UG)()?Xi($===ui.NONE,U,"unsupported-persistence-type"):Kn()?Xi($===ui.NONE||$===ui.LOCAL&&(0,ae.hl)(),U,"unsupported-persistence-type"):Xi($===ui.NONE||oi(),U,"unsupported-persistence-type")}(re._delegate,L),L){case ui.SESSION:Ie=B.a;break;case ui.LOCAL:Ie=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case ui.NONE:Ie=B.N;break;default:return B.av("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return si(this._delegate,B._(this._delegate))}signInWithCredential(L){return si(this._delegate,B.$(this._delegate,L))}signInWithCustomToken(L){return si(this._delegate,B.a2(this._delegate,L))}signInWithEmailAndPassword(L,re){return si(this._delegate,B.a9(this._delegate,L,re))}signInWithEmailLink(L,re){return si(this._delegate,B.ac(this._delegate,L,re))}signInWithPhoneNumber(L,re){return ao(this._delegate,B.s(this._delegate,L,re))}signInWithPopup(L){var re=this;return(0,a.Z)(function*(){return Wn(qn(),re._delegate,"operation-not-supported-in-this-environment"),si(re._delegate,B.c(re._delegate,L,hn))})()}signInWithRedirect(L){var re=this;return(0,a.Z)(function*(){return Wn(qn(),re._delegate,"operation-not-supported-in-this-environment"),yield Tt(re._delegate),B.f(re._delegate,L,hn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return B.a7(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=ui,U})();function Xn(U,$,L){let re=U;"function"!=typeof U&&({next:re,error:$,complete:L}=U);const Ie=re;return{next:Nt=>Ie(Nt&&Qn.getOrCreate(Nt)),error:$,complete:L}}function ki(U,$){const L=function _n(U,$){const L=Li();if(!L)return[];const re=B.aD(Di,U,$);switch(L.getItem(re)){case ui.NONE:return[B.N];case ui.LOCAL:return[B.i,B.a];case ui.SESSION:return[B.a];default:return[]}}(U,$);if(typeof self<"u"&&!L.includes(B.i)&&L.push(B.i),typeof window<"u")for(const re of[B.b,B.a])L.includes(re)||L.push(re);return L.includes(B.N)||L.push(B.N),L}class Zn{constructor(){this.providerId="phone",this._delegate=new B.P(pi(Z.Z.auth()))}static credential($,L){return B.P.credential($,L)}verifyPhoneNumber($,L){return this._delegate.verifyPhoneNumber($,L)}unwrap(){return this._delegate}}Zn.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Zn.PROVIDER_ID=B.P.PROVIDER_ID;const Or=B.aA;class vn{constructor($,L,re=Z.Z.app()){var Ie;Or(null===(Ie=re.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new B.R($,L,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(U){U.INTERNAL.registerComponent(new Te.wA("auth-compat",$=>{const L=$.getProvider("app-compat").getImmediate(),re=$.getProvider("auth");return new Ii(L,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:Zn,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:vn,TwitterAuthProvider:B.Z,Auth:Ii,AuthCredential:B.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},5861:(It,Re,z)=>{"use strict";function a(B,ae,ce,ue,Te,Ve,we){try{var K=B[Ve](we),ee=K.value}catch(he){return void ce(he)}K.done?ae(ee):Promise.resolve(ee).then(ue,Te)}function Z(B){return function(){var ae=this,ce=arguments;return new Promise(function(ue,Te){var Ve=B.apply(ae,ce);function we(ee){a(Ve,ue,Te,we,K,"next",ee)}function K(ee){a(Ve,ue,Te,we,K,"throw",ee)}we(void 0)})}}z.d(Re,{Z:()=>Z})},7582:(It,Re,z)=>{"use strict";function ae(_e,ke){var Be={};for(var qe in _e)Object.prototype.hasOwnProperty.call(_e,qe)&&ke.indexOf(qe)<0&&(Be[qe]=_e[qe]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(qe=Object.getOwnPropertySymbols(_e);et<qe.length;et++)ke.indexOf(qe[et])<0&&Object.prototype.propertyIsEnumerable.call(_e,qe[et])&&(Be[qe[et]]=_e[qe[et]])}return Be}function he(_e,ke,Be,qe){return new(Be||(Be=Promise))(function(Xe,lt){function yt(Rt){try{mt(qe.next(Rt))}catch(qt){lt(qt)}}function Gn(Rt){try{mt(qe.throw(Rt))}catch(qt){lt(qt)}}function mt(Rt){Rt.done?Xe(Rt.value):function et(Xe){return Xe instanceof Be?Xe:new Be(function(lt){lt(Xe)})}(Rt.value).then(yt,Gn)}mt((qe=qe.apply(_e,ke||[])).next())})}function le(_e){return this instanceof le?(this.v=_e,this):new le(_e)}function Me(_e,ke,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,qe=Be.apply(_e,ke||[]),Xe=[];return et={},lt("next"),lt("throw"),lt("return"),et[Symbol.asyncIterator]=function(){return this},et;function lt(wn){qe[wn]&&(et[wn]=function(ln){return new Promise(function(Wt,fi){Xe.push([wn,ln,Wt,fi])>1||yt(wn,ln)})})}function yt(wn,ln){try{!function Gn(wn){wn.value instanceof le?Promise.resolve(wn.value.v).then(mt,Rt):qt(Xe[0][2],wn)}(qe[wn](ln))}catch(Wt){qt(Xe[0][3],Wt)}}function mt(wn){yt("next",wn)}function Rt(wn){yt("throw",wn)}function qt(wn,ln){wn(ln),Xe.shift(),Xe.length&&yt(Xe[0][0],Xe[0][1])}}function xe(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,ke=_e[Symbol.asyncIterator];return ke?ke.call(_e):(_e=function Ne(_e){var ke="function"==typeof Symbol&&Symbol.iterator,Be=ke&&_e[ke],qe=0;if(Be)return Be.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&qe>=_e.length&&(_e=void 0),{value:_e&&_e[qe++],done:!_e}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Be={},qe("next"),qe("throw"),qe("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function qe(Xe){Be[Xe]=_e[Xe]&&function(lt){return new Promise(function(yt,Gn){!function et(Xe,lt,yt,Gn){Promise.resolve(Gn).then(function(mt){Xe({value:mt,done:yt})},lt)}(yt,Gn,(lt=_e[Xe](lt)).done,lt.value)})}}}z.d(Re,{FC:()=>Me,KL:()=>xe,_T:()=>ae,mG:()=>he,qq:()=>le})}},It=>{It(It.s=6991)}]);